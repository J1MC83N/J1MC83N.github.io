window.h||(window.h=!0,function(){function Ra(a,c,b,d){a.addEventListener?a.addEventListener(c,b,d):a.attachEvent("on"+c,b)}function lc(a,c,b){this.dataType=a;this.name=b;this.elements=c;this.size=c*na.Xm(a);this.Gm=1}function jb(){this.i=[];this.xl=this.Fn=this.wl=this.En=0}function qb(a,c,b,d,f){this.B=f;this.M=a;this.P=c;this.Y=b;this.message="";this.D=a;this.I=c;this.W=b;this.i="";this.u=this.s=!1;this.h=d;this.T=!1;this.L=this.startTime=0;this.m="rgb(32,255,255)";this.v="white";this.l=0;this.A=
!1;this.aa=this.X="black";this.U=!1;this.o=1}function mc(a,c,b,d){this.name=a;this.width=c;this.height=b;this.Gm=d}function wb(a,c){this.m=c;this.v=a;this.height=this.width=0;this.D=this.C=this.l=this.i=null;this.u=[];this.o=!0;this.I=this.M=4294967295;this.L=this.P=0;this.ke=!1;this.s=1}function ab(a,c,b,d,f,e,g,k,l,p,n,q,m,r,u,t,v,x,w){this.id=a;this.sa=w;this.R=null;this.I=-1;this.H=this.fa=!1;this.Yb=c;this.caller=b;this.h=x;this.x=f;this.y=e;this.ja=f;this.U=e;this.position=d;this.width=g;this.height=
k;this.P=g;this.ma=k;this.type=q;this.orientation=m;m===Q.wr&&(this.orientation=g>=k?Q.je:Q.vertical);this.V=this.orientation;this.i=l;this.s=p;q===Q.kl?this.current=[n,n]:this.current=n;this.ua=r;this.Cb=u;this.ta=t;this.aa=v;this.ha=!1;this.na=this.la=-1;this.l=Q.Rw;this.C=!0;this.L=this.locked=!1;this.m=[];if(this.type===Q.list)for(a=0;a<l.length;a+=1)this.m[a]=!1;this.Z=[];this.ia=0;this.Vb=w.Vb;this.v=w.$;if(q===Q.list)for(this.M=[],a=0;a<l.length;a+=1)this.M[a]=this.Vb;this.A=w.ea;this.X=w.T;
this.Y=w.fa;this.ca=w.qa;this.ka=w.ia;this.qa=w.sa;this.D=w.ha;this.T=w.ra;this.W=w.aa;this.$=w.pa;this.border=w.border;this.fontSize=parseInt(w.W.substring(0,w.W.indexOf("px")),10);this.pa=w.W.substring(w.W.indexOf("px")+3)}function Za(a,c,b,d,f,e){this.S=a;this.h=f;this.D=this.s=1;this.W=e;this.locked=this.H=!1;this.C=this.v=-1;this.ca=this.A=!1;this.va=this.ua=-1;this.xa=6;this.Yb=c;this.u=[];this.o=0;this.Vb="";this.$=0;this.ea="";this.T=0;this.fa="";this.qa=0;this.ia="";this.sa=0;this.ha="";
this.ra=0;this.aa="";this.border=this.pa=0;this.V=Q.wr;this.M=this.L=-1;this.P=this.ma=null;this.Y=b;this.caller=d;this.X=null;this.ka=this.ja=this.ta="auto"}function Pa(a,c,b,d,f,e){var g=this,k=0;this.xa=1;this.ka=60;this.Da=this.Ka=!0;this.Ia=this.Ja=40;this.s=0;this.ha=this.ia=this.pa=-1;this.M=!1;this.caller=f;this.la=this.L=this.Sa=this.V=!1;this.Ua=4;this.fb=e;this.l=this.Z=!1;this.Y=!0;this.qa=!1;this.C=1;this.ma=8;this.Ca="rgb(32,255,255)";this.Vb="black";this.ra=.7;this.Ba="#000000";this.u=
"white";this.qb=1;this.$a=this.ab=this.eb=0;this.Ra="rgb(0,240,32)";this.sb=.7;this.wa="blue";this.vb=.7;this.T="grey";this.ub=1;this.sa="rgb(32,255,255)";this.border=this.Qa=1;this.Ya=function(l){return function(){l.Rb(l)}}(this);this.tb=d;this.U=a;this.m=c;this.X=!1;this.I=this.D=-1;this.o=!1;this.P=-1;this.h=null;this.ja=b;this.A=this.v=!1;this.va=performance.now();this.fa=0;this.Ea=[];this.Ha=[];this.ua=[];for(k=0;5>k;k+=1)this.Ea[k]=0,this.Ha[k]=0,this.ua[k]=0;this.$=null;this.i=!1;this.notification=
new qb(25,100,25,c,this);this.notification.m=this.u;this.notification.v=this.u;this.Fa=performance.now();this.ta=this.Ma=!1;this.ea=[];this.W=this.aa=0;Ra(a,"mousedown",function(l){g.Fb(g,l)},!1);Ra(a,"mousemove",function(l){g.Gb(g,l)},!1);Ra(a,"mouseup",function(l){g.Jb(g,l)},!1);Ra(a,"mouseover",function(l){g.Ib(g,l)},!1);Ra(a,"mouseout",function(l){g.Hb(g,l)},!1);Ra(a,"touchstart",function(l){g.na(g,l)},!1);Ra(a,"touchmove",function(l){g.na(g,l)},!1);Ra(a,"touchend",function(l){g.na(g,l)},!1);
Ra(a,"touchcancel",function(l){g.na(g,l)},!1);this.kb()}function ac(a,c,b,d,f,e){this.Ym=a;this.Zm=c;this.width=b;this.height=d;this.LE=f;this.WB=e}function Fa(){this.time=0;this.Z=this.Ka=!1;this.Wb="none";this.Ma=22;this.Qa=6;this.wa=8;this.O="";this.Gb="0123456789xyz";this.Fb="0123";this.Hb="0123456789";this.Bc=this.Ac="0123456";this.yc="0123456789";this.Cc="0123";this.Vd=1038;this.Zd=7157;this.Wd=5454;this.Xd=2741;this.he=3775;this.Yd=4420;this.$d="0123";this.xc="0123456omp-";this.Dc="01234";
this.qc=["ce","ceaikn","ceaiknjqry","ceaiknjqrytwz"];this.Id=[[[6,36,160,192,72,10],[132,96,136,66,12,34],[68,40,130]],[[38,164,224,200,74,14],[44,162,196,104,138,70,100,168,194,76,42,134],[140,98]],[[166,228,232,202,78,46],[172,226,204,106,142,102],[108,170,198]]];this.fb=" ce ceaikn ceaiknjqry ceaiknjqrytwz ceaiknjqry ceaikn ce ".split(" ");this.eb="  omp omp omp  ".split(" ");this.Cd=[0,2,6,10,13,10,6,2,0];this.Fd=[[0],[0,1],[2,0,1,3,4,5],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,6,4,5,7,8,10,11,9,12],[2,
0,1,3,6,4,5,7,8,9],[2,0,1,3,4,5],[0,1],[0]];this.Jd=[[1,2],[5,10,3,40,33,68],[69,42,11,7,98,13,14,70,41,97],[325,170,15,45,99,71,106,102,43,101,105,78,108]];this.ha=new Uint32Array(256);this.Eb=new Uint8Array(8192);this.Ab=new Uint8Array(8192);this.T=new Uint8Array(512);this.xb=new Uint8Array(512);this.ge=new Uint16Array(512);this.Ci=this.Oa=!1;this.Ca="l";this.Ba="le";this.Da="lv";this.Za="li";this.$a="lo";this.Ya="lb";this.ab="lr";this.Ja="h";this.vb="ht";this.gb="v";this.Fa=!1;this.ub=0;this.ib=
!1;this.Va=this.Ua=0;this.Ea=!1;this.h=this.Ra=this.Sa=this.index=0;this.l=1;this.W=2;this.M=3;this.U=4;this.V=5;this.X=6;this.C=7;this.L=8;this.P=9;this.u=11;this.o=12;this.D=13;this.A=14;this.m=16;this.I=17;this.ka=this.la=-1;this.aa=0;this.ia=1;this.ja=2;this.ra=3;this.sa=4;this.qa=5;this.ta=6;this.ma=0;this.ca=1;this.Y=!1;this.ea=[];this.ea[Oa.Um]="vonneumann";this.ea[Oa.Sm]="moore";this.ea[Oa.Ti]="hexagonal";this.ea[Oa.Tm]="onedimensional";this.xa=[];this.xa[Oa.Um]=5;this.xa[Oa.Sm]=9;this.xa[Oa.Ti]=
7;this.xa[Oa.Tm]=3;this.fa=[];this.fa[Oa.Um]=["none","rotate4","rotate4reflect","reflect_horizontal","permute"];this.fa[Oa.Sm]="none rotate4 rotate8 rotate4reflect rotate8reflect reflect_horizontal permute".split(" ");this.fa[Oa.Ti]="none rotate2 rotate3 rotate6 rotate6reflect permute".split(" ");this.fa[Oa.Tm]=["none","reflect","permute"];this.ya=[];this.ya[Oa.Um]=[[[0,1,2,3,4,5],[0,2,3,4,1,5],[0,3,4,1,2,5],[0,4,1,2,3,5]],[[0,1,2,3,4,5],[0,2,3,4,1,5],[0,3,4,1,2,5],[0,4,1,2,3,5],[0,4,3,2,1,5],[0,
3,2,1,4,5],[0,2,1,4,3,5],[0,1,4,3,2,5]],[[0,1,2,3,4,5],[0,1,4,3,2,5]]];this.ya[Oa.Sm]=[[[0,1,2,3,4,5,6,7,8,9],[0,3,4,5,6,7,8,1,2,9],[0,5,6,7,8,1,2,3,4,9],[0,7,8,1,2,3,4,5,6,9]],[[0,1,2,3,4,5,6,7,8,9],[0,2,3,4,5,6,7,8,1,9],[0,3,4,5,6,7,8,1,2,9],[0,4,5,6,7,8,1,2,3,9],[0,5,6,7,8,1,2,3,4,9],[0,6,7,8,1,2,3,4,5,9],[0,7,8,1,2,3,4,5,6,9],[0,8,1,2,3,4,5,6,7,9]],[[0,1,2,3,4,5,6,7,8,9],[0,3,4,5,6,7,8,1,2,9],[0,5,6,7,8,1,2,3,4,9],[0,7,8,1,2,3,4,5,6,9],[0,1,8,7,6,5,4,3,2,9],[0,7,6,5,4,3,2,1,8,9],[0,5,4,3,2,1,
8,7,6,9],[0,3,2,1,8,7,6,5,4,9]],[[0,1,2,3,4,5,6,7,8,9],[0,2,3,4,5,6,7,8,1,9],[0,3,4,5,6,7,8,1,2,9],[0,4,5,6,7,8,1,2,3,9],[0,5,6,7,8,1,2,3,4,9],[0,6,7,8,1,2,3,4,5,9],[0,7,8,1,2,3,4,5,6,9],[0,8,1,2,3,4,5,6,7,9],[0,8,7,6,5,4,3,2,1,9],[0,7,6,5,4,3,2,1,8,9],[0,6,5,4,3,2,1,8,7,9],[0,5,4,3,2,1,8,7,6,9],[0,4,3,2,1,8,7,6,5,9],[0,3,2,1,8,7,6,5,4,9],[0,2,1,8,7,6,5,4,3,9],[0,1,8,7,6,5,4,3,2,9]],[[0,1,2,3,4,5,6,7,8,9],[0,1,8,7,6,5,4,3,2,9]]];this.ya[Oa.Tm]=[[[0,1,2,3],[0,2,1,3]]];this.ya[Oa.Ti]=[[[0,1,2,3,4,5,
6,7],[0,4,5,6,1,2,3,7]],[[0,1,2,3,4,5,6,7],[0,3,4,5,6,1,2,7],[0,5,6,1,2,3,4,7]],[[0,1,2,3,4,5,6,7],[0,2,3,4,5,6,1,7],[0,3,4,5,6,1,2,7],[0,4,5,6,1,2,3,7],[0,5,6,1,2,3,4,7],[0,6,1,2,3,4,5,7]],[[0,1,2,3,4,5,6,7],[0,2,3,4,5,6,1,7],[0,3,4,5,6,1,2,7],[0,4,5,6,1,2,3,7],[0,5,6,1,2,3,4,7],[0,6,1,2,3,4,5,7],[0,6,5,4,3,2,1,7],[0,5,4,3,2,1,6,7],[0,4,3,2,1,6,5,7],[0,3,2,1,6,5,4,7],[0,2,1,6,5,4,3,7],[0,1,6,5,4,3,2,7]]];this.v=!1;this.Wa=""}function mb(a,c){this.N=null;this.S=c;this.$a="";this.gb=!1;c=a.lastIndexOf(".");
-1!==c&&(a=a.substring(0,c));this.name=a;this.Fa=this.ya=0;this.ea=this.P=this.l=-1;this.za=this.Ba=0;this.fb=this.sb=!1;this.tb=!0;this.Ra=this.ca=this.h=this.Ea="";this.ga=this.Ma=this.u=this.s=this.Z=this.la=this.aa=!1;this.na=this.S.ma;this.o=!1;this.V=this.S.aa;this.ma=-1;this.I=this.ha=!1;this.v=-1;this.ta=1;this.ja=this.wb=this.xb=this.Ab=this.Eb=this.$=this.U=this.X=this.M=-1;this.Bz=this.Ga=!1;this.D=-1;this.Ka=this.Ja=this.T=this.L=null;this.i=this.m=-1;this.va=this.ua=1;this.fa="";this.ka=
-1;this.Y="";this.kb=this.ib=null;this.height=this.width=0;this.ia=this.W=null;this.Ua=this.pa=this.C=this.title="";this.A=2;this.Za=0;this.Ca=this.sa=!1;this.ub=this.Fb="";this.ra=-1;this.vb=!1;this.xa=this.Qa=this.Xa=this.eb=this.Ya=-1;this.qa=this.Ia=null;this.Ha=this.ab=0;this.Da=this.Va=this.Wa=null;this.Sa=[];this.wa=null}function Va(a,c,b,d){this.F=a;this.G=c;this.J=b;this.K=d}function rb(a,c,b){this.index=c;this.l=a.o[c];this.m=a.l[c];this.o=a.m[c];this.M=a.A[c];this.I=a.v[c];this.s=null;
b&&(this.s=a.s[c]);this.i=new Va(0,0,0,0);this.h=new Va(0,0,0,0);this.C=this.v=this.L=this.counter=this.A=this.u=this.D=0;this.S=a}function ib(a,c){this.N=a;this.h=[];this.i=[];this.o=[];this.l=[];this.m=[];this.A=[];this.v=[];this.s=[];this.C=0;this.index=-1;this.D=c;this.u=null}function La(a,c,b){this.N=a;this.g=c;this.S=b;this.s=this.u=1;this.V=2;this.D=a.h(na.La,0,"HROT.births");this.M=a.h(na.La,0,"HROT.survivals");this.ca=a.h(na.La,0,"HROT.altBirths");this.ea=a.h(na.La,0,"HROT.altSurvivals");
this.type=b.h;this.al=Array.matrix(na.La,1,1,0,a,"HROT.neighbourhood");this.aa=a.h(na.Zj,0,"HROT.neighbourList");this.h=Array.matrix(na.ze,1,1,0,a,"HROT.counts");this.C=a.h(na.Ub,0,"HROT.widths");this.ha=a.h(na.La,0,"HROT.colUsed");this.m=a.h(na.fo,0,"HROT.weightedNeighbourhood");this.v=null;this.X=this.Y=-1;this.$=this.o=this.l=this.L=0;this.fa=!1;this.I="";this.ia=-1;this.A=!1;this.U=new xb;this.U.ke(Date.now().toString());this.T=a.h(na.fd,0,"HROT.birthChances");this.W=a.h(na.fd,0,"HROT.suvivalChances");
this.P=!1}function nc(a,c){this.i=a;this.h=c}function Sa(a,c,b,d,f,e,g,k,l){this.name=a;this.rj=!1;this.A=10;this.s=this.o=0;this.u=d;this.i=b;this.h=c;this.v=f;this.m=e;this.l=g;this.D=k;this.I=!1;this.C=l;-1===this.m.i.h&&(this.I=!0);128<=(this.u.h+this.u.l+this.u.i)/3?(this.o=B.AC,this.s=B.zC):(this.o=B.js,this.s=B.hs)}function K(a,c,b){this.h=a;this.l=c;this.i=b}function Da(a,c){this.h=a;this.i=c}function qa(a,c,b,d,f,e,g){this.S=e;this.view=g;this.Oh=!1;this.Dd=this.Pe=null;this.Qc=document.createElement("canvas");
this.Qc.width=1;this.Qc.height=1;this.We=this.Qc.getContext("2d");this.Xe=new Image;this.yc=[];this.Ch=0;this.dg=8;this.lc=0;this.Uh="";this.ig=this.xf=this.bf=0;this.he=null;this.Fd=this.Sc=0;this.Ka=null;this.gi=this.hi=this.$g=this.dh=this.Cf=0;this.ji=!0;this.N=new jb;this.qe=[];this.Ma=!1;this.Uf=!0;this.nc=!1;this.xi=this.Ph=this.Sh=this.Qh=this.Fg=this.Ff=this.Ef=this.bd=null;this.yh=new xb;this.yh.ke(Date.now().toString());this.v=!1;this.Nf=8;this.Fi=2;this.Di=0;this.Zf=-1;this.fc=this.Lc=
this.Mf=this.Jf=null;this.Be=[];this.Nc=null;this.Xf=this.Yf=this.Ae=0;this.Qe=!1;this.oe=this.Ob=this.jf=this.Vh=this.sf=null;this.wb=this.pf=0;this.ne=this.mh=null;this.fe=this.ac=-1;this.df=this.Bf=this.Nd=null;this.yd=!0;this.Tc=this.Jb=this.Va=this.Ya=this.xb=!1;this.Af=0;this.Og=[];this.Pg=[];this.Qg=[];this.Rg=[];this.Nh=[];this.Lg=[];this.Mg=[];this.Ng=[];this.Wg=[];this.Xg=[];this.Yg=[];this.Zg=[];this.Sg=[];this.Tg=[];this.Ug=[];this.Vg=[];this.Ve=[];this.vh=this.xh="";this.Qb=255;this.ec=
null;this.Lb=this.N.h(na.La,65536,"Life.bitCounts16");this.Gl();this.ci=this.N.h(na.La,65536,"Life.firstBit16");this.Ij();this.$e=this.Se=this.Cc=null;this.wa=this.ya=this.Zc=this.wf=this.lg=this.yf=this.ef=0;this.Ja=1;this.I=this.M=this.C=-1;this.Cd=this.Ad=0;this.cg=this.Of=!1;this.Pf=!0;this.kf=B.qx;this.vc=[];this.wc=[];this.vc[0]=this.N.h(na.ze,I.Mn,"Life.boundaryX0");this.wc[0]=this.N.h(na.ze,I.Mn,"Life.boundaryY0");this.Ue=0;this.zd=4294967295;this.ge=4286611584;this.jh="rgb(0,255,0)";this.bh=
"rgb(255,0,0)";this.ag="rgb(255,255,0)";this.kh="rgb(255,128,0)";this.i=this.T=this.ea=!1;this.vd=-1;this.A=!1;this.$f=this.S.aa;this.ga=!1;this.Wf=this.S.ma;this.kc=this.mg=this.va=!1;this.h=-1;this.o=this.D=!1;this.Vf=this.s=0;this.Tb=this.Ga=!1;this.rc=new ib(this.N,this.Lb);this.Fe=I.Mp;this.Ra=this.Ba=this.Pd=!1;this.Xa=this.Nb=this.xa=this.ki=this.m=null;this.width=d;this.height=f;this.U=this.width>>4;this.W=this.height>>4;this.Bi=null;this.da=c;this.ba=b;this.ia=this.za=this.u=0;this.Ta=I.Ta;
this.Ie=I.Ie;this.ie=I.ie;this.Th=I.Th;this.oa=1;this.Eb=-1;this.Wd=1;this.Xd=30;this.lb=this.angle=this.counter=this.ee=this.gb=0;this.zoom=6;this.Z=this.ca=0;this.vb=.1;this.ma=0;this.V=1;this.tb=this.sb=0;this.ua=.1;this.pc=Ta.pc;this.na=[];this.ad=this.He=this.Hd=this.md=this.Ce=this.td=this.gd=this.Bc=this.pe=this.qf=this.Zd=this.Id=this.Re=this.Sd=this.wd=this.Mc=null;this.fb=-1;this.zf=this.Ic=this.Gc=this.lm=null;this.ha=a;this.qa=this.sa=0;this.Fa=this.pa=this.mc=this.grid=this.qb=this.aa=
this.X=null;this.Bh=this.N.h(na.Ub,this.da,"Life.blankPixelRow");this.Te=this.N.h(na.La,(this.width-1>>3)+1,"Life.blankRow");this.Oc=this.N.h(na.Aa,(this.width-1>>4)+1,"Life.blankRow16");this.ib=this.N.h(na.Aa,this.U>>4,"Life.blankTileRow");this.Ia=this.N.h(na.La,this.width,"Life.blankColourRow");this.bc=this.dd=this.Dc=this.Ab=this.Y=this.fa=this.sd=this.Ge=this.Qa=this.ta=this.Za=this.Gd=this.ra=this.$=this.l=null;this.la=this.N.h(na.La,256,"Life.redChannel");this.ka=this.N.h(na.La,256,"Life.greenChannel");
this.ja=this.N.h(na.La,256,"Life.blueChannel");this.Sa=this.N.h(na.Ub,256,"Life.pixelColours");this.rd=null;this.ui=0;this.Md=this.Ua=this.Ee=this.Jd=this.kg=this.uf=this.af=this.tf=null;this.Ye=this.N.h(na.Aa,2*(this.Ie+1)<<8,"Life.colourLookup");this.Ki=this.N.h(na.La,2048,"Life.colourReset");this.eb=B.js;this.ae=-1;this.Wb=B.hs;this.De=-1;this.Fb=10;this.nd=!0;this.nk=10;this.Ib=this.$a=null;this.L=8192;this.vl=[0,0,48];this.ql=[255,255,255];this.nl=[255,255,255];this.Al=[0,255,0];this.Cl=[255,
0,0];this.Wc=[0,0,48];this.Vc=[255,255,255];this.Uc=[255,255,255];this.Xc=[0,255,0];this.Yc=[255,0,0];this.P=new La(this.N,this,e);this.coords=this.N.h(na.fd,1,"Life.coords");this.ub=this.N.h(na.Ub,1,"Life.cellColours");this.Hb=0}function Xa(a,c){var b=0,d=0,f=a.length,e=!1,g=!1,k=!1,l=0,p=new Uint32Array(f),n=new Uint16Array(f),q=new Uint32Array(f),m=0,r=0;-1!==a.indexOf("&")&&(a=a.replace(/&amp;/g,"&"),a=a.replace(/&lt;/g,"<"),a=a.replace(/&gt;/g,">"),f=a.length);for(;b<f;){var u=a.charCodeAt(b);
switch(u){case 32:case 13:case 9:case 123:case 125:!g&&e&&(p[l]=d,n[l]=b-d,q[l]=(m<<1)+1&r,l+=1,e=!1);break;case 44:c?!g&&e&&(p[l]=d,n[l]=b-d,q[l]=(m<<1)+1&r,l+=1,e=!1):e||(e=!0,r=0,g=!1,d=b);break;case 10:e&&(p[l]=d,n[l]=b-d,q[l]=(m<<1)+1&r,l+=1,e=!1);g=!1;c&&(0<l&&"\n"!==a[p[l-1]]&&(p[l]=b,n[l]=1,q[l]=0,l+=1),k=!1);break;case 58:case 61:c?g||(e&&(p[l]=d,n[l]=b-d,q[l]=(m<<1)+1&r,l+=1,e=!1),p[l]=b,n[l]=1,q[l]=0,l+=1):e||(e=!0,r=0,g=!1,d=b);break;case 34:c?g||(k=!k,e||(e=!0,d=b)):e||(e=!0,r=0,d=b);
break;case 35:c?k||g||(e&&(p[l]=d,n[l]=b-d,q[l]=(m<<1)+1&r,l+=1,e=!1),g=!0):e||(e=!0,r=0,g=!1,d=b);break;default:g||(e?48<=u&&57>=u?(m=10*m+u-48,1073741824<=m&&(r=0)):r=0:(e=!0,d=b,48<=u&&57>=u?(r=-1,m=u-48):r=0))}b+=1}e&&(p[l]=d,n[l]=b-d,q[l]=(m<<1)+1&r,l+=1);this.o=p.slice(0,l);this.A=n.slice(0,l);this.D=q.slice(0,l);this.current=0;this.source=a}function kb(a){this.S=a;this.l=this.rg=this.vm=!1;this.h=Ya.lt;this.i=Ya.Hn;this.ob=this.Pb=-1;this.lb=this.angle=this.y=this.x=0;this.depth=this.oa=this.zoom=
1;this.sc=0;this.Hc=60;this.step=1;this.ed=this.dc=0;this.ce="";this.m=this.rj=this.Pp=this.ej=this.cj=this.aj=this.Rp=this.mz=this.Qn=this.th=this.Fh=this.re=this.Ke=this.ve=this.Dg=this.Gg=this.Td=this.xg=this.gg=this.xe=this.Oe=this.grid=this.Dj=this.Ag=this.zg=this.yg=this.te=!1}function oc(a,c,b,d,f,e,g,k,l,p,n,q,m,r,u,t,v,x){this.D=x;this.coords=a;this.s=c;this.zoom=b;this.rb=d;this.Mb=f;this.o=e;this.alpha=g;this.size=k;this.h=l;this.m=p;this.i=n;this.angle=q;this.u=m;this.C=r;this.l=u;this.v=
t;this.A=v;-1E3===this.Mb&&-1E3===this.rb&&(this.rb=this.zoom/4,this.Mb=4*this.zoom)}function pc(a,c,b,d,f,e,g,k,l,p,n,q,m,r,u,t,v,x,w,A,C){this.P=C;this.C=a;this.I=c;this.D=b;this.L=d;this.zoom=f;this.rb=e;this.Mb=g;this.s=k;this.alpha=l;this.size=p;this.M=n;this.h=q;this.m=m;this.i=r;this.angle=u;this.o=t;this.A=v;this.l=x;this.u=w;this.v=A;-1E3===this.Mb&&-1E3===this.rb&&(this.rb=this.zoom/4,this.Mb=4*this.zoom)}function qc(a,c,b,d,f,e,g,k,l,p,n,q,m,r,u,t,v,x,w){this.P=w;this.message="";this.h=
this.l=this.m=this.A=this.s=-1;this.x=a;this.y=c;this.zoom=b;this.rb=d;this.Mb=f;this.C=e;this.alpha=g;this.size=k;this.T=l;this.i=p;this.v=n;this.o=q;this.angle=m;this.D=r;this.M=u;this.u=t;this.I=v;this.L=x;-1E3===this.Mb&&-1E3===this.rb&&(this.rb=this.zoom/4,this.Mb=4*this.zoom)}function Ia(){this.h=[];this.i=[];this.m=[];this.o=[];this.s=[];this.current=new kb(this);this.aa=new kb(this);this.I=new kb(this);this.M=!1;this.u=0;this.L=this.T=!1}function gb(a,c){var b=this,d=a.getElementsByTagName("div")[0];
this.s=!1;this.h=-1;this.o=1;this.l=a;this.view=c;this.B=c.B;this.top=this.left=0;""!==a.style.left&&(this.left=parseInt(a.style.left,10));""!==a.style.top&&(this.top=parseInt(a.style.top,10));this.i=this.m=!1;this.v=this.u=-1;this.C=0;Ra(d,"mousedown",function(f){b.V(b,f)},!1);Ra(document,"mousemove",function(f){b.W(b,f)},!1);Ra(document,"mouseup",function(f){b.X(b,f)},!1);Ra(d,"touchstart",function(f){b.A(b,f)},!1);Ra(d,"touchmove",function(f){b.A(b,f)},!1);Ra(d,"touchend",function(f){b.A(b,f)},
!1);Ra(window,"resize",function(){b.T(b)},!1)}function xb(){this.key=new Uint8Array(256);this.i=this.h=0}function Kb(a,c){this.rp=a;this.x=c.h(na.fd,0,"Stars.x");this.y=c.h(na.fd,0,"Stars.y");this.z=c.h(na.fd,0,"Stars.z");this.h=new K(255,255,255);this.i=new xb;this.i.ke(Date.now().toString());this.sin=c.h(na.fd,0,"Stars.sin");this.cos=c.h(na.fd,0,"Stars.cos");this.l=Math.PI/180;this.s=180/Math.PI;this.N=c;this.m=!1}function rc(a,c,b,d,f){this.name=a;this.pattern=c;this.pE=b;this.width=d;this.height=
f}function S(a){var c;this.Aq=this.Cp=this.$q=this.Ll=!1;this.Hh=this.Dh=this.Ih=!0;this.Ug=0;this.dr=this.br=!0;this.L=60;this.Vg=B.Rs;this.Se=this.tq=this.cs=0;this.Sw="";this.Ip=this.dg=this.vb=-1;this.wg=[];this.op=this.Pj=this.Qo=this.Ur=this.wn=this.an=!1;this.S=new Fa;this.Tb=!1;this.$l=this.bm=this.Zl=this.hi=this.Sg=this.Tg=this.Uk=this.fi=this.am=this.Ok=this.ji=this.ii=this.Rk=this.hb=this.gi=this.Av="";this.kb=!1;this.uk=this.jk=this.ci=this.nk=this.sk=this.Ql=this.Ol=this.Nl=this.jn=
this.ai=this.Vu=this.Bs=this.bi=this.ov=this.Ut=this.Cu=this.uu=this.gu=this.ct=this.Ls=this.lk=this.Kh=null;this.se=1;this.oo=this.uo=B.Pm;this.wi=50;this.po=this.Xn=this.Oj=!1;this.Zf=this.Ve=this.Ue=-1;this.Pc=[];this.Cd=[];this.Dv=!1;this.nn=this.ns=this.Cr=this.ws=this.ir=null;this.Xj=18;this.dj="18px "+B.Ax;this.rf="18px "+B.rv;this.Xk=window.devicePixelRatio?window.devicePixelRatio:1;this.jf=!0;this.Yp=this.Lc=this.We=this.$d=this.Pe=this.Xe=this.Ze=this.Ye=this.ae=!1;this.Hb=[];for(c=0;10>
c;c+=1)this.Hb[c]=null;this.Ra=!1;this.Ib=this.Jb=this.ac=0;this.fc=B.Km;this.Bc=this.pl=!1;this.T=null;this.Ea=!1;this.Wi=new Va(0,0,0,0);this.Y=new Va(0,0,0,0);this.Sa=new Va(0,0,0,0);this.v=new xb;this.v.ke(Date.now().toString());this.tb=50;this.Mv=this.Kv=0;this.fe=this.P=!1;this.Cf=2;this.Qb=[];this.Wg=this.ia=0;this.yh=[];this.Ia=0;this.tj=[];this.oj=0;this.oe=[];this.oe[B.Un]=[1,0,0,1];this.oe[B.Xu]=[-1,0,0,-1];this.oe[B.Yu]=[-1,0,0,1];this.oe[B.Zu]=[1,0,0,-1];this.oe[B.bv]=[0,1,1,0];this.oe[B.cv]=
[0,-1,-1,0];this.oe[B.av]=[0,-1,1,0];this.oe[B.$u]=[0,1,-1,0];this.Xd=[];this.zi=[];this.Dd=[];this.Nc=[];this.Ha=B.Jm;this.oi=0;this.ql=-1;this.ni=[];this.uq=this.sq=this.Re=0;this.ei=!1;this.ge=-1;this.Yl=!1;this.za=this.Vf=this.Af=this.Ff=this.Bf=0;this.Xl=!1;this.m=null;this.Zn=0;this.mt=!0;this.Nb=0;this.Je=1;this.bg=this.wv=this.Vd=this.Gl=!1;this.ec=7;this.dh=!0;this.ee=this.Sd=0;this.bc=!1;this.Eg=this.yx=this.wa=this.Vk=63;this.Pg=this.sf=this.Gj=this.Gk=this.Fe=this.Fk=this.Ek=this.Kk=this.Dk=
this.Qg=this.Nk=this.Mk=this.pq=!1;this.ha=0;this.De=null;this.aa=this.$=0;this.eo=!1;this.zh=this.Md=this.Nd=-1;this.xi=Date.now().toString();this.Sj=this.Qj=this.Uj=this.Eq=!1;this.td=B.Qf;this.jd=!0;this.ya=!1;this.wc=!0;this.Ka=B.sx;this.Gb=!1;this.element=a;this.Da=!1;this.jh=this.mg=this.ng=this.ih=this.Hm=this.ym=this.Fm=this.Bm=0;this.xb=this.kh=this.gb=this.hh=!1;this.Xc=!0;this.Ee=!1;this.Ca=0;this.Zk=!1;this.Yf=this.Xf=0;this.Sc=!1;this.O="";this.W=this.V=0;this.$r=this.Tr=this.Ri=this.Rj=
this.Ui=this.Si=this.Pf=this.fr=this.kq=this.eg=this.cg=this.eh=this.fg=this.Uf=this.qc=-1;this.cm=this.Wm=!1;this.tk=this.yc=-1;this.Fl=this.xh=!1;this.um=-1;this.fh=this.af=null;this.Fz=0;this.vk="";this.gh=this.Hd=0;this.om=!1;this.Fq=this.Jq=0;this.Dq=!0;this.dm=this.ja=this.Qd=!1;this.Fg=0;this.ld=this.bd=!1;this.Mc=this.Ic=null;this.nh=B.nh;this.Ae=null;this.sh=B.sh;this.nf=[96,96,96];this.pf=[128,128,128];this.Mf=[0,255,0];this.Jf=[255,0,0];this.mf=[255,255,0];this.Nf=[255,128,0];this.Uu=null;
this.nd="";this.zd=!0;this.kd=this.Oa=this.vc=!1;this.Fd=null;this.Ed=!1;this.o=1;this.ui=0;this.Wa=this.yv=!1;this.l=new Ia;this.He="";this.lq=-1;this.Rb=this.qa=!1;this.X=1;this.qq=this.Xg=0;this.dd=B.iD;this.hd=this.Lb=this.Sb=this.eb=this.sb=-1;this.Al=this.pi="";this.jo=this.si=this.C=this.A=0;this.ri=null;this.Wf=this.ta=this.U=this.bl="";this.qf=this.Wc=!1;this.na=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];this.Rq=this.Pq=-1;this.Tq=
B.Vx;this.Nq=B.ro;this.Vq=B.Uy;this.nm="";this.Zz=0;this.Gf=[];this.zq=!1;this.I=null;this.Mm=[];this.Ma=[];this.ea=1;this.s=0;this.jj=!1;this.li=100;this.xa=10;this.i=[64,200,290,530,700];this.nc=!1;this.u=[];this.gn=[];this.hn=[];this.Pb=-1;this.wb=!1;this.ob=-1;this.en=this.Wb=this.Ab=this.Ja=this.Oh=this.ho=this.Va=this.Uc=this.ad=this.D=this.ib=this.ma=!1;this.g=null;this.ra=0;this.da=640;this.ba=512;this.zf=640;this.yf=512;this.lo=!1;this.Cv=640;this.ti=!0;this.hg=this.Yq=this.gd=this.Bb=this.vi=
!1;this.ag=this.kg=this.md=this.fa=this.Ii=this.ah=this.Id=this.qj=null;this.va=[];this.ka=this.Ua=this.nj=this.kj=this.Cl=this.Oc=this.tf=this.zl=this.cl=this.jl=this.hl=this.fl=this.Wj=this.Yj=this.Vj=this.Tj=this.nl=this.Hj=this.Lj=this.Yg=this.Wd=this.$g=this.kc=this.Df=this.Fa=this.Kb=this.Me=this.Ce=this.Be=this.Vc=this.Cc=this.Ad=this.Te=this.Zd=this.Qc=this.Of=this.uj=this.rc=this.Sf=this.im=this.Sk=this.Po=this.Uo=this.xk=this.Yi=this.ik=this.No=this.Wp=this.Kp=this.$k=this.Kl=this.mj=this.fj=
this.yd=this.Nj=this.jm=this.vl=this.ul=this.rd=this.qm=this.sm=this.Lq=this.io=this.wm=this.rq=this.dn=this.Oq=this.Qq=this.$h=this.vo=this.yi=this.nq=this.ak=this.oq=this.Kq=this.Ck=this.di=this.qk=this.wd=this.Ml=this.Fb=this.xs=this.Tf=this.Fi=this.fm=this.Wl=this.vd=this.Zg=this.Od=this.Bi=this.Di=this.Yk=this.Il=this.Ge=this.uf=this.Bq=this.Bh=this.gk=this.Rf=this.kk=this.Qi=this.gl=this.Hg=this.kf=this.Bl=this.Dl=this.ck=this.Hl=this.Qe=this.Yc=this.Pd=this.Zc=this.$i=this.Jh=this.Zi=this.bj=
this.fk=this.$j=this.dk=this.bk=this.pp=this.mk=this.pk=this.Yn=this.$c=this.Qr=this.ig=this.wf=this.Ac=this.vh=this.Nh=this.Mg=this.Lg=this.Mh=this.Tl=this.Vl=this.Ul=this.Sl=this.tv=this.Lh=this.wk=this.Og=this.Ak=this.Ng=this.yk=this.ki=this.mi=this.lc=this.Kj=this.gj=this.$a=this.ab=this.Ba=this.Ec=this.Xa=this.la=this.cq=this.Zv=this.cw=this.Xv=this.aw=null;this.cd=this.Rg=-1;this.Qh=0;this.Qa=this.Ya=this.Yd=null;this.ca=60;this.h=this.B=null;this.qb=this.sa=this.Oi=this.Ji=0;this.Rm=this.ww=
1;this.rw=60;this.Ki=this.tw=1;this.Zq=.1;this.ar=!1;this.aq=-1;this.ub=this.ua=this.Dz=this.Sq=0;this.hj=1;this.bf=this.Z=this.jq=this.cr=this.er=!1;this.Eb=B.tx;this.ew=this.gw=this.Rr=this.fq=0;this.gq=this.Ph=!1;this.bh=this.bs=0;this.Za=this.mc=!1;this.El=-1}function bc(a,c,b,d,f){var e,g=c.parentNode,k=null;for(e=0;e<Ka.Ld.length&&!k;)Ka.Ld[e][0].tabIndex===c.tabIndex?k=Ka.Ld[e][1]:e+=1;k||(k=new S(f),k.Ed=d,Ja.yn&&!d&&(k.dd=b&-8,k.dd<B.Kc&&(k.dd=B.Kc)),c.tabIndex=Ka.Ld.length+1,k.MD(c),"none"===
g.style.display&&(Ka.Bp=new gb(g,k)),Ka.Ld[Ka.Ld.length]=[c,k,Ka.Bp]);d||k.vg(a,!1)}function cc(a){a=a.parentNode;for(var c=!1;!c;)"div"!==a.localName||a.className!==Ja.Ho&&a.className!==Ja.Io||(c=!0),c||(a=a.parentNode);return a}function Lb(){var a=Ka.Op(),c=a[1],b=a[2];a[0].parentNode.style.display="none";b.m=!1;c.Bb&&(c.Kb.current=c.qd(B.be,!0,c))}function dc(a){Lb();a.stopPropagation&&a.stopPropagation();a.preventDefault();return!1}function zb(a){a=a.innerHTML.replace(/&lt;/gi,"<").replace(/&gt;/gi,
">").replace(/<br *\/>/gi,"\n").replace(/<br>/gi,"\n").replace(/&nbsp;/gi," ").replace(/<span class="posthilit">/gi,"").replace(/<\/span>/gi,"").trim();a=a.replace(/\n[ ]+/g,"\n");a=a.replace(/\n\t+/g,"\n");""===a&&(a="!");return a}function Mb(a){var c=cc(a).getElementsByTagName(Ja.Lm)[0];a=Ka.Ld[0];c.value&&(c.innerHTML=c.value);c=zb(c);a[1].sv(a[1]);a[1].B.notification.clear(!0,!0);a[1].B.notification.clear(!1,!0);a[1].vg(c,!1)}function ec(a){var c=28,b=18,d=Ka.Op()[2];a.nn.style.transform="scale("+
a.se+","+a.se+")";a.nn.style.transformOrigin="top left";a.resize();d.m=!0;d.T(d);1!==a.h.D&&(c=c*a.h.D|0,b=b*a.h.D|0,a.ir.style.height=c+"px",a.ir.style.fontSize=b+"px",a.ns.style.height=c+"px",a.ns.style.fontSize=b+"px",a.Cr.style.height=c+"px",a.Cr.style.fontSize=b+"px",a.ws.style.height=c+"px",a.ws.style.lineHeight=c+"px");a.Qa.canvas.focus();a.Qa.canvas.blur();return a.op=!1}function Nb(a){var c=cc(a);c=c.getElementsByTagName(Ja.Lm)[0];a=zb(c);var b=Ka.Op(),d;if(b)(d=b[2])&&d.reset(),d=b[1],d.element=
c,d.sv(d);else{b=document.createElement("canvas");b.width=B.Kc;b.height=B.yj+80;b.style.display="block";b.contentEditable="false";var f=document.createElement("a");f.setAttribute("href","#");f.innerHTML="&nbsp;X&nbsp;";f.style.textDecoration="none";f.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";f.style.color="#FFFFFF";f.style.backgroundColor="#C75050";f.style.cssFloat="right";f.style.height="28px";f.style.fontSize="18px";var e=document.createElement("a");e.innerHTML="&nbsp;X&nbsp;";
e.style.textDecoration="none";e.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";e.style.visibility="hidden";e.style.cssFloat="left";e.style.height="28px";e.style.fontSize="18px";var g=document.createElement("div");g.style.textAlign="center";g.style.color="rgb(83,100,130)";g.style.fontFamily="Arial, Verdana, Helvetica, sans-serif";g.style.fontSize="18px";g.style.height="28px";var k=document.createTextNode(B.pn);g.style.cursor="default";g.appendChild(k);Ra(f,"click",dc,!1);Ra(f,
"touchend",dc,!1);var l=document.createElement("div");l.style.display="none";l.style.position="fixed";l.style.border="1px solid rgb(128,128,128)";l.style.zIndex="101";l.style.left="2048px";l.style.top="0px";l.style.textAlign="right";l.style.boxShadow="0px 0px 3px 3px rgba(0,0,0,.3), 12px 12px 8px rgba(0,0,0,.5)";l.style.margin="1px";var p=document.createElement("div");p.className=Ja.Io;p.style.backgroundColor="#FFFFFF";p.style.height="28px";p.style.lineHeight="28px";p.style.margin="0px";p.style.border=
"0px";p.appendChild(e);p.appendChild(f);p.appendChild(g);l.appendChild(p);l.appendChild(b);document.body.appendChild(l);bc(a,b,B.Kc,!0,c);Ka.Eu=Ka.Ld.length-1;b=Ka.Op();d=b[1];d.Uu=k;d.ir=f;d.ns=e;d.Cr=g;d.ws=p;d.nn=l}c=b[0].parentNode;""!==c.style.display&&(c.style.display="");d.hb="";d.g.mh=null;d.da=B.Kc;d.ba=B.yj+80;d.resize();d.B.notification.clear(!0,!0);d.B.notification.clear(!1,!0);d.op=!0;d.vg(a,!0);d.op||ec(d)}function sc(a,c,b){a=a.getElementsByTagName("a")[0];var d=document.createElement("a"),
f=null;d.setAttribute("href","#");d.innerHTML="Show Pattern Error";Ra(d,"click",function(e){e.stopPropagation&&e.stopPropagation();e.preventDefault();alert(b)},!1);a?(f=document.createTextNode(" / "),a.parentNode.appendChild(f),a.parentNode.appendChild(d)):c.parentNode.appendChild(d)}function fc(a,c){var b=c[0],d=c[1];c=c[2];if(a&&a.W&&!a.sa){if(null!==d){d=d.getElementsByTagName("a")[0];var f=document.createElement("a");f.setAttribute("href","#");f.innerHTML="Show in Viewer";Ra(f,"click",tc,!1);
d?(c=document.createTextNode(" / "),d.parentNode.appendChild(c),d.parentNode.appendChild(f)):c.parentNode.appendChild(f)}Ja.pb&&(Ka.le[Ka.le.length]=new rc(a.name,b,a.h+a.Ra,a.width,a.height))}}function gc(a,c){var b=c[1];c=c[2];a&&null!==b&&sc(b,c,a.h+" - "+a.$a)}function hc(a,c,b,d,f){c=b.create("",a,c,fc,gc,[a,d,f],null);!b.Ka&&c&&(c.Ca?(c.$a=b.O,gc(c,[a,d,f])):fc(c,[a,d,f]))}function tc(a){Nb(this);a.stopPropagation&&a.stopPropagation();a.preventDefault();return!1}var Ta={Xp:!1,kr:!1,lr:!1,pc:!1,
copyWithin:!1,lm:null,Gc:null};window.performance||(window.performance={});window.performance.now||(window.performance.now=function(){return performance.now||performance.BF||performance.CF||performance.EF||performance.webkitNow||function(){return(new Date).getTime()}}());window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame);window.Uint8Array?Ta.Xp=!0:(Ta.Xp=!1,
window.Uint8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=window.Uint8Array);window.Uint16Array||(window.Uint16Array=Array);window.Uint32Array||(window.Uint32Array=Array);window.Int32Array||(window.Int32Array=Array);window.Int16Array||(window.Int16Array=Array);window.Int8Array||(window.Int8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=Array);window.Float32Array||(window.Float32Array=Array);window.Float64Array||(window.Float64Array=Array);window.Uint32Array.prototype.fill?
Ta.kr=!0:(Ta.kr=!1,window.Uint32Array.prototype.fill=function(a,c,b){void 0===b&&(b=this.length);for(c=0;c<b;c+=1)this[c]=a});window.Uint16Array.prototype.fill||(window.Uint16Array.prototype.fill=function(a,c,b){void 0===b&&(b=this.length);for(c=0;c<b;c+=1)this[c]=a});window.Uint8Array.prototype.fill||(window.Uint8Array.prototype.fill=function(a,c,b){void 0===b&&(b=this.length);for(c=0;c<b;c+=1)this[c]=a});window.Uint8ClampedArray.prototype.fill||(window.Uint8ClampedArray.prototype.fill=function(a,
c,b){void 0===b&&(b=this.length);for(c=0;c<b;c+=1)this[c]=a});window.Int32Array.prototype.fill||(window.Int32Array.prototype.fill=function(a,c,b){void 0===b&&(b=this.length);for(c=0;c<b;c+=1)this[c]=a});window.Int16Array.prototype.fill||(window.Int16Array.prototype.fill=function(a,c,b){void 0===b&&(b=this.length);for(c=0;c<b;c+=1)this[c]=a});window.Int8Array.prototype.fill||(window.Int8Array.prototype.fill=function(a,c,b){void 0===b&&(b=this.length);for(c=0;c<b;c+=1)this[c]=a});window.Float32Array.prototype.fill||
(window.Float32Array.prototype.fill=function(a,c,b){void 0===b&&(b=this.length);for(c=0;c<b;c+=1)this[c]=a});window.Float64Array.prototype.fill||(window.Float64Array.prototype.fill=function(a,c,b){void 0===b&&(b=this.length);for(c=0;c<b;c+=1)this[c]=a});window.Int32Array.prototype.slice?Ta.lr=!0:(Ta.lr=!1,window.Int32Array.prototype.slice=function(a,c){void 0===c&&(c=this.length);var b=c-a;var d=new Int32Array(b);for(c=0;c<b;c+=1)d[c]=this[a+c];return d});window.Int16Array.prototype.slice||(window.Int16Array.prototype.slice=
function(a,c){void 0===c&&(c=this.length);var b=c-a;var d=new Int16Array(b);for(c=0;c<b;c+=1)d[c]=this[a+c];return d});window.Int8Array.prototype.slice||(window.Int8Array.prototype.slice=function(a,c){void 0===c&&(c=this.length);var b=c-a;var d=new Int8Array(b);for(c=0;c<b;c+=1)d[c]=this[a+c];return d});window.Uint32Array.prototype.slice||(window.Uint32Array.prototype.slice=function(a,c){void 0===c&&(c=this.length);var b=c-a;var d=new Uint32Array(b);for(c=0;c<b;c+=1)d[c]=this[a+c];return d});window.Uint16Array.prototype.slice||
(window.Uint16Array.prototype.slice=function(a,c){void 0===c&&(c=this.length);var b=c-a;var d=new Uint16Array(b);for(c=0;c<b;c+=1)d[c]=this[a+c];return d});window.Uint8Array.prototype.slice||(window.Uint8Array.prototype.slice=function(a,c){void 0===c&&(c=this.length);var b=c-a;var d=new Uint8Array(b);for(c=0;c<b;c+=1)d[c]=this[a+c];return d});window.Uint8ClampedArray.prototype.slice||(window.Uint8ClampedArray.prototype.slice=function(a,c){void 0===c&&(c=this.length);var b=c-a;var d=new Uint8ClampedArray(b);
for(c=0;c<b;c+=1)d[c]=this[a+c];return d});window.Float32Array.prototype.slice||(window.Float32Array.prototype.slice=function(a,c){void 0===c&&(c=this.length);var b=c-a;var d=new Float32Array(b);for(c=0;c<b;c+=1)d[c]=this[a+c];return d});window.Float64Array.prototype.slice||(window.Float64Array.prototype.slice=function(a,c){void 0===c&&(c=this.length);var b=c-a;var d=new Float64Array(b);for(c=0;c<b;c+=1)d[c]=this[a+c];return d});Ta.Gc=new Uint32Array(1);Ta.Gc[0]=4660;Ta.lm=new Uint8Array(Ta.Gc.buffer);
Ta.pc=52===Ta.lm[0]?!0:!1;Ta.Gc.copyWithin?Ta.copyWithin=!0:(window.Uint32Array.prototype.copyWithin=function(a,c,b){var d=!1;void 0===b&&(b=this.length);var f=b-c;if(c!==a)if((a>=c&&a<=b||a+f>=c&&a+f<=b)&&a>c&&(d=!0),d)for(b=f-1;0<=b;--b)this[a+b]=this[c+b];else for(b=0;b<f;b+=1)this[a+b]=this[c+b];return this},Ta.copyWithin=!1);var na={La:8,vw:40,Aa:9,Ub:10,fo:0,Zj:1,ze:2,fd:18,Sv:19,Xm:function(a){return 1<<(a&7)},VE:function(a){var c=(0!==(a&16)?"Float":0!==(a&8)?"Uint":"Int")+8*(1<<(a&7));0!==
(a&32)&&(c+="Clamped");return c}};jb.prototype.s=function(a){var c="";0<=a&&a<this.i.length&&(a=this.i[a],c=na.VE(a.dataType)+"\t"+a.elements+"\t"+a.name+"\t"+a.Gm);return c};jb.prototype.l=function(a,c,b){for(var d=0,f=!1,e;d<this.i.length&&!f;)e=this.i[d],b===e.name?(f=!0,this.Fn+=1,this.xl+=e.elements*na.Xm(e.dataType)):d+=1;f?(this.i[d].dataType=a,this.i[d].elements=c,this.i[d].Gm+=1,this.i[d].size=c*na.Xm(a)):(d=this.i.length,this.i[d]=new lc(a,c,b));this.En+=1;this.wl+=c*na.Xm(a)};jb.prototype.m=
function(a,c,b,d,f){a=a.buffer;d*=na.Xm(c);switch(c){case na.La:b=new Uint8Array(a,d,b);break;case na.vw:b=new Uint8Array(a,d,b);break;case na.Aa:b=new Uint16Array(a,d,b);break;case na.Ub:b=new Uint32Array(a,d,b);break;case na.fo:b=new Int8Array(a,d,b);break;case na.Zj:b=new Int16Array(a,d,b);break;case na.ze:b=new Int32Array(a,d,b);break;case na.fd:b=new Float32Array(a,d,b);break;case na.Sv:b=new Float64Array(a,d,b);break;default:b=null,alert("Illegal type specified to allocator.typedView for "+
f+": "+c)}return b};jb.prototype.o=function(a,c,b){switch(a){case na.La:c=new Uint8Array(c);break;case na.vw:c=new Uint8Array(c);break;case na.Aa:c=new Uint16Array(c);break;case na.Ub:c=new Uint32Array(c);break;case na.fo:c=new Int8Array(c);break;case na.Zj:c=new Int16Array(c);break;case na.ze:c=new Int32Array(c);break;case na.fd:c=new Float32Array(c);break;case na.Sv:c=new Float64Array(c);break;default:c=null,alert("Illegal type specified to allocator.typedMemory for "+b+": "+a)}return c};jb.prototype.h=
function(a,c,b){var d=null;0<c&&(d=this.o(a,c,b));(d||0===c)&&this.l(a,c,b);return d};jb.prototype.zB=function(a,c,b,d){var f=null;0<c&&(f=this.o(a,c,b));(f||0===c)&&this.l(a,c*d,b);return f};Array.matrix=function(a,c,b,d,f,e){var g=0,k=[];k.N=f;k.dataType=a;k.cb=null;var l=f.h(a,c*b,e);k.cb=l;if(0<b){for(;g<c;)k[g]=f.m(l,a,b,g*b,e),g+=1;0!==d&&l.fill(d)}return k};Array.gm=function(a,c){c=a.N.zB(a.dataType,a[0].length,c,a.length+1);a[a.length]=c};Array.jg=function(a,c){c.cb.set(a.cb)};Array.ud=function(a,
c,b){var d,f=c.length,e=[],g=c.N,k=c[0].length/na.Xm(a);for(d=0;d<f;d+=1)e[d]=g.m(c.cb,a,k,d*k,b);return e};Array.Ns=function(a,c,b){var d,f=a.length,e=a.N,g=a.dataType,k=a[0].length;for(d=0;d<f;d+=1)e.m(a.cb,g,k-c,d*k+c,b)};var hb={Jc:[],yu:[],ke:function(){var a,c;this.Jc=[];this.yu=[];var b=this.Jc;var d=this.yu;d.push("1D");b.push(["Wolfram 1D",""]);b.push(["Brownian motion","W54"]);b.push(["Fishing-net","W110"]);b.push(["Heavy triangles","W22"]);b.push(["Linear A","W90"]);b.push(["Linear B",
"W150"]);b.push(["Pascal's Triangle","W18"]);b.push(["Randomizer 1","W30"]);b.push(["Randomizer 2","W45"]);b.push(["Wolfram 22","W22"]);b.push(["Wolfram 30","W30"]);b.push(["Wolfram 110","W110"]);d.push("Margolus");b.push(["Margolus",""]);b.push(["BBM","M0,8,4,3,2,5,9,7,1,6,10,11,12,13,14,15"]);b.push(["BounceGas","M0,8,4,3,2,5,9,14,1,6,10,13,12,11,7,15"]);b.push(["BounceGasII","M0,8,4,12,2,10,9,7,1,6,5,11,3,13,14,15"]);b.push(["Critters","M15,14,13,3,11,5,6,1,7,9,10,2,12,4,8,0"]);b.push(["HPP_Gas",
"M0,8,4,12,2,10,9,14,1,6,5,13,3,11,7,15"]);b.push(["MargSingRot","M0,2,8,3,1,5,6,7,4,9,10,11,12,13,14,15"]);b.push(["Rotations","M0,2,8,12,1,10,9,11,4,6,5,14,3,7,13,15"]);b.push(["RotationsII","M0,2,8,12,1,10,9,13,4,6,5,7,3,14,11,15"]);b.push(["RotationsIII","M0,4,1,10,8,3,9,11,2,6,12,14,5,7,13,15"]);b.push(["RotationsIV","M0,4,1,12,8,10,6,14,2,9,5,13,3,11,7,15"]);b.push(["Sand","M0,4,8,12,4,12,12,13,8,12,12,14,12,13,14,15"]);b.push(["StringThing","M0,1,2,12,4,10,9,7,8,6,5,11,3,13,14,15"]);b.push(["StringThingII",
"M0,1,2,12,4,10,6,7,8,9,5,11,3,13,14,15"]);b.push(["SwapOnDiag","M0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15"]);b.push(["Tron","M15,1,2,3,4,5,6,7,8,9,10,11,12,13,14,0"]);d.push("PCA");b.push(["PCA",""]);b.push(["Model_1","2PCA4,0,4,8,3,1,10,6,7,2,9,5,11,12,13,14,15"]);b.push(["Model_2","2PCA4,0,4,8,3,1,10,6,11,2,9,5,13,12,14,7,15"]);b.push(["PCA_1","2PCA4,0,4,8,3,1,10,6,7,2,9,5,11,12,13,14,15"]);b.push(["PCA_2","2PCA4,0,2,4,3,8,10,6,7,1,9,5,11,12,13,14,15"]);b.push(["PCA_3","2PCA4,0,8,1,3,2,5,6,7,4,9,10,11,12,13,14,15"]);
b.push(["PCA_4","2PCA4,0,2,4,12,8,5,9,7,1,6,10,11,3,13,14,15"]);b.push(["PCA_5","2PCA4,0,4,8,3,1,10,6,11,2,9,5,13,12,14,7,15"]);b.push(["PCA_6","2PCA4,0,2,4,3,8,10,6,14,1,9,5,7,12,11,13,15"]);b.push(["PCA_7","2PCA4,0,2,4,12,8,5,9,14,1,6,10,7,3,11,13,15"]);b.push(["PCA_8","2PCA4,0,2,4,12,8,10,9,14,1,6,5,7,3,11,13,15"]);b.push(["PCA_9","2PCA4,0,2,4,12,8,10,9,13,1,6,5,14,3,7,11,15"]);b.push(["PCA_10","2PCA4,0,1,2,3,4,5,6,13,8,9,10,14,12,7,11,15"]);b.push(["PCA_11","2PCA4,0,4,8,3,1,10,6,11,2,9,5,11,13,12,14,15"]);
b.push(["PCA_12","2PCA4,0,4,2,3,14,6,11,5,8,7,9,13,10,12,1,15"]);d.push("OT vN");b.push(["Outer-Totalistic von Neumann",""]);b.push(["Fredkin2","B13/S024V"]);b.push(["Parity","B13/S13V"]);d.push("OT Hex");b.push(["Outer-Totalistic Hex",""]);b.push(["HexParity","B135/S0246H"]);b.push(["Hexagonal Life","B2/S34H"]);b.push(["HighHexLife","B25/S34H"]);b.push(["Replicator Hex","B135/S135H"]);d.push("OT M");b.push(["Outer-Totalistic Moore",""]);b.push(["","B3/S23"]);b.push(["2x2","B36/S125"]);b.push(["2x2 2",
"B3678/S1258"]);b.push(["34 Life","B34/S34"]);b.push(["3-4 Life","B34/S34"]);b.push(["Amoeba","B357/S1358"]);b.push(["Anneal","B4678/S35678"]);b.push(["AntiLife","B0123478/S01234678"]);b.push(["Assimilation","B345/S4567"]);b.push(["Bacteria","B34/S456"]);b.push(["Blinkers","B345/S2"]);b.push(["Bugs","B3567/S15678"]);b.push(["Castles","B3678/S135678"]);b.push(["Cheerios","B35678/S34567"]);b.push(["Christmas Life","B1/S012345678"]);b.push(["Coagulations","B378/S235678"]);b.push(["Conway's Game of Life",
"B3/S23"]);b.push(["Conway's Life","B3/S23"]);b.push(["Coral","B3/S45678"]);b.push(["Corrosion of Conformity","B3/S124"]);b.push(["Dance","B34/S35"]);b.push(["Day & Night","B3678/S34678"]);b.push(["Day and Night","B3678/S34678"]);b.push(["Diamoeba","B35678/S5678"]);b.push(["DotLife","B3/S023"]);b.push(["DrighLife","B367/S23"]);b.push(["DryFlock","B37/S12"]);b.push(["DryLife","B37/S23"]);b.push(["DryLife without Death","B37/S012345678"]);b.push(["EightFlock","B3/S128"]);b.push(["EightLife","B3/S238"]);
b.push(["Electrified Maze","B45/S12345"]);b.push(["Eppstein","B35/S236"]);b.push(["Feux","B1358/S0247"]);b.push(["Flakes","B3/S012345678"]);b.push(["Flock","B3/S12"]);b.push(["Forest of Ls","B168/S236"]);b.push(["Fredkin","B1357/S02468"]);b.push(["Fuzz","B1/S014567"]);b.push(["Gems Minor","B34578/S456"]);b.push(["Gems","B3457/S4568"]);b.push(["Geology","B3578/S24678"]);b.push(["Gnarl","B1/S1"]);b.push(["H-Trees","B1/S012345678"]);b.push(["HighFlock","B36/S12"]);b.push(["HighLife","B36/S23"]);b.push(["HighLife without Death",
"B36/S012345678"]);b.push(["Holstein","B35678/S4678"]);b.push(["HoneyFlock","B38/S128"]);b.push(["HoneyLife","B38/S238"]);b.push(["Iceballs","B25678/S5678"]);b.push(["InverseLife","B012345678/S34678"]);b.push(["Invertamaze","B028/S0124"]);b.push(["IronFlock","B36/S128"]);b.push(["IronLife","B36/S238"]);b.push(["Land Rush","B36/S234578"]);b.push(["Life SkyHigh","B368/S236"]);b.push(["Life without Death","B3/S012345678"]);b.push(["Life","B3/S23"]);b.push(["Live Free or Die","B2/S0"]);b.push(["LifeH",
"B3/S23H"]);b.push(["LifeV","B3/S23V"]);b.push(["Logarithmic replicator rule","B36/S245"]);b.push(["LongLife","B345/S5"]);b.push(["Long Life","B345/S5"]);b.push(["LowDeath without death","B368/S012345678"]);b.push(["LowDeath","B368/S238"]);b.push(["LowFlockDeath","B368/S128"]);b.push(["LowLife","B3/S13"]);b.push(["Majority","B45678/S5678"]);b.push(["Maze","B3/S12345"]);b.push(["Maze with Mice","B37/S12345"]);b.push(["Mazectric","B3/S1234"]);b.push(["Mazectric with Mice","B37/S1234"]);b.push(["Morley",
"B368/S245"]);b.push(["Move","B368/S245"]);b.push(["Neon Blobs","B08/S4"]);b.push(["Never happy","B345/S0456"]);b.push(["Oscillators Rule","B45/S1235"]);b.push(["Pedestrian Flock","B38/S12"]);b.push(["Pedestrian Life","B38/S23"]);b.push(["Pedestrian Life without Death","B38/S012345678"]);b.push(["Persian Rug","B234/S"]);b.push(["Plow World","B378/S012345678"]);b.push(["Pseudo Life","B357/S238"]);b.push(["Pulsar Life","B3/S238"]);b.push(["Replicator","B1357/S1357"]);b.push(["Replicator 2","B1357/S02468"]);
b.push(["Rings 'n' Slugs","B56/S14568"]);b.push(["Seeds","B2/S"]);b.push(["Serviettes","B234/S"]);b.push(["Shoots and Roots","B3/S245678"]);b.push(["Slow Blob","B367/S125678"]);b.push(["Snakeskin","B1/S134567"]);b.push(["Solid islands grow amongst static","B12678/S15678"]);b.push(["SnowLife","B3/S1237"]);b.push(["Stains","B3678/S235678"]);b.push(["Star Trek","B3/S0248"]);b.push(["Virus","B36/S235"]);b.push(["Vote","B5678/S45678"]);b.push(["Vote 4/5","B4678/S35678"]);b.push(["Walled Cities","B45678/S2345"]);
d.push("OT Tri");b.push(["Outer-Totalistic Triangular",""]);b.push(["Life 2333","B3/S23L"]);b.push(["Life 2345","B45/S23L"]);b.push(["Life 2346","B456/S23L"]);b.push(["Life 3445","B45/S34L"]);b.push(["Life 3446","B456/S34L"]);b.push(["Life 4546","B456/S45L"]);b.push(["Life 4644","B4/S456L"]);b.push(["Rule 1246","B456/S12L"]);b.push(["Rule 3544","B4/S345L"]);d.push("OT M G");b.push(["Outer-Totalistic Generations Moore",""]);b.push(["9:43 at Knight","237/34578/4"]);b.push(["Banners","2367/3457/5"]);
b.push(["BelZhab","23/23/8"]);b.push(["BelZhab Sediment","145678/23/8"]);b.push(["Bloomerang","234/34678/24"]);b.push(["Bombers","345/24/25"]);b.push(["Brain 5","/2/5"]);b.push(["Brain 6","6/246/3"]);b.push(["Brian's Brain","/2/3"]);b.push(["Burst","0235678/3468/9"]);b.push(["BurstII","235678/3468/9"]);b.push(["Caterpillars","124567/378/4"]);b.push(["Chenille","05678/24567/6"]);b.push(["Circuit Genesis","2345/1234/8"]);b.push(["Constellations","/23/3"]);b.push(["Cooties","23/2/8"]);b.push(["Diamonds and Spaceships",
"34578/257/16"]);b.push(["Ebb&Flow","012478/36/18"]);b.push(["Ebb&Flow II","012468/37/18"]);b.push(["Faders","2/2/25"]);b.push(["Fireballs","346/2/4"]);b.push(["Fireworks","2/13/21"]);b.push(["Flaming Starbows","347/23/8"]);b.push(["Free Star","0345/2/10"]);b.push(["Frogs","12/34/3"]);b.push(["Frozen spirals","356/23/6"]);b.push(["GeneroLife","2356/3567/4"]);b.push(["Glisserati","035678/245678/7"]);b.push(["Glissergy","035678/245678/5"]);b.push(["Lava","12345/45678/8"]);b.push(["Lines","012345/458/3"]);
b.push(["LivingOn TheEdge","345/3/6"]);b.push(["Meteor Guns","01245678/3/8"]);b.push(["Nova","45678/2478/25"]);b.push(["OrthoGo","3/2/4"]);b.push(["Prairie on fire","345/34/6"]);b.push(["RainZha","2/23/8"]);b.push(["Rake","3467/2678/6"]);b.push(["SediMental","45678/25678/4"]);b.push(["Snake","03467/25/6"]);b.push(["SoftFreeze","13458/38/6"]);b.push(["Spirals","2/234/5"]);b.push(["Star Wars","345/2/4"]);b.push(["Sticks","3456/2/6"]);b.push(["Swirl","23/34/8"]);b.push(["Tadpoles","0125678/345678/64"]);
b.push(["ThrillGrill","1234/34/48"]);b.push(["Transers","345/26/5"]);b.push(["TransersII","0345/26/6"]);b.push(["Transers 2","0345/26/6"]);b.push(["Transers 3","0345/26/7"]);b.push(["Wallplicators","345/25678/7"]);b.push(["Wanderers","345/34678/5"]);b.push(["Worms","3467/25/6"]);b.push(["Xtasy","1456/2356/16"]);d.push("INT Hex");b.push(["Isotropic Non-Totalistic Hex",""]);b.push(["Hex Life","B2o3m56/S2-p4oH"]);b.push(["22da","B2/S2-mH"]);b.push(["Hexrule b2o","B2o/S2m34H"]);d.push("INT M");b.push(["Isotropic Non-Totalistic Moore",
""]);b.push(["15Life","B34r/S23-q4et"]);b.push(["104life","B34ky5cy/S23-a4ity6c7"]);b.push(["22k","B2-k/S2-k"]);b.push(["2diagonal","B2n3/S23"]);b.push(["2xpand2","B3/S123eik4ce"]);b.push(["3x3","B35cky68/S0245-c6n"]);b.push(["38life","B35y/S2-n35k6ci"]);b.push(["4diagonal","B34c/S23"]);b.push(["4life","B34jy/S23"]);b.push(["4life2","B34j/S23"]);b.push(["57life","B34tyz5cy/S23-a4it5ej"]);b.push(["acnelife","B34/S2eik3"]);b.push(["aLife","B3/S234iw"]);b.push(["Arcane Circuitry","B2ci3aikr/S1e2-a3i"]);
b.push(["Arrow","B3-jkn4a/S1e2-a3ijnry4n"]);b.push(["Artillery","B3-y7/S2-i3-c4kqt"]);b.push(["Atomic","B2ei3i/S1c2-n3jr4an5i6c"]);b.push(["ATPP","B3-ckq4z/S2-c3-a4iq5k6k"]);b.push(["B - ibis","B2n34cyz6n8/S2-n3-a4cq68"]);b.push(["Banks-I","B3e4ejr5cinqy6-ei78/S012-e3-ajk4-akqw5-ajk6-e78"]);b.push(["Banks-III","B2ce3e4jr5cin6-en7c8/S012-ac3-cn4-eikny5-kr67c8"]);b.push(["Beaecsizae","B34ce/S12-a3"]);b.push(["Ben's rule","B2-ak3einqy4e/S1c2ak3inqy4e"]);b.push(["Best Friends","B2ce3aiy/S12aei3r"]);b.push(["Bgunlife",
"B34eny5e/S23-a4iy5e6c"]);b.push(["Billiard","B36-e/S12345"]);b.push(["Blasts","B2e3airy4kt5jr6c8/S02ace3eiknr4-aj5-cei6-a78"]);b.push(["BlinkBlink","B35ky/S234y"]);b.push(["Blocks for Days","B2-ae3-cij4a5aj6e7e8/S01e2ai3ar4ar5air6ae7c8"]);b.push(["blockandglider","B3/S234cw7c"]);b.push(["Blockship","B3-cer4ceqwz5acek6in78/S2-in3-eq4eqwyz5eikn678"]);b.push(["BoatLife","B3-knqy/S2-n3-ey4akwy5aik6kn"]);b.push(["boatLife","B3ainqy4aeq5ejn8/S2-in3-aek4aciq5ae6-c7c8"]);b.push(["bpuff","B3/S23-cky4k7e8"]);
b.push(["Breps","B34cqy5c/S23-y4y"]);b.push(["Breps-2","B3aeijn4n8/S234iqz"]);b.push(["Bricks","B2ak5c/S2cn3inqy4aikqtwz5inqy"]);b.push(["Bubbles","B3ai4-a/S23"]);b.push(["Butterfly","B2i34e6i7c/S2-i36n"]);b.push(["butterflyb7","B2i34e6i7/S2-i36n"]);b.push(["Buzz","B2i35-n/S2-ci36k8"]);b.push(["CapLife","B36c/S23"]);b.push(["CarrierLife","B2e3aceik/S23"]);b.push(["Cataverters","B3-cen/S234eijkrw5cry6ik"]);b.push(["cb2","B2ae4i/S1e2in"]);b.push(["cetlife","B34cet/S234jkwyz"]);b.push(["Clouds","B2e3aceij/S23-a4"]);
b.push(["Cloudsdale","B2kn3-ekqr4i5eq6n8/S23-aeny4cikqr5ek6ace7c"]);b.push(["CommonRepl","B3/S23-ac4eiy6"]);b.push(["Conquerors and Colonizers","B2ace3acei4ace5acei6ace/S"]);b.push(["Conway++","B3/S234c"]);b.push(["Conway+-1","B3/S23-inqy4aikqtwz"]);b.push(["Conway+-2","B3/S2-ak34aikqtwz5inqy"]);b.push(["Conway--","B3/S2-ei3"]);b.push(["crawl","B37e/S2-i34y8"]);b.push(["Creperie","B2ikn3aijn/S23-ckqy"]);b.push(["CrossLife","B3/S234et"]);b.push(["Crylife","B2n3-cry4kn6i7c/S23-a4i6c"]);b.push(["DenseLife",
"B3-q4y/S234z"]);b.push(["Diamoeral","B2n3ai4a78/S35678"]);b.push(["Diamonds","B2en3ij4a5e7e8/S1c2cek3-a4aiqw5aky"]);b.push(["DirtyLife","B3-cky5aq6ci7c/S23-ck4n6k7e"]);b.push(["DLife","B3-n/S23"]);b.push(["dolife","B2-ak3acei4ceqz5y/S234ce5ceky78"]);b.push(["dolife2","B2-a3acei4ceqz5y/S234ce5ceky78"]);b.push(["Dominoplex","B2cen3ek4ejkwz5-ein6an7e8/S12an3-eijq4enrty5e6k"]);b.push(["Dry15Life","B34r7/S23-q4et"]);b.push(["DryGoats","B2in37/S123a"]);b.push(["Dustclouds01","B2ce3-ai/S01"]);b.push(["EasyHighLife",
"B36-i/S23"]);b.push(["Eatsplosion","B2n3-ekqy4c5e/S2-cn3-eky4aij5e"]);b.push(["Eatsplosion IV","B2n3-q4aqz6n8/S2-in3-q4iz7c8"]);b.push(["EightGoats","B2in3/S123a8"]);b.push(["Einstein","B2ein3cijn4cnrwy5cnq6e/S1c2-ai3acny4anqy5c6ek8"]);b.push(["ElectrumLife","B367c/S2-i34q"]);b.push(["Emitters","B2i3ai4cei5c6c7/S2-ae3acein4-t5-aq6cei7c8"]);b.push(["Extension","B2cei3-ijnr4-a6i/S12-cn"]);b.push(["fakePiShipLife","B3-ck4e5k6i/S2-in35i6c8"]);b.push(["FalseB5","B35ce/S234jqtyz6k8"]);b.push(["Frespa",
"B34ck5/S23aceik4aci"]);b.push(["FattyLife","B3-n4nt5qr6i/S23"]);b.push(["FishLife","B3-ekqr4nt5r6i/S02-c3"]);b.push(["FlashLife","B2kn3-n4e/S23"]);b.push(["Flowflakes","B2-ac3acei4ey6n8/S02-n3-nqy4cekyz5ei6k7e"]);b.push(["Flutter","B2-a3j4-acekn56/S15y"]);b.push(["Flying Life","B3-k5r/S236n7e"]);b.push(["FogLife","B35eq7/S2-i34q"]);b.push(["Forestfire","B3ai4ekq5cy6n/S2-ci3-ace4inr5eqry"]);b.push(["FrogLife","B36i/S1c23-acek5k6i8"]);b.push(["Fruitflies","B2-an4jn7e8/S12-k4r"]);b.push(["Fuzey","B2-ae3aej4ez/S03ac4aikqryz78"]);
b.push(["GemLife","B34c6/S23-q"]);b.push(["Gentle relative","B2cen3ek4jkw5-aein6a7e/S12an3-eijq4enrty5e6k"]);b.push(["GlideLife","B34ek5ak/S2-c34z"]);b.push(["GlideLife2","B34ek5ak/S2-c34iz5y"]);b.push(["GliderGlut","B2k3aijn4ak5y6k/S2ae3ajnr4aiw"]);b.push(["GliderRROLife","B2e3einy4ak5ijq7c/S1c2-ai3-ceky4ejny5ceqr6ak"]);b.push(["glife","B3/S237c"]);b.push(["Glimmering Garden","B3-jknr4ity5ijk6i8/S23-a4city6c7c"]);b.push(["GMO snowflakes","B34c6n/S2-n3-ck4cijqtwy5y6n"]);b.push(["Goat Flock","B2in3/S123a"]);
b.push(["Goats","B2in3/S123a"]);b.push(["Goldilocks I","B2ek3cei4acjr5c8/S02ack3kn4aen"]);b.push(["gp","B2ei3-a4ce5y6i/S234i7e"]);b.push(["Growflakes","B2-ac3acei4ey6n8/S02-n3-nqy4cekyz5ei6k"]);b.push(["guntlife","B35j6a/S2-i34q"]);b.push(["Half as Interesting","B2ce3i/S23"]);b.push(["hassl8life","B34k5e7c/S23-a4iyz"]);b.push(["hatlife","B35y/S23"]);b.push(["Hats and Shuttles","B34iqwy/S23-cq"]);b.push(["hedgehog","B3/S1c2-a35r6i"]);b.push(["HeptaFish","B3-e4i5i/S234e"]);b.push(["High15Life","B34r6/S23-q4et"]);
b.push(["HighGoats","B2in36/S123a"]);b.push(["Hive","B3-ry4ckn/S2-in3-cjn4it5aiky6-a7e8"]);b.push(["hlife","B3/S234ce6k"]);b.push(["hlife2","B3/S2-in34nr"]);b.push(["hlife3","B3/S2-in34iw"]);b.push(["HoneyGoats","B2in38/S123a8"]);b.push(["HouseLife","B2i3/S23-r"]);b.push(["Hype","B2-ac3aei4ae6i8/S23-ejq8"]);b.push(["IceNine","B3aeiy4ae5i68/S2-in3-kqr4artz5aeny6-e78"]);b.push(["ilife","B3/S235i"]);b.push(["Immortalife","B3-cqy4j/S2-n34i"]);b.push(["IneticLife","B2-an3-k/S2ac"]);b.push(["IronGoats",
"B2in36/S123a8"]);b.push(["Ising","B3e4ejr5cinqy6-ei78/S2ei3aejkr4-cny5-e678"]);b.push(["Just Friends","B2-a/S12"]);b.push(["Kgdm","B3/S2-c3-en4ceitz"]);b.push(["KineticLife","B2-an3/S2ac"]);b.push(["klife","B34n/S23"]);b.push(["Knyght","B2e3/S23-jq"]);b.push(["ktlife","B3/S2-i34nq"]);b.push(["LambdaLife","B3-k/S2-i3-k4cen"]);b.push(["Leaplized D&N","B2n3678/S3-q4678"]);b.push(["LifeWithoutGliders","B35n/S23"]);b.push(["Linea","B2-a3-i/S23-a"]);b.push(["LispLife","B2n3/S23-q4e8"]);b.push(["LoafLife",
"B2n3-q/S23"]);b.push(["longlast","B3/S234ce8"]);b.push(["lotsofdots","B2ikn34e/S023-a4ce"]);b.push(["MaritimeLife","B2i34c6cen7c8/S2-i3-q4c5a6e8"]);b.push(["maze2","B3/S234-acew"]);b.push(["Migrating Bookends","B2ein3inry/S12-n3ce"]);b.push(["MilkyLife","B3-c4c5y8/S234qy5y8"]);b.push(["Mooselife","B34kz5e7c/S23-a4ityz5k"]);b.push(["move_rep","B3-r4e5e6-n/S23cr457e"]);b.push(["Movero VIII","B2-a5k6n7c/S12-i3ij4k5j8"]);b.push(["MoveIt","B368/S23cy45-j6n"]);b.push(["movetub","B34e68/S245"]);b.push(["movev",
"B35y68/S245"]);b.push(["Movostill","B2i3acijk6i/S23-a4"]);b.push(["Movostill 2","B3acijk/S23-a4"]);b.push(["Movostill 3","B2e3aceij5-ijr/S23-a4"]);b.push(["MuddyLife","B3/S234k"]);b.push(["Nah","B345-a6/S2-a3-a4-a"]);b.push(["nonlife","B3-n/S234iz"]);b.push(["notlife","B3-q7c/S2-i3-q4q"]);b.push(["notlife (Wright)","B2k3-k/S23-a"]);b.push(["Notlife / Ace","B2-a3/S2ce"]);b.push(["Niemiec's Rule 0","B3/S2ae3aeijr4-cknqy"]);b.push(["olife","B2in3/S2-in3"]);b.push(["Omosso","B2k3acijr4ijqy6i7c/S2aek3ijnqr4it5n"]);
b.push(["Orthogonable","B2e3aiknr4q/S1c2-in3aijry4a"]);b.push(["Particles","B2ce3i/S1c2cek"]);b.push(["Patchworks","B2-an3aiy/S2-in3cijky4-nqrz5k"]);b.push(["Pedestrian Goats","B2in38/S123a"]);b.push(["Pentadecathlife","B34e5y6cn8/S234c5e"]);b.push(["Photics I","B2ae4c678/S01e4aeqrtw5678"]);b.push(["Photics II","B2ae4cw5y6i/S01e2i4q"]);b.push(["Pi replicator life","B3-r4z5y/S238"]);b.push(["Pi-plicator","B3-ckq/S2-c34ci"]);b.push(["PiLife","B37e/S23"]);b.push(["Pilife2","B34c/S234y8"]);b.push(["plasma1",
"B012-in3-cky4ar5cjnr6ae/S05aijnr6n"]);b.push(["plife","B35j/S2-i3"]);b.push(["plife2","B35j6i/S2-i3"]);b.push(["PondLife","B36i/S2-i35i"]);b.push(["PortLife","B34cz5y/S234y8"]);b.push(["pre-X-rule","B2cei3ci4jnr5ikn/S12-ck4einqy5er6aei8"]);b.push(["Prismatika Crystallios","B2ae3r/S1e"]);b.push(["PlasmaLife","B34-air/S234-air"]);b.push(["Puffers","B3-nqr6/S235-nqr"]);b.push(["PuffLife","B34-i5-a6-a/S2-an34-akrw"]);b.push(["qlife","B3-q/S23"]);b.push(["quadraticlife","B34j/S23"]);b.push(["Quasilinear Collisions",
"B2-ak3-jnqr/S15678"]);b.push(["Rakelife","B3aij/S2-i3ajnr4arz56-a7e"]);b.push(["Rainflakes","B2-ac3aei4ey5n6n8/S02-n3aceir4ceyz5e6k"]);b.push(["RBeeLife","B34cijkq5k6i8/S2-n3-ik4cjqt5y6cin8"]);b.push(["replife","B34jy6n/S2-i3"]);b.push(["reptlife","B36-k/S2-i34q"]);b.push(["ResistantLife","B34eknqyz/S23"]);b.push(["Ribbons","B3-nqr/S23"]);b.push(["RotoBlocks","B34cyz5y8/S234y5y6n8"]);b.push(["RotoDotPuffers","B2ikn3-ejnr/S01c2cei3ay4c"]);b.push(["RotoHooks","B34ckyz/S234cz"]);b.push(["rgun","B34t/S2-i35a7e"]);
b.push(["Rule X3VI","B2c3aei4ajnr5acn/S2-ci3-ck4in5jkq6c7c"]);b.push(["RustyLife","B34-ai/S24-air5-a"]);b.push(["Salad","B2i34c/S2-i3"]);b.push(["Sanctuary","B2ei3ci/S1c23"]);b.push(["sansdomino","B2-a/S014"]);b.push(["Savanna","B2e3aeiy4ce5i6c7e/S2-n3-a4artz5aeny6cn"]);b.push(["Scenery","B3-cnry4-acery5i/S23-a4-jknqr5y8"]);b.push(["SharkLife","B34aeiz/S2-ak34ant6cek"]);b.push(["signalife","B3aeijy5e6i/S2-c3-a4iq5k6ck"]);b.push(["SilverLife","B367/S2-i34q"]);b.push(["SimpleInverseFire","B2-ak4568/S156ak78"]);
b.push(["Simple Life","B2k34c/S2-c34z8"]);b.push(["SLHassleLife","B3-y5cr/S234w6n"]);b.push(["SlugWorld","B2e3ai4arw5678/S3-an4ar5i678"]);b.push(["SolarWorld","B2ce3ci4iyz5ce6c/S12ce3ae"]);b.push(["SmokingLife","B2i34cj6a7c8/S2-i3-a4ceit6in"]);b.push(["Smorgasbord","B2e3aijr4q/S1c23-a5"]);b.push(["snotlife","B2k3-kn/S23"]);b.push(["Snowflakes","B2ci3ai4c8/S02ae3eijkq4iz5ar6i7e"]);b.push(["Snowflakes 2","B2ci3ai4c8/S02ae3eijkq4aiz5ar6i7e"]);b.push(["SparkLife","B36i/S234j"]);b.push(["SparklingLife",
"B34cqy/S234q"]);b.push(["SparseMethuseLife","B35y/S1e2-ci3-a5i"]);b.push(["StairWorld","B2-a3i4aijk/S2a3-i4"]);b.push(["Stars","B2e3-ceny4einqwz5-cikr6cei/S1c2e3aijky4aceijrz5-cejk6-ak7c8"]);b.push(["Suns","B2ei3aeij4cjt5ky6ei/S1c2ace3jkn4aeijktw5ekry6in7e"]);b.push(["Switches","B2ei3ij4ajnr6ci/S12ce3ajn4qtz5ijnqy6c"]);b.push(["Symmetristic","B2-ak3-jnqr4ceiqtwz5-jnqr6-ak/S2-ak3-jnqr4ceiqtwz5-jnqr6-ak"]);b.push(["t4life","B34jy/S2-i3"]);b.push(["TableLife","B3/S23-ai4anq6n"]);b.push(["TauLife","B3-nr/S2-i34-aij"]);
b.push(["tceclife","B36ce7c/S2-i34q"]);b.push(["tDryFlock","B37/S12-i4q"]);b.push(["tDryLife","B37/S2-i34q"]);b.push(["TearfulLife","B34e5c6n/S23-q"]);b.push(["tEightLife","B3/S2-i34q8"]);b.push(["testlife","B36a/S23"]);b.push(["tflock","B3/S12-i4q"]);b.push(["tHighFlock","B36/S12-i4q"]);b.push(["tHighLife","B36/S2-i34q"]);b.push(["ThisLife","B36i/S23-ce5q"]);b.push(["tlife","B3/S2-i34q"]);b.push(["tosc","B3/S234wz"]);b.push(["tosc2","B36in/S234cw"]);b.push(["tPedestrianFlock","B38/S12-i4q"]);b.push(["tPedestrianLife",
"B38/S2-i34q"]);b.push(["tq6","B2i34e/S023-a4ce"]);b.push(["Traffic Flow","B2e3aciy4jnw68/S23678"]);b.push(["Train","B34t6k8/S2-i35a7e"]);b.push(["Trilobites","B3aijn4w5nq/S2ae3aijr4irz5y"]);b.push(["triship","B2a3e/S012-ai3-i45-i678"]);b.push(["Trycogene","B2ce3aijn/S2ak3-aijn4jkqty5cekr6ce8"]);b.push(["Turro","B2-a3c/S12-i"]);b.push(["Two-dots rule 1","B2ei3ci4aerw5acky6i8/S012-an3eiknq4qrty5aeik6ik8"]);b.push(["Two-dots rule 2","B2-ak3aen4cenrtw5iq6e/S02ac3aenqy4ejqtwy5ak6acn7"]);b.push(["Twinkles",
"B2in34-a/S1e2ekn34ent"]);b.push(["Virus_v2","B3-nqr6/S235"]);b.push(["Wartlife","B3aijnq6n/S2-cn3-ceky4i"]);b.push(["WetLife","B34r/S23"]);b.push(["Whichlife","B2in3aeijn/S234e"]);b.push(["Wild Seas","B2c3-cekq4ikt5i8/S2-in3-acky4aijry5eiky6i"]);b.push(["wlife","B34w/S23"]);b.push(["Worms 0","B01c2n5a/S3a5i"]);b.push(["Writers","B2-a3-inqr4c6/S23"]);b.push(["WSScentral","B3-n45qr6i/S2eik3"]);b.push(["X-rule-pre","B2cei3ci4jnr5ikn/S12aen3c4einqy5er6aei8"]);b.push(["xtdbee","B3-k/S23"]);b.push(["xvaLifeg",
"B2e3/S23"]);b.push(["Ylife","B2e3ai4ar/S23-a4a"]);b.push(["ylife (BokaBB)","B34y5y/S234y5y"]);b.push(["zigzag","B3/S2-k34q"]);b.push(["ZombieLife","B3-nqy4aqz5cn6n8/S2-i3-a4inqz7c8"]);d.push("INT M G");b.push(["Isotropic Non-Totalistic Generations Moore",""]);b.push(["HTech","234e/2e3/3"]);b.push(["Jellyfish","2ak34-a5-i/2c36k7/4"]);b.push(["KST","1234-i5anq6kn/3r4kr5eiq6ack7e/3"]);b.push(["Simple Brain","234e/e3/3"]);b.push(["Sliders","012-e3-ae4acnqyz5acer6acn78/3j4-eikq5c/3"]);b.push(["tGeneC1WC0",
"2-i34q/2c34w5c/4"]);d.push("LtL M");b.push(["Larger than Life Moore",""]);b.push(["Balloons","R2,C2,M1,S7..10,B7..11,NM"]);b.push(["Bosco's Rule","R5,C2,M1,S34..58,B34..45,NM"]);b.push(["Bosco Analogue","R5,C2,M1,S34..53,B31..42,NM"]);b.push(["Bugs R3","R3,C2,M1,S14..23,B14..18,NM"]);b.push(["Bugs R4","R4,C2,M1,S23..39,B23..30,NM"]);b.push(["Bugs R6","R6,C2,M1,S47..81,B47..63,NM"]);b.push(["Bugs R6 variant","R6,C2,M1,S47..81,B47..71,NM"]);b.push(["Bugs R7","R7,C2,M1,S63..108,B63..84,NM"]);b.push(["Bugs R9",
"R9,C2,M1,S101..173,B101..134,NM"]);b.push(["Bugs R10","R10,C2,M1,S124..211,B124..164,NM"]);b.push(["Bugs R10 variant","R10,C2,M1,S124..211,B124..166,NM"]);b.push(["Bugs R12","R12,C2,M1,S175..300,B175..232,NM"]);b.push(["Bugs R13","R13,C2,M1,S205..349,B205..271,NM"]);b.push(["Bugs R14","R14,C2,M1,S236..403,B236..313,NM"]);b.push(["Bugs R15","R15,C2,M1,S269..461,B270..357,NM"]);b.push(["Bugs R100 variant","R100,C2,M1,S11303..19361,B11100..14996,NM"]);b.push(["Bugsmovie","R10,C2,M1,S123..212,B123..170,NM"]);
b.push(["Globe","R8,C2,M1,S164..224,B74..252,NM"]);b.push(["Majorly","R7,C2,M1,S113..225,B113..224,NM"]);b.push(["Mini Bugs","R2,C2,M1,S7..10,B7..8,NM"]);b.push(["Miniature Bugs","R3,C2,M1,S15..22,B14..25,NM"]);b.push(["Pigs","R2,C2,M1,S10..19,B4..4,NM"]);b.push(["Quadratic Bugs","R6,C2,M1,S47..81,B47..61,NM"]);b.push(["Rasta Bugs","R5,C2,M1,S41..59,B32..50,NM"]);b.push(["Smudge","R2,C2,M1,S7..11,B8..8,NM"]);b.push(["Stones","R5,C2,M1,S29..58,B38..61,NM"]);b.push(["Soldier Bugs","R7,C2,M1,S65..114,B65..95,NM"]);
b.push(["Suicidal Bugs","R5,C2,M1,S37..59,B33..49,NM"]);b.push(["Waffle","R7,C2,M1,S100..200,B75..170,NM"]);b.push(["Waving human intestines","R20,C2,M1,S1..21,B1..5,NM"]);d.push("LtL M G");b.push(["Generations Larger than Life Moore",""]);b.push(["Fire rule","R5,C6,M1,S31..43,B15..25,NM"]);b.push(["Fire whirl","R8,C6,M1,S46..91,B65..100,NM"]);b.push(["ModernArt","R10,C255,M1,S2..3,B3..3,NM"]);d.push("HROT vN");b.push(["Higher-Range Outer-Totalistic von Neumann",""]);b.push(["Fredkin2 R2","R2,C2,S0,2,4,6,8,10,12,B1,3,5,7,9,11,NN"]);
b.push(["Parity R2","R2,C2,S1,3,5,7,9,11,B1,3,5,7,9,11,NN"]);d.push("HROT M");b.push(["Higher-Range Outer-Totalistic Moore",""]);b.push(["Fredkin R2","R2,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,B1,3,5,7,9,11,13,15,17,19,21,23"]);b.push(["Fredkin R3","R3,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);b.push(["Fredkin R4","R4,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);
b.push(["Replicator R2","R2,C2,S1,3,5,7,9,11,13,15,17,19,21,23,B1,3,5,7,9,11,13,15,17,19,21,23"]);b.push(["Replicator R3","R3,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);b.push(["Replicator R4","R4,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);
d.push("MAP NINT");b.push(["MAP Non-Isotropic",""]);b.push(["2CellSlug","MAPBTDe/yAA9/8AAP//AAD//yAA/78AAP//AID//wAA//8AAP//AAD/2wAA//8AgP//AAD//4AA//+AAH//AAD//w"]);b.push(["BLAHTWOCELLGUN","MAPAMB/vwAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//w"]);b.push(["FoxLife","MAPARYXfhZofugWaH7oaIFoxBZofuhogOiAaIFoxIAAgAAWaH7oaIFoxGiA6ICAAIAAaIFoxIAAgACAAIAAAAAAAA"]);b.push(["MovingStrings","MAPARH+/wMT//8BEf7/AxP//wER/v8DE///AREAAAMTAAABEf7/AxP//wER/v8DE///AREAAAMTAAABEQAAAxMAAA"]);
b.push(["MuzikThing","MAPACD//wAA3/8AgH//AAD//wCAf/8AAP//AAD//wAA//8AAH//AAD//wAA//8AAP//gAD//wAA//8AAP//AAD//w"]);b.push(["MyEntry","MAPIAD/7wgA/f8AAP//AAD//wAA//8AAP//AAD/fwAA//8AAP//AAD//wAA//8AAP//AAD//4AA//8AAP//AAD//w"]);b.push(["OLife","MAPABD/vgIB//8AAP//AAD//wAA/78AAN3/AJB/vwAAf/8AAP//AABd/wAA//8AAP//AAD//4IA//8AAP//AIB//w"]);b.push(["Rhufo","MAPARH//wMA//8AAP9/AAD//wAA//8AAP9/AAD//wAA//8AAP//AAB//wAA//8AAP//AAD//wAA//8AAH9/AAB//w"]);b.push(["Rhufo2","MAPARH//wMA//8AAH9/AAD//wAAX/8AAP9/AAB/7wAA//8AAH//AAB//wAA//8AAP//AAB//wAA/f8AAH8/AAB3/w"]);
b.push(["SemiFelineLife","MAPARYXfhZofugWaH7oaIDogBZofuhogOiAaIDogIAAgAAWaH7oaICatGiA6ICAAIAAaICatIAAgACAAIAAAAAAAA"]);b.push(["Simple_Weird_Ships","MAPABHs/wMA//8AAP//AAD//wAA/38AAP//AAD//wAA//8AAP//gAD//wAA//8AAP//AAD//wAA//8AAP//AAD//w"]);b.push(["Socrates","MAPARYXfhZofugWaH7oaIDogBZofuhogOiAaIDogIAAgAAWaH7oaIDogGiA6ICAAIAAaIDogIAAg00IAmSocrateg"]);d.push("Weighted");b.push(["Weighted",""]);b.push(["Ben's rule","R1,C2,S3,5,8,B4,6,8,NW323202323"]);b.push(["Border","R1,C2,S10-16,B1-8,NW010101010901010101"]);
b.push(["Bricks","R1,C3,S10,12,14,16,B7,13,NW525202525"]);b.push(["Bustle","R1,C4,S2,4-5,7,B3,NW212101212"]);b.push(["Career","R1,C2,S2-3,B3,NW121101111"]);b.push(["Cloud54","R1,C2,S2-3,9-10,19,27,B3,10,27,NW010109010009010909"]);b.push(["Cloud75","R1,C2,S2-4,10-11,13,18,21-22,27,29-31,36-40,B3,10,27,NW010109010009010909"]);b.push(["Conway","R1,C2,S2-3,6-7,10-11,15,B3,7,11,15,NW515101515"]);b.push(["Conway--","R1,C2,S3,6-7,10-11,15,B3,7,11,15,NW515101515"]);b.push(["Conway++","R1,C2,S2-3,6-7,10-11,15,20,B3,7,11,15,NW515101515"]);
b.push(["Conway+-1","R1,C2,S2-3,6-7,10,12,15,B3,7,11,15,NW515101515"]);b.push(["Conway+-2","R1,C2,S2-3,7,10-13,15,B3,7,11,15,NW515101515"]);b.push(["CrossPorpoises","R1,C2,S2-3,6-10,12-13,B5,NW141404140"]);b.push(["Cyclish","R1,C7,S2,B1-3,NW010101010"]);b.push(["Cyclones","R1,C5,S2,4-5,B2-5,NW110101011"]);b.push(["Dragon","R1,C2,S1-2,7-8,12,15,18,20,B7,11-13,20,NW515101515"]);b.push(["Emergence","R1,C2,S2-4,10-11,16-17,24-25,B3-4,9,24,NW010801010001080801"]);b.push(["Fire-flies","R1,C9,S1,10,B6,11-12,21,NW010501050a05010501"]);
b.push(["Fleas","R1,C2,S2-3,6-7,10-11,15,20,B2,11,NW515101515"]);b.push(["Fleas2","R1,C2,S1-2,5,7,10-11,B2,4,8,11,NW515101515"]);b.push(["NoFleas2","R1,C2,S2-3,5-7,10-11,B2,4,8,11,NW515101515"]);b.push(["FroggyHex","R1,C2,S1,6,8,B5-6,NW410104041H"]);b.push(["Frost M","R1,C25,S,B1,NW111101111"]);b.push(["Frost N","R1,C25,S,B1,NW010101010"]);b.push(["Gnats","R1,C2,S0-2,11,19,B11,19,NW090109010001090109"]);b.push(["HexParity","R1,C2,S0,2,4,6,B1,3,5,NW110101011H"]);b.push(["Hextenders","R1,C10,S1,3-5,B2-3,NW110101011H"]);
b.push(["Hex Inverse Fire","R1,C2,S2-3,6-9,11-15,B5,10-11,14-15,NW410104041H"]);b.push(["HGlass","R1,C2,S1-3,11,21,25,29-31,B1-3,11,21,25,29-31,NW000200080110000400"]);b.push(["Hogs","R1,C2,S2-4,6,B5-6,NW023302230H"]);b.push(["Jitters","R1,C2,S4,14,B1,4,9,NW995505599"]);b.push(["Lemmings","R1,C2,S3-6,B4,NW121202131"]);b.push(["Linguini","R1,C2,S2-4,9-11,19-20,B11,18,NW090109010001090109"]);b.push(["Madness","R1,C2,S8,10,12,14,B5,8,13,NW232303232"]);b.push(["MazeMakers","R1,C2,S2-3,6-10,12-13,B5,NW441404141"]);
b.push(["MidgeDN","R1,C9,S0,2-3,B4-6,NW222101212"]);b.push(["Midges","R1,C4,S3,5-6,B4-6,NW121232121"]);b.push(["MikesAnts","R1,C2,S4-5,B2,5-6,NW011100111"]);b.push(["Mosquito","R1,C2,S3-4,8-9,B2-3,9,NW995505599"]);b.push(["Mosquito2","R1,C2,S3-4,8-9,B3,6,9,18,NW995505599"]);b.push(["Navaho1","R1,C12,S8-9,11,B2,5,NW414575414"]);b.push(["Nocturne","R1,C4,S1,6,B2-4,NW110101011"]);b.push(["Parity","R1,C2,S1,3,5,B1,3,5,NW010111010"]);b.push(["Pictures","R1,C2,S1-3,B2-4,NW010101010"]);b.push(["PicturesH",
"R1,C9,S1-3,B2-4,NW010101010"]);b.push(["Pinwheels","R1,C7,S2,B2-3,NW110101011"]);b.push(["PipeFleas","R1,C3,S3-4,7,11-15,17-18,20,22-23,B6,10,NW515101515"]);b.push(["PreHogs","R1,C2,S3-4,6,B5-6,NW230302023"]);b.push(["PuttPutt","R1,C2,S1-4,9,18,27,36,40,B2,4,11,18-19,36,40,NW090109010001090109"]);b.push(["SEmigration","R1,C2,S2-3,6-7,10-12,B7,11-12,16,NW515100505"]);b.push(["Simple","R1,C2,S1,5,B2,10,NW515101515"]);b.push(["Simple Inverse","R1,C2,S1,4-5,8-9,12-13,16-24,B2,9-10,13-14,17-18,21-22,24,NW515101515"]);
b.push(["Simple Inverse Fire","R1,C2,S1,5,9,13,17-19,21,23-24,B2,4,8-10,12-14,16-18,20-22,24,NW515101515"]);b.push(["Stampede","R1,C8,S4,6,9-10,B4,7,NW130303130"]);b.push(["Starburst","R1,C2,S2,4,6,B4,NW121202121"]);b.push(["Starbursts2","R1,C2,S2,4-6,B4,NW121202121"]);b.push(["Stream","R1,C2,S1,3-4,7-11,B5,7-8,10-11,NW010104041"]);b.push(["UpDown1","R1,C2,S2,4-6,9,12,16,20,B3,6,9,12,NW111404444"]);b.push(["UpDown2","R1,C2,S2-3,7,10-12,15,B3,7,11,15,NW151101555"]);b.push(["Upstream","R1,C10,S4,6,9-10,B4,7,NW130404130"]);
b.push(["Vineyard","R1,C2,S2,6,8-10,12-13,B5,NW141404040"]);b.push(["Vineyard2","R1,C2,S2,8-10,12-13,B5,NW141404040"]);b.push(["Weevils","R1,C2,S1-4,B5-6,14,NW331101133"]);b.push(["Weighted Brain","R1,C3,S3-4,7,B4-5,8,NW3323d3232"]);b.push(["Y_Chromosome","R1,C3,S2,B2,NW110101011"]);d.push("Weighted G");b.push(["Weighted Generations",""]);b.push(["WG Rule004","R1,C4,S6-11,B4,NW111101111,0201"]);b.push(["WG Rule012","R1,C6,S4-5,B5,NW111101111,021111"]);b.push(["WG Rule020","R1,C6,S5-8,B5,NW111101111,020301"]);
b.push(["WG Rule031","R1,C4,S5-7,B4,NW111101111,0210"]);b.push(["WG Rule038","R1,C5,S8,B6,9,NW111101111,03210"]);b.push(["WG Rule050","R1,C8,S4-8,B6,NW111101111,02120300"]);b.push(["WG Rule063","R1,C5,S6-7,9-11,B7,10,NW212101212,03101"]);b.push(["WG Rule071","R1,C6,S8-16,B6,NW111101111,031012"]);b.push(["WG Rule072","R1,C6,S8-16,B6,NW111101111,030112"]);b.push(["WG Rule074","R1,C5,S4-8,B3,NW111101111,02001"]);b.push(["WG Rule084","R1,C7,S5-6,B5,NW212101212,0121001"]);d.push("Alt OT M");b.push(["Alternating Outer-Totalistic Moore",
""]);b.push(["alternlife","B13/S012345678|B/S15"]);b.push(["comb395","B3/S1237|B2/S"]);b.push(["comb625","B3/S348|B2/S356"]);b.push(["Dotlesslife","B3/S23|B/S12345678"]);b.push(["Fizzler","B13/S3|B/S345678"]);b.push(["Jelly","B3/S135|B2/S5"]);b.push(["Phoenix","B24/S|B35/S"]);d.push("Alt INT M");b.push(["Alternating Non-Totalistic Moore",""]);b.push(["SparklessLife","B3/S23|B/S1c2345678"]);b.push(["Unidim1","B134578/S02345678|B6i7/S268"]);b.push(["Unidim2","B12ci34578/S02345678|B7/S268"]);b.push(["Unidim3",
"B12ci34578/S02345678|B6i7/S268"]);this.Jc[0][2]=!1;this.Jc[0][3]=!1;for(a=1;a<this.Jc.length;a+=1)for(b=this.Jc[a][1],d=this.Jc[a][0],this.Jc[a][2]=!1,this.Jc[a][3]=!1,c=0;c<a;c+=1)this.Jc[c][0]===d&&(this.Jc[c][3]=!0,this.Jc[a][3]=!0),this.Jc[c][1]===b&&(this.Jc[c][2]=!0,this.Jc[a][2]=!0)},sn:function(a){var c=null,b=0;for(a=a.replace(/&amp;/g,"&");b<this.Jc.length&&null===c;)""!==this.Jc[b][1]&&this.Jc[b][0]===a&&(c=this.Jc[b][1]),b+=1;if(!c)for(a=a.toLowerCase(),b=0;b<this.Jc.length&&null===c;)""!==
this.Jc[b][1]&&this.Jc[b][0].toLowerCase()===a&&(c=this.Jc[b][1]),b+=1;return c},rn:function(a){for(var c=null,b=0;b<this.Jc.length&&null===c;)""!==this.Jc[b][1]&&this.Jc[b][1]===a&&(c=this.Jc[b][0]),b+=1;"Conway's Life"===c&&(c="Life");return c}};qb.prototype.V=function(){var a=!1;if(""!==this.message||""!==this.i)a=!0;return a};qb.prototype.clear=function(a,c){a?""!==this.i&&(c||this.u?(this.i="",this.u=!1):(this.L=performance.now()-(this.D+this.I),this.u=!0)):""!==this.message&&(c||this.s?(this.s=
!1,this.message=""):(this.startTime=performance.now()-(this.M+this.P),this.s=!0))};qb.prototype.notify=function(a,c,b,d,f){this.U&&(f?this.i!==a&&(this.i=a,this.D=16*c,this.I=16*b,this.W=16*d,this.L=performance.now(),this.u=!1,this.l=0,this.A=!1):(this.message=a,this.M=16*c,this.P=16*b,this.Y=16*d,this.startTime=performance.now(),this.s=!1))};qb.prototype.ca=function(){var a=128>this.l?this.l/128:(255-this.l)/128;this.h.fillStyle="rgb("+(this.B.eb*a+this.B.Wb*(1-a))+","+(this.B.ab*a+this.B.Tb*(1-
a))+","+(this.B.$a*a+this.B.Sb*(1-a))+")"};qb.prototype.C=function(a,c,b){var d=this.h.measureText(a).width>>1;if(this.T){this.h.fillStyle=this.aa;var f=this.h.globalAlpha;this.h.globalAlpha=.5*f;this.h.fillRect(-d-20,-b,2*d+40,2*b);this.h.globalAlpha=f}this.h.fillStyle=this.X;this.h.fillText(a,-d+2,2);c?this.A?(this.ca(),this.l=this.l+4&255):this.h.fillStyle=this.v:this.h.fillStyle=this.m;this.h.fillText(a,-d,0)};qb.prototype.Z=function(a,c,b,d,f,e,g){var k=30*this.o,l=32*this.o,p=this.B.Ua,n=60*
this.o,q=!0;this.B.V?(n=0,e=this.h.canvas.height/2,this.T=!0):this.T=!1;""!==a&&(q=!1,f=performance.now()-f,this.h.save(),this.B.L&&(g?(n=0,e=this.h.canvas.height/2):(k/=p,l=l/p|0,e=e/p|0,n=n/p|0)),this.h.font=(k|0)+"px Arial",this.h.translate(this.h.canvas.width/2-1,n+e),f<=c?(e=f/c,e*=e,this.h.globalAlpha=e,this.h.scale(e,e)):f>c+b&&f<=c+b+d&&(e=(d-(f-(c+b)))/d,e*=e,this.h.globalAlpha=e,this.h.scale(e,e)),f>c+b+d?q=!0:(c=a.indexOf("\\n"),-1===c?this.C(a,g,l):(this.C(a.substring(0,c),g,l),this.h.translate(0,
l),this.C(a.substring(c+2),g,l))),this.h.restore());return q};qb.prototype.$=function(){var a=this.B.h.D;this.Z(this.message,this.M,this.P,this.Y,this.startTime,81*a,!1)&&(this.message="");this.B.L&&"Expand"!==this.i&&"Launch"!==this.i||!this.Z(this.i,this.D,this.I,this.W,this.L,45*a,!0)||(this.i="")};wb.prototype.T=function(a){this.s=a};wb.prototype.A=function(a,c,b,d){var f,e,g=this.u.length,k,l,p=this.P;if(0<this.v.width){this.ke||(this.width=this.v.width,this.height=this.v.height,this.i=document.createElement("canvas"),
this.i.width=this.width,this.i.height=this.height,this.l=this.i.getContext("2d"),this.C=new Image,this.D=new Image);if(this.o){this.l.clearRect(0,0,this.i.width,this.i.height);this.l.drawImage(this.v,0,0);var n=this.l.getImageData(0,0,this.i.width,this.i.height);var q=new Uint32Array(n.data.buffer);-1===p&&(p=4294901503);for(f=e=0;f<g;f+=1){for(l=38;1<l;--l){var m=e+l*this.width;var r=m-2-this.width-this.width;for(k=38;1<k;--k)0===q[m+k]&&4294967295===q[r+k]&&(q[m+k]=p)}e+=40}for(f=0;f<q.length;f+=
1)4294967295===q[f]&&(q[f]=this.L);this.l.putImageData(n,0,0);this.D.src=this.i.toDataURL("image/png");this.l.clearRect(0,0,this.i.width,this.i.height);this.l.drawImage(this.v,0,0);n=this.l.getImageData(0,0,this.i.width,this.i.height);q=new Uint32Array(n.data.buffer);for(f=e=0;f<g;f+=1){for(l=38;1<l;--l)for(m=e+l*this.width,r=m-2-this.width-this.width,k=38;1<k;--k)0===q[m+k]&&4294967295===q[r+k]&&(q[m+k]=p);e+=40}for(f=0;f<q.length;f+=1)4294967295===q[f]?q[f]=this.M:4285558896===q[f]&&(q[f]=this.I);
this.l.putImageData(n,0,0);this.ke=this.o=!1}this.ke||(this.C.src=this.i.toDataURL("image/png"),this.ke=!0);1!==this.s&&(this.m.save(),this.m.translate(c,b),this.m.scale(this.s,this.s),this.m.imageSmoothingEnabled=!0,b=c=0);d?this.m.drawImage(this.D,a.Gm*a.width,0,a.width,a.height,c,b,a.width,a.height):this.m.drawImage(this.C,a.Gm*a.width,0,a.width,a.height,c,b,a.width,a.height);1!==this.s&&(this.m.restore(),this.m.imageSmoothingEnabled=!1)}};wb.prototype.length=function(){return this.u.length};wb.prototype.h=
function(a){var c,b=this.u,d=this.length(),f=null;for(c=0;c<d&&!f;)b[c].name===a?f=b[c]:c+=1;return f};wb.prototype.add=function(a,c,b){var d=this.u.length;a=new mc(a,c,b,d);this.u[d]=a};var Q={wr:0,je:1,vertical:2,kl:0,button:1,Me:2,list:3,label:4,Vi:0,pb:1,left:0,Rw:1,right:2,Pa:0,Zb:1,Lo:2,zb:3,rl:4,ug:5,vv:6,Rc:7,bb:8};ab.prototype.o=function(a){!this.H&&a&&(this.H=!0)};ab.prototype.Db=function(a){this.fontSize=parseInt(a.substring(0,a.indexOf("px")),10);this.pa=a.substring(a.indexOf("px")+3)};
ab.prototype.va=function(a,c,b,d,f,e){this.A=a;this.Vb=c;this.Y=b;this.ka=d;this.D=f;this.W=e;if(this.type===Q.list)for(this.M=[],a=0;a<this.i.length;a+=1)this.M[a]=this.Vb};ab.prototype.gf=function(a){this.P=a};ab.prototype.ya=function(a){this.ma=a};ab.prototype.u=function(a){this.U=a};ab.prototype.setPosition=function(a,c,b){this.position=a;this.ja=c;this.U=b};ab.prototype.wa=function(a,c){var b=this.sa.s,d=this.sa.D,f=this.ja*b,e=this.U*d;b*=this.P;d*=this.ma;this.x=f;this.y=e;this.width=b;this.height=
d;switch(this.position){case Q.Pa:this.x=(a-b>>1)+f;break;case Q.Zb:this.x=a+f;break;case Q.Lo:this.y=(c-d>>1)+e;this.x=a+f;break;case Q.zb:this.x=a+f;this.y=c+e;break;case Q.rl:this.x=(a-b>>1)+f;this.y=c+e;break;case Q.ug:this.y=c+e;break;case Q.vv:this.y=(c-d>>1)+e;break;case Q.bb:this.x=(a-b>>1)+f,this.y=(c-d>>1)+e}};ab.prototype.ra=function(a,c){var b=this.ia;this.Z[b]=[a,c];this.ia=b+1};ab.prototype.ea=function(a){var c=[],b;var d=a.length;for(b=0;b<d;b+=1)a[b].ra(this,!0);d=c.length;for(b=0;b<
d;b+=1)c[b].ra(this,!1)};ab.prototype.xa=function(a,c){var b=!1;this.C&&a>=this.x&&a<this.x+this.width&&c>=this.y&&c<this.y+this.height&&(b=!0);return b};Za.prototype.Ka=function(a){this.D=this.s=a;this.S.notification.o=a};Za.prototype.Ba=function(a,c,b,d,f,e){var g;this.ea=a;this.Vb=c;this.fa=b;this.ia=d;this.ha=f;this.aa=e;for(g=0;g<this.u.length;g+=1)this.u[g].va(a,c,b,d,f,e)};Za.prototype.wa=function(a,c){var b=!1,d=a.ia;a.type===Q.list&&a.s===Q.pb?b=a.current[0]:b=a.current===a.s;if(b&&c)for(c=
0;c<d;c+=1)b=b&&this.wa(a.Z[c][0],a.Z[c][1]);return b};Za.prototype.ya=function(a){var c,b=a.ia;var d=!0;for(c=0;c<b;c+=1)d=d&&this.wa(a.Z[c][0],a.Z[c][1]);a.C=d};Za.prototype.ke=function(){var a;for(a=0;a<this.o;a+=1){var c=this.u[a];c.C=!0;switch(c.type){case Q.kl:c.Yb&&(c.current=c.Yb(c.current,!1,this.caller));break;case Q.list:c.Yb&&(c.current=c.Yb(c.current,!1,this.caller))}this.ya(c)}};Za.prototype.m=function(a,c,b,d,f,e,g,k,l){this.u[this.o]=new ab(this.o,a,this.caller,c,b,d,f,e,g,l,k,Q.list,
this.V,!0,"","",-1,[],this);this.o+=1;return this.u[this.o-1]};Za.prototype.I=function(a,c,b,d,f,e,g,k,l,p,n,q){this.u[this.o]=new ab(this.o,a,this.caller,c,b,d,f,e,g,k,l,Q.kl,this.V,!0,p,n,q,null,this);this.o+=1;return this.u[this.o-1]};Za.prototype.l=function(a,c,b,d,f,e){this.u[this.o]=new ab(this.o,null,null,a,c,b,d,f,0,0,0,Q.label,this.V,!0,e,"",-1,null,this);this.o+=1;return this.u[this.o-1]};Za.prototype.i=function(a,c,b,d,f,e){this.u[this.o]=new ab(this.o,a,this.caller,c,b,d,f,40,0,0,0,Q.button,
this.V,!0,e,"",-1,null,this);this.o+=1;return this.u[this.o-1]};Za.prototype.Ca=function(a){this.u[this.o]=new ab(this.o,null,null,a,0,-40,100,40,0,100,0,Q.Me,this.V,!1,"","",0,null,this);this.o+=1;return this.u[this.o-1]};Za.prototype.U=function(a,c){var b="";a+=String();if(""!==a){this.h.save();this.h.translate(c.x+c.width/2,c.y+c.height/2);this.h.font=(c.fontSize*this.s|0)+"px "+c.pa;c.V===Q.vertical&&this.h.rotate(.5*Math.PI);var d=this.h.measureText(a).width;var f=c.V===Q.vertical?c.height:c.width;
if(d>=f-6){var e=a.length;var g=0;if(e){do b=a.substring(0,g)+"\u2026",d=this.h.measureText(b).width,g+=1;while(g<e&&d<=f-10);b=a.substring(0,g-1)+"\u2026"}a=b}switch(c.l){case Q.left:var k=c.width/2-2;break;case Q.Rw:k=d/2;break;case Q.right:k=d/2-(c.width-d)/2+4}this.h.fillStyle=c.Vb;this.h.fillText(a,2-k+.5,2.5);this.h.fillStyle=!c.locked&&!this.locked||c.L?c.A:c.D;this.h.fillText(a,-k+.5,.5);this.h.restore()}};Za.prototype.Fa=function(a){this.h.globalAlpha=this.T;this.U(a.Cb,a)};Za.prototype.Da=
function(a){this.h.globalAlpha=this.T;this.U(a.Cb,a)};Za.prototype.Ia=function(a){var c=(a.current-a.i)/(a.s-a.i);this.h.globalAlpha=a.v;this.h.fillStyle=a.A;a.orientation===Q.je?(c*=a.width-3,this.h.fillRect(a.x+(c+1|0),a.y,1,a.height)):(c*=a.height-3,this.h.fillRect(a.x,a.y+(c+1|0),a.width,1));c=a.Cb;a.ua&&(c=-1!==a.aa?c+a.current.toFixed(a.aa):c+a.current,c+=a.ta);""!==c&&(this.h.globalAlpha=a.X,this.U(c,a))};Za.prototype.Ja=function(a,c){var b=(a.current[0]-a.i)/(a.s-a.i);var d=this.xa;a.orientation===
Q.je?(b*=a.width-3,b=b+1|0,c&&(this.h.fillStyle=a.Y,this.h.globalAlpha=a.ca,this.h.fillRect(a.x+b-d,a.y,d,a.height),this.h.fillRect(a.x+b+1,a.y,d,a.height)),!a.locked&&!this.locked||a.L?(this.h.fillStyle=a.A,this.h.globalAlpha=a.X):(this.h.fillStyle=a.D,this.h.globalAlpha=a.T),this.h.fillRect(a.x+b,a.y,1,a.height)):(b*=a.height-3,b=b+1|0,c&&(this.h.fillStyle=a.Y,this.h.globalAlpha=a.ca,this.h.fillRect(a.x,a.y+b-d,a.width,d),this.h.fillRect(a.x,a.y+b+1,a.width,d)),!a.locked&&!this.locked||a.L?(this.h.fillStyle=
a.A,this.h.globalAlpha=a.X):(this.h.fillStyle=a.D,this.h.globalAlpha=a.T),this.h.fillRect(a.x,a.y+b,a.width,1));c=a.Cb;a.ua&&(c=0<=a.aa?c+a.current[1].toFixed(a.aa):c+a.current[1]);c+=a.ta;""!==c&&(this.h.globalAlpha=this.T,this.U(c,a))};Za.prototype.Ha=function(a,c){var b=a.x;var d=a.y,f=a.width,e=a.height,g=a.orientation,k=a.current;var l=a.i;var p=l.length;var n=a.orientation===Q.je?f/p:e/p;this.h.globalAlpha=a.qa;this.h.fillStyle=a.ka;if(a.s===Q.Vi){var q=a.current;0<=q&&q<p&&(a.orientation===
Q.je?this.h.fillRect(b+q*n+1,d+1,n-2,e-2):this.h.fillRect(b+1,d+1+q*n,f-2,n-2))}else if(a.orientation===Q.je){for(q=0;q<p;q+=1)k[q]&&this.h.fillRect(b+q*n+1,d+1,n-2,e-2);1===p&&(!a.locked&&!this.locked||a.L?(this.h.strokeStyle=a.W,this.h.globalAlpha=a.$):(this.h.strokeStyle=a.D,this.h.globalAlpha=a.T),this.h.beginPath(),k[0]?(this.h.moveTo(b+n-6+.5,d+5.5),this.h.lineTo(b+n-2+.5,d+1.5),this.h.moveTo(b+n-2+.5,d+5.5),this.h.lineTo(b+n-6+.5,d+1.5)):(this.h.moveTo(b+n-4+.5,d+5.5),this.h.lineTo(b+n-4+.5,
d+1.5),this.h.moveTo(b+n-6+.5,d+3.5),this.h.lineTo(b+n-2+.5,d+3.5)),this.h.stroke())}else for(q=0;q<p;q+=1)k[q]&&this.h.fillRect(b+1,d+1+q*n,f-2,n-2);a.fa=!1;c?(this.h.globalAlpha=a.ca,this.h.fillStyle=a.Y,a.orientation===Q.je?(q=(this.v-b)/f*p|0,0<=q&&q<p&&(a.m[q]?a.fa=!0:this.h.fillRect(b+q*n+.5,d+.5,n-1,e-1))):(q=(this.C-d)/e*p|0,0<=q&&q<p&&(a.m[q]?a.fa=!0:this.h.fillRect(b+.5,d+.5+q*n,f-1,n-1))),a.I=q):a.I=-1;this.h.globalAlpha=this.T;if(a.orientation===Q.je)for(q=0;q<p;q+=1)a.h[q]&&this.X.A(a.h[q],
a.x+n*q,a.y,this.locked||a.locked||a.m[q]);else for(q=0;q<p;q+=1)a.h[q]&&this.X.A(a.h[q],a.x,a.y+n*q,this.locked||a.locked||a.m[q]);this.h.globalAlpha=a.X;this.h.fillStyle=a.A;if(g===Q.je)for(q=0;q<p;q+=1)b=l[q],""!==b&&(this.h.save(),this.h.translate((.5+(q-p/2))*n,0),this.U(b,a),this.h.restore());else for(q=0;q<p;q+=1)b=l[q],""!==b&&(this.h.save(),this.h.translate(0,(.5+(q-p/2))*n),this.U(b,a),this.h.restore())};Za.prototype.Ea=function(a,c,b,d,f){var e=!0;c&&!this.A&&f&&(e=!1);e&&(b===d||-1===
d&&c)&&a.type===Q.button?(this.h.fillStyle=a.Y,this.h.globalAlpha=a.ca):(this.h.fillStyle=a.Vb,this.h.globalAlpha=a.v);switch(a.type){case Q.Me:f=(a.current-a.i)/(a.s-a.i);this.h.fillStyle=a.ka;this.h.globalAlpha=a.qa;a.orientation===Q.je?(f*=a.width-3,f=f+1|0,this.h.fillRect(a.x,a.y,f,a.height),this.h.fillStyle=a.Vb,this.h.globalAlpha=a.v,this.h.fillRect(a.x+f,a.y,a.width-f,a.height)):(f*=a.height-3,f=f+1|0,this.h.fillRect(a.x,a.y,a.width,f),this.h.fillStyle=a.Vb,this.h.fillRect(a.x,a.y+f,a.width,
a.height-f));break;case Q.kl:f=(a.current[0]-a.i)/(a.s-a.i);if(e&&(b===d||-1===d&&c)){var g=this.xa;if(a.orientation===Q.je){f*=a.width-3;f=f+1|0;var k=f-g;0<k&&this.h.fillRect(a.x,a.y,k,a.height);k=1+f+g;k<a.width&&this.h.fillRect(a.x+k,a.y,a.width-k,a.height)}else f*=a.height-3,f=f+1|0,k=f-g,0<k&&this.h.fillRect(a.x,a.y,a.width,k),k=1+f+g,k<a.height&&this.h.fillRect(a.x,a.y+k,a.width,a.height-k)}else this.h.fillRect(a.x,a.y,a.width,a.height);break;case Q.list:g=a.i.length;if(a.orientation===Q.je)for(k=
a.width/g,f=0;f<g;f+=1)this.h.fillStyle=a.M[f],this.h.fillRect(a.x+f*k+1,a.y+1,k-2,a.height-2);else for(k=a.height/g,f=0;f<g;f+=1)this.h.fillStyle=a.M[f],this.h.fillRect(a.x+1,a.y+1+f*k,a.width-2,k-2);break;default:this.h.fillRect(a.x,a.y,a.width,a.height)}a.type!==Q.list&&a.h&&(this.h.globalAlpha=a.X,this.X.A(a.h,a.x,a.y,this.locked||a.locked));if(0<a.border)switch(!a.locked&&!this.locked||a.L?(this.h.strokeStyle=a.W,this.h.globalAlpha=a.$):(this.h.strokeStyle=a.D,this.h.globalAlpha=a.T),this.h.lineWidth=
a.border,a.type){case Q.label:break;case Q.list:g=a.i.length;if(a.orientation===Q.je)for(k=a.width/g,f=0;f<g;f+=1)this.locked||a.locked||a.m[f]?(this.h.strokeStyle=a.D,this.h.globalAlpha=a.T):(this.h.strokeStyle=a.W,this.h.globalAlpha=a.$),this.h.strokeRect(a.x+.5+f*k,a.y+.5,k-1,a.height-1);else for(k=a.height/g,f=0;f<g;f+=1)this.locked||a.locked||a.m[f]?(this.h.strokeStyle=a.D,this.h.globalAlpha=a.T):(this.h.strokeStyle=a.W,this.h.globalAlpha=a.$),this.h.strokeRect(a.x+.5,a.y+.5+f*k,a.width-1,k-
1);break;default:this.h.strokeRect(a.x+.5,a.y+.5,a.width-1,a.height-1)}switch(a.type){case Q.button:this.Da(a);break;case Q.label:this.Fa(a);break;case Q.kl:this.Ja(a,e&&(b===d||-1===d&&c));break;case Q.Me:this.Ia(a);break;case Q.list:this.Ha(a,e&&(b===d||-1===d&&c))}if(b===d)switch(a.type){case Q.kl:e=this.C,a.orientation===Q.vertical?(e<a.y?e=a.y:e>a.y+a.height-1&&(e=a.y+a.height-1),f=(e-a.y)/(a.height-1)*(a.s-a.i)+a.i):(e=this.v,e<a.x?e=a.x:e>a.x+a.width-1&&(e=a.x+a.width-1),f=(e-a.x)/(a.width-
1)*(a.s-a.i)+a.i),a.i<a.s?(f<a.i&&(f=a.i),f>a.s&&(f=a.s)):(f<a.s&&(f=a.s),f>a.i&&(f=a.i)),a.current[0]=f,a.Yb&&(a.current=a.Yb(a.current,!0,a.caller))}if(c&&!this.A&&a.ha)switch(a.type){case Q.button:a.Yb&&a.Yb(a.caller);break;case Q.list:g=a.i.length,k=a.orientation===Q.je?(this.v-a.x)/a.width*g|0:(this.C-a.y)/a.height*g|0,a.s===Q.Vi?a.m[k]||(a.Yb?a.current=a.Yb(k,!0,a.caller):a.current=k):a.m[k]||(a.current[k]=!a.current[k],a.Yb&&a.Yb(a.current,!0,a.caller))}c&&b===d?(a.ha=this.A,a.la=this.v,a.na=
this.C):(a.ha=!1,a.la=-1,a.na=-1)};Za.prototype.Z=function(a){this.ta=a};Za.prototype.za=function(){var a,c=!1,b=this.h.canvas.width,d=this.h.canvas.height,f=-1;var e=!1;this.M=-1;if(this.H)this.A?-2!==this.L?(this.ua=this.v,this.va=this.C,this.la=this.v,this.na=this.C,this.L=-2):this.P&&!this.locked&&this.P(this.v,this.C,this.A,this.caller):(-2===this.L&&(this.P&&!this.locked&&this.P(this.v,this.C,this.A,this.caller),this.v===this.ua&&this.C===this.va&&this.ma&&(this.S.Z?this.S.Z=!1:this.ma(this.v,
this.C,this.A,this.caller))),this.A||(this.L=-1));else{var g=this.L;this.h.textAlign="left";for(a=0;a<this.o;a+=1){var k=this.u[a];if(!k.H){k.wa(b,d);var l=!1;k.xa(this.v,this.C)&&(f=a,!k.locked&&!this.locked||k.L?l=!0:c=!0);l&&!this.A&&(this.M=a);(this.A&&-1===g&&l||l&&this.ca)&&k.type!==Q.label&&(g=a,this.ca&&(k.ha=!0));a!==g||!k.locked&&!this.locked||k.L||(g=-1,l=!1);k.C&&this.Ea(k,l,a,g,this.S.o)}}0<=g&&!this.A&&(e=!0);this.A&&-1===g&&!c&&(g=-2);-2===g&&this.P&&!this.locked&&this.P(this.v,this.C,
this.A,this.caller);this.A||(g=-1);this.L=g;this.h.globalAlpha=1}this.ja=0<=f&&!this.u[f].locked?this.u[f].type===Q.kl?this.u[f].orientation===Q.wr||this.u[f].orientation===Q.je?"ew-resize":"ns-resize":"auto":this.ta;return e};Pa.prototype.kb=function(){this.m.fillStyle=this.u;var a=this.m.fillStyle;this.eb=Number("0x"+a.substring(1,3));this.ab=Number("0x"+a.substring(3,5));this.$a=Number("0x"+a.substring(5,7));this.m.fillStyle=this.wa;a=this.m.fillStyle;this.Wb=Number("0x"+a.substring(1,3));this.Tb=
Number("0x"+a.substring(3,5));this.Sb=Number("0x"+a.substring(5,7))};Pa.prototype.ib=function(){this.ea=[];this.W=this.aa=0};Pa.prototype.Eb=function(){var a=0;0<this.W&&(a=this.aa/this.W);this.ea[this.ea.length]=a;this.W=this.aa=0};Pa.prototype.Nb=function(a){var c=-1;0<=a&&a<this.ea.length&&(c=this.ea[a]);return c};Pa.prototype.xb=function(a,c,b,d,f,e,g){this.u=a;this.Vb=c;this.Ra=b;this.wa=d;this.T=f;this.sa=e;this.Ca=g;this.h&&this.h.Ba(a,c,b,d,f,e);this.notification.m=a;this.notification.v=a;
this.kb();this.notification.X=c;this.m.fillStyle=c;this.Ba=this.m.fillStyle};Pa.prototype.Lb=function(a,c,b){a=new Za(this,a,c,b,this.m,this.ja);a.ea=this.u;a.T=this.qb;a.Vb=this.Vb;a.$=this.ra;a.fa=this.Ra;a.qa=this.sb;a.ia=this.wa;a.sa=this.vb;a.ha=this.T;a.ra=this.ub;a.aa=this.sa;a.pa=this.Qa;a.border=this.border;return a};Pa.prototype.Ob=function(){var a=this.h,c=a.s,b=this.m,d="";var f=1;if(-1!==a.L||-1===a.L&&-1===a.M)this.ha=a.L;if(-1===a.M||-1!==this.ha&&this.ha===a.M){if(-1!==a.M){var e=
a.u[a.M];e.id===this.pa&&e.I!==this.ia&&(this.ha=-1)}50>this.s&&(this.s+=1)}else{e=a.u[a.M];e.id!==this.pa||e.id===this.pa&&e.I!==this.ia?(this.pa=e.id,this.ia=e.I,50>this.s&&(this.s+=1)):0<=this.s&&--this.s;-1!==this.ia?a=e.R[this.ia]:Array.isArray(e.R)?a="":(a=e.R,null===a&&(a=""));var g=a.indexOf("\n");if(""!==a&&-1===this.s&&!e.fa){this.ha=-1;var k=e.x;var l=e.y;var p=e.width;var n=e.height;-1!==e.I&&(e.orientation===Q.je?(k+=p/e.i.length*e.I,p/=e.i.length):(l+=n/e.i.length*e.I,n/=e.i.length));
var q=18*c;b.font=(q|0)+"px Arial";var m=4*c;var r=b.measureText(a).width;c=Math.round(k+p/2);l=Math.round(l+n/2);c-=r/2;c<m+1?c=m+1:c+r+m>b.canvas.width&&(c=b.canvas.width-r-m-1);n>p?(-1!==this.Ia&&p<this.Ia&&(p=this.Ia),c=c>b.canvas.width/2?k-r-p/2:k+e.width+p/2):(-1!==this.Ja&&n<this.Ja&&(n=this.Ja),l=l>b.canvas.height/2?l-n:l+n);if(r>b.canvas.width){d=(r>>1)+q+m;d>b.canvas.width&&(d=b.canvas.width);for(f=1;b.measureText(a.substring(0,f)).width<d;)f+=1;for(g=f-1;g>f-5;)d=a[g]," "===d||","===d||
"/"===d||"|"===d?(f=g+2,g=f-5):--g;d=a.substring(f-1);a=a.substring(0,f-1);r=b.measureText(a).width;f=b.measureText(d).width;f>r&&(r=f);f=2}else-1!==g&&(d=a.substring(g+1),f=b.measureText(d).width,a=a.substring(0,g),r=b.measureText(a).width,f>r&&(r=f),f=2);g=q*f+2*m;2===f&&l>b.canvas.height/2&&(l-=q+m,g+=m);b.globalAlpha=this.ra;b.fillStyle=this.Vb;b.fillRect((c-m|0)-.5,(l-q/2-m|0)-.5,r+2+2*m,g);b.globalAlpha=this.Qa;b.strokeStyle=this.sa;b.strokeRect((c-m|0)-.5,(l-q/2-m|0)-.5,r+2+2*m,g);b.globalAlpha=
this.ra;b.strokeStyle=this.Vb;b.beginPath();b.moveTo((c-m|0)+.5,(l-q/2-m|0)+.5+g);b.lineTo((c-m|0)+.5+r+2+2*m,(l-q/2-m|0)+.5+g);b.lineTo((c-m|0)+.5+r+2+2*m,(l-q/2-m|0)+.5);b.stroke();b.globalAlpha=1;b.fillStyle=this.Vb;b.fillText(a,c+2,l+2);""!==d&&b.fillText(d,c+2,l+q+m+2);b.fillStyle=this.u;f=a.indexOf("[");g=a.lastIndexOf("]");-1!==f&&-1!==g?(e=a.substring(0,f+1),r=b.measureText(e).width,b.fillText(e,c,l),b.fillStyle=this.Ca,e=a.substring(f+1,g),b.fillText(e,c+r,l),b.fillStyle=this.u,e=a.substring(g),
r=b.measureText(a.substring(0,g)).width,b.fillText(e,c+r,l)):b.fillText(a,c,l);""!==d&&(f=d.indexOf("["),g=d.lastIndexOf("]"),-1!==f&&-1!==g?(e=d.substring(0,f+1),r=b.measureText(e).width,b.fillText(e,c,l+q+m),b.fillStyle=this.Ca,e=d.substring(f+1,g),b.fillText(e,c+r,l+q+m),b.fillStyle=this.u,e=d.substring(g),r=b.measureText(d.substring(0,g)).width,b.fillText(e,c+r,l+q+m)):b.fillText(d,c,l+q+m))}}};Pa.prototype.Rb=function(a){var c,b,d,f=a.m,e=90,g=1,k=1;a.L&&(e=0);a.qa=!1;a.Ma=!0;a.$&&(a.h=a.$,a.$=
null,f.font=a.ja,a.h.ke(),a.h.Y&&a.h.Y(a.h.caller));a.h&&(g=a.h.s,k=a.h.D);var l=f.canvas.width-86*g;e*=k;var p=performance.now();a.Da&&(a.va=p-1E3/a.ka);a.Y||a.notification.V()||a.C||50!==a.s&&-1!==a.s?(a.ca(a),a.C&&--a.C,a.Da=!1):a.Da=!0;var n=p-a.va;a.va=p;a.h.Yb&&a.h.Yb(n,a.h.caller);p=performance.now()-p;var q=performance.now();a.wb();a.ta=!1;a.Ob();a.notification.$();q=performance.now()-q;a.Ea[a.fa]=q;for(d=c=0;5>d;d+=1)c+=a.Ea[d];c/=5;a.Ha[a.fa]=p;for(d=b=0;5>d;d+=1)b+=a.Ha[d];b/=5;a.ua[a.fa]=
n;for(d=n=0;5>d;d+=1)n+=a.ua[d];a.fa=(a.fa+1)%5;d=1E3/(n/5);d>a.ka&&(d=a.ka);this.aa+=1E3/(p+q);this.W+=1;a.v&&(f.font=(12*g|0)+"px Arial",f.globalAlpha=.7,f.fillStyle=a.Vb,a.A?f.fillRect(l,e,88*g|0,83*k|0):f.fillRect(l,e,88*g|0,20*k|0),q=(b+c)/16.666666,1<q&&(q=1),f.fillStyle=.5>q?"rgb("+(510*q|0)+",255,0)":"rgb(255,"+(255*(1-2*(q-.5))|0)+",0)",f.fillRect(l,e,88*q*g|0,20*k|0),c=c.toFixed(1),b=b.toFixed(1),p=4>d.toFixed(1).length?d.toFixed(1):String(d|0),f.globalAlpha=1,f.fillStyle=a.Vb,d=p+"fps",
n=f.measureText(d).width,f.fillText(d,l+36*g-n,e+12*k),d=(100*q|0)+"%",n=f.measureText(d).width,f.fillText(d,l+84*g-n,e+12*k),a.A&&(f.fillText("menu",l+6*g,e+28*k),f.fillText("work",l+6*g,e+44*k),f.fillText("update",l+6*g,e+60*k),f.fillText("focus",l+6*g,e+76*k),d=c+"ms",n=f.measureText(d).width,f.fillText(d,l+84*g-n,e+28*k),d=b+"ms",n=f.measureText(d).width,f.fillText(d,l+84*g-n,e+44*k),d=a.Y?"on":"off",n=f.measureText(d).width,f.fillText(d,l+84*g-n,e+60*k),d=a.l?"on":"off",n=f.measureText(d).width,
f.fillText(d,l+84*g-n,e+76*k)),f.fillStyle=a.u,d=p+"fps",n=f.measureText(d).width,f.fillText(d,l+34*g-n,e+10*k),d=(100*q|0)+"%",n=f.measureText(d).width,f.fillText(d,l+82*g-n,e+10*k),a.A&&(f.fillText("menu",l+4*g,e+26*k),f.fillText("work",l+4*g,e+42*k),f.fillText("update",l+4*g,e+58*k),f.fillText("focus",l+4*g,e+74*k),d=c+"ms",n=f.measureText(d).width,f.fillText(d,l+82*g-n,e+26*k),d=b+"ms",n=f.measureText(d).width,f.fillText(d,l+82*g-n,e+42*k),d=a.Y?"on":"off",n=f.measureText(d).width,f.fillText(d,
l+82*g-n,e+58*k),d=a.l?"on":"off",n=f.measureText(d).width,f.fillText(d,l+82*g-n,e+74*k)),f.globalAlpha=1);a.h.ja!==a.h.ka&&(a.h.ka=a.h.ja,a.U.style.cursor=a.h.ka);a.Ka=!0};Pa.prototype.Ab=function(a){a.X=this.tb;this.h?this.$=a:(this.$=null,this.h=a,this.m.font=this.ja,this.h.ke(),this.h.Y&&this.h.Y(this.h.caller),this.ca(this))};Pa.prototype.wb=function(){var a;if(this.h){var c=this.h;this.m.font=this.ja;c.v=this.D;c.C=this.I;c.A=this.X;c.ca=this.ta;if(c.za()||this.i){for(a=0;a<c.o;a+=1){var b=
c.u[a];c.ya(b)}this.i=!1}}};Pa.prototype.ca=function(a){a.qa||(requestAnimationFrame?requestAnimationFrame(a.Ya):setTimeout(a.Ya,16),a.qa=!0)};Pa.prototype.ya=function(a,c){for(var b=null,d=0;null===b&&d<a.length;)a[d].identifier===c?b=a[d]:d+=1;return b};Pa.prototype.na=function(a,c){var b=c.changedTouches;switch(c.type){case "touchstart":-1===a.P&&(b=b[0],a.P=b.identifier,a.Va(a,b.pageX,b.pageY));break;case "touchend":b=a.ya(b,a.P);null!==b&&(a.Xa(a,b.pageX,b.pageY),a.P=-1);break;case "touchmove":b=
a.ya(b,a.P);null!==b&&a.Wa(a,b.pageX,b.pageY);break;case "touchcancel":b=a.ya(b,a.P),null!==b&&a.gb(a)}a.o=!0;c.stopPropagation&&c.stopPropagation();c.cancelable&&c.preventDefault()};Pa.prototype.Va=function(a,c,b){a.za(a,c,b);a.X=!0;a.Ma=!1};Pa.prototype.Xa=function(a,c,b){a.Fa=performance.now();a.za(a,c,b);a.X=!1;a.Ma||(a.ta=!0);0<=a.D&&a.D<a.U.width&&0<=a.I&&a.I<a.U.height?a.l||(a.o||a.U.focus(),a.l=!0,a.notification.clear(!0,!1),a.fb&&a.fb(a.caller)):a.o&&a.notification.clear(!0,!1)};Pa.prototype.Wa=
function(a,c,b){a.Za(a);a.za(a,c,b)};Pa.prototype.Qb=function(a){a.Za(a)};Pa.prototype.gb=function(a){1<performance.now()-a.Fa&&(a.l||a.notification.clear(!0,!1),a.U.blur(),a.l=!1,a.X=!1,a.D=-1,a.I=-1,a.Z=!1,a.qa||(a.ca(a),a.C<a.ma&&(a.C=a.ma)))};Pa.prototype.Fb=function(a,c){if(!a.M){if(c.pageX||c.pageY){var b=c.pageX;var d=c.pageY}else b=c.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=c.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.Va(a,b,d);c.stopPropagation&&
c.stopPropagation();c.preventDefault();a.o=!1}};Pa.prototype.Jb=function(a,c){a.Fa=performance.now();if(!a.M){if(c.pageX||c.pageY){var b=c.pageX;var d=c.pageY}else b=c.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=c.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.Xa(a,b,d);c.stopPropagation&&c.stopPropagation();c.preventDefault();a.o=!1}};Pa.prototype.Za=function(a){a.l||a.Z&&""!==a.notification.i||(a.V?a.Sa||a.notification.notify("Copy",15,3600,15,!0):
a.L?a.la?a.notification.notify("Launch",15,3600,15,!0):a.notification.notify("Expand",15,3600,15,!0):a.notification.notify("Click to control",15,3600,15,!0),a.notification.A=!0,a.Z=!0)};Pa.prototype.Gb=function(a,c){if(!a.M){if(c.pageX||c.pageY){var b=c.pageX;var d=c.pageY}else b=c.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=c.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.Wa(a,b,d);c.stopPropagation&&c.stopPropagation();c.preventDefault();a.o=!1}};
Pa.prototype.Ib=function(a,c){a.M||(a.Qb(a),c.stopPropagation&&c.stopPropagation(),c.preventDefault(),a.o=!1)};Pa.prototype.Hb=function(a,c){a.M||(a.gb(a),c.stopPropagation&&c.stopPropagation(),c.preventDefault(),a.o=!1)};Pa.prototype.za=function(a,c,b){var d=this.U.getBoundingClientRect();window.scrollX?(c-=d.left+window.scrollX,b-=d.top+window.scrollY):(c-=d.left+window.pageXOffset,b-=d.top+window.pageYOffset);c/=a.xa;b/=a.xa;a.D=c-1|0;a.I=b-1|0;a.ca(a);a.C<a.ma&&(a.C=a.ma)};Pa.prototype.Ne=function(a){!a&&
!this.notification.V()||this.Y||this.ca(this);this.Y=a};var bb={rules:[],fp:[],ll:[],Go:[],yB:function(a,c,b,d,f){var e,g=this.ll.length,k=!1,l=a.h.toLowerCase();l=l.replace(/ /g,"_");for(e=0;e<g&&!k;){var p=this.ll[e];p.name===l?(k=!0,p.pattern[p.pattern.length]=a,p.On[p.On.length]=c,p.qn[p.qn.length]=b,p.qo[p.qo.length]=d,p.view[p.view.length]=f):e+=1}k||(this.ll[g]={name:l,pattern:[a],On:[c],qn:[b],qo:[d],view:[f]});return k},eC:function(a){var c=0,b=this.Go.length,d=!1,f="";a=a.toLowerCase();
for(a=a.replace(/ /g,"_");c<b&&!d;)this.Go[c].name===a?(d=!0,f=this.Go[c].definition):c+=1;return f},ZD:function(a){var c,b=this.ll.length,d=!1,f=a.h.toLowerCase();f=f.replace(/ /g,"_");for(a=0;a<b&&!d;){var e=this.ll[a];if(e.name===f)for(d=!0,e.name="",c=0;c<e.On.length;c+=1)null!==e.On[c]&&(this.Xx(e.pattern[c]),e.pattern[c].S.O="",e.pattern[c].S.Oa=!0,e.pattern[c].S.Ci=!1,e.On[c](e.pattern[c],e.qo[c],e.view[c]));else a+=1}},Hp:function(a){var c,b=this.ll.length,d=!1,f=a.h.toLowerCase();f=f.replace(/ /g,
"_");for(a=0;a<b&&!d;){var e=this.ll[a];if(e.name===f)for(d=!0,e.name="",c=0;c<e.qn.length;c+=1)null!==e.qn[c]&&(e.pattern[c].Ga=e.pattern[c].Bz,e.qn[c](e.pattern[c],e.qo[c],e.view[c]));else a+=1}},add:function(a,c,b,d,f,e){var g,k=this.rules.length,l=!1,p=a.h.toLowerCase();p=p.replace(/ /g,"_");for(g=0;g<k&&!l;)this.rules[g].name===p?l=!0:g+=1;l||(this.rules[k]=null===a.qa?{name:p,Qx:!0,Hu:a.ra,xD:a.Ya,AD:a.eb,IB:a.Xa,qE:a.Va,rE:a.Wa,mn:a.Da,vn:a.wa,names:a.Sa,ga:a.vb,Mw:e}:{name:p,Qx:!1,Hu:a.xa,
al:a.Qa,NB:a.Ha,Im:a.qa,AA:a.Ia,mn:a.Da,VB:a.ab,vn:a.wa,names:a.Sa,Mw:e},this.fp[k]={fetch:c|0,decode:b|0,size:d},this.Go[k]={name:p,definition:f},this.ZD(a))},Xx:function(a){var c,b=this.rules.length,d=null,f=!1,e=a.h.toLowerCase();e=e.replace(/ /g,"_");for(c=0;c<b&&!f;)this.rules[c].name===e?(f=!0,d=this.rules[c]):c+=1;f&&(a.qa=null,d.Qx?(a.ra=d.Hu,a.Ya=d.xD,a.eb=d.AD,a.Xa=d.IB,a.Va=d.qE,a.Wa=d.rE,a.ga=d.ga):(a.xa=d.Hu,a.Qa=d.al,a.Ha=d.NB,a.qa=d.Im,a.Ia=d.AA,a.ab=d.VB,a.ga=a.Qa===Oa.Ti?!0:!1),a.Da=
d.mn,a.wa=d.vn,a.Sa=d.names,a.Z=!1,a.S.v=d.Mw);return f}},Oa={Um:0,Sm:1,Ti:2,Tm:3,wu:-1,sE:0,tE:1,uE:2,wE:3,vE:["circles","diamonds","hexagons","triangles"]};mb.prototype.Ib=function(){var a=!1;this.Ga&&0!==this.L[0]&&(a=!0);return a};mb.prototype.qb=function(a){var c="";if(this.ua!==a||this.va!==a)this.ua!==a&&(c+="C"+this.ua),this.va!==a&&(c+="E"+this.va);return c};mb.prototype.Hb=function(a){this.Ea=a.Ea;this.h=a.h;this.aa=a.aa;this.la=a.la;this.Z=a.Z;this.ca=a.ca;this.ga=a.ga;this.na=a.na;this.o=
a.o;this.ya=a.ya;this.Fa=a.Fa;this.V=a.V;this.ma=a.ma;this.ha=a.ha;this.I=a.I;this.v=a.v;this.ja=a.ja;this.ta=a.ta;this.M=a.M;this.X=a.X;this.U=a.U;this.$=a.$;this.Ga=a.Ga;this.D=a.D;this.m=a.m;this.i=a.i;this.A=a.A;this.Y=a.Y;this.ka=a.ka;this.fa=a.fa;a.T&&(this.T=new Uint8Array(a.T.length),this.T.set(a.T));a.L&&(this.L=new Uint8Array(a.L.length),this.L.set(a.L))};mb.prototype.Gb=function(a,c){a.T&&(this.Ka=c.h(na.La,a.T.length,"HROT.altSurvivals"),this.Ka.set(a.T));a.L&&(this.Ja=c.h(na.La,a.L.length,
"HROT.altBirths"),this.Ja.set(a.L));this.Eb=a.M;this.Ab=a.X;this.xb=a.U;this.wb=a.$};mb.prototype.Lb=function(){this.ca=this.h=this.Ea="";this.ga=this.Z=this.la=this.aa=!1;this.na=this.S.ma;this.o=!1;this.Fa=this.ya=0;this.V=this.S.aa;this.ma=-1;this.I=this.ha=!1;this.ja=this.v=-1;this.Ga=!1;this.i=this.m=this.D=-1;this.A=2};mb.prototype.Jb=function(a){return this.I!==a.I||this.Ga!==a.Ga?"Alternate is different rule family":(-1===this.i?this.A:this.i)!==(-1===a.i?a.A:a.i)?"Alternate has different number of states":
this.la!==a.la||this.aa!==a.aa||this.ga!==a.ga||this.na!==a.na||this.o!==a.o||this.V!==a.V||this.ha!==a.ha||-1===this.ma&&-1!==a.ma||-1!==this.ma&&-1===a.ma||this.ja!==a.ja||this.m!==a.m?"Alternate has different neighborhood":this.v!==a.v||this.D!==a.D?"Alternate has different range":this.Z||a.Z?"Alternate can not use none":this.Y!==a.Y||this.ka!==a.ka||this.fa!==a.fa?"Alternate has different neighbourhood":""};Fa.prototype.Vc=function(a,c,b){var d,f,e=0,g=0,k=0,l=!1;var p=c.length;for(d=f=0;d<p;){var n=
c[d];d+=1;switch(f){case 0:switch(n){case "!":f=1;a.C+="#C ";var q=!0;break;case "O":case "o":case "*":case ".":f=2;g=e=k=0;var m=--d}break;case 1:"\r"!==n&&"\n"!==n&&(" "===n?q||(a.title+=n,a.C+=n):(q=!1,a.title+=n,a.C+=n));"\n"===n&&(f=0,a.C+=n,a.title+=" ");break;case 2:switch(n){case "O":case "o":case "*":case ".":g+=1;break;case "\n":k+=1;g>e&&(e=g);g=0;break;case " ":case "\t":break;default:d=p,l=!0}}}if(!l){2===f&&"\n"!==n&&(k+=1,g>e&&(e=g));a.height=k;a.width=e;a.Ua="Cells";a.W=Array.matrix(na.Aa,
a.height,(a.width-1>>4)+1,0,b,"Pattern.lifeMap");d=m;for(f=e=0;d<p;)switch(n=c[d],d+=1,n){case "\n":e+=1;f=0;break;case "O":case "o":case "*":a.W[e][f>>4]|=1<<(~f&15);f+=1;break;case ".":f+=1}this.Oa=!0;this.va(a,"",b)}};Fa.prototype.Tc=function(a,c,b){var d,f;var e=c.length;var g=[];var k=0;var l=!1;var p=f=0;var n=!1;for(d=10;d<e;){var q=c[d];d+=1;switch(q){case "\n":n&&(n=!1,2===m&&l&&(p=-p,l=!1),g[k]=[f,p],k+=1);var m=p=f=0;break;case "-":l=!0;0===m?m=1:1===m&&(m=2);break;case " ":1===m&&(l&&
(f=-f,l=!1),m=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===m&&(m=1),1===m?f=10*f+parseInt(q,10):(p=10*p+parseInt(q,10),n=!0)}}n&&(2===m&&l&&(p=-p),g[k]=[f,p],k+=1);if(k){e=c=g[0][0];m=q=g[0][1];for(d=1;d<k;d+=1)f=g[d][0],p=g[d][1],f<c&&(c=f),f>e&&(e=f),p<q&&(q=p),p>m&&(m=p);a.height=m-q+1;a.width=e-c+1;a.W=Array.matrix(na.Aa,a.height,(a.width-1>>4)+1,0,b,"Pattern.lifeMap");a.Ua="Life 1.06";this.va(a,"",b);for(d=0;d<k;d+=1)f=g[d][0]-c,p=g[d][1]-
q,a.W[p][f>>4]|=1<<(~f&15)}};Fa.prototype.Nb=function(a,c,b,d){var f,e,g=[],k=0,l=c.length;var p="";var n=!1;var q=0,m=0,r=!1,u=!1,t=0,v=0;b=b?10:0;for(this.Oa=!0;b<l&&!u;){var x=c[b];b+=1;switch(q){case 0:switch(x){case "#":q=2;break;case "*":case ".":q=3;var w=e=f=0;var A=--b}break;case 2:switch(x){case "C":case "D":q=1;a.C+="#C ";var C=!0;break;case "N":q=0;break;case "R":q=4;break;case "P":q=5;m=0;r=!1;v=t=0;break;case "\n":q=0;break;default:q=1,C=!0}break;case 1:"\r"!==x&&"\n"!==x&&(" "===x?
C||(a.title+=x,a.C+=x):(C=!1,a.title+=x,a.C+=x));"\n"===x&&(q=0,a.title+=" ",a.C+=x);break;case 4:"\n"===x?q=0:(p+=x,n=!0);break;case 5:switch(x){case "\n":q=0;2===m&&r&&(v=-v,r=!1);break;case "-":r=!0;0===m?m=1:1===m&&(m=2);break;case " ":1===m&&(r&&(t=-t,r=!1),m=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===m&&(m=1),1===m?t=10*t+parseInt(x,10):v=10*v+parseInt(x,10)}break;case 3:switch(x){case "\n":f>e&&(e=f);f=0;w+=1;break;case "#":g[k]=new ac(t,
v,e,w,A,b-1);k+=1;q=2;break;case "*":case ".":f+=1;break;case " ":case "\t":break;default:u=!0}}}"\n"!==x&&(w+=1);3===q&&(g[k]=new ac(t,v,e,w,A,b-1),k+=1);if(k&&!u){t=g[0].Ym;v=g[0].Zm;x=t+g[0].width-1;f=v+g[0].height-1;for(b=1;b<k;b+=1)g[b].Ym<t&&(t=g[b].Ym),g[b].Zm<v&&(v=g[b].Zm),g[b].Ym+g[b].width-1>x&&(x=g[b].Ym+g[b].width-1),g[b].Zm+g[b].height-1>f&&(f=g[b].Zm+g[b].height-1);a.height=f-v+1;a.width=x-t+1;a.W=Array.matrix(na.Aa,a.height,(a.width-1>>4)+1,0,d,"Pattern.lifeMap");a.Ua="Life 1.05";
a.ia=Array.matrix(na.La,a.height,a.width,0,d,"Pattern.multiStateMap");n?(this.Sb(a,p,!1,d),this.Oa?0<=a.i||a.s||(a.ia=null):(a.i=-1,a.s=!1,a.u=!1)):this.va(a,"",d);for(b=0;b<k;b+=1)for(d=g[b].LE,p=g[b].WB,f=g[b].Ym-t,x=g[b].Zm-v,n=f,e=x;d<=p;)switch(x=c[d],d+=1,x){case "\n":e+=1;n=f;break;case "*":a.W[e][n>>4]|=1<<(~n&15);a.ia&&(a.ia[e][n]=1);n+=1;break;default:n+=1}}};Fa.prototype.$=function(a,c,b,d){var f=0,e,g,k;b&&(f=4);for(g=0;8192>g;g+=8)for(k=0;4>k;k+=1){b=0;for(e=g+k&d;0<e;)b+=e&1,e>>=1;c===
b&&(a[g+k+f]=1)}};Fa.prototype.za=function(a,c,b,d){var f=0,e,g,k;b&&(f=16);for(g=0;512>g;g+=32)for(k=0;16>k;k+=1){b=0;for(e=g+k&d;0<e;)b+=e&1,e>>=1;c===b&&(a[g+k+f]=1)}};Fa.prototype.wd=function(a){return(a&7)<<6|(a&448)>>6|a&56};Fa.prototype.nc=function(a){return(a&4)<<6|(a&32)<<2|(a&256)>>2|(a&2)<<4|a&16|(a&128)>>4|(a&1)<<2|(a&8)>>2|(a&64)>>6};Fa.prototype.Sd=function(a,c,b){var d;for(d=0;4>d;d+=1)a[c]=b,c=this.nc(c);c=this.wd(c);for(d=0;4>d;d+=1)a[c]=b,c=this.nc(c)};Fa.prototype.Nd=function(a,
c,b,d,f,e){var g=b?16:0;if(2>c||4<c)this.za(a,c,b,e);else if(b="omp".indexOf(d),-1!==b)for(c=this.Id[c-2][b],b=0;b<c.length;b+=1)d=c[b]+g,a[d]=f,a[d+256]=f,a[d+1]=f,a[d+257]=f};Fa.prototype.Qd=function(a,c,b,d,f){var e=0,g=c-1;0===c||8===c?this.za(a,c,b,511):(3<g&&(g=6-g,e=495),c=this.qc[g].indexOf(d),-1!==c&&(e^=this.Jd[g][c],b&&(e|=16),this.Sd(a,e,f)))};Fa.prototype.wc=function(a,c,b,d){var f=c.length,e=0,g="",k;for(k=0;k<f;k+=1){var l=c.charCodeAt(k)-48;e|=1<<l;this.za(a,l,b,d)}for(k=0;9>k;k+=
1)0!==(e&1<<k)&&(g+=String(k));return g};Fa.prototype.qb=function(a){for(var c=0;a;)c+=1,a&=a-1;return c};Fa.prototype.Lc=function(a,c){var b="",d=0;if(c[a]){c=c[a];0!==(c&8192)&&(d=1,c&=-8193);var f=this.qb(c);var e=2>a||4<a?0:3;2<=f&&(c=~c&(1<<e)-1)&&(d=1-d);if(!d||c)for(b+=String(a),d&&(b+="-"),a=0;a<e;a+=1)0!==(c&1<<a)&&(b+="omp"[a])}else b+=String(a);return b};Fa.prototype.Mc=function(a,c){var b="",d=0;if(c[a]){c=c[a];0!==(c&8192)&&(d=1,c&=-8193);var f=this.qb(c);var e=this.Cd[a];(d||7!==f||
13!==e)&&f+d>e>>1&&(c=~c&(1<<e)-1)&&(d=1-d);if(!d||c)for(b+=String(a),d&&(b+="-"),f=0;f<e;f+=1)d=this.Fd[a][f],0!==(c&1<<d)&&(b+=this.qc[3][d])}else b+=String(a);return b};Fa.prototype.rc=function(a,c,b,d){var f=c.length,e=0,g=[],k="",l;c+=" ";for(l=0;7>l;l+=1)g[l]=0;for(l=0;l<f;l+=1){var p=c.charCodeAt(l)-48;if(0<=p&&8>=p){var n=0!==(e&1<<p);e|=1<<p;var q=c[l+1];var m=this.eb[p].indexOf(q);-1!==m||n||this.za(a,p,b,d);var r=1;"-"===q&&(r=0,l+=1,q=c[l+1],m=this.eb[p].indexOf(q));-1!==m||"0"<=q&&"9">=
q||" "===q||(this.O=(b?"S":"B")+p+q+" not valid",l=f);n&&(n=0,0===(g[p]&8192)&&(n=1),n!==r&&(this.O=(b?"S":"B")+p+" can not have minus and non-minus",m=-1,l=f));for(;-1!==m;)0!==(g[p]&1<<m)?(this.O="Duplicate "+p+this.eb[p][m],m=-1,l=f):(this.Nd(a,p,b,q,r,d),g[p]|=1<<m,r||(g[p]|=8192),l+=1,q=c[l+1],m=this.eb[p].indexOf(q))}else this.O="Missing digit prefix"}for(l=0;7>l;l+=1)0!==(e&1<<l)&&(k+=this.Lc(l,g));return k};Fa.prototype.vc=function(a,c,b){var d=c.length,f=0,e=[],g="",k;c+=" ";for(k=0;9>k;k+=
1)e[k]=0;for(k=0;k<d;k+=1){var l=c.charCodeAt(k)-48;if(0<=l&&8>=l){var p=0!==(f&1<<l);f|=1<<l;var n=c[k+1];var q=this.fb[l].indexOf(n);-1!==q||p||this.za(a,l,b,511);var m=1;"-"===n&&(m=0,k+=1,n=c[k+1],q=this.fb[l].indexOf(n));-1!==q||"0"<=n&&"9">=n||" "===n||(this.O=(b?"S":"B")+l+n+" not valid",k=d);p&&(p=0,0===(e[l]&8192)&&(p=1),p!==m&&(this.O=(b?"S":"B")+l+" can not have minus and non-minus",q=-1,k=d));for(;-1!==q;)0!==(e[l]&1<<q)?(this.O="Duplicate "+l+this.fb[l][q],q=-1,k=d):(this.Qd(a,l,b,n,
m),e[l]|=1<<q,m||(e[l]|=8192),k+=1,n=c[k+1],q=this.fb[l].indexOf(n))}else this.O="Missing digit prefix"}for(k=0;9>k;k+=1)0!==(f&1<<k)&&(g+=this.Mc(k,e));return g};Fa.prototype.Sc=function(a,c){var b;for(b=0;512>b;b+=1)a[b]=0!==(c&1<<(b&7))?1:0!==(b&16)?1:0};Fa.prototype.sb=function(a,c,b){var d=12,f=8191,e=a.ya,g=a.Fa;switch(a.V){case this.ia:d=3;f=this.Vd;break;case this.ja:d=9;f=this.Zd;break;case this.ra:d=6;f=this.Wd;break;case this.sa:d=6;f=this.Xd;break;case this.qa:d=9;f=this.he;break;case this.ta:d=
3,f=this.Yd}c.fill(0);b&&b.fill(0);if(0!==(e&1))if(0!==(g&1<<d)){e=~e;g=~g;for(a=0;a<=d;a+=1)g&1<<d-a&&this.$(c,a,!1,f);for(a=0;a<=d;a+=1)e&1<<d-a&&this.$(c,a,!0,f);b.set(c)}else{for(a=0;a<=d;a+=1)~e&1<<a&&this.$(b,a,!1,f);for(a=0;a<=d;a+=1)~g&1<<a&&this.$(b,a,!0,f);for(a=0;a<=d;a+=1)g&1<<d-a&&this.$(c,a,!1,f);for(a=0;a<=d;a+=1)e&1<<d-a&&this.$(c,a,!0,f);this.Y=!0}else{for(a=0;a<=d;a+=1)0!==(e&1<<a)&&this.$(c,a,!1,f);for(a=0;a<=d;a+=1)0!==(g&1<<a)&&this.$(c,a,!0,f);b&&b.set(c)}};Fa.prototype.Qc=function(a,
c,b,d,f){var e=this.Gb,g="",k="";switch(f){case this.ia:e=this.Fb;break;case this.ja:e=this.Hb;break;case this.ra:e=this.Ac;break;case this.sa:e=this.Bc;break;case this.qa:e=this.yc;break;case this.ta:e=this.Cc}for(f=a.ya=0;f<c.length;f+=1){var l=e.indexOf(c[f]);a.ya|=1<<l}for(f=a.Fa=0;f<b.length;f+=1)l=e.indexOf(b[f]),a.Fa|=1<<l;for(f=0;f<e.length;f+=1)0!==(a.ya&1<<f)&&(g+=e[f]);for(f=0;f<e.length;f+=1)0!==(a.Fa&1<<f)&&(k+=e[f]);return-1!==d?k+"/"+g+"/"+d:"B"+g+"/S"+k};Fa.prototype.Pc=function(a,
c,b,d,f){var e=0,g=this.ge;var k=(1<<this.wa+1)/6|0;var l=new Uint8Array(512),p=a.aa,n=a.la,q=a.ga;var m=a.na;var r=a.o,u=a.V,t=a.ha,v=a.i;if(a.Z)b=this.Wb;else if(p||n)for(b=p?"M":"2PCA4,",m=0;16>m;m+=1)b+=f[m],15>m&&(b+=",");else if(r)b=this.Qc(a,c,b,v,u);else{a=511;q?a=m===this.ca?114:254:t&&(a=186);l.fill(0);f.fill(0);for(m=0;m<l.length;m+=1)g[m]=q?m:(m&448)>>6|m&56|(m&7)<<6;if(""!==d){b="MAP";for(m=0;m<k;m+=1)b+=d[m],c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(d[m]),
l[e]=c>>5,e+=1,l[e]=c>>4&1,e+=1,l[e]=c>>3&1,e+=1,l[e]=c>>2&1,e+=1,l[e]=c>>1&1,e+=1,l[e]=c&1,e+=1;c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(d[m]);l[e]=c>>5;l[e+1]=c>>4&1;b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[c&48];for(m=0;512>m;m+=1){d=0;k=this.wa;for(e=8;0<=e;--e)0!==(a&1<<e)&&(0!==(m&1<<e)&&(d|=1<<k),--k);f[g[m]]=l[d]}-1!==v&&(b+="/"+v)}else t?(e=this.wc(f,c,!1,a),f=this.wc(f,b,!0,a)):q?(e=this.rc(f,c,!1,a),f=this.rc(f,b,!0,a)):(e=
this.vc(f,c,!1),f=this.vc(f,b,!0)),b=-1!==v?f+"/"+e+"/"+v:"B"+e+"/S"+f}return b};Fa.prototype.mc=function(a){var c=a,b=0;if(-1!==a.indexOf(" "))for(c="";b<a.length;)" "!==a[b]&&(c+=a[b]),b+=1;return c};Fa.prototype.td=function(a,c,b){for(var d=!0,f=0,e,g=1;g<c.length&&d;)e="0123456789".indexOf(c[g]),-1!==e?f=10*f+e:(this.O="Illegal character in Wolfram rule",d=!1),g+=1;d&&(0>f||254<f||0!==(f&1)?(this.O="Wolfram rule number must be even from 0-254",d=!1):(this.Sc(b,f),a.ma=f,a.h="W"+f));return d};
Fa.prototype.Ic=function(a,c){if(""===c)if(a.ga)a.h+="H",a.na===this.ca&&(a.h+="T");else if(a.ha)a.h+="V";else if(a.o)switch(a.V){case this.aa:a.h+=this.Ca.toUpperCase();break;case this.ia:a.h+=this.Ba.toUpperCase();break;case this.ja:a.h+=this.Da.toUpperCase();break;case this.ra:a.h+=this.Za.toUpperCase();break;case this.sa:a.h+=this.$a.toUpperCase();break;case this.qa:a.h+=this.Ya.toUpperCase();break;case this.ta:a.h+=this.ab.toUpperCase()}c=hb.rn(a.h);if(null===c&&a.I&&0===a.ta){c="R"+a.v+",C"+
a.i+",M1,S"+a.M+".."+a.X+",B"+a.U+".."+a.$+",N";switch(a.ja){case this.h:c+="M";break;case this.l:c+="N";break;case this.W:c+="C";break;case this.M:c+="+";break;case this.U:c+="X";break;case this.V:c+="*";break;case this.X:c+="2";break;case this.C:c+="H";break;case this.L:c+="B";break;case this.I:c+="D";break;case this.P:c+="#";break;case 10:c+="@"+a.fa+a.Y;break;case this.u:c+="3";break;case this.o:c+="A";break;case this.D:c+="L";break;case this.A:c+="G";break;case 15:c+="W"+a.fa+a.Y;break;case this.m:c+=
"F"+a.qb(a.v)}c=hb.rn(c)}a.s&&(a.h+="History");a.u&&(a.h+="Super");-1!==a.l&&(a.h+=":"+"ptkcs"[a.l].toUpperCase(),a.h+=a.P,a.tb||(a.h+="*"),a.sb&&(a.h+="*"),a.Ba&&(a.h=0>a.Ba?a.h+a.Ba:a.h+("+"+a.Ba)),a.ea!==a.P||a.za||a.fb||2===a.l)&&(a.h+=","+a.ea,a.fb&&(a.h+="*"),a.za&&(a.h=0>a.za?a.h+a.za:a.h+("+"+a.za)));null!==c&&(""===c&&(c="Life"),a.s&&(c+="History"),a.u&&(c+="Super"),a.ca=c)};Fa.prototype.ae=function(a,c){var b=86,d=a.length;d>=b?this.wa=8:(b=this.Ma,d>=b?(this.wa=6,c.ga=!0):(b=this.Qa,d>=
b?(this.wa=4,c.ha=!0):b=-1));if(0<=b)for(c=0;c<b;c+=1)-1==="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[c])&&(b=-1);return b};Fa.prototype.i=function(a,c,b,d,f,e){var g=0,k=c.length,l=a.substring(this.index,this.index+k),p=e.v;if(l!==c)","===c[0]&&(","===l[0]&&(l=l.substring(1)),c=c.substring(1)),this.O="LtL expected '"+c.toUpperCase()+"' got '"+l.toUpperCase()+"'",this.index=-1;else if(","===c[0]&&(c=c.substring(1)),this.index+=k,this.index<a.length?(k=a[this.index],
l=k.charCodeAt(0)):(k="",l=-1),"n"===c)switch(k){case "m":this.index+=1;g=this.h;break;case "n":this.index+=1;g=this.l;break;case "c":this.index+=1;g=this.W;break;case "+":this.index+=1;g=this.M;break;case "x":this.index+=1;g=this.U;break;case "*":this.index+=1;g=this.V;break;case "2":this.index+=1;g=this.X;break;case "h":this.index+=1;g=this.C;break;case "b":this.index+=1;g=this.L;break;case "d":this.index+=1;g=this.I;break;case "#":this.index+=1;g=this.P;break;case "@":this.index+=1;g=this.bc(a,
p,"LtL",e);-1===g&&(this.index=-1);break;case "3":this.index+=1;g=this.u;break;case "a":this.index+=1;g=this.o;break;case "l":this.index+=1;g=this.D;break;case "g":this.index+=1;g=this.A;break;case "w":this.index+=1;g=this.lc(a,p,"LtL",e);-1===g&&(this.index=-1);break;case "f":this.index+=1;g=this.ac(a,p,"LtL",e);-1===g&&(this.index=-1);break;default:this.O="LtL 'N' [ABCDFGHLMNWX23*+#@] got 'N"+k.toUpperCase()+"'",this.index=-1}else if(48>l||57<l)this.O="LtL '"+f+c.toUpperCase()+"' needs a number",
this.index=-1;else{for(;48<=l&&57>=l;)g=10*g+(l-48),this.index+=1,this.index<a.length?l=a[this.index].charCodeAt(0):l=-1;-1!==b&&g<b&&(this.O="LtL '"+f+c.toUpperCase()+g+"' < "+b,this.index=-1);-1!==d&&g>d&&(this.O="LtL '"+f+c.toUpperCase()+g+"' > "+d,this.index=-1)}return g};Fa.prototype.pa=function(a,c,b){var d=0;switch(c){case this.h:d=(2*a+1)*(2*a+1)-1;break;case this.l:d=2*a*(a+1);break;case this.W:b=0;var f=a*a+a;for(c=-a;c<=a;c+=1){for(d=0;(d+1)*(d+1)+c*c<=f;)d+=1;b+=2*d+1}d=b-1;break;case this.M:d=
4*a;break;case this.U:d=4*a;break;case this.V:d=8*a;break;case this.X:b=0;f=a*a;for(c=-a;c<=a;c+=1){for(d=0;(d+1)*(d+1)+c*c<=f;)d+=1;b+=2*d+1}d=b-1;break;case this.C:d=(2*a+1)*(2*a+1)-a*(a+1)-1;break;case this.L:d=((2*a+1)*(2*a+1)-1)/2;break;case this.I:d=((2*a+1)*(2*a+1)-1)/2;break;case this.P:d=8*a;break;case 10:d=b;break;case this.u:d=3*a;break;case this.o:d=6*a;break;case this.D:d=(4*a+1)*(2*a+1)-2*a*a-1;break;case this.A:d=(a+1)*(a+1)*(a+1)*(a+1);break;case 15:d=b;break;case this.m:d=8}return d};
Fa.prototype.bd=function(a,c){var b=!1;this.index=0;var d=this.i(c,"r",1,500,"",a);-1!==this.index&&(a.v=d,d=this.i(c,",c",0,256,"",a),-1!==this.index&&(2>d&&(d=2),a.i=d,d=this.i(c,",m",0,1,"",a),-1!==this.index&&(a.ta=d,d=this.i(c,",s",0,-1,"",a),-1!==this.index&&(a.M=d,d=this.i(c,"..",a.M,-1,"S",a),-1!==this.index&&(a.X=d,d=this.i(c,",b",0,-1,"",a),-1!==this.index&&(a.U=d,d=this.i(c,"..",a.U,-1,"B",a),-1!==this.index&&(a.$=d,d=this.i(c,",n",-1,-1,"",a),-1!==this.index&&(a.ja=d,b=!0))))))));b&&(this.index!==
c.length?(b=!1,this.O="LtL invalid characters after rule"):(c=this.pa(a.v,a.ja,a.ka),c+=a.ta,a.U>c&&(b=!1,this.O="LtL 'B"+a.U+"..' > "+c),a.$>c&&(b=!1,this.O="LtL 'B.."+a.$+"' > "+c),a.M>c&&(b=!1,this.O="LtL 'S"+a.M+"..' > "+c),a.X>c&&(b=!1,this.O="LtL 'S.."+a.X+"' > "+c)));return b};Fa.prototype.dd=function(a,c){var b=!1;this.index=0;a.i=2;a.ta=1;a.ja=this.h;var d=this.i(c,"",1,500,"",a);-1!==this.index&&(a.v=d,d=this.i(c,",",0,-1,"",a),-1!==this.index&&(a.U=d,d=this.i(c,",",a.U,-1,"B",a),-1!==this.index&&
(a.$=d,d=this.i(c,",",0,-1,"",a),-1!==this.index&&(a.M=d,d=this.i(c,",",a.M,-1,"S",a),-1!==this.index&&(a.X=d,b=!0)))));b&&(this.index!==c.length?(b=!1,this.O="LtL invalid characters after rule"):(c=(2*a.v+1)*(2*a.v+1),a.U>c&&(b=!1,this.O="LtL 'B"+a.U+"..' > "+c),a.$>c&&(b=!1,this.O="LtL 'B.."+a.$+"' > "+c),a.M>c&&(b=!1,this.O="LtL 'S"+a.M+"..' > "+c),a.X>c&&(b=!1,this.O="LtL 'S.."+a.X+"' > "+c)));return b};Fa.prototype.cd=function(a,c){var b=!1;this.index=0;-1===a.i&&(a.i=2);a.ta=1;a.ja=this.h;var d=
this.i(c,"r",1,500,"",a);-1!==this.index&&(a.v=d,d=this.i(c,"b",0,-1,"",a),-1!==this.index&&(a.U=d,d=this.i(c,"t",a.U,-1,"B",a),-1!==this.index&&(a.$=d,d=this.i(c,"s",0,-1,"",a),-1!==this.index&&(a.M=d,d=this.i(c,"t",a.M,-1,"S",a),-1!==this.index&&(a.X=d,b=!0)))));b&&(this.index!==c.length?(b=!1,this.O="LtL invalid characters after rule"):(c=(2*a.v+1)*(2*a.v+1),a.U>c&&(b=!1,this.O="LtL 'B"+a.U+"' > "+c),a.$>c&&(b=!1,this.O="LtL 'B..T"+a.$+"' > "+c),a.M>c&&(b=!1,this.O="LtL 'S"+a.M+"..' > "+c),a.X>
c&&(b=!1,this.O="LtL 'S..T"+a.X+"' > "+c)));return b};Fa.prototype.ec=function(a,c,b,d,f){var e=!1,g,k="HROT.",l,p=0;if(this.index+b>a.length)this.O="HROT '"+c+"' needs "+b+" hex digits";else{for(g=l=0;l<b&&-1!==g;)g="0123456789abcdef".indexOf(a[this.index]),-1!==g&&(this.index+=1,l+=1);if(-1===g)this.O="HROT '"+c+"' expected hex got '"+a[this.index]+"'";else{"B"===c?k+="births":(k+="survivals",p=1);f=f.h(na.La,(b<<2)+1+p,k);e=0;f[e]=0;e+=1;--l;"S"===c&&(f[e]=0,e+=1);for(;0<=l;)g="0123456789abcdef".indexOf(a[this.index-
b+l]),--l,f[e]=g&1,e+=1,f[e]=g>>1&1,e+=1,f[e]=g>>2&1,e+=1,f[e]=g>>3&1,e+=1;"B"===c?d.L=f:d.T=f;e=!0}}return e};Fa.prototype.ua=function(a,c){var b=-1;this.index+=1;if(this.index<a.length){var d=a[this.index].charCodeAt(0);if(48>d||57<d)this.O="HROT '"+c+"' needs a number";else for(b=d-48,this.index+=1,d=-1,this.index<a.length&&(d=a[this.index].charCodeAt(0));48<=d&&57>=d;)b=10*b+(d-48),this.index+=1,this.index<a.length?d=a[this.index].charCodeAt(0):d=-1}else this.O="HROT '"+c+"' needs a number";return b};
Fa.prototype.Qb=function(a,c,b,d,f){var e=!0;f&&"S"===b&&(d+=1);var g=this.ua(a,b);-1===g&&(this.O="");for(;e&&-1!==g;){var k=-1;this.index<a.length&&"-"===a[this.index]&&(k=this.ua(a,b),-1===k&&(this.O="HROT '"+b+g+"-' needs a number",e=!1));if(e&&(-1===k&&(k=g),g>k&&(this.O="HROT '"+b+g+"-"+k+"' wrong order",e=!1),e)){"S"===b?(this.Sa=k,f&&(g+=1,k+=1)):this.Ra=k;g>d&&(g=d);for(k>d&&(k=d);g<=k;g+=1)c[g]=1;g=-1;this.index<a.length&&","===a[this.index]&&(g=this.ua(a,b),-1===g&&(--this.index,this.O=
""))}}return e};Fa.prototype.lc=function(a,c,b,d){var f=this.index,e=a.length,g=(2*c+1)*(2*c+1),k=g+g,l=0,p=0,n=[],q=[],m=0,r=15;for(d.Y="";f<e&&-1!=="0123456789abcdef".indexOf(a[f]);)f+=1;c=f-this.index;if(c===g)for(;this.index<f;)g="0123456789abcdef".indexOf(a[this.index]),0!==(g&8)&&(g=-(g&7)),n[n.length]=g,this.index+=1;else if(c===k)for(;this.index<f;)g="0123456789abcdef".indexOf(a[this.index])<<4,this.index+=1,g|="0123456789abcdef".indexOf(a[this.index]),this.index+=1,0!==(g&128)&&(g=-(g&127)),
n[n.length]=g;else this.O=b+" 'NW' needs "+String(g)+" or "+String(k)+" hex digits",r=-1;if(-1!==r)if(","===a[this.index]){for(f=this.index+=1;f<e&&-1!=="0123456789abcdef".indexOf(a[f]);)f+=1;l=f-this.index;if(l!==d.i)this.O=b+" 'NW' needs "+String(d.i)+" state weights",r=-1;else for(f=0;f<d.i;f+=1)g="0123456789abcdef".indexOf(a[this.index]),this.index+=1,q[q.length]=g,g>m&&(m=g)}else m=1;-1!==r&&this.index<e&&("h"===a[this.index]?(d.Y="H",this.index+=1,p=1):"l"===a[this.index]&&(d.Y="L",this.index+=
1,p=1));if(-1!==r){for(b=g=0;b<n.length;b+=1)0<n[b]&&(g+=n[b]*m);d.fa=0<q.length?a.substring(this.index-(c+l+1)-p,this.index-p).toLowerCase():a.substring(this.index-c-p,this.index-p).toLowerCase();d.ka=g;d.ib=n;d.kb=q}-1===r&&(d.fa="",d.ka=-1,d.ib=null,d.kb=null);return r};Fa.prototype.fc=function(a,c){for(var b=0,d,f=!1,e=!1;!e&&this.index<c;)d=a.charCodeAt(this.index),48<=d&&57>=d?(f=!0,b=10*b+(d-48),this.index+=1):e=!0;f||(b=-1);return b};Fa.prototype.ac=function(a,c,b,d){var f=a.length,e=-1,g=
-1,k=-1;if(this.index>=f)return d.ua=c,d.va=c,k=this.m;var l=a[this.index].toUpperCase();for(this.index+=1;"C"===l||"E"===l;){if("C"===l)if(-1===e){if(e=this.fc(a,f),-1===e&&(e=c),1>e||500<e)return this.O=b+" 'NF' invalid corner range",k}else return this.O=b+" 'NF' duplicate 'C'",k;else if(-1===g){if(g=this.fc(a,f),-1===g&&(g=c),1>g||500<g)return this.O=b+" 'NF' invalid edge range",k}else return this.O=b+" 'NF' duplicate 'E'",k;this.index<f?(l=a[this.index].toUpperCase(),this.index+=1):l=""}""!==
l&&--this.index;d.ua=-1===e?c:e;d.va=-1===g?c:g;return k=this.m};Fa.prototype.bc=function(a,c,b,d){var f=this.index,e=a.length,g=0;c=((2*c+1)*(2*c+1)-1)/4;var k=0,l=10;for(d.Y="";f<e&&g<c&&-1!==l;){var p="0123456789abcdef".indexOf(a[f]);0<=p?(f+=1,g+=1,k+=this.qb(p)):l=-1}g!==c&&(l=-1);-1===l?(this.O=b+" 'N@' needs "+String(c)+" hex digits",d.fa="",d.ka=-1):(d.fa=a.substring(this.index,this.index+g).toLowerCase(),d.ka=k,this.index+=g,f<e&&("h"===a[f]?(d.Y="H",this.index+=1):"l"===a[f]&&(d.Y="L",this.index+=
1)));return l};Fa.prototype.fe=function(a,c){var b=a.v,d;a.D=b;a.m=a.ja;b=this.pa(b,a.ja,a.ka);b+=a.ta;a.T=c.h(na.La,b+2,"HROT.survivals");a.L=c.h(na.La,b+1,"HROT.births");for(d=a.M;d<=a.X;d+=1)a.T[d]=1;for(d=a.U;d<=a.$;d+=1)a.L[d]=1;if(this.Y){a.Ka=c.h(na.La,b+2,"HROT.altSurvivals");a.Ja=c.h(na.La,b+1,"HROT.altBirths");for(d=a.Eb;d<=a.Ab;d+=1)a.Ka[d]=1;for(d=a.xb;d<=a.wb;d+=1)a.Ja[d]=1}a.Ga=!0};Fa.prototype.Zc=function(a,c,b){var d=!1,f=0,e=!0,g=c.indexOf(",n"),k=c.indexOf(",p");this.Sa=this.Ra=
this.index=0;if("r"!==c[this.index])this.O="HROT expected 'R' got '"+c[this.index].toUpperCase()+"'";else{var l=this.ua(c,"R");-1!==l&&(1>l?this.O="HROT 'R' < 1":500<l?this.O="HROT 'R' > 500":(a.D=l,d=!0))}d&&(d=!1,this.index<c.length?","!==c[this.index]?this.O="HROT expected ',' got "+c[this.index].toUpperCase():(this.index+=1,this.index<c.length?"c"!==c[this.index]?this.O="HROT expected 'C' got "+c[this.index].toUpperCase():(l=this.ua(c,"C"),-1!==l&&(0>l?this.O="HROT 'C"+l+"' < 0":256<l?this.O=
"HROT 'C"+l+"' > 256":(2>l&&(l=2),a.i=l,d=!0))):this.O="HROT expected 'C'"):this.O="HROT expected ','");if(d){l=this.index;this.index=g;e=!0;a.m=this.h;if(-1!==this.index&&this.index<c.length&&","===c[this.index]){d=!1;this.index+=1;if(this.index<c.length)if("n"===c[this.index])if(this.index+=1,this.index<c.length)switch(c[this.index]){case "m":a.m=this.h;this.index+=1;d=!0;break;case "n":a.m=this.l;this.index+=1;d=!0;break;case "c":a.m=this.W;this.index+=1;d=!0;break;case "+":a.m=this.M;this.index+=
1;d=!0;break;case "x":a.m=this.U;this.index+=1;d=!0;break;case "*":a.m=this.V;this.index+=1;d=!0;break;case "2":a.m=this.X;this.index+=1;d=!0;break;case "h":a.m=this.C;this.index+=1;d=!0;break;case "b":a.m=this.L;this.index+=1;d=!0;break;case "d":a.m=this.I;this.index+=1;d=!0;break;case "#":a.m=this.P;this.index+=1;d=!0;break;case "@":this.index+=1;a.m=this.bc(c,a.D,"HROT",a);-1!==a.m&&(d=!0);break;case "3":a.m=this.u;this.index+=1;d=!0;break;case "a":a.m=this.o;this.index+=1;d=!0;break;case "l":a.m=
this.D;this.index+=1;d=!0;break;case "g":a.m=this.A;e=!1;this.index+=1;d=!0;break;case "w":this.index+=1;a.m=this.lc(c,a.D,"HROT",a);-1!==a.m&&(e=!1,d=!0);break;case "f":this.index+=1;a.m=this.ac(c,a.D,"HROT",a);-1!==a.m&&(d=!0);break;default:this.O="HROT 'N' [ABCDFGHLMNWX23*+#@] got '"+c[this.index].toUpperCase()+"'"}else this.O="HROT 'N' needs a neighborhood";else this.O="HROT expected 'N' got '"+c[this.index].toUpperCase()+"'";else this.O="HROT expected 'N'";g=this.index}f=this.pa(a.D,a.m,a.ka);
this.index=l}d&&(d=!1,this.index<c.length?","!==c[this.index]?this.O="HROT expected ',' got "+c[this.index].toUpperCase():(this.index+=1,this.index<c.length?"s"!==c[this.index]?this.O="HROT expected 'S' got "+c[this.index].toUpperCase():(a.T=b.h(na.La,f+2,"HROT.survivals"),d=this.Qb(c,a.T,"S",f,e)):this.O="HROT expected 'S'"):this.O="HROT expected ','");d&&(d=!1,this.index<c.length?","!==c[this.index]?this.O="HROT expected ',' got "+c[this.index].toUpperCase():(this.index+=1,this.index<c.length?"b"!==
c[this.index]?this.O="HROT expected 'B' got "+c[this.index].toUpperCase():(a.L=b.h(na.La,f+1,"HROT.births"),d=this.Qb(c,a.L,"B",f,e)):this.O="HROT expected 'B'"):this.O="HROT expected ','");d&&(-1!==g&&(this.index=g),a.gb=!1,-1!==k&&k===this.index&&(a.gb=!0,this.index+=2),this.index!==c.length&&(d=!1,this.O="HROT invalid characters after rule"),this.Sa>f&&(d=!1,this.O="HROT 'S"+this.Sa+"' > "+f),d&&this.Ra>f&&(d=!1,this.O="HROT 'B"+this.Ra+"' > "+f));d&&(a.Ga=!0);return d};Fa.prototype.Yc=function(a,
c,b){var d=!1,f=0;this.index=0;-1===a.i&&(a.i=2);if("r"!==c[this.index])this.O="HROT expected 'R' got '"+c[this.index].toUpperCase()+"'";else{var e=-1;this.index+=1;this.index<c.length&&(e=c[this.index].charCodeAt(0));if(48>e||57<e)this.O="HROT 'R' needs a number";else{var g=e-48;this.index+=1;e=-1;for(this.index<c.length&&(e=c[this.index].charCodeAt(0));48<=e&&57>=e;)g=10*g+(e-48),this.index+=1,this.index<c.length?e=c[this.index].charCodeAt(0):e=-1;1>g?this.O="HROT 'R' < 1":500<g?this.O="HROT 'R' > 500":
(a.D=g,d=!0,f=g*(g+1))}}d&&(d=!1,this.index<c.length?"b"!==c[this.index]?this.O="HROT expected 'B' got "+c[this.index].toUpperCase()+"'":(this.index+=1,d=this.ec(c,"B",f,a,b)):this.O="HROT expected 'B'");d&&(d=!1,this.index<c.length?"s"!==c[this.index]?this.O="HROT expected 'S' got "+c[this.index].toUpperCase()+"'":(this.index+=1,d=this.ec(c,"S",f,a,b)):this.O="HROT expected 'S'");d&&this.index<c.length&&"z"===c[this.index]&&(a.T[1]=1,this.index+=1);d&&(this.index!==c.length?(d=!1,this.O="HROT invalid characters after rule"):
(a.m=this.h,a.Ga=!0));return d};Fa.prototype.Ib=function(a,c){for(var b=a.length,d=-1,f="",e=0;e<b;)1===a[e]?-1===d&&(d=e):-1!==d&&(""!==f&&(f+=","),f+=d+c,e-1!==d&&(f+="-"+(e-1+c)),d=-1),e+=1;-1!==d&&(""!==f&&(f+=","),f+=d+c,e-1!==d&&(f+="-"+(e-1+c)));return f};Fa.prototype.va=function(a,c,b){var d="",f=!1;var e=hb.sn(c);null!==e&&(d=hb.rn(e),c=e);e=c.indexOf("|");if(-1===e)(f=this.tb(a,c,b,this.T))&&a.o&&this.sb(a,this.Eb,this.Ab);else{var g=!1;var k=hb.sn(c.substring(0,e));null!==k&&-1!==k.indexOf("|")&&
(g=!0);k=hb.sn(c.substring(e+1));null!==k&&-1!==k.indexOf("|")&&(g=!0);if(-1!==c.substring(e+1).indexOf("|")||g)this.O="Only one alternate allowed";else if(f=this.tb(a,c.substring(0,e),b,this.xb))if(g=new mb(a.name,this),g.Hb(a),a.Lb(),f=this.tb(a,c.substring(e+1),b,this.T))if(this.O=a.Jb(g),""===this.O)if(a.Ga&&(0!==a.L[0]||0!==g.L[0])||!a.o&&(this.T[0]||this.xb[0])||a.o&&0!==(a.ya&1)||0!==(g.ya&1))this.O="Alternate not supported with B0",a.Ga&&(a.h=g.Ea),f=!1;else{a.o&&(this.sb(g,this.Ab,null),
this.sb(a,this.Eb,null));if(""!==d)a.ca=d;else if(""!==a.ca||""!==g.ca)""===a.ca&&(a.ca=a.h),""===g.ca&&(g.ca=g.h),a.ca=g.ca+"|"+a.ca;a.h=g.h+"|"+a.h;d=hb.rn(a.h);null!==d&&(a.ca=d);(a.Ga||a.I)&&a.Gb(g,b);this.Y=!0}else a.Ea=g.Ea,f=!1}return f};Fa.prototype.jd=function(a,c){var b=!0,d=a.length,f=0;if("2pca4"!==a.substring(0,5))this.O="PCA rule must start with 2PCA4",b=!1;else{var e=5;var g=-1;if(","!==a[e])b=!0;else for(e+=1;b&&16>f&&e<d;)if(e<d){var k=a[e];e+=1;"0"<=k&&"9">=k?(-1===g&&(g=0),g=10*
g+k.charCodeAt(0)-48):","===k?15<g?(this.O="Value must be from 0 to 15",b=!1):(c[f]=g,f+=1,g=-1):(this.O="Illegal character found in rule",b=!1)}b&&(-1===g?(this.O=16===f?"Extra characters found after rule":"Need 16 values",b=!1):15<g?(this.O="Value must be from 0 to 15",b=!1):(c[f]=g,16!==f+1&&(this.O="Need 16 values",b=!1)))}return b};Fa.prototype.gd=function(a,c){var b=!0,d=0,f=a.length,e,g=0;if("m"!==a[d])this.O="Margolus rule must start with M",b=!1;else{d+=1;"s,d"===a.substring(d,d+3)&&(d+=
3);for(e=-1;b&&16>g&&d<f;)if(d<f){var k=a[d];d+=1;"0"<=k&&"9">=k?(-1===e&&(e=0),e=10*e+k.charCodeAt(0)-48):","===k||";"===k?15<e?(this.O="Value must be from 0 to 15",b=!1):(c[g]=e,g+=1,e=-1):(this.O="Illegal character found in rule",b=!1)}b&&(-1===e?(this.O=16===g?"Extra characters found after rule":"Need 16 values",b=!1):15<e?(this.O="Value must be from 0 to 15",b=!1):(c[g]=e,16!==g+1&&(this.O="Need 16 values",b=!1)))}return b};Fa.prototype.tb=function(a,c,b,d){var f=!1,e=null,g=null,k=null,l="012345678ceaiknjqrytwz-";
var p=this.vb.length;var n=this.Ja.length;var q=this.Ca.length;var m=this.Ba.length,r=this.Da.length;var u=this.Za.length;var t=this.$a.length,v=this.Ya.length,x=this.ab.length,w=this.gb.length,A="";d[0]=0;var C=hb.sn(c);null!==C&&(""===c&&(a.h="Life"),c=C);if("map"===c.substring(0,3).toLowerCase()){A=c.substring(3);var z=A.indexOf("/");-1===z?"=="===A.substring(A.length-2)&&(A=A.substring(0,A.length-2)):"=="===A.substring(z-2,z)&&(A=A.substring(0,z-2)+A.substring(z));c=this.ae(A,a);if(0<=c)if(f=
!0,k=A.substring(c),A=A.substring(0,c),"/"===k[0]){C=1;a.i=0;C<k.length&&("g"===k[C].toLowerCase()||"c"===k[C].toLowerCase())&&(C+=1);for(z=0;C<k.length&&-1!==z;)z="0123456789".indexOf(k[C]),-1!==z?a.i=10*a.i+z:(this.O="Illegal character in generations number",a.i=-1,f=!1),C+=1;-1!==a.i&&(2>a.i||256<a.i)&&(this.O="Generations number must be 2-256",a.i=-1,f=!1)}else""!==k&&(C=k.length,this.O="MAP length must be "+this.Qa+", "+this.Ma+" or 86 not "+(C+c),f=!1);else this.O=86===A.length||A.length===
this.Ma||A.length===this.Qa?"MAP contains illegal base64 character":"MAP length must be "+this.Qa+", "+this.Ma+" or 86 not "+A.length}else if(c=c.toLowerCase(),c=this.mc(c),"2pca4"===c.substring(0,5)){if(f=this.jd(c,d))a.la=!0,a.i=16}else if("m"===c[0]){if(f=this.gd(c,d))a.aa=!0}else{f=!0;if("g"===c[0]){C=1;for(z=a.i=0;C<c.length&&-1!==z;)z="0123456789".indexOf(c[C]),-1!==z&&(a.i=10*a.i+z,C+=1);1<C&&(2>a.i||256<a.i?(this.O="Generations number must be 2-256",a.i=-1,f=!1):(C<c.length&&"/"===c[C]&&(C+=
1),c=c.substring(C),f=!0))}if(f&&(z=c.lastIndexOf("g"),-1!==z&&z!==c.length-1&&!(0<z&&"/"===c[z-1]))){C=z+1;for(z=a.i=0;C<c.length&&-1!==z;)z="0123456789".indexOf(c[C]),-1!==z&&(a.i=10*a.i+z,C+=1);C===c.length?2>a.i||256<a.i?(this.O="Generations number must be 2-256",a.i=-1,f=!1):(c=c.substring(0,c.lastIndexOf("g")),f=!0):a.i=-1}if(f)if(f=!1,"r"===c[0]||"1"<=c[0]&&"9">=c[0]&&-1!==c.indexOf(",")){if(f="r"===c[0]?-1!==c.indexOf(".")?this.bd(a,c):-1!==c.indexOf("t")&&-1===c.indexOf("n")?this.cd(a,c):
-1!==c.indexOf(",")?this.Zc(a,c,b):this.Yc(a,c,b):this.dd(a,c))if(a.Ga){a.m===this.m&&(a.ua>a.D&&(a.D=a.ua),a.va>a.D&&(a.D=a.va));k=15===a.m||a.m===this.A?0:-1;a.h="R"+a.D+",";a.h+="C"+a.i+",";a.h+="S"+this.Ib(a.T,k)+",";a.h+="B"+this.Ib(a.L,0);if(a.m!==this.h)switch(a.h+=",N",a.m){case this.l:a.h+="N";break;case this.W:a.h+="C";break;case this.M:a.h+="+";break;case this.U:a.h+="X";break;case this.V:a.h+="*";break;case this.X:a.h+="2";break;case this.C:a.h+="H";break;case this.L:a.h+="B";break;case this.I:a.h+=
"D";break;case this.P:a.h+="#";break;case 10:a.h+="@"+a.fa+a.Y;break;case this.u:a.h+="3";break;case this.o:a.h+="A";break;case this.D:a.h+="L";break;case this.A:a.h+="G";break;case 15:a.h+="W"+a.fa+a.Y;break;case this.m:a.h+="F"+a.qb(a.D)}a.gb&&(a.h+=",P")}else{a.ja===this.m&&(a.ua>a.v&&(a.v=a.ua),a.va>a.v&&(a.v=a.va));a.I=!0;a.h="R"+a.v+",C"+a.i+",M"+a.ta+",S"+a.M+".."+a.X+",B"+a.U+".."+a.$+",N";switch(a.ja){case this.h:a.h+="M";break;case this.l:a.h+="N";break;case this.W:a.h+="C";break;case this.M:a.h+=
"+";break;case this.U:a.h+="X";break;case this.V:a.h+="*";break;case this.X:a.h+="2";break;case this.C:a.h+="H";break;case this.L:a.h+="B";break;case this.I:a.h+="D";break;case this.P:a.h+="#";break;case 10:a.h+="@"+a.fa+a.Y;break;case this.u:a.h+="3";break;case this.o:a.h+="A";break;case this.D:a.h+="L";break;case this.A:a.h+="G";break;case 15:a.h+="W"+a.fa+a.Y;break;case this.m:a.h+="F"+a.qb(a.v)}0===a.ta&&(a.M+=1,a.X+=1)}}else if("w"===c[0])f=this.td(a,c,d);else if(b=c.lastIndexOf(this.Ca),-1!==
b&&b===c.length-q&&(a.o=!0,a.V=this.aa,c=c.substring(0,c.length-q),l=this.Gb),b=c.lastIndexOf(this.Ba),-1!==b&&b===c.length-m&&(a.o=!0,a.V=this.ia,c=c.substring(0,c.length-m),l=this.Fb),b=c.lastIndexOf(this.Da),-1!==b&&b===c.length-r&&(a.o=!0,a.V=this.ja,c=c.substring(0,c.length-r),l=this.Hb),b=c.lastIndexOf(this.Za),-1!==b&&b===c.length-u&&(a.o=!0,a.V=this.ra,c=c.substring(0,c.length-u),l=this.Ac),b=c.lastIndexOf(this.$a),-1!==b&&b===c.length-t&&(a.o=!0,a.V=this.sa,c=c.substring(0,c.length-t),l=
this.Bc),b=c.lastIndexOf(this.Ya),-1!==b&&b===c.length-v&&(a.o=!0,a.V=this.qa,c=c.substring(0,c.length-v),l=this.yc),b=c.lastIndexOf(this.ab),-1!==b&&b===c.length-x&&(a.o=!0,a.V=this.ta,c=c.substring(0,c.length-x),l=this.Cc),u=c.lastIndexOf(this.vb),-1!==u&&u===c.length-p&&(a.ga=!0,a.na=this.ca,c=c.substring(0,c.length-p),l=this.$d),u=c.lastIndexOf(this.Ja),-1!==u&&u===c.length-n&&(a.ga=!0,a.na=this.ma,c=c.substring(0,c.length-n),l=this.xc),u=c.lastIndexOf(this.gb),-1!==u&&u===c.length-w&&(a.ha=!0,
c=c.substring(0,c.length-w),l=this.Dc),p=c.indexOf("/"),-1===p&&(p=c.indexOf("_")),-1!==p&&(u=c.lastIndexOf("/"),-1===u&&(u=c.lastIndexOf("_")),u!==p&&(k=c.substring(u+1),c=c.substring(0,u),b=c.lastIndexOf(this.Ca),-1!==b&&b===c.length-q&&(a.o=!0,a.V=this.aa,c=c.substring(0,c.length-q),l=this.Gb),b=c.lastIndexOf(this.Ba),-1!==b&&b===c.length-m&&(a.o=!0,a.V=this.ia,c=c.substring(0,c.length-m),l=this.Fb),b=c.lastIndexOf(this.Da),-1!==b&&b===c.length-r&&(a.o=!0,a.V=this.ja,c=c.substring(0,c.length-r),
l=this.Hb),u=c.lastIndexOf(this.Ja),-1!==u&&u===c.length-n&&(a.ga=!0,c=c.substring(0,c.length-n),l=this.xc),u=c.lastIndexOf(this.gb),-1!==u&&u===c.length-w&&(a.ha=!0,c=c.substring(0,c.length-w),l=this.Dc))),c===this.Wb)a.Z=!0,a.i=256,f=!0;else{n=c.indexOf("b");q=c.indexOf("s");-1===p?0===n||0===q?-1===q?(e=c,g=""):-1===n?(g=c,e=""):n<q&&-1!==q?(e=c.substring(n+1,q),g=c.substring(q+1)):(g=c.substring(q+1,n),e=c.substring(n+1)):this.O="Unsupported rule name":(-1===n&&-1!==q?n=p:-1!==n&&-1===q&&(q=p),
n<q?(e=c.substring(0,p),g=c.substring(p+1)):(e=c.substring(p+1),g=c.substring(0,p)));-1!==n&&e&&"b"===e[0]&&(e=e.substring(1));-1!==q&&g&&"s"===g[0]&&(g=g.substring(1));if(null!==k)if(C=0,-1!==a.i)this.O="Generations defined twice",e=null;else{a.i=0;C<k.length&&("g"===k[C].toLowerCase()||"c"===k[C].toLowerCase())&&(C+=1);for(z=0;C<k.length&&-1!==z;)z="0123456789".indexOf(k[C]),-1!==z?a.i=10*a.i+z:(this.O="Illegal character in generations number",a.i=-1,e=null),C+=1;-1!==a.i&&(2>a.i||256<a.i)&&(this.O=
"Generations number must be 2-256",a.i=-1,e=null)}if(null!==e&&null!==g){f=!0;for(C=0;C<e.length;)z=l.indexOf(e[C]),-1===z?(this.O="Illegal character in birth specification",f=!1,C=e.length):C+=1;if(f)for(C=0;C<g.length;)z=l.indexOf(g[C]),-1===z?(this.O="Illegal character in survival specification",f=!1,C=g.length):C+=1}}}f&&-1===a.ma&&!1===a.I&&!1===a.Ga&&(d=this.Pc(a,String(e),String(g),A,d),""===this.O?a.h=d:f=!1,2===a.i&&(a.i=-1));f?this.Ic(a,A):(a.I=!1,a.Ga=!1,a.i=-1,a.Z=!0);return f};Fa.prototype.na=
function(a,c,b,d){var f=0,e=c.length-1,g=!1,k=!0,l,p=0,n=0,q=0,m=0,r=this.ha;for(l=c[f];!g;){var u=l;l=c[f+1];var t=-1;switch(u){case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":m=10*m+parseInt(u,10);break;case "b":t=0;break;case "o":t=1;break;case ".":t=0;break;case "z":t=7;a.s=!0;a.Ma=!0;break;case "$":0===m&&(m=1);q+=m;m=0;n>p&&(p=n);n=0;break;case "!":0===m&&(m=1);q+=m;m=0;n>p&&(p=n);g=!0;break;default:k=!1,"A"<=u&&"X">=u?(k=!0,t=u.charCodeAt(0)-64):"p"<=
u&&"y">u?"A"<=l&&"X">=l?(k=!0,t=24*(u.charCodeAt(0)-111)+(l.charCodeAt(0)-64),f+=1,l=c[f+1]):"x"===u&&(k=!0,a.s=!0,a.Ma=!0,t=3):"y"===u&&("A"<=l&&"O">=l?(k=!0,t=24*(u.charCodeAt(0)-111)+(l.charCodeAt(0)-64),f+=1,l=c[f+1]):(k=!0,a.s=!0,a.Ma=!0,t=5))}if(0<=t)if(0===m&&(m=1),b||(0===r[t]&&(a.Za+=1),r[t]+=m,t>=a.A&&(a.A=t+1)),0<t&&b)for(;0<m;){a.ia[q][n]=-1===a.i?t:2===a.i?1===t?I.Ta:0:t<a.i?t:1;if(!a.s&&!a.u&&-1===a.i&&1===t||(a.s||a.u)&&t&1||-1!==a.i&&1===t)a.W[q][n>>4]|=1<<(~n&15);n+=1;--m}else n+=
m,m=0;k||(" "===u||"\t"===u||"\n"===u?k=!0:(this.O="Illegal character in pattern: "+u,this.Z=g=a.Ca=!0));f+=1;f===e&&(g||(0===m&&(m=1),q+=m,m=0,n>p&&(p=n)),g=!0)}b||(0===p&&(q=p=1),a.width=p,a.height=q,16384<p||16384<q?a.sa=!0:(a.W=Array.matrix(na.Aa,q,(p-1>>4)+1,0,d,"Pattern.lifeMap"),a.ia=Array.matrix(na.La,q,p,0,d,"Pattern.multiStateMap")),a.Ua="RLE");a.Ca&&(f=-1);return f};Fa.prototype.Pd=function(a,c){var b=c.indexOf("\n");-1===b&&(b=c.length);a.Fb=c.substring(0,b).trim()};Fa.prototype.Xa=function(a,
c,b){for(var d=!1;c<b&&!d;)" "===a[c]?c+=1:d=!0;return c};Fa.prototype.Hd=function(a){var c=a.indexOf("\n"),b=0,d=!1,f=!1,e=0;-1===c&&(c=a.length);for(;e<c&&!d;)"="===a[e]?d=!0:" "!==a[e]?d=!0:e+=1;if(d&&"="===a[e]){e=this.Xa(a,e+1,c);e<c&&"-"===a[e]&&(f=!0,e+=1);for(d=!1;e<c&&!d;){var g="0123456789".indexOf(a[e]);-1!==g?(b=10*b+g,e+=1):d=!0}this.ib=!0;f&&(b=-b);this.ub=b}};Fa.prototype.kc=function(a,c){var b=a.indexOf("\n"),d=0,f=0,e=!1,g=!1,k=!1,l=0;-1===b&&(b=a.length);if(c){for(;l<b&&!k;)"="===
a[l]?k=!0:" "!==a[l]?k=!0:l+=1;k&&"="===a[l]&&(l+=1)}else k=!0;if(k&&(l=this.Xa(a,l,b),l<b)){"-"===a[l]&&(e=!0,l+=1);for(k=!1;l<b&&!k;)c="0123456789".indexOf(a[l]),-1!==c?(d=10*d+c,l+=1):k=!0;this.Ea=!0;this.Ua=e?-d:d;l=this.Xa(a,l,b);if(l<b&&","===a[l]&&(l=this.Xa(a,l+1,b),l<b)){"-"===a[l]&&(g=!0,l+=1);for(k=!1;l<b&&!k;)c="0123456789".indexOf(a[l]),-1!==c?(f=10*f+c,l+=1):k=!0;this.Va=g?-f:f}}};Fa.prototype.Nc=function(a){var c=a.indexOf("XRLE");0===c&&(c=a.indexOf("Pos"),-1!==c&&this.kc(a.substring(c+
3),!0),c=a.indexOf("Gen"),-1!==c&&this.Hd(a.substring(c+3)))};Fa.prototype.Od=function(a,c){var b=c.indexOf("\n");-1===b&&(b=c.length);a.name=c.substring(0,b).trim()};Fa.prototype.kb=function(a,c,b,d){var f=b.indexOf("\n");-1===f&&(f=b.length);" "===b[0]&&(c+=" ");b=b.substring(0,f).trim();a.title+=b+" ";d?a.pa+=c+b+"\n":a.C+=c+b+"\n";return f+1};Fa.prototype.s=function(a){var c=0;a+=" ";var b="0123456789".indexOf(a[this.index]);if(-1!==b)for(c=0;-1!==b;)c=10*c+b,this.index+=1,b="0123456789".indexOf(a[this.index]);
return c};Fa.prototype.md=function(a,c){var b=this.s(c),d=!0;c=c[this.index];a.P=b;a.ea=b;"*"===c&&(d=!1,this.index+=1);a.tb=d;0===b&&0===b&&(a.l=-1)};Fa.prototype.sd=function(a,c){var b=this.s(c),d=-1,f=0,e=0;if(-1!==b){c+=" ";var g=c[this.index];if("-"===g||"+"===g)this.index+=1,f=this.s(c),-1===f?b=-1:"-"===g&&(f=-f);if(","===c[this.index])if(this.index+=1,d=this.s(c),-1===d)b=-1;else{if(g=c[this.index],"-"===g||"+"===g)this.index+=1,e=this.s(c),-1===e?b=-1:"-"===g&&(e=-e)}else d=b}0!==f&&0!==
e&&(b=-1);0===b&&0===d&&(a.l=-1);0===f&&0===e||0!==b&&0!==d||(b=-1);a.P=b;a.ea=d;a.Ba=f;a.za=e};Fa.prototype.ad=function(a,c){var b=this.s(c),d=-1,f=0,e=0,g=!1,k=!1;if(-1!==b){c+=" ";var l=c[this.index];"*"===l&&(g=!0,this.index+=1,l=c[this.index]);if("-"===l||"+"===l)this.index+=1,f=this.s(c),-1===f?b=-1:"-"===l&&(f=-f);if(","===c[this.index])if(this.index+=1,d=this.s(c),-1===d)b=-1;else{if(l=c[this.index],"*"===l&&(k=!0,this.index+=1,l=c[this.index]),"-"===l||"+"===l)this.index+=1,e=this.s(c),-1===
e?b=-1:"-"===l&&(e=-e)}else d=b}g&&k&&(b=-1);0!==f&&0!==e&&(b=-1);if(g&&0!==e||k&&0!==f)b=-1;if(0!==f&&0!==(b&1)||0!==e&&0!==(d&1))b=-1;if(0===b&&0===d)a.l=-1;else if(0===b||0===d)b=-1;g||k||(k=!0);0!==f&&(f=1);0!==e&&(e=1);a.P=b;a.ea=d;a.Ba=f;a.za=e;a.sb=g;a.fb=k};Fa.prototype.Xc=function(a,c){var b=this.s(c),d=-1;-1!==b&&(c+=" ",","===c[this.index]?(this.index+=1,d=this.s(c),-1===d&&(b=-1)):d=b);if(0===b&&0===d)a.l=-1;else if(0===b||0===d)b=-1;a.P=b;a.ea=d};Fa.prototype.kd=function(a,c){var b=this.s(c),
d=-1;-1!==b&&(c+=" ",","===c[this.index]?(this.index+=1,d=this.s(c),-1===d&&(b=-1)):d=b);0===b&&0===d&&(a.l=-1);a.P=b;a.ea=d};Fa.prototype.Uc=function(a,c){var b=!0;c=this.mc(c).toLowerCase();if(""!==c){b=!1;a.l="ptkcs".indexOf(c[0]);if(-1!==a.l)if(this.index=1,2!==a.l&&4!==a.l&&-1!==c.indexOf("*"))a.P=-1;else switch(a.l){case 0:this.kd(a,c);break;case 1:this.sd(a,c);break;case 2:this.ad(a,c);break;case 3:this.Xc(a,c);break;case 4:this.md(a,c);break;default:a.P=-1}this.index!==c.length&&(a.P=-1);
-1!==a.P?b=!0:(a.l=-1,this.O="Invalid bounded grid definition '"+c.toUpperCase()+"'")}return b};Fa.prototype.Ia=function(a,c,b,d){var f,e,g=null;if(b[c]===a){for(c+=1;c<d&&" "===b[c];)c+=1;for(c<d&&"="===b[c]&&(c+=1);c<d&&" "===b[c];)c+=1;a=0;var k=f=!1;"-"===b[c]&&(c+=1,k=!0);for(e=b[c].charCodeAt(0);c<d&&48<=e&&57>=e;)a=10*a+(e-48),c+=1,f=!0,c<d&&(e=b[c].charCodeAt(0));for(f&&(g=k?-a:a);c<d&&" "===b[c];)c+=1;for(c<d&&","===b[c]&&(c+=1);c<d&&" "===b[c];)c+=1}return[g,c]};Fa.prototype.ld=function(a,
c){this.ka=this.la=-1;var b=this.Ia("x",0,a,c);var d=b[1];b[0]&&(this.la=b[0]);b=this.Ia("y",d,a,c);d=b[1];b[0]&&(this.ka=b[0]);b=this.Ia("h",d,a,c);d=b[1];b[0]&&(this.Ua=b[0],this.Ea=!0);b=this.Ia("v",d,a,c);b[0]&&(this.Va=b[0])};Fa.prototype.Sb=function(a,c,b,d){var f=c.indexOf("\n"),e=c.indexOf("rule");-1===f&&(f=c.length);this.ld(c,f);-1===e||e>f?b=b?"":c.substring(1,f).trim():(b=c.substring(e+4,f).trim(),"="===b[0]&&(b=b.substring(1).trim()));a.Ea=b;a.h=b;e=b.indexOf(":");c=b.lastIndexOf(":");
-1!==c&&e===c&&null!==hb.sn(a.h)&&(c=-1);-1!==c&&(this.Uc(a,b.substring(c+1))?b=b.substring(0,c).trim():c=-2);var g=b.toLowerCase().lastIndexOf("history");-1!==g&&g===b.length-7&&(a.s=!0,b=b.substring(0,b.length-7).trim());g=b.indexOf("|");-1!==g&&"history"===b.toLowerCase().substring(0,g).trim().substring(g-7)&&(a.s=!0,e=b.substring(0,g).trim(),b=e.substring(0,e.length-7)+b.substring(g));a.s||(g=b.toLowerCase().lastIndexOf("super"),-1!==g&&g===b.length-5&&(a.u=!0,b=b.substring(0,b.length-5).trim()),
g=b.indexOf("|"),-1!==g&&"super"===b.toLowerCase().substring(0,g).trim().substring(g-5)&&(a.u=!0,e=b.substring(0,g).trim(),b=e.substring(0,e.length-5)+b.substring(g)));-2!==c&&this.va(a,b,d)?this.Oa=!0:this.Ci=!0;return f+1};Fa.prototype.Jb=function(a){switch(a){case 0:a="Plane";break;case 1:a="Torus";break;case 2:a="Klein bottle";break;case 3:a="Cross-surface";break;case 4:a="Sphere";break;default:a="(unknown)"}return a};Fa.prototype.ee=function(a,c){var b=a.L,d=a.T,f=this.pa(a.D,a.m,a.ka);var e=
new Uint8Array(a.L.length);var g=new Uint8Array(a.T.length);if(d[f+1]){for(a=0;a<=f;a++)e[a]=1-d[f-a+1],g[a+1]=1-b[f-a];for(a=0;a<=f;a++)b[a]=e[a],d[a+1]=g[a+1];this.Y=!1}else{a.Ja=c.h(na.La,a.L.length,"HROT.altBirths");a.Ka=c.h(na.La,a.T.length,"HROT.altSurvivals");e=a.Ja;g=a.Ka;for(a=0;a<=f;a++)e[a]=d[f-a+1],g[a+1]=b[f-a];for(a=0;a<=f;a++)b[a]=1-b[a],d[a+1]=1-d[a+1];this.Y=!0}};Fa.prototype.Rb=function(a,c,b){var d=0,f=c.length,e=!1,g=!1;var k=this.ha;var l=0,p=4;a.aa=!1;a.Z=!1;a.l=-1;a.width=0;
a.height=0;a.sa=!1;a.W=null;a.ia=null;a.Ca=!1;a.s=!1;a.u=!1;a.Ma=!1;a.ga=!1;a.ma=-1;a.ha=!1;a.i=-1;a.I=!1;a.v=-1;a.ta=1;a.M=-1;a.X=-1;a.U=-1;a.$=-1;a.Ga=!1;a.L=null;a.T=null;a.D=-1;a.title="";a.C="";a.pa="";a.A=2;a.Za=0;k.fill(0);for(c+=" ";d<f&&!a.Ca;)switch(k=c[d],k){case "#":d+=1;k=c[d];d+=1;switch(k){case "N":this.Od(a,c.substring(d));break;case "O":this.Pd(a,c.substring(d));break;case "C":this.Nc(c.substring(d));break;case "P":case "R":this.kc(c.substring(d),!1);break;case "\n":--d}d="\n"===
k?d+this.kb(a,"#",c.substring(d),e):d+this.kb(a,"#"+k,c.substring(d),e);break;case "\n":d+=1;break;default:"x"!==k||g?e?d+=this.kb(a,"",c.substring(d),!0):(e=!0,k=this.na(a,c.substring(d),!1,b),-1!==k&&(d=a.sa?d+k:d+this.na(a,c.substring(d),!0,b))):(d+=this.Sb(a,c.substring(d),!0,b),g=!0)}g||(this.va(a,"",b)?this.Oa=!0:this.Ci=!0);a.I&&this.fe(a,b);(c=a.Ib())&&this.ee(a,b);!a.Ga||a.m!==this.C&&a.m!==this.u&&a.m!==this.o&&(15!==a.m&&10!==a.m||"H"!==a.Y)||(a.ga=!0);!a.Ga||a.m!==this.D&&(15!==a.m&&10!==
a.m||"L"!==a.Y)||(a.o=!0);-1!==a.l&&(a.Ga&&(p=6*a.D),a.I&&(p=6*a.v),a.P>=16384-p||a.ea>=16384-p)&&(this.O="Bounded grid too big",this.Oa=!1,a.l=-1);a.ga&&4===a.l&&""===this.O&&(this.O="Hexagonal rules do not support Sphere",this.Oa=!1,a.l=-1);a.o&&4===a.l&&""===this.O&&(this.O="Triangular rules do not support Sphere",this.Oa=!1,a.l=-1);a.o&&(1===a.l||2===a.l)&&(a.Ba&1||a.za&1)&&(this.O="Triangular rules only support even shifts",this.Oa=!1,a.l=-1);a.aa&&(1===a.l||2===a.l)&&(a.Ba&1||a.za&1)&&(this.O=
"Margolus rules only support even shifts",this.Oa=!1,a.l=-1);!a.I||""!==this.O||(1<a.l&&(this.O="LtL only supports Plane or Torus",this.Oa=!1,a.l=-1),0!==a.l&&1!==a.l)||0!==a.P&&0!==a.ea||(this.O="LtL bounded grid must be finite",this.Oa=!1,a.l=-1);a.u&&a.Ma&&(a.s=!1);a.o&&-1!==a.l&&(0!==(a.P&1)?(this.O="Bounded grid width must be even",this.Oa=!1,a.l=-1):0!==(a.ea&1)&&(this.O="Bounded grid height must be even",this.Oa=!1,a.l=-1));a.la&&0!==this.T[0]&&(this.O="PCA first value must be 0",this.T[0]=
0,this.Oa=!1);a.aa&&(15===this.T[0]&&0!==this.T[15]?(this.O="Margolus last value must be 0 when first is 15",this.Oa=!1):0!==this.T[0]&&15!==this.T[0]&&(this.O="Margolus first value must be 0 or 15",this.Oa=!1));c&&2<a.i&&(this.O="HROT Generations does not support B0",this.Oa=!1);!a.Ga||""!==this.O||(1<a.l&&(this.O="HROT only supports Plane or Torus",this.Oa=!1,a.l=-1),0!==a.l&&1!==a.l)||0!==a.P&&0!==a.ea||(this.O="HROT bounded grid must be finite",this.Oa=!1,a.l=-1);a.Z&&a.s&&""===this.O&&(this.O=
"[R]History not valid with none rule",this.Oa=a.s=!1);a.Z&&a.u&&""===this.O&&(this.O="[R]Super not valid with none rule",this.Oa=a.u=!1);a.o&&a.u&&""===this.O&&(this.O="[R]Super not valid with triangular rule",this.Oa=a.u=!1);a.o&&a.s&&""===this.O&&(this.O="[R]History not valid with triangular rule",this.Oa=a.s=!1);-1===a.i||!a.s||a.I||a.Ga||(this.O=a.la?"[R]History not valid with PCA":"[R]History not valid with Generations",this.Oa=a.s=!1);-1!==a.i&&a.u&&(this.O=a.la?"[R]Super not valid with PCA":
"[R]Super not valid with Generations",this.Oa=a.u=!1);a.na===this.ca&&a.u&&(this.O="[R]Super not valid with Hex Tripod",this.Oa=a.u=!1);a.na===this.ca&&a.s&&(this.O="[R]History not valid with Hex Tripod",this.Oa=a.s=!1);-1===a.i||!this.T[0]||a.I||a.Ga||(this.O="Generations does not support B0",this.Oa=!1);a.I&&a.s&&(this.O="[R]History not valid with LtL",this.Oa=a.s=!1);a.I&&a.u&&(this.O="[R]Super not valid with LtL",this.Oa=a.u=!1);a.Ga&&a.s&&(this.O="[R]History not valid with HROT",this.Oa=a.s=
!1);a.Ga&&a.u&&(this.O="[R]Super not valid with HROT",this.Oa=a.u=!1);a.aa&&a.s&&(this.O="[R]History not valid with Margolus",this.Oa=a.s=!1);a.aa&&a.u&&(this.O="[R]Super not valid with Margolus",this.Oa=a.u=!1);a.aa&&-1!==a.l&&(-1!==a.ea&&0!==(a.ea&1)&&(this.O="Bounded grid height must be even",a.l=-1,this.Oa=!1),-1!==a.P&&0!==(a.P&1)&&(this.O="Bounded grid width must be even",a.l=-1,this.Oa=!1));a.ga&&(l+=1);a.o&&(l+=1);a.ha&&(l+=1);1<l&&(this.O="Multiple neighbourhoods specified",this.Oa=!1,a.ga=
!1,a.o=!1,a.ha=!1);a.u&&(a.i=26);this.Oa&&(a.Ma?8<a.A&&(this.O="Illegal state in pattern for Niemiec",this.Oa=!1,this.Z=!0):a.s?7<a.A&&(this.O="Illegal state in pattern for [R]History",this.Oa=!1,this.Z=!0):a.u?26<a.A&&(this.O="Illegal state in pattern for [R]Super",this.Oa=!1,this.Z=!0):-1!==a.i&&a.A>a.i&&(this.O=a.I?"Illegal state in pattern for LtL":a.Ga?"Illegal state in pattern for HROT":a.la?"Illegal state in pattern for PCA":"Illegal state in pattern for Generations",this.Z=!0,this.Oa=!1))};
Fa.prototype.$c=function(a,c){var b=!0,d=!1,f=0,e=0,g=0,k=0,l=0,p=!0,n=Oa.wu,q=null,m=[],r={},u=null;c.s();var t=c.l();for(""!==t&&"@"===t[0]&&(t="");b&&""!==t;){for(;b&&!d&&""!==t;){if("/"===t[0])c.s();else if("xpm"===t.toLowerCase())c.s();else if('"'===t[0])t=t.substring(1),c.u(t)&&(f=c.L(t),c.h()&&(e=c.i(),c.h()&&(g=c.i(),t=c.l(),'"'===t[t.length-1]&&(t=t.substring(0,t.length-1),c.u(t)&&(k=c.L(t)))))),0<f&&0<e&&1<=k&&2>=k&&0===e%f?7!==f&&15!==f&&31!==f?d=!1:(d=!0,l=0,q=new Uint16Array(f*e),u=new Uint32Array(g)):
b=!1;else switch(t){case "circles":n=Oa.sE;r={};q=[];u=[];break;case "diamonds":n=Oa.tE;r={};q=[];u=[];break;case "hexagons":n=Oa.uE;r={};q=[];u=[];break;case "triangles":n=Oa.wE,r={},q=[],u=[]}for(;c.C();)c.l();t=c.l();""!==t&&"@"===t[0]&&(t="")}for(;b&&d&&""!==t;){if("/"===t[0])c.s();else{if('"'===t[0])if(b=!1,l<g){var v=t.substring(1);if(v.length===k&&void 0===r[v]&&(t=c.l(),"c"===t&&(t=c.l(),'"'===t[t.length-1]))){b=t.substring(0,t.length-1);b=parseInt(b,16);r[v]=l;u[l]=b;if(b>>16!==(b>>8&255)||
b>>16!==(b&255))p=!1;b=!0;c.s()}}else{if(b=!1,'"'===t[t.length-1]&&t.length-2===f*k){t=t.substring(1,t.length-1);var x=0;for(b=!0;b&&x<f;)v=t[x*k],1<k&&(v+=t[x*k+1]),void 0===r[v]?b=!1:q[(l-g)*f+x]=r[v],x+=1}}else l===e+g?(d=!1,m[m.length]={Br:n,width:f,height:e,Ay:g,mn:u.slice(),Ox:q.slice(),Jx:p},r={},q=null,p=!0,n=Oa.wu):b=!1,c.V();l+=1}for(;c.C();)c.l();t=c.l();""!==t&&"@"===t[0]&&(t="")}}b?l===e+g?(m[m.length]={Br:n,width:f,height:e,Ay:g,mn:u.slice(),Ox:q.slice(),Jx:p},a.wa=m):a.wa=null:a.wa=
null};Fa.prototype.hd=function(a,c){var b=a.A,d=[],f=0,e,g=!1;c.s();c.h()&&(f=c.i(),0<=f&&f<b&&(g=!0));for(;g;){g=!1;for(e="";!c.C()&&""!==c.m();)e=""===e?c.l():e+(" "+c.l());d[f]=e;c.s();c.h()&&(f=c.i(),0<=f&&f<b&&(g=!0))}a.Sa=d};Fa.prototype.Wc=function(a,c){var b=a.A;a=a.Da;var d=0,f=0,e=0,g=0,k=!1;c.s();c.h()&&(d=c.i(),k=!0);for(;k;){k=!1;c.h()&&(f=c.i(),c.h()&&(e=c.i(),c.h()&&(g=c.i(),k=!0)));if(k)if(c.h()&&c.X()){var l=c.i();var p=c.i();0<=d&&255>=d&&0<=f&&255>=f&&0<=e&&255>=e&&0<=g&&255>=g&&
0<=l&&255>=l&&0<=p&&255>=p?this.Lb(a,d,f,e,g,l,p):k=!1}else 0<=d&&d<b&&0<=f&&255>=f&&0<=e&&255>=e&&0<=g&&255>=g?a[d]=f<<16|e<<8|g:k=!1;k&&(c.s(),c.h()?d=c.i():k=!1)}};Fa.prototype.wb=function(a,c,b,d,f,e){var g=!1,k=a.length;var l=d.length;var p=l%32;var n=1<<p,q=(l-p)/32,m=0;if(null!==e)for(l=0;!g&&l<e.length;){var r=e[l];if(r.Im===c)for(p=0,g=!0;g&&p<a.length;)0!==this.Ha(a[p],r.inputs[p])&&(g=!1),p+=1;l+=1}if(!g){null!==e&&(r={inputs:[],Im:c},r.inputs=a.slice(),e[e.length]=r);d[d.length]=c;if(q>=
b.Ha){for(l=0;l<k;l+=1)for(p=0;p<b.xa;p+=1)f[l][p][f[l][p].length]=0;b.Ha+=1}for(l=0;l<k;l+=1){b=a[l];d=!1;for(p=0;p<b.length;p+=1)f[l][b[p]][q]|=n,0===b[p]&&(d=!0);d&&(m+=1)}0!==c&&m===k&&(this.v=!0)}return g};Fa.prototype.Dd=function(a){var c=a.length,b=c-2,d=c-1,f=!1;if(1<c){for(;0<=b&&0<=this.Ha(a[b],a[b+1]);)--b;if(0<b){for(f=!0;d>=b&&0>=this.Ha(a[d],a[b]);)--d;var e=a[b];a[b]=a[d];a[d]=e;var g=(c-(b+1))/2|0;for(d=0;d<g;d+=1)e=a[c-d-1],a[c-d-1]=a[b+1+d],a[b+1+d]=e}}return f};Fa.prototype.Ha=
function(a,c){var b=0,d=a.length;if(d===c.length){for(;b<d&&a[b]===c[b];)b+=1;return b===d?0:a[b]-c[b]}return d-c.length};Fa.prototype.Gd=function(a,c,b,d,f){var e,g,k,l=[],p=[],n=[],q=0;for(e=0;e<b;e+=1)for(n[e]=[],g=0;g<f.xa;g+=1)n[e][g]=[];for(e=f.Ha=0;e<d.length;e+=1){var m=d[e].inputs;var r=d[e].Im;if(0===a)this.wb(m,r,f,p,n,null);else if(a===c-1){l=m.slice(1).sort(this.Ha);for(g=0;g<l.length;g+=1)m[g+1]=l[g];do this.wb(m,r,f,p,n,null);while(this.Dd(m))}else{var u=this.ya[f.Qa][a-1];var t=[];
for(g=0;g<u.length;g+=1){for(k=0;k<m.length;k+=1)l[k]=m[u[g][k]];this.wb(l,r,f,p,n,t)&&(q+=1)}}}f.Ia=[];for(e=0;e<b;e+=1)for(f.Ia[e]=[],g=0;g<f.xa;g+=1)f.Ia[e][g]=new Uint32Array(n[e][g].length),f.Ia[e][g].set(n[e][g]);f.qa=new Uint8Array(p.length);f.qa.set(p);f.ab=q};Fa.prototype.nd=function(a,c){var b=-1,d=-1,f=-1,e=0,g,k="",l={},p=0,n=0,q=[],m=null,r;this.v=!1;var u=0;for(r=!0;r&&3>u;){var t=c.U();switch(t.toLowerCase()){case "n_states":r=!1;":"===c.l()?c.h()?(b=c.i()|0,2<=b&&256>=b?r=!0:this.O=
"n_states must be from 2 to 256"):this.O="n_states must be numeric":this.O="n_states missing :";break;case "neighborhood":r=!1;if(":"===c.l()){t=c.l();var v=!1;for(g=0;!v&&g<this.ea.length;)t.toLowerCase()===this.ea[g]?(d=g,e=this.xa[g],v=!0,m=new Int32Array(e+1)):g+=1;r=v;v||(this.O="neighborhood invalid")}else this.O="neighborhood missing :";break;case "symmetries":r=!1;if(-1!==d)if(":"===c.l()){t=c.l();v=!1;for(g=0;!v&&g<this.fa[d].length;)t.toLowerCase()===this.fa[d][g]?(f=g,v=!0):g+=1;r=v;v||
(this.O="symmetries invalid")}else this.O="symmetries missing :";else this.O="symmetries must follow neighborhood";break;default:r=!1}u+=1}if(-1===b||-1===d||-1===f)""===this.O&&(this.O=-1===b?"missing n_states":-1===d?"missing neighborhood":"missing symmetries"),r=!1;c.I();t=c.l();for(""!==t&&"@"===t[0]&&(t="");r&&""!==t;){if("var"===t.toLowerCase()){r=!1;k=c.l();var x=[];if("="===c.l())for(r=!0;r&&!c.C();)if(c.h())g=c.i(),0<=g&&g<=b?x[x.length]=g:(r=!1,this.O="out of range value: "+k+"="+g);else{var w=
c.l();if(void 0!==l[w])for(u=0;u<l[w].length;u+=1)x[x.length]=l[w][u];else r=!1,this.O="var unknown assignment: "+k+"="+w}else this.O="missing =: "+k;r&&(l[k]=x,p+=1)}else if(10>=b&&0===p&&c.C()){if(x=[],r=!1,t.length===e+1){u=0;for(r=!0;r&&u<e;)w=t.charCodeAt(u),48<=w&&w<48+b?(x[x.length]=[w-48],u+=1):(this.O="expected only digits: "+t,r=!1);r&&(w=t.charCodeAt(u),48<=w&&w<48+b?(n=w-48,q[q.length]={inputs:x,Im:n}):(this.O="expected only digits: "+t,r=!1))}}else{r=!1;w=[];w[0]=t;m[0]=c.u(t)?parseInt(t,
10):-1;for(u=1;c.Z();)u<e+1?c.h()?(m[u]=c.i(),w[u]=""):(m[u]=-1,w[u]=c.l()):w[u]=c.l(),u+=1;if(w.length===e+1){t=[];for(k in l){for(u=r=0;u<w.length;u+=1)k===w[u]&&(r+=1);1<r&&(t[t.length]=k)}x=[];var A={};for(u=0;u<t.length;u+=1)A[t[u]]=0;for(r=!0;;){for(u=0;u<e;u+=1)if(v=!1,g=m[u],-1!==g)g>=b?(this.O="state out of range: "+g,r=!1):x[u]=[g];else{var C=w[u];if(t.length)for(g=0;!v&&g<t.length;)t[g]===C?v=!0:g+=1;0<t.length&&v?x[u]=[l[C][A[C]]]:void 0!==l[C]?x[u]=l[C]:(this.O="unknown variable: "+C,
r=!1)}v=!1;g=m[u];if(-1!==g)0>g||g>=b?(this.O="output state out of range: "+g,r=!1):n=g;else{C=w[u];if(0<t.length)for(g=0;!v&&g<t.length;)t[g]===C?v=!0:g+=1;0<t.length&&v?n=l[C][A[C]]:void 0!==l[C]?n=l[C]:(this.O="unknown output variable: "+C,r=!1)}q[q.length]={inputs:x.slice(),Im:n};for(u=0;u<t.length;u+=1)if(A[t[u]]<l[t[u]].length-1){A[t[u]]+=1;break}else A[t[u]]=0;if(u>=t.length)break}}}c.I();t=c.l();""!==t&&"@"===t[0]&&(c.V(),t="")}a.A>b&&(r=!1,this.O="illegal state in pattern");r&&(null===a.N&&
(a.N=new jb),a.xa=b,a.Qa=d,a.ga=d===Oa.Ti?!0:!1,this.Gd(f,this.fa[d].length,e,q,a),a.A=a.xa,this.O="",this.Oa=!0,this.Ci=!1,a.Z=!1,this.Ob(a,a.xa));return r};Fa.prototype.Lb=function(a,c,b,d,f,e,g){var k=a.length,l;a[0]=0;for(l=1;l<k;l+=1){var p=2===k?0:(l-1)/(k-2);a[l]=(f*p+c*(1-p)|0)<<16|(e*p+b*(1-p)|0)<<8|g*p+d*(1-p)|0}};Fa.prototype.Ob=function(a,c){a.Da=new Uint32Array(c);this.Lb(a.Da,255,0,0,255,255,0)};Fa.prototype.Md=function(a){return(new RegExp("neighborhood *: *"+this.ea[Oa.Ti])).test(a.source)};
Fa.prototype.Oc=function(a,c,b,d){4===b?0!==c[a[a[a[a[d]]]]]&&(this.v=!0):0!==c[a[a[a[a[a[a[a[a[d]]]]]]]]]&&(this.v=!0)};Fa.prototype.rd=function(a,c){var b,d=-1,f=-1,e=-1,g=null,k=0,l=null,p=0,n=null,q=0,m=null,r=0,u=0,t=0;this.v=!1;var v=0;for(b=!0;b&&3>v;){b=c.U();switch(b.toLowerCase()){case "num_states":b=!1;"="===c.l()?c.h()?(d=c.i()|0,2<=d&&256>=d?b=!0:this.O="num_states must be from 2 to 256"):this.O="num_states must be numeric":this.O="num_states missing =";break;case "num_neighbors":b=!1;
"="===c.l()?c.h()?(f=c.i()|0,4===f||8===f?b=!0:this.O="num_neighbors must be 4 or 8"):this.O="num_neighbors must be numeric":this.O="num_neighbors missing =";break;case "num_nodes":b=!1;"="===c.l()?c.h()?(e=c.i()|0,e>=f&&1E8>=e?b=!0:this.O="num_nodes out of range"):this.O="num_nodes must be numeric":this.O="num_nodes missing =";break;default:b=!1}v+=1}if(-1===d||-1===f||-1===e)""===this.O&&(this.O=-1===d?"missing num_states":-1===f?"missing num_neighbors":"missing num_nodes"),b=!1;b&&(g=new Uint32Array(e*
d),l=new Uint8Array(e*d),n=new Uint32Array(e),m=new Uint32Array(e));for(c.I();b&&c.h();){q>e?b=!1:(u=c.i(),t=0,n[q]=1===u?p:k,q+=1,m[r]=u,r+=1);for(;b&&c.h();)v=c.i(),1===u?0>v||v>=d?(this.O="bad state value in tree data: "+v,b=!1):(l[p]=v,p+=1):0>v||v>n.length?(this.O="bad node value in tree data: "+v,b=!1):m[v]!==u-1?(this.O="bad node pointer in tree data: "+u,b=!1):(g[k]=n[v],k+=1),t+=1;b&&t!==d&&(this.O="bad number of values on tree data line",b=!1);c.I()}b&&(k+p!==e*d?(this.O="bad count of values in tree data",
b=!1):u!==f+1?(this.O="bad last node (wrong level)",b=!1):a.A>d&&(b=!1,this.O="illegal state in pattern"));b&&(null===a.N&&(a.N=new jb),a.Ya=f,a.ra=d,a.eb=e,a.Xa=n[n.length-1],a.Va=g.slice(0,k),a.Wa=l.slice(0,p),a.vb=this.Md(c),a.ga=a.vb,a.A=a.ra,this.O="",this.Oa=!0,this.Ci=!1,a.Z=!1,this.Oc(a.Va,a.Wa,a.Ya,a.Xa),this.Ob(a,a.ra));return b};Fa.prototype.Tb=function(a,c){var b=!1,d=new Xa(c,!0);a.S.Wa="";a.S.O="";c=d.v("@RULE",-1);if(-1!==c&&!d.C()){a.ub=d.l();var f=d.v("@TREE",-1);-1!==f?(b=this.rd(a,
d))?a.h=a.ub:(""===a.S.O&&(a.S.O="not valid"),a.S.O="@TREE "+a.S.O):(f=d.v("@TABLE",0),-1!==f?(b=this.nd(a,d))?a.h=a.ub:(""===a.S.O&&(a.S.O="not valid"),a.S.O="@TABLE "+a.S.O):a.S.O="@TABLE and @TREE not found");f=d.current-1;b&&(b=d.v("@COLORS",0),-1!==b&&(this.Wc(a,d),d.current-1>f&&(f=d.current-1)),b=d.v("@ICONS",0),-1!==b&&(this.$c(a,d),d.current-1>f&&(f=d.current-1)),b=d.v("@NAMES",0),-1!==b&&(this.hd(a,d),d.current-1>f&&(f=d.current-1)));""===a.S.O&&(a.S.Wa=d.Y(c,f))}};Fa.prototype.create=function(a,
c,b,d,f,e,g){a=new mb(a,this);this.Oa=this.Ci=this.Fa=this.Z=this.v=this.Ka=!1;this.O="";this.index=0;this.ib=!1;this.ub=0;this.Ea=!1;this.Va=this.Ua=0;this.ka=this.la=-1;this.Y=!1;if("!"===c.charAt(0)||"O"===c.charAt(0)||"."===c.charAt(0)||"*"===c.charAt(0)||"o"===c.charAt(0))this.Vc(a,c,b),this.Oa=!0;null===a.W&&(this.Oa=!1,"#Life 1.05"===c.substring(0,10)?this.Nb(a,c,!0,b):"#Life 1.06"===c.substring(0,10)?(this.Tc(a,c,b),this.Oa=!0):"#"===c[0]||"x"===c[0]?(this.Rb(a,c,b),null!==a.W||a.sa||a.Ca||
(this.Nb(a,c,!1,b),this.Ci=!1,a.ia=null,a.s=!1,a.u=!1,a.A=2,a.Za=0)):(this.Rb(a,c,b),a.Ca&&(a=null)));a&&a.sa&&(this.O="Pattern too big",this.Fa=a.Ca=!0,this.Oa=!1);a&&(-1!==a.l?(c=a.h.lastIndexOf(":"),a.Ra=a.h.substring(c),a.h=a.h.substring(0,c)):a.Ra="");a&&null===a.W&&""===this.O&&(this.O="Invalid pattern",a=null,this.Oa=!1);a&&a.Ca&&!a.sa&&(this.Oa=!1);a&&(""!==a.C&&"\n"!==a.C[a.C.length-1]&&(a.C+="\n"),""!==a.pa&&"\n"!==a.pa[a.pa.length-1]&&(a.pa+="\n"),""!==this.O&&(a.ga||a.o)&&null===a.h.match(/[0-9]/)&&
(a.ga=!1,a.o=!1),""===this.O||this.Fa||this.Z||(a.$a=this.O,a.Ea=a.h,-1!==a.l?(c=a.h.lastIndexOf(":"),-1!==c&&(a.Ra=a.h.substring(c),a.h=a.h.substring(0,c))):a.Ra="",a.aa=!1,a.la=!1,a.Z=!1,a.s=!1,a.u=!1,a.Ma=!1,a.ga=!1,a.o=!1,a.ma=-1,a.ha=!1,a.I=!1,a.Bz=a.Ga,a.Ga=!1,bb.Xx(a)?(d=null===a.qa?a.ra:a.xa,a.A>d?(this.O="Illegal state in pattern",this.Z=!0):(a.A=d,this.O="",this.Oa=!0,this.Ci=!1,a.Z=!1)):(c=a.pa.indexOf("@RULE"),-1!==c&&(c=a.pa.substring(c),this.Tb(a,c)),-1===a.ra&&null===a.qa&&this.Ad(a,
d,f,e,g))));return a};Fa.prototype.yd=function(a){var c=a.indexOf("@RULE");if(-1===c)a="";else{var b=a.indexOf("\x3c!--",c);a=-1===b?0===c?a:a.substring(c):a.substring(c,b);a=a.replace(/<li>/g,"# ");a=a.replace(/<[^<]*>/g,"")}return a};Fa.prototype.zd=function(a,c,b){if(4===c.readyState)if(200===c.status){c=a.yd(c.responseText);var d=performance.now()-this.time;this.time=performance.now();if(""===c)b.S.O="@RULE not found",bb.Hp(b);else{a.Tb(b,c);var f=performance.now()-this.time;-1!==b.ra||null!==
b.qa?bb.add(b,d,f,c.length,a.Wa,a.v):bb.Hp(b)}}else b.$a+="\n\nRepository lookup failed with status "+c.status,bb.Hp(b)};Fa.prototype.vd=function(a){bb.Hp(a)};Fa.prototype.Ad=function(a,c,b,d,f){var e=this,g=null,k=a.h,l="";k=k.replace(/ /g,"_");l="/wiki/Rule:"+k;this.time=performance.now();this.Ka=!0;f?a.N=f.g.N:a.N=null;bb.yB(a,c,b,d,f)||(g=new XMLHttpRequest,""!==Ja.su&&(l=Ja.su+k+Ja.dz),Ra(g,"load",function(){e.zd(e,g,a)},!1),Ra(g,"error",function(){e.vd(a)},!1),g.open("GET",l,!0),g.send(null))};
var lb={Or:[48,48,48,0,255,127,127,0,255,148,148,148,128,255,0,255,0,128,0,128,255,1,159,0,159,0,1,255,254,96,0,1,159,96,255,254,254,96,255,126,125,21,21,126,125,125,21,126,255,116,116,116,255,116,116,116,255,228,227,0,28,255,27,255,27,28,0,228,227,227,0,228,27,28,255,59,59,59,234,195,176,175,196,255,171,194,68,194,68,171,68,171,194,72,184,71,184,71,72,71,72,184,169,255,188,252,179,63,63,252,179,179,63,252,80,9,0,0,80,9,9,0,80,255,175,250,199,134,213,115,100,95,188,163,0,0,188,163,163,0,188,203,73,
0,0,203,73,73,0,203,94,189,0,189,0,94,0,94,189,187,243,119,55,125,32,125,32,55,32,55,125,255,102,185,102,185,255,120,209,168,208,166,119,135,96,192,182,255,41,83,153,130,247,88,55,89,247,55,88,55,247,87,75,0,0,87,75,75,0,87,200,135,59,51,213,127,255,255,162,255,37,182,37,182,255,228,57,117,142,163,210,57,117,228,193,255,246,188,107,123,123,194,107,145,59,5,5,145,59,59,5,145,119,39,198,40,197,23,197,23,40,23,40,197,178,199,158,255,201,121,134,223,223,39,253,84,149,203,15,203,15,149,15,149,203,152,
144,90,143,75,139,71,97,132,224,65,219,65,219,224,255,255,40,218,223,69,74,241,0,241,0,74,0,74,241,122,171,51,220,211,227,61,127,87,90,124,176,36,39,13,165,142,255,255,38,255,38,255,255,83,50,107,224,142,165,255,181,9,9,255,181,181,9,255,140,238,70,255,74,5,74,5,255,138,84,51,31,172,101,177,115,17,221,0,0,0,221,0,0,0,221,220,255,200,0,41,50,255,150,205,178,45,116,113,255,189,47,0,44,40,119,171,205,107,255,177,115,172,133,73,236,109,0,168,168,46,207,188,181,203,212,188,35,90,97,52,39,209,184,41,164,
152,227,46,70,46,70,227,211,156,255,98,146,222,136,56,95,102,54,152,86,142,0,142,0,86,0,86,142,86,223,96,246,135,46,4,208,120,212,233,158,177,92,214,104,147,88,149,240,147,227,93,148,72,255,133,209,27,194,147,255,255,44,93,0,160,36,158,182,233,0,96,94,217,218,103,88,163,154,38,118,114,139,94,0,43,113,164,174,168,188,114,0,23,119,42,86,93,255,226,202,80,191,155,255,158,136,0,247,62,234,146,88,0,183,229,110,212,36,0,143,161,105,191,210,133,164,0,41,30,89,164,0,132,30,89,42,178,222,217,121,22,11,221,
107,22,69,151,255,45,158,3,158,3,45,3,45,158,86,42,29,9,122,22,213,209,110,53,221,57,159,101,91,93,140,45,247,213,37,185,34,0,0,185,34,34,0,185,236,0,172,210,180,78,231,107,221,162,49,43,43,162,49,49,43,162,36,248,213,114,0,214,213,36,248,149,34,243,185,158,167,144,122,224,34,245,149,255,31,98,31,98,255,152,200,193,255,80,95,128,123,63,102,62,72,255,62,148,151,226,108,159,99,255,226,255,126,98,223,136,80,95,255,225,153,15,73,41,211,212,71,41,83,217,187,180,235,79,0,166,127,251,135,243,229,41,0,41,
0,229,82,255,216,141,174,249,249,215,255,167,31,79,31,79,167,213,102,185,255,215,83,4,2,40,224,171,220,41,0,4,6,50,90,221,15,113,15,113,221,33,0,115,108,23,90,182,215,36],Nr:[],Gf:{aliceblue:["AliceBlue",240,248,255],antiquewhite:["AntiqueWhite",250,235,215],aqua:["Aqua",0,255,255],aquamarine:["Aquamarine",127,255,212],azure:["Azure",240,255,255],beige:["Beige",245,245,220],bisque:["Bisque",255,228,196],black:["Black",0,0,0],blanchedalmond:["BlanchedAlmond",255,235,205],blue:["Blue",0,0,255],blueviolet:["BlueViolet",
138,43,226],brown:["Brown",165,42,42],burlywood:["BurlyWood",222,184,135],cadetblue:["CadetBlue",95,158,160],chartreuse:["Chartreuse",127,255,0],chocolate:["Chocolate",210,105,30],coral:["Coral",255,127,80],cornflowerblue:["CornflowerBlue",100,149,237],cornsilk:["Cornsilk",255,248,220],crimson:["Crimson",220,20,60],cyan:["Cyan",0,255,255],darkblue:["DarkBlue",0,0,139],darkcyan:["DarkCyan",0,139,139],darkgoldenrod:["DarkGoldenRod",184,134,11],darkgray:["DarkGray",169,169,169],darkgreen:["DarkGreen",
0,100,0],darkkhaki:["DarkKhaki",189,183,107],darkmagenta:["DarkMagenta",139,0,139],darkolivegreen:["DarkOliveGreen",85,107,47],darkorange:["DarkOrange",255,140,0],darkorchid:["DarkOrchid",153,50,204],darkred:["DarkRed",139,0,0],darksalmon:["DarkSalmon",233,150,122],darkseagreen:["DarkSeaGreen",143,188,143],darkslateblue:["DarkSlateBlue",72,61,139],darkslategray:["DarkSlateGray",47,79,79],darkturquoise:["DarkTurquoise",0,206,209],darkviolet:["DarkViolet",148,0,211],deeppink:["DeepPink",255,20,147],
deepskyblue:["DeepSkyBlue",0,191,255],dimgray:["DimGray",105,105,105],dodgerblue:["DodgerBlue",30,144,255],firebrick:["FireBrick",178,34,34],floralwhite:["FloralWhite",255,250,240],forestgreen:["ForestGreen",34,139,34],fuchsia:["Fuchsia",255,0,255],gainsboro:["Gainsboro",220,220,220],ghostwhite:["GhostWhite",248,248,255],gold:["Gold",255,215,0],goldenrod:["GoldenRod",218,165,32],gray:["Gray",128,128,128],green:["Green",0,128,0],greenyellow:["GreenYellow",173,255,47],honeydew:["HoneyDew",240,255,240],
hotpink:["HotPink",255,105,180],indianred:["IndianRed",205,92,92],indigo:["Indigo",75,0,130],ivory:["Ivory",255,255,240],khaki:["Khaki",240,230,140],lavender:["Lavender",230,230,250],lavenderblush:["LavenderBlush",255,240,245],lawngreen:["LawnGreen",124,252,0],lemonchiffon:["LemonChiffon",255,250,205],lightblue:["LightBlue",173,216,230],lightcoral:["LightCoral",240,128,128],lightcyan:["LightCyan",224,255,255],lightgoldenrodyellow:["LightGoldenRodYellow",250,250,210],lightgray:["LightGray",211,211,
211],lightgreen:["LightGreen",144,238,144],lightpink:["LightPink",255,182,193],lightsalmon:["LightSalmon",255,160,122],lightseagreen:["LightSeaGreen",32,178,170],lightskyblue:["LightSkyBlue",135,206,250],lightslategray:["LightSlateGray",119,136,153],lightsteelblue:["LightSteelBlue",176,196,222],lightyellow:["LightYellow",255,255,224],lime:["Lime",0,255,0],limegreen:["LimeGreen",50,205,50],linen:["Linen",250,240,230],magenta:["Magenta",255,0,255],maroon:["Maroon",128,0,0],mediumaquamarine:["MediumAquaMarine",
102,205,170],mediumblue:["MediumBlue",0,0,205],mediumorchid:["MediumOrchid",186,85,211],mediumpurple:["MediumPurple",147,112,219],mediumseagreen:["MediumSeaGreen",60,179,113],mediumslateblue:["MediumSlateBlue",123,104,238],mediumspringgreen:["MediumSpringGreen",0,250,154],mediumturquoise:["MediumTurquoise",72,209,204],mediumvioletred:["MediumVioletRed",199,21,133],midnightblue:["MidnightBlue",25,25,112],mintcream:["MintCream",245,255,250],mistyrose:["MistyRose",255,228,225],moccasin:["Moccasin",255,
228,181],navajowhite:["NavajoWhite",255,222,173],navy:["Navy",0,0,128],oldlace:["OldLace",253,245,230],olive:["Olive",128,128,0],olivedrab:["OliveDrab",107,142,35],orange:["Orange",255,165,0],orangered:["OrangeRed",255,69,0],orchid:["Orchid",218,112,214],palegoldenrod:["PaleGoldenRod",238,232,170],palegreen:["PaleGreen",152,251,152],paleturquoise:["PaleTurquoise",175,238,238],palevioletred:["PaleVioletRed",219,112,147],papayawhip:["PapayaWhip",255,239,213],peachpuff:["PeachPuff",255,218,185],peru:["Peru",
205,133,63],pink:["Pink",255,192,203],plum:["Plum",221,160,221],powderblue:["PowderBlue",176,224,230],purple:["Purple",128,0,128],rebeccapurple:["RebeccaPurple",102,51,153],red:["Red",255,0,0],rosybrown:["RosyBrown",188,143,143],royalblue:["RoyalBlue",65,105,225],saddlebrown:["SaddleBrown",139,69,19],salmon:["Salmon",250,128,114],sandybrown:["SandyBrown",244,164,96],seagreen:["SeaGreen",46,139,87],seashell:["SeaShell",255,245,238],sienna:["Sienna",160,82,45],silver:["Silver",192,192,192],skyblue:["SkyBlue",
135,206,235],slateblue:["SlateBlue",106,90,205],slategray:["SlateGray",112,128,144],snow:["Snow",255,250,250],springgreen:["SpringGreen",0,255,127],steelblue:["SteelBlue",70,130,180],tan:["Tan",210,180,140],teal:["Teal",0,128,128],thistle:["Thistle",216,191,216],tomato:["Tomato",255,99,71],turquoise:["Turquoise",64,224,208],violet:["Violet",238,130,238],wheat:["Wheat",245,222,179],white:["White",255,255,255],whitesmoke:["WhiteSmoke",245,245,245],yellow:["Yellow",255,255,0],yellowgreen:["YellowGreen",
154,205,50]},yF:function(){return this.Nr},ke:function(){var a,c;if(!this.LC)for(this.LC=!0,a=c=0;256>a;a+=1)lb.Nr[a]=lb.Or[c]<<16|lb.Or[c+1]<<8|lb.Or[c+2],c+=3}};Va.prototype.set=function(a){this.F=a.F;this.G=a.G;this.J=a.J;this.K=a.K};rb.prototype.T=function(a,c){var b=c.length,d=c[0].length,f,e,g=0,k,l,p=0,n=this.M,q=0,m=n[q],r=m.length;Array.jg(this.l,c);for(f=0;f<b;f+=1){var u=this.l[f];for(c=l=0;c<d;c+=1)if(k=u[c])for(e=15;0<=e;--e){if(0!==(k&1<<e)){var t=p;var v=l;var x=m[g];g+=1;a[t][v]=x&
255;a[t][v+1]=x>>8&255;a[t+1][v]=x>>16&255;a[t+1][v+1]=x>>24;t+=2;x=m[g];g+=1;a[t][v]=x&255;a[t][v+1]=x>>8&255;a[t+1][v]=x>>16&255;a[t+1][v+1]=x>>24;t+=2;x=m[g];g+=1;a[t][v]=x&255;a[t][v+1]=x>>8&255;a[t+1][v]=x>>16&255;a[t+1][v+1]=x>>24;t+=2;x=m[g];g+=1;a[t][v]=x&255;a[t][v+1]=x>>8&255;a[t+1][v]=x>>16&255;a[t+1][v+1]=x>>24;t+=2;x=m[g];g+=1;a[t][v]=x&255;a[t][v+1]=x>>8&255;a[t+1][v]=x>>16&255;a[t+1][v+1]=x>>24;t+=2;x=m[g];g+=1;a[t][v]=x&255;a[t][v+1]=x>>8&255;a[t+1][v]=x>>16&255;a[t+1][v+1]=x>>24;
t+=2;x=m[g];g+=1;a[t][v]=x&255;a[t][v+1]=x>>8&255;a[t+1][v]=x>>16&255;a[t+1][v+1]=x>>24;t+=2;x=m[g];g+=1;a[t][v]=x&255;a[t][v+1]=x>>8&255;a[t+1][v]=x>>16&255;a[t+1][v+1]=x>>24;g>=r&&(q+=1,m=n[q],g=0)}l+=2}else l+=32;p+=16}};rb.prototype.W=function(a,c){var b=c.length,d=c[0].length,f,e,g=0,k;var l=0;var p,n=0,q=this.M,m=0,r=q[m],u=r.length,t=q.length;var v=this.S.D;Array.jg(c,this.l);for(e=0;e<b;e+=1){var x=c[e];for(f=0;f<d;f+=1)(k=x[f])&&(l+=v[k])}if(l)for(e=0;e<b;e+=1){x=c[e];for(f=p=0;f<d;f+=1)if(k=
x[f])for(l=15;0<=l;--l){if(0!==(k&1<<l)){var w=n;v=p;r[g]=a[w][v]|a[w][v+1]<<8|a[w+1][v]<<16|a[w+1][v+1]<<24;g+=1;w+=2;r[g]=a[w][v]|a[w][v+1]<<8|a[w+1][v]<<16|a[w+1][v+1]<<24;g+=1;w+=2;r[g]=a[w][v]|a[w][v+1]<<8|a[w+1][v]<<16|a[w+1][v+1]<<24;g+=1;w+=2;r[g]=a[w][v]|a[w][v+1]<<8|a[w+1][v]<<16|a[w+1][v+1]<<24;g+=1;w+=2;r[g]=a[w][v]|a[w][v+1]<<8|a[w+1][v]<<16|a[w+1][v+1]<<24;g+=1;w+=2;r[g]=a[w][v]|a[w][v+1]<<8|a[w+1][v]<<16|a[w+1][v+1]<<24;g+=1;w+=2;r[g]=a[w][v]|a[w][v+1]<<8|a[w+1][v]<<16|a[w+1][v+1]<<
24;g+=1;w+=2;r[g]=a[w][v]|a[w][v+1]<<8|a[w+1][v]<<16|a[w+1][v+1]<<24;g+=1;g>=u&&(m+=1,g=0,m>=t&&(Array.gm(q,"Snapshot.gridBufferRow"),t+=1));r=q[m]}p+=2}else p+=32;n+=16}};rb.prototype.U=function(a,c){var b=c.length,d=c[0].length,f,e,g,k,l=0,p,n,q=0,m=this.s,r=0,u=m[r],t=u.length;Array.jg(this.o,c);for(e=0;e<b;e+=1){var v=c[e];for(f=n=0;f<d;f+=1)if(p=v[f])for(g=15;0<=g;--g){if(0!==(p&1<<g))for(k=n;k<n+16;k+=4){var x=q;var w=u[l];l+=1;a[x][k]=w&255;a[x][k+1]=w>>8&255;a[x][k+2]=w>>16&255;a[x][k+3]=
w>>24;x+=1;w=u[l];l+=1;a[x][k]=w&255;a[x][k+1]=w>>8&255;a[x][k+2]=w>>16&255;a[x][k+3]=w>>24;x+=1;w=u[l];l+=1;a[x][k]=w&255;a[x][k+1]=w>>8&255;a[x][k+2]=w>>16&255;a[x][k+3]=w>>24;x+=1;w=u[l];l+=1;a[x][k]=w&255;a[x][k+1]=w>>8&255;a[x][k+2]=w>>16&255;a[x][k+3]=w>>24;x+=1;w=u[l];l+=1;a[x][k]=w&255;a[x][k+1]=w>>8&255;a[x][k+2]=w>>16&255;a[x][k+3]=w>>24;x+=1;w=u[l];l+=1;a[x][k]=w&255;a[x][k+1]=w>>8&255;a[x][k+2]=w>>16&255;a[x][k+3]=w>>24;x+=1;w=u[l];l+=1;a[x][k]=w&255;a[x][k+1]=w>>8&255;a[x][k+2]=w>>16&
255;a[x][k+3]=w>>24;x+=1;w=u[l];l+=1;a[x][k]=w&255;a[x][k+1]=w>>8&255;a[x][k+2]=w>>16&255;a[x][k+3]=w>>24;x+=1;w=u[l];l+=1;a[x][k]=w&255;a[x][k+1]=w>>8&255;a[x][k+2]=w>>16&255;a[x][k+3]=w>>24;x+=1;w=u[l];l+=1;a[x][k]=w&255;a[x][k+1]=w>>8&255;a[x][k+2]=w>>16&255;a[x][k+3]=w>>24;x+=1;w=u[l];l+=1;a[x][k]=w&255;a[x][k+1]=w>>8&255;a[x][k+2]=w>>16&255;a[x][k+3]=w>>24;x+=1;w=u[l];l+=1;a[x][k]=w&255;a[x][k+1]=w>>8&255;a[x][k+2]=w>>16&255;a[x][k+3]=w>>24;x+=1;w=u[l];l+=1;a[x][k]=w&255;a[x][k+1]=w>>8&255;a[x][k+
2]=w>>16&255;a[x][k+3]=w>>24;x+=1;w=u[l];l+=1;a[x][k]=w&255;a[x][k+1]=w>>8&255;a[x][k+2]=w>>16&255;a[x][k+3]=w>>24;x+=1;w=u[l];l+=1;a[x][k]=w&255;a[x][k+1]=w>>8&255;a[x][k+2]=w>>16&255;a[x][k+3]=w>>24;x+=1;w=u[l];l+=1;a[x][k]=w&255;a[x][k+1]=w>>8&255;a[x][k+2]=w>>16&255;a[x][k+3]=w>>24;l>=t&&(r+=1,u=m[r],l=0)}n+=16}else n+=256;q+=16}};rb.prototype.P=function(a,c){var b=c.length,d=c[0].length,f,e,g,k,l=0,p,n,q=0,m=this.I,r=0,u=m[r],t=u.length;Array.jg(this.m,c);for(e=0;e<b;e+=1){var v=c[e];for(f=n=
0;f<d;f+=1)if(p=v[f])for(g=15;0<=g;--g){if(0!==(p&1<<g))for(k=n;k<n+16;k+=4){var x=q;var w=u[l];l+=1;a[x][k]=w&255;a[x][k+1]=w>>8&255;a[x][k+2]=w>>16&255;a[x][k+3]=w>>24;x+=1;w=u[l];l+=1;a[x][k]=w&255;a[x][k+1]=w>>8&255;a[x][k+2]=w>>16&255;a[x][k+3]=w>>24;x+=1;w=u[l];l+=1;a[x][k]=w&255;a[x][k+1]=w>>8&255;a[x][k+2]=w>>16&255;a[x][k+3]=w>>24;x+=1;w=u[l];l+=1;a[x][k]=w&255;a[x][k+1]=w>>8&255;a[x][k+2]=w>>16&255;a[x][k+3]=w>>24;x+=1;w=u[l];l+=1;a[x][k]=w&255;a[x][k+1]=w>>8&255;a[x][k+2]=w>>16&255;a[x][k+
3]=w>>24;x+=1;w=u[l];l+=1;a[x][k]=w&255;a[x][k+1]=w>>8&255;a[x][k+2]=w>>16&255;a[x][k+3]=w>>24;x+=1;w=u[l];l+=1;a[x][k]=w&255;a[x][k+1]=w>>8&255;a[x][k+2]=w>>16&255;a[x][k+3]=w>>24;x+=1;w=u[l];l+=1;a[x][k]=w&255;a[x][k+1]=w>>8&255;a[x][k+2]=w>>16&255;a[x][k+3]=w>>24;x+=1;w=u[l];l+=1;a[x][k]=w&255;a[x][k+1]=w>>8&255;a[x][k+2]=w>>16&255;a[x][k+3]=w>>24;x+=1;w=u[l];l+=1;a[x][k]=w&255;a[x][k+1]=w>>8&255;a[x][k+2]=w>>16&255;a[x][k+3]=w>>24;x+=1;w=u[l];l+=1;a[x][k]=w&255;a[x][k+1]=w>>8&255;a[x][k+2]=w>>
16&255;a[x][k+3]=w>>24;x+=1;w=u[l];l+=1;a[x][k]=w&255;a[x][k+1]=w>>8&255;a[x][k+2]=w>>16&255;a[x][k+3]=w>>24;x+=1;w=u[l];l+=1;a[x][k]=w&255;a[x][k+1]=w>>8&255;a[x][k+2]=w>>16&255;a[x][k+3]=w>>24;x+=1;w=u[l];l+=1;a[x][k]=w&255;a[x][k+1]=w>>8&255;a[x][k+2]=w>>16&255;a[x][k+3]=w>>24;x+=1;w=u[l];l+=1;a[x][k]=w&255;a[x][k+1]=w>>8&255;a[x][k+2]=w>>16&255;a[x][k+3]=w>>24;x+=1;w=u[l];l+=1;a[x][k]=w&255;a[x][k+1]=w>>8&255;a[x][k+2]=w>>16&255;a[x][k+3]=w>>24;l>=t&&(r+=1,u=m[r],l=0)}n+=16}else n+=256;q+=16}};
rb.prototype.X=function(a,c){var b=c.length,d=c[0].length,f,e,g=0,k;var l=0;var p,n=0,q=this.s,m=0,r=q[m],u=r.length,t=q.length;var v=this.S.D;Array.jg(c,this.o);for(e=0;e<b;e+=1){var x=c[e];for(f=0;f<d;f+=1)(k=x[f])&&(l+=v[k])}if(l)for(e=0;e<b;e+=1){x=c[e];for(f=p=0;f<d;f+=1)if(k=x[f])for(l=15;0<=l;--l){if(0!==(k&1<<l))for(v=p;v<p+16;v+=4){var w=n;r[g]=a[w][v]|a[w][v+1]<<8|a[w][v+2]<<16|a[w][v+3]<<24;g+=1;w+=1;r[g]=a[w][v]|a[w][v+1]<<8|a[w][v+2]<<16|a[w][v+3]<<24;g+=1;w+=1;r[g]=a[w][v]|a[w][v+1]<<
8|a[w][v+2]<<16|a[w][v+3]<<24;g+=1;w+=1;r[g]=a[w][v]|a[w][v+1]<<8|a[w][v+2]<<16|a[w][v+3]<<24;g+=1;w+=1;r[g]=a[w][v]|a[w][v+1]<<8|a[w][v+2]<<16|a[w][v+3]<<24;g+=1;w+=1;r[g]=a[w][v]|a[w][v+1]<<8|a[w][v+2]<<16|a[w][v+3]<<24;g+=1;w+=1;r[g]=a[w][v]|a[w][v+1]<<8|a[w][v+2]<<16|a[w][v+3]<<24;g+=1;w+=1;r[g]=a[w][v]|a[w][v+1]<<8|a[w][v+2]<<16|a[w][v+3]<<24;g+=1;w+=1;r[g]=a[w][v]|a[w][v+1]<<8|a[w][v+2]<<16|a[w][v+3]<<24;g+=1;w+=1;r[g]=a[w][v]|a[w][v+1]<<8|a[w][v+2]<<16|a[w][v+3]<<24;g+=1;w+=1;r[g]=a[w][v]|
a[w][v+1]<<8|a[w][v+2]<<16|a[w][v+3]<<24;g+=1;w+=1;r[g]=a[w][v]|a[w][v+1]<<8|a[w][v+2]<<16|a[w][v+3]<<24;g+=1;w+=1;r[g]=a[w][v]|a[w][v+1]<<8|a[w][v+2]<<16|a[w][v+3]<<24;g+=1;w+=1;r[g]=a[w][v]|a[w][v+1]<<8|a[w][v+2]<<16|a[w][v+3]<<24;g+=1;w+=1;r[g]=a[w][v]|a[w][v+1]<<8|a[w][v+2]<<16|a[w][v+3]<<24;g+=1;w+=1;r[g]=a[w][v]|a[w][v+1]<<8|a[w][v+2]<<16|a[w][v+3]<<24;g+=1;g>=u&&(m+=1,g=0,m>=t&&(Array.gm(q,"Snapshot.overlayGridBufferRow"),t+=1),r=q[m])}p+=16}else p+=256;n+=16}};rb.prototype.V=function(a,c){var b=
c.length,d=c[0].length,f,e,g=0,k;var l=0;var p,n=0,q=this.I,m=0,r=q[m],u=r.length,t=q.length;var v=this.S.D;Array.jg(c,this.m);for(e=0;e<b;e+=1){var x=c[e];for(f=0;f<d;f+=1)(k=x[f])&&(l+=v[k])}if(l)for(e=0;e<b;e+=1){x=c[e];for(f=p=0;f<d;f+=1)if(k=x[f])for(l=15;0<=l;--l){if(0!==(k&1<<l))for(v=p;v<p+16;v+=4){var w=n;r[g]=a[w][v]|a[w][v+1]<<8|a[w][v+2]<<16|a[w][v+3]<<24;g+=1;w+=1;r[g]=a[w][v]|a[w][v+1]<<8|a[w][v+2]<<16|a[w][v+3]<<24;g+=1;w+=1;r[g]=a[w][v]|a[w][v+1]<<8|a[w][v+2]<<16|a[w][v+3]<<24;g+=
1;w+=1;r[g]=a[w][v]|a[w][v+1]<<8|a[w][v+2]<<16|a[w][v+3]<<24;g+=1;w+=1;r[g]=a[w][v]|a[w][v+1]<<8|a[w][v+2]<<16|a[w][v+3]<<24;g+=1;w+=1;r[g]=a[w][v]|a[w][v+1]<<8|a[w][v+2]<<16|a[w][v+3]<<24;g+=1;w+=1;r[g]=a[w][v]|a[w][v+1]<<8|a[w][v+2]<<16|a[w][v+3]<<24;g+=1;w+=1;r[g]=a[w][v]|a[w][v+1]<<8|a[w][v+2]<<16|a[w][v+3]<<24;g+=1;w+=1;r[g]=a[w][v]|a[w][v+1]<<8|a[w][v+2]<<16|a[w][v+3]<<24;g+=1;w+=1;r[g]=a[w][v]|a[w][v+1]<<8|a[w][v+2]<<16|a[w][v+3]<<24;g+=1;w+=1;r[g]=a[w][v]|a[w][v+1]<<8|a[w][v+2]<<16|a[w][v+
3]<<24;g+=1;w+=1;r[g]=a[w][v]|a[w][v+1]<<8|a[w][v+2]<<16|a[w][v+3]<<24;g+=1;w+=1;r[g]=a[w][v]|a[w][v+1]<<8|a[w][v+2]<<16|a[w][v+3]<<24;g+=1;w+=1;r[g]=a[w][v]|a[w][v+1]<<8|a[w][v+2]<<16|a[w][v+3]<<24;g+=1;w+=1;r[g]=a[w][v]|a[w][v+1]<<8|a[w][v+2]<<16|a[w][v+3]<<24;g+=1;w+=1;r[g]=a[w][v]|a[w][v+1]<<8|a[w][v+2]<<16|a[w][v+3]<<24;g+=1;g>=u&&(m+=1,g=0,m>=t&&(Array.gm(q,"Snapshot.colourGridBufferRow"),t+=1),r=q[m])}p+=16}else p+=256;n+=16}};ib.prototype.U=function(){for(var a=0,c=0;c<this.i.length;)a+=this.o[c].length*
this.o[c][0].length*2,a+=this.l[c].length*this.l[c][0].length*2,a+=this.A[c].length*this.A[c][0].length*4,a+=this.v[c].length*this.v[c][0].length*4,this.s[c]&&(a+=this.m[c].length*this.m[c][0].length*2,a+=this.s[c].length*this.s[c][0].length*4),c+=1;return a};ib.prototype.Y=function(){for(var a=0,c=0;c<this.i.length;)this.i[c]&&(a+=1),c+=1;return a};ib.prototype.reset=function(){this.h=[];this.i=[];this.C=0;this.index=-1};ib.prototype.X=function(a){var c=null;if(0<this.h.length)for(c=this.h[this.index];c&&
c.counter>a;)c=null,0<this.index&&(this.M(this.h[this.index].index),this.h.pop(),--this.index,0<=this.index&&(c=this.h[this.index]));return c};ib.prototype.V=function(a,c,b,d,f,e,g,k,l,p,n,q,m,r,u,t,v,x){var w=null!==f;if(x)t=this.u;else if(51>this.h.length)t=this.L(t,v,!1,w),this.index+=1;else{this.index+=1;if(51<=this.index){this.index=50;this.M(this.h[0].index);for(x=0;50>x;x+=1)this.h[x]=this.h[x+1];this.h.pop();this.L(t,v,!1,w)}t=this.h[this.index]}t.W(a,c);t.V(b,d);w&&t.X(f,e);t.i.F=g.F;t.i.J=
g.J;t.i.G=g.G;t.i.K=g.K;t.h.F=k.F;t.h.J=k.J;t.h.G=k.G;t.h.K=k.K;t.D=l;t.u=p;t.A=n;t.counter=q;t.L=m;t.v=r;t.C=u};ib.prototype.M=function(a){this.i[a]=!1};ib.prototype.W=function(a,c,b){for(var d=0,f=!1;d<this.C&&!f;)this.i[d]?d+=1:f=!0;f?(a=d,this.i[d]=!0):(this.o[d]=Array.matrix(na.Aa,c,a,0,this.N,"Snapshot.tileGrid"+d),this.l[d]=Array.matrix(na.Aa,c,a,0,this.N,"Snapshot.colourTileGrid"+d),this.A[d]=Array.matrix(na.Ub,1,1024,0,this.N,"Snapshot.gridBuffer"+d),this.v[d]=Array.matrix(na.Ub,1,8192,0,
this.N,"Snapshot.colourGridBuffer"+d),b&&(this.m[d]=Array.matrix(na.Aa,c,a,0,this.N,"Snapshot.overlayTileGrid"+d),this.s[d]=Array.matrix(na.Ub,1,8192,0,this.N,"Snapshot.overlayGridBuffer"+d)),this.i[d]=!0,this.C+=1,a=d);return a};ib.prototype.L=function(a,c,b,d){a=this.W(a,c,d);b?this.u=b=new rb(this,a,d):(b=new rb(this,a,d),this.h[this.h.length]=b);return b};ib.prototype.I=function(a,c,b){a.set(c,b)};ib.prototype.P=function(a,c,b,d,f,e,g,k){var l=a.l,p=a.m,n=a.o,q=a.l.length,m=0,r=a.index;this.o[r]=
Array.matrix(na.Aa,b,c,0,this.N,"Snapshot.tileGrid"+r);this.l[r]=Array.matrix(na.Aa,b,c,0,this.N,"Snapshot.colourTileGrid"+r);k&&(this.m[r]=Array.matrix(na.Aa,b,c,0,this.N,"Snapshot.overlayTileGrid"+r));a.l=this.o[r];a.m=this.l[r];k&&(a.o=this.m[r]);if(0<d||0<f)for(;m<q;)this.I(a.l[m+f],l[m],d),this.I(a.m[m+f],p[m],d),k&&this.I(a.o[m+f],n[m],d),m+=1;a.i.F+=e;a.i.J+=e;a.i.G+=g;a.i.K+=g;a.h.F+=e;a.h.J+=e;a.h.G+=g;a.h.K+=g};ib.prototype.T=function(a,c,b,d,f,e,g){var k;this.u&&this.P(this.u,a,c,b,d,f,
e,g);var l=0;for(k=this.h.length;l<k;)this.P(this.h[l],a,c,b,d,f,e,g),l+=1;for(l=0;l<this.i.length;)this.i[l]||(this.o[l]=Array.matrix(na.Aa,c,a,0,this.N,"Snapshot.tileGrid"+l),this.l[l]=Array.matrix(na.Aa,c,a,0,this.N,"Snapshot.colourTileGrid"+l),g&&(this.m[l]=Array.matrix(na.Aa,c,a,0,this.N,"Snapshot.overlayTileGrid"+l))),l+=1};La.prototype.ib=function(a){this.U.ke(a);this.T=this.N.h(na.fd,this.D.length,"HROT.birthChances");for(a=0;a<this.D.length;a+=1)this.T[a]=this.U.random();this.W=this.N.h(na.fd,
this.M.length,"HROT.suvivalChances");for(a=0;a<this.M.length;a+=1)this.W[a]=this.U.random();this.T.fill(this.T[0]);this.W.fill(this.W[0])};La.prototype.resize=function(a,c){this.h=Array.matrix(na.ze,c,a,0,this.N,"HROT.counts");this.ha=this.N.h(na.La,a,"HROT.colUsed")};La.prototype.kb=function(a,c,b,d,f,e,g,k,l){var p=2*c+1,n=c*c,q=n+c,m,r=b.length>>1;this.type=a;this.s=c;this.u=f&&10!==a&&15!==a?c+c:c;this.C=this.N.h(na.Ub,p,"HROT.widths");this.I=b;this.ia=d;this.A=f;this.X=k;this.Y=l;if(e)for(this.m=
this.N.h(na.fo,e.length,"HROT.weightedNeighbourhood"),d=0;d<e.length;d+=1)this.m[d]=e[d];else this.m=null;if(g)for(this.v=this.N.h(na.La,g.length,"HROT.weightedStates"),d=0;d<g.length;d+=1)this.v[d]=g[d];else this.v=null;switch(a){case this.S.h:for(d=0;d<p;d+=1)this.C[d]=c;break;case this.S.l:for(d=0;d<c;d+=1)this.C[d]=d,this.C[p-d-1]=d;this.C[d]=c;break;case this.S.W:for(d=-c;d<=c;d+=1){for(a=0;(a+1)*(a+1)+d*d<=q;)a+=1;this.C[d+c]=a}break;case this.S.X:for(d=-c;d<=c;d+=1){for(a=0;(a+1)*(a+1)+d*d<=
n;)a+=1;this.C[d+c]=a}break;case 10:this.al=Array.matrix(na.La,p,p,0,this.N,"HROT.neighbourhood");n=new Uint16Array(p);g=m=f=d=q=e=0;for(k=this.al[q];q<p;)for(a="0123456789abcdef".indexOf(b[e]),e===r&&(k[d]=1,d+=1,f+=1,m+=1),e+=1,l=3;0<=l;--l)0!==(a&1<<l)&&(k[d]=1,f+=1,m+=1),d+=1,d===p&&(n[g]=m,m=0,g+=1,d=0,q+=1,q<p&&(k=this.al[q]));b=new Uint32Array(f);for(q=f=0;q<p;q+=1)for(k=this.al[q],d=0;d<p;d+=1)0<k[d]&&(b[f]=q<<16|d,f+=1);for(d=p=0;d<n.length;d+=1)0<n[d]&&(p+=n[d]+2);this.aa=this.N.h(na.Zj,
p,"HROT.neighbourList");for(d=f=e=0;d<n.length;d+=1)if(0<n[d]){g=b[e];this.aa[f]=c-(g>>16);this.aa[f+1]=n[d];f+=2;for(q=0;q<n[d];q+=1)this.aa[f+q]=c-(b[e]&65535),e+=1;f+=n[d]}}};La.prototype.i=function(a,c,b){return 0>a||0>a+c||c-a>=this.l?0:0>c&&a+c<this.o?this.h[a+c][0]:c>=this.l&&c-a>=this.l-this.o?this.h[a+this.l-1-c][this.l-1]:a<this.o?b[c]:a-this.o+1+c<=this.$?this.h[this.o-1][a-this.o+1+c]:c-(a-this.o+1)>=this.$?this.h[this.o-1][c-(a-this.o+1)]:this.h[this.o-1][this.$+(a+c+this.o+this.$+1)%
2]};La.prototype.Z=function(a,c,b,d,f){a.set(c.slice(b,d),f)};La.prototype.ma=function(a,c,b,d){var f=this.g.l,e=this.u,g=this.s,k;for(k=0;k<g;k+=1){var l=f[c+k];var p=f[d+k+1];this.Z(p,l,a,b+1,a)}for(k=0;k<g;k+=1)l=f[d-k],p=f[c-k-1],this.Z(p,l,a,b+1,a);for(k=c;k<=d;k+=1)l=f[k],l.copyWithin(b+1,a,a+e+1),l.copyWithin(a-e-1,b-e,b+1);for(k=0;k<g;k+=1)l=f[c+k],p=f[d+k+1],this.Z(p,l,a,a+e+1,b+1),this.Z(p,l,b-e,b+1,a-e-1);for(k=0;k<g;k+=1)l=f[d-k],p=f[c-k-1],this.Z(p,l,a,a+e+1,b+1),this.Z(p,l,b-e,b+1,a-
e-1)};La.prototype.ja=function(a,c,b,d){var f=this.g.l,e=this.u,g=this.s,k;for(k=0;k<g;k+=1)f[d+k+1].fill(0,a,b+1);for(k=0;k<g;k+=1)f[c-k-1].fill(0,a,b+1);for(k=c;k<=d;k+=1){var l=f[k];l.fill(0,b+1,b+e+2);l.fill(0,a-e-1,a)}for(k=0;k<g;k+=1)l=f[d+k+1],l.fill(0,b+1,b+e+2),l.fill(0,a-e-1,a);for(k=0;k<g;k+=1)l=f[c-k-1],l.fill(0,b+1,b+e+2),l.fill(0,a-e-1,a)};La.prototype.na=function(a,c,b,d,f){var e,g,k=this.g.l,l=this.g.Y,p=this.g.width,n=0,q=this.g.height,m=0,r=p,u=n,t=q,v=m,x=this.g.m,w=this.g.xa,A=
this.u,C=this.s,z=f?this.ca:this.D,H=f?this.ea:this.M,E=this.h;var J=this.V-1;var N=I.Ta,L=I.Th,D=this.g.Ye,G=this.P,F=this.U,W=this.T,va=this.W;var ma=this.g.h+this.g.s-1;var U=this.g.s,oa=0<this.g.s?1:0;var da=e=f=0;if(1===J)for(J=c-C;J<=d+C;J+=1){var ca=k[J];var ta=E[J];var ha=l[J>>4];var pa=g=!1;for(c=a-A;c<=b+A;c+=1){var fa=ca[c];var la=ta[c];ma=0;fa<N?0<=la&&1===z[la]&&(G?F.random()>=W[la]&&(e+=1,ma=128):(e+=1,ma=128)):0<=la&&0===H[la]?G?F.random()>=va[la]?da+=1:ma=128:da+=1:ma=128;fa=D[fa+
ma];ca[c]=fa;fa>L&&(g=!0,ha[c>>8]|=1<<(~(c>>4)&15),c<p&&(p=c),c>n&&(n=c),fa>=N&&(f+=1,c<r&&(r=c),c>u&&(u=c),pa=!0))}g&&(J<q&&(q=J),J>m&&(m=J));pa&&(J<t&&(t=J),J>v&&(v=J))}else for(J=c-C;J<=d+C;J+=1){ca=k[J];ta=E[J];ha=l[J>>4];pa=g=!1;for(c=a-A;c<=b+A;c+=1){fa=ca[c];la=ta[c];if(fa<=U)0<=la&&1===z[la]?G?F.random()>=W[la]?(fa=ma,e+=1):fa>oa&&--fa:(fa=ma,e+=1):fa>oa&&--fa;else if(fa===ma){if(0>la||0===H[la])G?F.random()>=va[0>la?0:la]&&(--fa,da+=1):(--fa,da+=1)}else fa>oa&&--fa;ca[c]=fa;0<fa&&(g=!0,ha[c>>
8]|=1<<(~(c>>4)&15),c<p&&(p=c),c>n&&(n=c),fa===ma&&(f+=1,c<r&&(r=c),c>u&&(u=c),pa=!0))}g&&(J<q&&(q=J),J>m&&(m=J));pa&&(J<t&&(t=J),J>v&&(v=J))}this.g.u=f;this.g.za=e;this.g.ia=da;0<f&&(x.F=p,x.J=n,x.G=q,x.K=m,w.F=r,w.J=u,w.G=t,w.K=v)};La.prototype.fb=function(a,c,b,d,f){var e,g=this.g.h+this.g.s,k=this.g.s,l=this.m,p=this.g.l,n=this.h,q=this.v,m=q[0],r=l[0],u=l[1],t=l[2],v=l[3],x=l[4],w=l[5],A=l[6],C=l[7];l=l[8];for(a-=f;a<=c+f;a+=1){var z=n[a];var H=b-f;var E=H-1;for(e=H+1;H<=d+f;){var J=0;var N=
p[a-1];var L=N[E];L>k?J+=r*q[g-L]:0<m&&(J+=r*m);L=N[H];L>k?J+=u*q[g-L]:0<m&&(J+=u*m);L=N[e];L>k?J+=t*q[g-L]:0<m&&(J+=t*m);N=p[a];L=N[E];L>k?J+=v*q[g-L]:0<m&&(J+=v*m);L=N[H];L>k?J+=x*q[g-L]:0<m&&(J+=x*m);L=N[e];L>k?J+=w*q[g-L]:0<m&&(J+=w*m);N=p[a+1];L=N[E];L>k?J+=A*q[g-L]:0<m&&(J+=A*m);L=N[H];L>k?J+=C*q[g-L]:0<m&&(J+=C*m);L=N[e];L>k?J+=l*q[g-L]:0<m&&(J+=l*m);z[H]=J;H+=1;E+=1;e+=1}}};La.prototype.eb=function(a,c,b,d,f){var e,g=I.Ta,k=this.m,l=this.g.l,p=this.h,n=k[0],q=k[1],m=k[2],r=k[3],u=k[4],t=k[5],
v=k[6],x=k[7];k=k[8];for(a-=f;a<=c+f;a+=1){var w=p[a];var A=b-f;var C=A-1;for(e=A+1;A<=d+f;){var z=0;var H=l[a-1];H[C]>=g&&(z+=n);H[A]>=g&&(z+=q);H[e]>=g&&(z+=m);H=l[a];H[C]>=g&&(z+=r);H[A]>=g&&(z+=u);H[e]>=g&&(z+=t);H=l[a+1];H[C]>=g&&(z+=v);H[A]>=g&&(z+=x);H[e]>=g&&(z+=k);w[A]=z;A+=1;C+=1;e+=1}}};La.prototype.va=function(a,c,b,d,f,e){var g=this.h,k,l=I.Ta,p=this.X,n=this.Y,q=this.g.l;for(k=c-e;k<=d+e;k+=1){var m=g[k];for(c=a-f;c<=b+f;){var r=0;var u=q[k-p];u[c-p]>=l&&(r+=1);u[c+p]>=l&&(r+=1);u=q[k+
p];u[c-p]>=l&&(r+=1);u[c+p]>=l&&(r+=1);q[k-n][c]>=l&&(r+=1);q[k+n][c]>=l&&(r+=1);u=q[k];u[c-n]>=l&&(r+=1);u[c+n]>=l&&(r+=1);u[c]>=l&&(r+=1);m[c]=r;c+=1}}};La.prototype.ra=function(a,c,b,d,f,e){var g=this.h,k,l,p=I.Ta,n=this.g.l;for(k=c-e;k<=d+e;k+=1){var q=g[k];for(c=a-f;c<=b+f;){var m=0;for(l=-e;0>l;l+=1){var r=n[k+l];r[c]>=p&&(m+=1);r[c+l]>=p&&(m+=1)}r=n[k];for(l=-f;l<=f;l+=1)r[c+l]>=p&&(m+=1);for(l=1;l<=f;l+=1)r=n[k+l],r[c]>=p&&(m+=1),r[c+l]>=p&&(m+=1);q[c]=m;c+=1}}};La.prototype.Za=function(a,
c,b,d,f,e){var g=this.h,k,l,p=I.Ta,n=this.g.l;for(k=c-e;k<=d+e;k+=1){var q=g[k];for(c=a-f;c<=b+f;){var m=0;for(l=-e;0>l;l+=1){var r=n[k+l];r[c]>=p&&(m+=1)}r=n[k];for(l=-f;0>=l;l+=1)r[c+l]>=p&&(m+=1);for(l=1;l<=f;l+=1)n[k+l][c+l]>=p&&(m+=1);q[c]=m;c+=1}}};La.prototype.ab=function(a,c,b,d,f,e){var g=this.h,k,l,p,n=I.Ta,q=this.g.l;if(null===this.v)if(1!==f||1!==e||this.A)for(k=c-e;k<=d+e;k+=1){var m=g[k];for(c=a-f;c<=b+f;){if(this.A&&0!==(c+k&1)){var r=-(f+f+1);var u=this.m.length+r;r+=r}else r=u=0;
var t=0;for(p=-e;p<=e;p+=1){var v=q[k+p];for(l=-f;l<=f;l+=1)v[c+l]>=n&&(t+=this.m[u]),u+=1;u+=r}m[c]=t;c+=1}}else this.eb(c,d,a,b,f);else{var x=this.v[0];var w=this.v[1];for(k=c-e;k<=d+e;k+=1)for(m=g[k],c=a-f;c<=b+f;){this.A&&0!==(c+k&1)?(r=-(f+f+1),u=this.m.length+r,r+=r):r=u=0;t=0;for(p=-e;p<=e;p+=1){v=q[k+p];for(l=-f;l<=f;l+=1)t=v[c+l]>=n?t+this.m[u]*w:t+this.m[u]*x,u+=1;u+=r}m[c]=t;c+=1}}};La.prototype.za=function(a,c,b,d,f,e){var g=this.h,k,l,p,n,q=I.Ta,m=this.aa,r=this.g.l;for(k=c-e;k<=d+e;k+=
1){var u=g[k];for(c=a-f;c<=b+f;){for(l=n=0;l<m.length;){var t=m[l];this.A&&0===(c+k&1)&&(t=-t);l+=1;var v=r[k+t];t=m[l];for(p=l+=1;p<l+t;p+=1)v[c+m[p]]>=q&&(n+=1);l+=t}u[c]=n;c+=1}}};La.prototype.Ia=function(a,c,b,d,f,e){var g=this.h,k,l,p,n,q,m=I.Ta,r=this.g.l;for(k=c-e;k<=d+e;k+=1){var u=g[k];c=a-f;var t=q=n=0;for(p=-e;p<=e;p+=1){var v=r[k+p];if(1===p)for(l=-f;l<=f;l+=1)v[c+l]>=m&&(q+=1);else if(-1===p)for(l=-f;l<=f;l+=1)v[c+l]>=m&&(t+=1);else v[c-1]>=m&&(n+=1),v[c+1]>=m&&(n+=1)}r[k][c]>=m&&(n+=
1);u[c]=n+q+t;for(c+=1;c<=b+f;){n=0;for(p=-e;p<=e;p+=1)v=r[k+p],1===p?(v[c-f-1]>=m&&--q,v[c+f]>=m&&(q+=1)):-1===p?(v[c-f-1]>=m&&--t,v[c+f]>=m&&(t+=1)):(v[c-1]>=m&&(n+=1),v[c+1]>=m&&(n+=1));r[k][c]>=m&&(n+=1);u[c]=n+q+t;c+=1}}};La.prototype.ka=function(a,c,b,d,f,e,g){var k=this.h,l,p,n,q=I.Ta,m=this.g.l;for(l=c-e;l<=d+e;l+=1){var r=k[l];c=a-f;var u=0;var t=g;for(n=-e;n<=e;n+=1){var v=m[l+n];for(p=-f+t;p<=f-t;p+=2)v[c+p]>=q&&(u+=1);t=1-t}1===g&&m[l][c]>=q&&(u+=1);r[c]=u;c+=1;if(c<=b+f){var x=0;t=g;
for(n=-e;n<=e;n+=1){v=m[l+n];for(p=-f+t;p<=f-t;p+=2)v[c+p]>=q&&(x+=1);t=1-t}1===g&&m[l][c]>=q&&(x+=1);r[c]=x;for(c+=1;c<=b+f;){t=g;for(n=-e;n<=e;n+=1)v=m[l+n],v[c-f+t-2]>=q&&--u,v[c+f-t]>=q&&(u+=1),t=1-t;1===g&&(m[l][c-2]>=q&&--u,m[l][c]>=q&&(u+=1));r[c]=u;c+=1;if(c<=b+f){t=g;for(n=-e;n<=e;n+=1)v=m[l+n],v[c-f+t-2]>=q&&--x,v[c+f-t]>=q&&(x+=1),t=1-t;1===g&&(m[l][c-2]>=q&&--x,m[l][c]>=q&&(x+=1));r[c]=x;c+=1}}}}};La.prototype.ta=function(a,c,b,d,f,e){this.ka(a,c,b,d,f,e,1)};La.prototype.pa=function(a,
c,b,d,f,e){this.ka(a,c,b,d,f,e,0)};La.prototype.Ka=function(a,c,b,d,f,e){var g=this.h,k,l,p,n=I.Ta,q=this.g.l;for(k=c-e;k<=d+e;k+=1){var m=g[k];c=a-f;var r=0;for(p=-e;0>p;p+=1){var u=q[k+p];for(l=-f;l<=f+p;l+=1)u[c+l]>=n&&(r+=1)}for(p=0;p<=e;p+=1)for(u=q[k+p],l=-f+p;l<=f;l+=1)u[c+l]>=n&&(r+=1);m[c]=r;for(c+=1;c<=b+f;){for(p=-e;0>p;p+=1)u=q[k+p],u[c-f-1]>=n&&--r,u[c+f+p]>=n&&(r+=1);for(p=0;p<=e;p+=1)u=q[k+p],u[c-f+p-1]>=n&&--r,u[c+f]>=n&&(r+=1);m[c]=r;c+=1}}};La.prototype.Qa=function(a,c,b,d,f,e){var g=
this.h,k,l,p=I.Ta,n=this.g.l;for(k=c-e;k<=d+e;k+=1){var q=g[k];for(c=a-f;c<=b+f;){var m=0;for(l=1;l<=e;l+=1){var r=n[k+l];r[c-l]>=p&&(m+=1);r[c+l]>=p&&(m+=1);r=n[k-l];r[c-l]>=p&&(m+=1);r[c+l]>=p&&(m+=1)}r=n[k];r[c]>=p&&(m+=1);q[c]=m;c+=1}}};La.prototype.Va=function(a,c,b,d,f,e){var g=this.h,k,l,p=I.Ta,n=this.g.l;for(k=c-e;k<=d+e;k+=1){var q=g[k];for(c=a-f;c<=b+f;){var m=0;for(l=1;l<=e;l+=1){var r=n[k+l];r[c-l]>=p&&(m+=1);r[c+l]>=p&&(m+=1);r[c]>=p&&(m+=1);r=n[k-l];r[c-l]>=p&&(m+=1);r[c+l]>=p&&(m+=
1);r[c]>=p&&(m+=1)}r=n[k];for(l=-f;l<=f;l+=1)r[c+l]>=p&&(m+=1);q[c]=m;c+=1}}};La.prototype.xa=function(a,c,b,d,f,e){var g=this.h,k,l,p,n=I.Ta,q=this.g.l;for(k=c-e;k<=d+e;k+=1){var m=g[k];c=a-f;var r=p=0;for(l=1;l<=e;l+=1){var u=q[k+l];u[c]>=n&&(p+=1);u=q[k-l];u[c]>=n&&(p+=1)}u=q[k];for(l=-f;l<=f;l+=1)u[c+l]>=n&&(r+=1);m[c]=p+r;for(c+=1;c<=b+f;){p=0;for(l=1;l<=e;l+=1)q[k+l][c]>=n&&(p+=1),q[k-l][c]>=n&&(p+=1);u=q[k];u[c-f-1]>=n&&--r;u[c+f]>=n&&(r+=1);m[c]=p+r;c+=1}}};La.prototype.Xa=function(a,c,b,
d,f,e){var g=this.h,k,l,p=I.Ta,n=this.g.l;for(k=c-e;k<=d+e;k+=1){var q=g[k];c=a-f;var m=0;var r=c+k&1;if(0===r){var u=e+1;for(r=-e;0>r;r+=1){var t=n[k+r];for(l=-u;l<u;l+=2)t[c+l]>=p&&(m+=1),t[c+l+1]>=p&&(m+=1);t[c+l]>=p&&(m+=1);u+=1}r=0}else{u=e;for(r=-e;0>=r;r+=1){t=n[k+r];for(l=-u;l<u;l+=2)t[c+l]>=p&&(m+=1),t[c+l+1]>=p&&(m+=1);t[c+l]>=p&&(m+=1);u+=1}r=1}for(;r<=e;r+=1){--u;t=n[k+r];for(l=-u;l<u;l+=2)t[c+l]>=p&&(m+=1),t[c+l+1]>=p&&(m+=1);t[c+l]>=p&&(m+=1)}q[c]=m;for(c+=1;c<=b+f;){r=c+k&1;if(0===
r){u=e+1;l=e;for(r=-e;0>r;r+=1)t=n[k+r],t[c+l]>=p&&(m+=1),l+=1,t[c+l]>=p&&(m+=1),u+=1;--u;t=n[k];t[c-l-1]>=p&&--m;t[c+l]>=p&&(m+=1);l+=1;for(r=1;r<=e;r+=1)--u,--l,t=n[k+r],t[c-l-1]>=p&&--m,t[c-l]>=p&&--m}else{u=e;l=e+1;for(r=-e;0>r;r+=1)t=n[k+r],t[c-l-1]>=p&&--m,t[c-l]>=p&&--m,u+=1,l+=1;--l;t=n[k];t[c-l-1]>=p&&--m;t[c+l]>=p&&(m+=1);u+=1;for(r=1;r<=e;r+=1)--u,--l,t=n[k+r],t[c+l]>=p&&(m+=1),t[c+l+1]>=p&&(m+=1)}q[c]=m;c+=1}}};La.prototype.Ca=function(a,c,b,d,f,e){var g=this.h,k,l,p,n,q=I.Ta,m=this.g.l;
for(k=c-e;k<=d+e;k+=1){var r=g[k];for(c=a-f;c<=b+f;){var u=0;for(p=-e;0>p;p+=1){var t=n=p+e+1;var v=m[k+p];for(l=-f;0>=l;l+=1)v[c+l]>=q&&(u+=t),t+=n;t-=n+n;for(l=1;l<=f;l+=1)v[c+l]>=q&&(u+=t),t-=n;t=n=p+e+1;v=m[k-p];for(l=-f;0>=l;l+=1)v[c+l]>=q&&(u+=t),t+=n;t-=n+n;for(l=1;l<=f;l+=1)v[c+l]>=q&&(u+=t),t-=n}t=n=f+1;v=m[k];for(l=-f;0>=l;l+=1)v[c+l]>=q&&(u+=t),t+=n;t-=n+n;for(l=1;l<=f;l+=1)v[c+l]>=q&&(u+=t),t-=n;r[c]=u;c+=1}}};La.prototype.Sa=function(a,c,b,d,f,e){var g=this.h,k,l,p,n=I.Ta,q=this.C,m=
this.g.l;for(k=c-e;k<=d+e;k+=1){var r=g[k];c=a-f;var u=0;for(p=-e;p<=e;p+=1){var t=q[p+e];var v=m[k+p];for(l=-t;l<t;l+=2)v[c+l]>=n&&(u+=1),v[c+l+1]>=n&&(u+=1);v[c+l]>=n&&(u+=1)}r[c]=u;for(c+=1;c<=b+f;){for(p=-e;p<=e;p+=1)t=q[p+e],v=m[k+p],v[c-t-1]>=n&&--u,v[c+t]>=n&&(u+=1);r[c]=u;c+=1}}};La.prototype.Fa=function(a){var c,b,d=this.g.m.F,f=this.g.m.J,e=this.g.m.G,g=this.g.m.K,k=this.u,l=this.s,p=a?this.ca:this.D,n=a?this.ea:this.M,q=k+k,m=l+l;var r=k+1;var u=l+1;var t=this.h,v=this.type,x=this.V-1,
w=this.g.width,A=0,C=this.g.height,z=0,H=w,E=A,J=C,N=z,L=this.g.l,D=this.g.Y;var G=this.g.M;var F=this.g.I,W=0,va=0,ma=0,U=0,oa=0,da=0,ca=0,ta=I.Ta,ha=I.Th,pa=this.g.Ye,fa=this.ha,la=this.P,Aa=this.U,ra=this.T,ka=this.W;-1!==this.g.C&&(W=Math.round((this.g.width-G)/2),ma=Math.round((this.g.height-F)/2),va=W+G-1,U=ma+F-1,1===p[0]&&(d=W+k,f=va-k,g=U-l,e=ma+l),1===this.g.C&&(d-W<k&&(f=va),va-f<k&&(d=W),U-g<l&&(e=ma),e-ma<l&&(g=U),this.ma(W,ma,va,U)),0===this.g.C&&1===x&&this.g.Rf(L,0),d-W<k&&(d=W+k),
va-f<k&&(f=va-k),U-g<l&&(g=U-l),e-ma<l&&(e=ma+l),v===this.S.h?(d-=q,e-=m,f+=q,g+=m):v===this.S.l&&6<k&&(d-=k,e-=l,f+=k,g+=l));if(v===this.S.h){d-=q;e-=m;f+=q;g+=m;for(b=e;b<e+m;b+=1)t[b].fill(0,d,f+1);for(b=e+m;b<=g;b+=1)t[b].fill(0,d,d+q+1);var Z=t[e+m-1];for(b=e+m;b<=g;b+=1){var ea=t[b];x=L[b];G=0;for(c=d+q;c+8<=f;)x[c]>=ta&&(G+=1),ea[c]=Z[c]+G,c+=1,x[c]>=ta&&(G+=1),ea[c]=Z[c]+G,c+=1,x[c]>=ta&&(G+=1),ea[c]=Z[c]+G,c+=1,x[c]>=ta&&(G+=1),ea[c]=Z[c]+G,c+=1,x[c]>=ta&&(G+=1),ea[c]=Z[c]+G,c+=1,x[c]>=ta&&
(G+=1),ea[c]=Z[c]+G,c+=1,x[c]>=ta&&(G+=1),ea[c]=Z[c]+G,c+=1,x[c]>=ta&&(G+=1),ea[c]=Z[c]+G,c+=1;for(;c<=f;)x[c]>=ta&&(G+=1),ea[c]=Z[c]+G,c+=1;Z=ea}d+=k;e+=l;f-=k;g-=l;-1!==this.g.C&&(d+=q,e+=m,f-=q,g-=m);m=L[e][d];G=t[e+l][d+k];var V=0;m<ta?1===p[G]&&(la?Aa.random()>=ra[G]&&(da+=1,V=128):(da+=1,V=128)):0===n[G]?la?Aa.random()>=ka[G]?ca+=1:V=128:ca+=1:V=128;m=pa[m+V];L[e][d]=m;m>ha&&(fa[d]|=1,z=C=e,D[e>>4][d>>8]|=1<<(~(d>>4)&15),m>=ta&&(oa+=1,fa[d]|=2,N=J=e));var ya=F=!1;ea=t[e+l];Z=t[e+l];x=L[e];q=
D[e>>4];for(c=d+1;c<=f;c+=1)m=x[c],G=ea[c+k]-Z[c-r],V=0,m<ta?1===p[G]&&(la?Aa.random()>=ra[G]&&(da+=1,V=128):(da+=1,V=128)):0===n[G]?la?Aa.random()>=ka[G]?ca+=1:V=128:ca+=1:V=128,m=pa[m+V],x[c]=m,m>ha&&(fa[c]|=1,F=!0,q[c>>8]|=1<<(~(c>>4)&15),m>=ta&&(oa+=1,fa[c]|=2,ya=!0));F&&(z=C=e);ya&&(N=J=e);q=x=!1;ea=d+k;for(b=e+1;b<=g;b+=1)m=L[b][d],G=t[b+l][ea]-t[b-u][ea],V=0,m<ta?1===p[G]&&(la?Aa.random()>=ra[G]&&(da+=1,V=128):(da+=1,V=128)):0===n[G]?la?Aa.random()>=ka[G]?ca+=1:V=128:ca+=1:V=128,m=pa[m+V],
L[b][d]=m,m>ha&&(b<C&&(C=b),b>z&&(z=b),x=!0,D[b>>4][d>>8]|=1<<(~(d>>4)&15),m>=ta&&(oa+=1,b<J&&(J=b),b>N&&(N=b),q=!0));x&&(fa[d]|=1);q&&(fa[d]|=2);for(b=e+1;b<=g;b+=1){x=L[b];q=D[b>>4];Z=t[b+l];var R=t[b-u];ea=d+1+k;var M=d+1-r;ya=F=!1;for(c=d+1;c<=f;c+=1)m=x[c],G=Z[ea]+R[M]-Z[M]-R[ea],V=0,m<ta?1===p[G]&&(la?Aa.random()>=ra[G]&&(V=128,da+=1):(V=128,da+=1)):0===n[G]?la?Aa.random()>=ka[G]?ca+=1:V=128:ca+=1:V=128,m=pa[m+V],x[c]=m,m>ha&&(F=!0,q[c>>8]|=1<<(~(c>>4)&15),fa[c]|=1,m>=ta&&(oa+=1,ya=!0,fa[c]|=
2)),ea+=1,M+=1;F&&(b<C&&(C=b),b>z&&(z=b));ya&&(b<J&&(J=b),b>N&&(N=b))}for(c=d;c<=f;c+=1)fa[c]&&(c<w&&(w=c),c>A&&(A=c),0!==(fa[c]&2)&&(c<H&&(H=c),c>E&&(E=c)),fa[c]=0);this.g.u=oa;this.g.za=da;this.g.ia=ca;0<oa&&(this.g.m.F=w,this.g.m.J=A,this.g.m.G=C,this.g.m.K=z,this.g.xa.F=H,this.g.xa.J=E,this.g.xa.G=J,this.g.xa.K=N)}else if(v===this.S.l&&6<k){d-=k;f+=k;e-=l;g+=l;-1===this.g.C&&(d-=k,f+=k,e-=l,g+=l);this.L=g-e+1;this.l=f-d+1;this.o=this.L+(this.l-1)/2|0;this.$=this.l/2|0;for(r=0;r<this.o;r+=1)for(ea=
t[r],x=L[r+e],fa=r-1,G=fa-1,b=t[fa],q=t[G],u=0;u<=this.l;u+=1)ea[u]=this.i(fa,u-1,b)+this.i(fa,u+1,b)-this.i(G,u,q),r<this.L&&x[u+d]>=ta&&(ea[u]+=1);for(r=l;r<=this.L-l;r+=1){fa=r-1;b=t[fa];M=r+l;var O=t[M];ea=M-1;var ia=t[ea];c=r-l-1;var T=t[c];Z=c-1;var P=t[Z];R=r+e;x=L[R];q=D[R>>4];ya=F=!1;for(u=k;u<=this.l-k;u+=1){G=u+k;m=u-k;G=this.i(M,u,O)-this.i(fa,G+1,b)-this.i(fa,m-1,b)+this.i(Z,u,P)+this.i(ea,u,ia)-this.i(fa,G,b)-this.i(fa,m,b)+this.i(c,u,T);var sa=u+d;m=x[sa];V=0;m<ta?1===p[G]&&(la?Aa.random()>=
ra[G]&&(V=128,da+=1):(V=128,da+=1)):0===n[G]?la?Aa.random()>=ka[G]?ca+=1:V=128:ca+=1:V=128;m=pa[m+V];x[sa]=m;m>ha&&(sa<w&&(w=sa),sa>A&&(A=sa),F=!0,q[sa>>8]|=1<<(~(sa>>4)&15),m>=ta&&(oa+=1,ya=!0,sa<H&&(H=sa),sa>E&&(E=sa)))}F&&(R<C&&(C=R),R>z&&(z=R));ya&&(R<J&&(J=R),R>N&&(N=R))}this.g.u=oa;this.g.za=da;this.g.ia=ca;0<oa&&(this.g.m.F=w,this.g.m.J=A,this.g.m.G=C,this.g.m.K=z,this.g.xa.F=H,this.g.xa.J=E,this.g.xa.G=J,this.g.xa.K=N)}else switch(v){case this.S.m:this.va(d,e,f,g,k,l);break;case this.S.o:this.ra(d,
e,f,g,k,l);break;case this.S.u:this.Za(d,e,f,g,k,l);break;case 15:this.ab(d,e,f,g,k,l);break;case 10:this.za(d,e,f,g,k,l);break;case this.S.P:this.Ia(d,e,f,g,k,l);break;case this.S.L:this.ta(d,e,f,g,k,l);break;case this.S.I:this.pa(d,e,f,g,k,l);break;case this.S.C:this.Ka(d,e,f,g,k,l);break;case this.S.U:this.Qa(d,e,f,g,k,l);break;case this.S.V:this.Va(d,e,f,g,k,l);break;case this.S.M:this.xa(d,e,f,g,k,l);break;case this.S.D:this.Xa(d,e,f,g,k,l);break;case this.S.A:this.Ca(d,e,f,g,k,l);break;default:this.Sa(d,
e,f,g,k,l)}-1!==this.g.C&&(d<W+k&&(d=W+k),f>va-k&&(f=va-k),e<ma+l&&(e=ma+l),g>U-l&&(g=U-l));v===this.S.h||v===this.S.l&&6<k||this.na(d,e,f,g,a);1===this.g.C&&this.ja(W,ma,va,U)};La.prototype.wa=function(a,c,b,d,f,e){var g=this.h,k,l=this.g.h+this.g.s-1,p=this.X,n=this.Y,q=this.g.l;for(k=c-e;k<=d+e;k+=1){var m=g[k];for(c=a-f;c<=b+f;){var r=0;var u=q[k-p];u[c-p]===l&&(r+=1);u[c+p]===l&&(r+=1);u=q[k+p];u[c-p]===l&&(r+=1);u[c+p]===l&&(r+=1);q[k-n][c]===l&&(r+=1);q[k+n][c]===l&&(r+=1);u=q[k];u[c-n]===
l&&(r+=1);u[c+n]===l&&(r+=1);u[c]===l&&(r+=1);m[c]=r;c+=1}}};La.prototype.sa=function(a,c,b,d,f,e){var g=this.h,k,l,p=this.g.h+this.g.s-1,n=this.g.l;for(k=c-e;k<=d+e;k+=1){var q=g[k];for(c=a-f;c<=b+f;){var m=0;for(l=-e;0>l;l+=1){var r=n[k+l];r[c]===p&&(m+=1);r[c+l]===p&&(m+=1)}r=n[k];for(l=-f;l<=f;l+=1)r[c+l]===p&&(m+=1);for(l=1;l<=f;l+=1)r=n[k+l],r[c]===p&&(m+=1),r[c+l]===p&&(m+=1);q[c]=m;c+=1}}};La.prototype.$a=function(a,c,b,d,f,e){var g=this.h,k,l,p=this.g.h+this.g.s-1,n=this.g.l;for(k=c-e;k<=
d+e;k+=1){var q=g[k];for(c=a-f;c<=b+f;){var m=0;for(l=-e;0>l;l+=1){var r=n[k+l];r[c]===p&&(m+=1)}r=n[k];for(l=-f;0>=l;l+=1)r[c+l]===p&&(m+=1);for(l=1;l<=f;l+=1)n[k+l][c+l]===p&&(m+=1);q[c]=m;c+=1}}};La.prototype.gb=function(a,c,b,d,f,e){var g=this.h,k,l,p,n=this.g.h+this.g.s-1,q=this.g.l;if(null===this.v)for(k=c-e;k<=d+e;k+=1){var m=g[k];for(c=a-f;c<=b+f;){if(this.A&&0!==(c+k&1)){var r=-(f+f+1);var u=this.m.length+r;r+=r}else r=u=0;var t=0;for(p=-e;p<=e;p+=1){var v=q[k+p];for(l=-f;l<=f;l+=1)v[c+l]===
n&&(t+=this.m[u]),u+=1;u+=r}m[c]=t;c+=1}}else if(1!==f||1!==e||this.A){var x=this.v[0];var w=this.v[1];for(k=c-e;k<=d+e;k+=1)for(m=g[k],c=a-f;c<=b+f;){this.A&&0!==(c+k&1)?(r=-(f+f+1),u=this.m.length+r,r+=r):r=u=0;t=0;for(p=-e;p<=e;p+=1){v=q[k+p];for(l=-f;l<=f;l+=1)t=v[c+l]===n?t+this.m[u]*w:t+this.m[u]*x,u+=1;u+=r}m[c]=t;c+=1}}else this.fb(c,d,a,b,f)};La.prototype.Ba=function(a,c,b,d,f,e){var g=this.h,k,l,p,n,q=this.g.h+this.g.s-1,m=this.aa,r=this.g.l;for(k=c-e;k<=d+e;k+=1){var u=g[k];for(c=a-f;c<=
b+f;){for(l=n=0;l<m.length;){var t=m[l];this.A&&0===(c+k&1)&&(t=-t);l+=1;var v=r[k+t];t=m[l];for(p=l+=1;p<l+t;p+=1)v[c+m[p]]===q&&(n+=1);l+=t}u[c]=n;c+=1}}};La.prototype.Ja=function(a,c,b,d,f,e){var g=this.h,k,l,p,n,q,m=this.g.h+this.g.s-1,r=this.g.l;for(k=c-e;k<=d+e;k+=1){var u=g[k];c=a-f;var t=q=n=0;for(p=-e;p<=e;p+=1){var v=r[k+p];if(1===p)for(l=-f;l<=f;l+=1)v[c+l]===m&&(q+=1);else if(-1===p)for(l=-f;l<=f;l+=1)v[c+l]===m&&(t+=1);else v[c-1]===m&&(n+=1),v[c+1]===m&&(n+=1)}r[k][c]===m&&(n+=1);u[c]=
n+q+t;for(c+=1;c<=b+f;){n=0;for(p=-e;p<=e;p+=1)v=r[k+p],1===p?(v[c-f-1]===m&&--q,v[c+f]===m&&(q+=1)):-1===p?(v[c-f-1]===m&&--t,v[c+f]===m&&(t+=1)):(v[c-1]===m&&(n+=1),v[c+1]===m&&(n+=1));r[k][c]===m&&(n+=1);u[c]=n+q+t;c+=1}}};La.prototype.la=function(a,c,b,d,f,e,g){var k=this.h,l,p,n,q=this.g.h+this.g.s-1,m=this.g.l;for(l=c-e;l<=d+e;l+=1){var r=k[l];c=a-f;var u=0;var t=g;for(n=-e;n<=e;n+=1){var v=m[l+n];for(p=-f+t;p<=f-t;p+=2)v[c+p]===q&&(u+=1);t=1-t}1===g&&m[l][c]===q&&(u+=1);r[c]=u;c+=1;if(c<=b+
f){var x=0;t=g;for(n=-e;n<=e;n+=1){v=m[l+n];for(p=-f+t;p<=f-t;p+=2)v[c+p]===q&&(x+=1);t=1-t}1===g&&m[l][c]===q&&(x+=1);r[c]=x;for(c+=1;c<=b+f;){t=g;for(n=-e;n<=e;n+=1)v=m[l+n],v[c-f+t-2]===q&&--u,v[c+f-t]===q&&(u+=1),t=1-t;1===g&&(m[l][c-2]===q&&--u,m[l][c]===q&&(u+=1));r[c]=u;c+=1;if(c<=b+f){t=g;for(n=-e;n<=e;n+=1)v=m[l+n],v[c-f+t-2]===q&&--x,v[c+f-t]===q&&(x+=1),t=1-t;1===g&&(m[l][c-2]===q&&--x,m[l][c]===q&&(x+=1));r[c]=x;c+=1}}}}};La.prototype.ua=function(a,c,b,d,f,e){this.la(a,c,b,d,f,e,1)};La.prototype.qa=
function(a,c,b,d,f,e){this.la(a,c,b,d,f,e,0)};La.prototype.Ma=function(a,c,b,d,f,e){var g=this.h,k,l,p,n=this.g.h+this.g.s-1,q=this.g.l;for(k=c-e;k<=d+e;k+=1){var m=g[k];c=a-f;var r=0;for(p=-e;0>p;p+=1){var u=q[k+p];for(l=-f;l<=f+p;l+=1)u[c+l]===n&&(r+=1)}for(p=0;p<=e;p+=1)for(u=q[k+p],l=-f+p;l<=f;l+=1)u[c+l]===n&&(r+=1);m[c]=r;for(c+=1;c<=b+f;){for(p=-e;0>p;p+=1)u=q[k+p],u[c-f-1]===n&&--r,u[c+f+p]===n&&(r+=1);for(p=0;p<=e;p+=1)u=q[k+p],u[c-f+p-1]===n&&--r,u[c+f]===n&&(r+=1);m[c]=r;c+=1}}};La.prototype.Ra=
function(a,c,b,d,f,e){var g=this.h,k,l,p=this.g.h+this.g.s-1,n=this.g.l;for(k=c-e;k<=d+e;k+=1){var q=g[k];for(c=a-f;c<=b+f;){var m=0;for(l=1;l<=e;l+=1){var r=n[k+l];r[c-l]===p&&(m+=1);r[c+l]===p&&(m+=1);r=n[k-l];r[c-l]===p&&(m+=1);r[c+l]===p&&(m+=1)}r=n[k];r[c]===p&&(m+=1);q[c]=m;c+=1}}};La.prototype.Wa=function(a,c,b,d,f,e){var g=this.h,k,l,p=this.g.h+this.g.s-1,n=this.g.l;for(k=c-e;k<=d+e;k+=1){var q=g[k];for(c=a-f;c<=b+f;){var m=0;for(l=1;l<=e;l+=1){var r=n[k+l];r[c-l]===p&&(m+=1);r[c+l]===p&&
(m+=1);r[c]===p&&(m+=1);r=n[k-l];r[c-l]===p&&(m+=1);r[c+l]===p&&(m+=1);r[c]===p&&(m+=1)}r=n[k];for(l=-f;l<=f;l+=1)r[c+l]===p&&(m+=1);q[c]=m;c+=1}}};La.prototype.ya=function(a,c,b,d,f,e){var g=this.h,k,l,p,n=this.g.h+this.g.s-1,q=this.g.l;for(k=c-e;k<=d+e;k+=1){var m=g[k];c=a-f;var r=p=0;for(l=1;l<=e;l+=1){var u=q[k+l];u[c]===n&&(p+=1);u=q[k-l];u[c]===n&&(p+=1)}u=q[k];for(l=-f;l<=f;l+=1)u[c+l]===n&&(r+=1);m[c]=p+r;for(c+=1;c<=b+f;){p=0;for(l=1;l<=e;l+=1)q[k+l][c]===n&&(p+=1),q[k-l][c]===n&&(p+=1);
u=q[k];u[c-f-1]===n&&--r;u[c+f]===n&&(r+=1);m[c]=p+r;c+=1}}};La.prototype.Ya=function(a,c,b,d,f,e){var g=this.h,k,l,p=this.g.h+this.g.s-1,n=this.g.l;for(k=c-e;k<=d+e;k+=1){var q=g[k];c=a-f;var m=0;var r=c+k&1;if(0===r){var u=e+1;for(r=-e;0>r;r+=1){var t=n[k+r];for(l=-u;l<u;l+=2)t[c+l]===p&&(m+=1),t[c+l+1]===p&&(m+=1);t[c+l]===p&&(m+=1);u+=1}r=0}else{u=e;for(r=-e;0>=r;r+=1){t=n[k+r];for(l=-u;l<u;l+=2)t[c+l]===p&&(m+=1),t[c+l+1]===p&&(m+=1);t[c+l]===p&&(m+=1);u+=1}r=1}for(;r<=e;r+=1){--u;t=n[k+r];for(l=
-u;l<u;l+=2)t[c+l]===p&&(m+=1),t[c+l+1]===p&&(m+=1);t[c+l]===p&&(m+=1)}q[c]=m;for(c+=1;c<=b+f;){r=c+k&1;if(0===r){u=e+1;l=e;for(r=-e;0>r;r+=1)t=n[k+r],t[c+l]===p&&(m+=1),l+=1,t[c+l]===p&&(m+=1),u+=1;--u;t=n[k];t[c-l-1]===p&&--m;t[c+l]===p&&(m+=1);l+=1;for(r=1;r<=e;r+=1)--u,--l,t=n[k+r],t[c-l-1]===p&&--m,t[c-l]===p&&--m}else{u=e;l=e+1;for(r=-e;0>r;r+=1)t=n[k+r],t[c-l-1]===p&&--m,t[c-l]===p&&--m,u+=1,l+=1;--l;t=n[k];t[c-l-1]===p&&--m;t[c+l]===p&&(m+=1);u+=1;for(r=1;r<=e;r+=1)--u,--l,t=n[k+r],t[c+l]===
p&&(m+=1),t[c+l+1]===p&&(m+=1)}q[c]=m;c+=1}}};La.prototype.Da=function(a,c,b,d,f,e){var g=this.h,k,l,p,n,q=this.g.h+this.g.s-1,m=this.g.l;for(k=c-e;k<=d+e;k+=1){var r=g[k];for(c=a-f;c<=b+f;){var u=0;for(p=-e;0>p;p+=1){var t=n=p+e+1;var v=m[k+p];for(l=-f;0>=l;l+=1)v[c+l]===q&&(u+=t),t+=n;t-=n+n;for(l=1;l<=f;l+=1)v[c+l]===q&&(u+=t),t-=n;t=n=p+e+1;v=m[k-p];for(l=-f;0>=l;l+=1)v[c+l]===q&&(u+=t),t+=n;t-=n+n;for(l=1;l<=f;l+=1)v[c+l]===q&&(u+=t),t-=n}t=n=f+1;v=m[k];for(l=-f;0>=l;l+=1)v[c+l]===q&&(u+=t),
t+=n;t-=n+n;for(l=1;l<=f;l+=1)v[c+l]===q&&(u+=t),t-=n;r[c]=u;c+=1}}};La.prototype.Ua=function(a,c,b,d,f,e){var g=this.h,k,l,p,n=this.g.h+this.g.s-1,q=this.C,m=this.g.l;for(k=c-e;k<=d+e;k+=1){var r=g[k];c=a-f;var u=0;for(p=-e;p<=e;p+=1){var t=q[p+e];var v=m[k+p];for(l=-t;l<t;l+=2)v[c+l]===n&&(u+=1),v[c+l+1]===n&&(u+=1);v[c+l]===n&&(u+=1)}r[c]=u;for(c+=1;c<=b+f;){for(p=-e;p<=e;p+=1)t=q[p+e],v=m[k+p],v[c-t-1]===n&&--u,v[c+t]===n&&(u+=1);r[c]=u;c+=1}}};La.prototype.Ha=function(a){var c,b,d=this.g.m.F,
f=this.g.m.J,e=this.g.m.G,g=this.g.m.K,k=this.u,l=this.s,p=a?this.ca:this.D,n=a?this.ea:this.M,q=k+k,m=l+l;var r=k+1;var u=l+1;var t=this.h,v=this.type,x=this.g.width,w=0,A=this.g.height,C=0,z=x,H=w,E=A,J=C,N=this.g.l,L=this.g.Y;var D=this.g.M;var G=this.g.I;var F=0,W=0,va=0,ma=0,U=0,oa=0,da=0,ca;var ta=this.P;var ha=this.U;var pa=this.T;var fa=this.W;var la=this.g.h+this.g.s-1,Aa=this.g.s,ra=0<this.g.s?1:0;-1!==this.g.C&&(F=Math.round((this.g.width-D)/2),va=Math.round((this.g.height-G)/2),W=F+D-
1,ma=va+G-1,1===p[0]&&(d=F+k,f=W-k,g=ma-l,e=va+l),1===this.g.C&&(d-F<k&&(f=W),W-f<k&&(d=F),ma-g<l&&(e=va),e-va<l&&(g=ma),this.ma(F,va,W,ma)),d-F<k&&(d=F+k),W-f<k&&(f=W-k),ma-g<l&&(g=ma-l),e-va<l&&(e=va+l),v===this.S.h?(d-=q,e-=m,f+=q,g+=m):v===this.S.l&&6<k&&(d-=k,e-=l,f+=k,g+=l));if(v===this.S.h){d-=q;e-=m;f+=q;g+=m;for(b=e;b<e+m;b+=1)t[b].fill(0,d,f+1);for(b=e+m;b<=g;b+=1)t[b].fill(0,d,d+q);for(b=e+m;b<=g;b+=1){var ka=t[b-1];var Z=t[b];D=N[b];G=0;for(c=d+q;c<=f;c+=1)D[c]===la&&(G+=1),Z[c]=ka[c]+
G}d+=k;e+=l;f-=k;g-=l;-1!==this.g.C&&(d+=q,e+=m,f-=q,g-=m);m=N[e][d];G=t[e+l][d+k];m<=Aa?1===p[G]?ta?ha.random()>=pa[G]?(m=la,oa+=1):m>ra&&--m:(m=la,oa+=1):m>ra&&--m:m===la?0===n[G]&&(ta?ha.random()>=fa[G]&&(--m,da+=1):(--m,da+=1)):m>ra&&--m;N[e][d]=m;0<m&&(w=x=d,C=A=e,L[e>>4][d>>8]|=1<<(~(d>>4)&15),m===la&&(U+=1,H=z=d,J=E=e));var ea=ca=!1;Z=t[e+l];ka=t[e+l];D=N[e];q=L[e>>4];for(c=d+1;c<=f;c+=1)m=D[c],G=Z[c+k]-ka[c-r],m<=Aa?1===p[G]?ta?ha.random()>=pa[G]?(m=la,oa+=1):m>ra&&--m:(m=la,oa+=1):m>ra&&
--m:m===la?0===n[G]&&(ta?ha.random()>=fa[G]&&(--m,da+=1):(--m,da+=1)):m>ra&&--m,D[c]=m,0<m&&(c<x&&(x=c),c>w&&(w=c),ca=!0,q[c>>8]|=1<<(~(c>>4)&15),m===la&&(U+=1,c<z&&(z=c),c>H&&(H=c),ea=!0));ca&&(C=A=e);ea&&(J=E=e);q=D=!1;Z=d+k;for(b=e+1;b<=g;b+=1)m=N[b][d],G=t[b+l][Z]-t[b-u][Z],m<=Aa?1===p[G]?ta?ha.random()>=pa[G]?(m=la,oa+=1):m>ra&&--m:(m=la,oa+=1):m>ra&&--m:m===la?0===n[G]&&(ta?ha.random()>=fa[G]&&(--m,da+=1):(--m,da+=1)):m>ra&&--m,N[b][d]=m,0<m&&(b<A&&(A=b),b>C&&(C=b),D=!0,L[b>>4][d>>8]|=1<<(~(d>>
4)&15),m===la&&(U+=1,b<E&&(E=b),b>J&&(J=b),q=!0));D&&(d<x&&(x=d),d>w&&(w=d));q&&(d<z&&(z=d),d>H&&(H=d));for(b=e+1;b<=g;b+=1){D=N[b];q=L[b>>4];ka=t[b+l];var V=t[b-u];ea=ca=!1;Z=d+1+k;var ya=d+1-r;for(c=d+1;c<=f;c+=1)m=D[c],G=ka[Z]+V[ya]-ka[ya]-V[Z],m<=Aa?1===p[G]?ta?ha.random()>=pa[G]?(m=la,oa+=1):m>ra&&--m:(m=la,oa+=1):m>ra&&--m:m===la?0===n[G]&&(ta&&ha.random()>=fa[G]&&(--m,da+=1),--m,da+=1):m>ra&&--m,D[c]=m,0<m&&(q[c>>8]|=1<<(~(c>>4)&15),c<x&&(x=c),c>w&&(w=c),ca=!0,m===la&&(U+=1,ea=!0,c<z&&(z=c),
c>H&&(H=c))),Z+=1,ya+=1;ca&&(b<A&&(A=b),b>C&&(C=b));ea&&(b<E&&(E=b),b>J&&(J=b))}this.g.u=U;this.g.za=oa;this.g.ia=da;0<U&&(this.g.m.F=x,this.g.m.J=w,this.g.m.G=A,this.g.m.K=C,this.g.xa.F=z,this.g.xa.J=H,this.g.xa.G=E,this.g.xa.K=J)}else if(v===this.S.l&&6<k){d-=k;f+=k;e-=l;g+=l;-1===this.g.C&&(d-=k,f+=k,e-=l,g+=l);this.L=g-e+1;this.l=f-d+1;this.o=this.L+(this.l-1)/2|0;this.$=this.l/2|0;for(r=0;r<this.o;r+=1)for(Z=t[r],D=N[r+e],ta=r-1,G=ta-1,ha=t[ta],q=t[G],u=0;u<=this.l;u+=1)Z[u]=this.i(ta,u-1,ha)+
this.i(ta,u+1,ha)-this.i(G,u,q),r<this.L&&D[u+d]===la&&(Z[u]+=1);for(r=l;r<=this.L-l;r+=1){ta=r-1;ha=t[ta];c=r+l;ka=t[c];pa=c-1;V=t[pa];fa=r-l-1;ya=t[fa];b=fa-1;var R=t[b];Z=r+e;D=N[Z];q=L[Z>>4];ea=ca=!1;for(u=k;u<=this.l-k;u+=1){G=u+k;m=u-k;G=this.i(c,u,ka)-this.i(ta,G+1,ha)-this.i(ta,m-1,ha)+this.i(b,u,R)+this.i(pa,u,V)-this.i(ta,G,ha)-this.i(ta,m,ha)+this.i(fa,u,ya);var M=u+d;m=D[M];m<=Aa?1===p[G]?(m=la,oa+=1):m>ra&&--m:m===la?0===n[G]&&(--m,da+=1):m>ra&&--m;D[M]=m;0<m&&(q[M>>8]|=1<<(~(M>>4)&15),
M<x&&(x=M),M>w&&(w=M),ca=!0,m===la&&(U+=1,ea=!0,M<z&&(z=M),M>H&&(H=M)))}ca&&(Z<A&&(A=Z),Z>C&&(C=Z));ea&&(Z<E&&(E=Z),Z>J&&(J=Z))}this.g.u=U;this.g.za=oa;this.g.ia=da;0<U&&(this.g.m.F=x,this.g.m.J=w,this.g.m.G=A,this.g.m.K=C,this.g.xa.F=z,this.g.xa.J=H,this.g.xa.G=E,this.g.xa.K=J)}else switch(v){case this.S.m:this.wa(d,e,f,g,k,l);break;case this.S.o:this.sa(d,e,f,g,k,l);break;case this.S.u:this.$a(d,e,f,g,k,l);break;case 15:this.gb(d,e,f,g,k,l);break;case 10:this.Ba(d,e,f,g,k,l);break;case this.S.P:this.Ja(d,
e,f,g,k,l);break;case this.S.L:this.ua(d,e,f,g,k,l);break;case this.S.I:this.qa(d,e,f,g,k,l);break;case this.S.C:this.Ma(d,e,f,g,k,l);break;case this.S.U:this.Ra(d,e,f,g,k,l);break;case this.S.V:this.Wa(d,e,f,g,k,l);break;case this.S.M:this.ya(d,e,f,g,k,l);break;case this.S.D:this.Ya(d,e,f,g,k,l);break;case this.S.A:this.Da(d,e,f,g,k,l);break;default:this.Ua(d,e,f,g,k,l)}-1!==this.g.C&&(d<F+k&&(d=F+k),f>W-k&&(f=W-k),e<va+l&&(e=va+l),g>ma-l&&(g=ma-l));v===this.S.h||v===this.S.l&&6<k||this.na(d,e,f,
g,a);1===this.g.C&&this.ja(F,va,W,ma)};La.prototype.Ea=function(a){var c=!1;this.fa&&1===(a&1)&&(c=!0);2===this.V?this.Fa(c):this.Ha(c)};var I={Ys:0,$s:1,Zs:2,tD:3,Gu:"St.6",pj:5E4,Xh:0,Wh:1,Li:2,Mi:3,Ni:4,Le:5,ue:6,wy:7,xy:8,lp:9,Ws:10,uy:11,pD:12,qD:13,Xs:14,oD:15,vy:16,rD:[0,1,2,3,4,5,6],sD:[2,3,5,6],Bg:0,xd:1,od:2,gD:20,mp:["Rot90CW","Rot90CCW","FlipX","FlipY","Rot180","Flip"+String.fromCharCode(10189),"Flip"+String.fromCharCode(10187),"FlipOrth","Rot90","FlipOrthOrRot90","FlipDiag","FlipDiagOrRot90",
"FlipXOrRot180","FlipYOrRot180","Flip"+String.fromCharCode(10189)+"OrRot180","Flip"+String.fromCharCode(10187)+"OrRot180","FlipOrthOrDiag"],xj:4194304,hD:268435456,Ar:"Buffer Full",wo:[[0,0,0],[0,255,0],[0,0,160],[255,216,255],[255,0,0],[255,255,0],[96,96,96],[255,105,180],[128,0,128],[0,191,255],[0,64,128],[64,224,208],[0,128,64],[255,255,255],[255,99,71],[250,128,114],[219,112,147],[255,165,0],[245,222,179],[0,255,255],[192,192,192],[192,255,128],[255,182,193],[0,255,127],[1,1,1],[255,0,127]],np:"dead;on;off;marked on trail;marked off trail;marked on alt;boundary;marked on no-trail;marked off no-trail;on trail 2;off trail 2;on trail 3;off trail 3;on no-trail 1;off disappearing;on no-trail 2;off vanishing;on no-trail 3;off cycling 1;on no-trail 4;off cycling 2;on no-trail 5;off cycling 3;on no-trail 6;hidden;on no-trail 7".split(";"),
kC:[[1,1,1],[1,0,0],[0,1,0]],lC:[[0,1,0],[1,1,0],[1,0,1]],mC:[[1,1,0],[1,0,1],[1,0,0]],nC:[[0,1,1],[1,1,0],[0,0,1]],gC:[[1,1,1],[0,0,1],[0,1,0]],hC:[[0,1,0],[0,1,1],[1,0,1]],iC:[[0,1,1],[1,0,1],[0,0,1]],jC:[[1,1,0],[0,1,1],[1,0,0]],sC:[[0,1,0],[1,0,0],[1,1,1]],tC:[[1,0,1],[1,1,0],[0,1,0]],uC:[[1,0,0],[1,0,1],[1,1,0]],vC:[[0,0,1],[1,1,0],[0,1,1]],oC:[[0,1,0],[0,0,1],[1,1,1]],pC:[[1,0,1],[0,1,1],[0,1,0]],qC:[[0,0,1],[1,0,1],[0,1,1]],rC:[[1,0,0],[0,1,1],[1,1,0]],oh:0,ph:1,qh:2,rh:3,Fc:4096,Cg:16,Mn:4096,
CC:512,So:262144,sj:65536,Qk:65536,Lx:8192,Kx:131072,Mp:64,ap:524288,Ah:12,Ta:64,Ie:127,ie:63,Th:1,hc:1,Xb:2,jc:4,oc:8,zc:16,ic:32,tc:64,uc:128};Sa.prototype.set=function(a){var c;this.rj=a.rj;this.A=a.A;this.o=a.o;this.s=a.s;this.u.set(a.u);this.i.set(a.i);this.h.set(a.h);this.v.set(a.v);this.m.set(a.m);this.l.set(a.l);this.D.set(a.D);this.m.set(a.m);this.I=a.I;for(c=0;c<a.C.length;c+=1)this.C[c].set(a.C[c])};Sa.prototype.L=function(a,c,b){this.rj=!0;this.A=a;this.o=c.h<<16|c.l<<8|c.i;this.s=b.h<<
16|b.l<<8|b.i};Sa.prototype.P=function(a,c){-1!==a&&(this.o=a);-1!==c&&(this.s=c)};Sa.prototype.M=function(a){var c=!0;a||this.i.h.m(this.i.i)&&this.h.h.m(this.h.i)&&this.h.h.m(this.u)&&(c=!1);return c};K.prototype.set=function(a){this.h=a.h;this.l=a.l;this.i=a.i};K.prototype.m=function(a){var c=!1;this.h===a.h&&this.l===a.l&&this.i===a.i&&(c=!0);return c};Da.prototype.set=function(a){this.h.set(a.h);this.i.set(a.i)};qa.prototype.ah=function(){var a=B.Mb,c=this.da+a+a<<1;a=this.ba+a+a<<1;this.nc?
(null===this.bd&&(this.bd=document.createElement("canvas")),this.bd.width=c,this.bd.height=a,this.Ef=this.bd.getContext("2d",{alpha:!1}),this.Ff=this.Ef.getImageData(0,0,this.bd.width,this.bd.height),this.Fg=new Uint32Array(this.Ff.data.buffer)):this.Fg=this.Ff=this.Ef=null};qa.prototype.ii=function(){var a,c,b,d=this.da,f=20*this.ba,e=-f,g=this.yh;this.Qh=new Uint16Array(I.pj);this.Sh=new Float32Array(I.pj);this.Ph=new Float32Array(I.pj);this.xi=new Uint32Array(I.pj);var k=this.Qh;var l=this.Sh;
var p=this.Ph;for(a=0;a<I.pj;a+=1){k[a]=g.random()*d|0;for(c=b=0;10>c;c+=1)b+=g.random()*f;l[a]=-b/10;l[a]>e&&(e=l[a]);p[a]=g.random()/5+.8;if(a<I.pj-4&&.2>g.random()){c=k[a];b=l[a];var n=p[a];a+=1;k[a]=c;l[a]=b-2;p[a]=n;a+=1;k[a]=c;l[a]=b+2;p[a]=n;1<c&&(a+=1,k[a]=c-2,l[a]=b,p[a]=n);c<d-2&&(a+=1,k[a]=c+2,l[a]=b,p[a]=n)}}for(a=0;a<I.pj;a+=1)l[a]-=e};qa.prototype.kd=function(){var a,c=0,b=this.da,d=this.ba,f=this.Sa[0],e=this.Gc,g=this.yh,k=this.Qh,l=this.Sh,p=this.Ph,n=this.xi;for(a=0;a<I.pj;a+=1){var q=
k[a];var m=l[a];var r=p[a];var u=q;var t=m;if(0<=m&&m<d-1)if((m|0)===(m+r|0))t=m+r,e[(t|0)*b+u]=-1;else{if(e[(m+r|0)*b+q]===f)t=m+r;else{var v=g.random();if(.05>v){var x=1;.025>v&&(x=-1);0<=q+x&&q+x<b&&e[(m+r|0)*b+q+x]===f&&e[(m|0)*b+q+x]===f&&(u=q+x,t=m+r)}}e[(t|0)*b+u]=-1}else 0>m&&(t=m+r);t>=d-1&&(n[c]=a,c+=1);k[a]=u;l[a]=t}if(5<c)for(a=0;a<c;a+=1).25>g.random()&&(v=n[a],t=-(g.random()*d),u=g.random()*b|0,k[v]=u,l[v]=t,r=p[v],a<c-4&&.2>g.random()&&(a+=1,v=n[a],k[v]=u,l[v]=t-2,p[v]=r,a+=1,v=n[a],
k[v]=u,l[v]=t+2,p[v]=r,1<u&&(a+=1,v=n[a],k[v]=u-2,l[v]=t,p[v]=r),u<b-2&&(a+=1,v=n[a],k[v]=u+2,l[v]=t,p[v]=r)))};qa.prototype.jm=function(a){var c,b,d,f;this.Dd=this.Pe=null;this.fc=a;var e=a[0].width;var g=a[0].height/e;var k=a[0].Ox;var l=a[0].mn;if(0<g&&31===e){null===this.Dd&&(this.Dd=document.createElement("canvas"),this.Dd.width=32,this.Dd.height=32*g);var p=this.Dd.getContext("2d");var n=p.getImageData(0,0,this.Dd.width,this.Dd.height);var q=new Uint32Array(n.data.buffer);for(a=b=c=0;a<g;a+=
1){for(f=0;f<e;f+=1){for(d=0;d<e;d+=1){var m=k[c];c+=1;m=l[m];q[b]=-16777216|(m&255)<<16|m&65280|m>>16;b+=1}q[b]=0;b+=1}for(d=0;d<e+1;d+=1)q[b]=0,b+=1}p.putImageData(n,0,0);null===this.Pe&&(this.Pe=new Image);this.Pe.src=this.Dd.toDataURL("image/png")}};qa.prototype.vf=function(a){this.wb=0;a?null===this.sf&&(this.sf=this.N.h(na.ze,I.xj,"Life.hashList"),this.Vh=this.N.h(na.Ub,I.xj,"Life.genList"),this.jf=this.N.h(na.Ub,I.xj,"Life.popList"),this.Ob=this.N.h(na.Ub,2*I.xj,"Life.boxList"),this.oe=this.N.h(na.ze,
I.xj,"Life.nextList"),this.mh=Array.matrix(na.La,this.height,this.width,I.Bg,this.N,"Life.countList"),2<this.h||this.v?this.ne=Array.matrix(na.La,this.height,this.width,0,this.N,"Life.initList"):this.ne=null,this.pf=this.fe=this.ac=-1,this.oe.fill(-1),this.Uh="",this.he=null,this.Nd=new Uint16Array(67),this.Nd[0]=I.Bg,this.Nd[1]=I.od,this.Nd[2]=I.od,this.Nd[64]=I.od,this.Nd[65]=I.Bg,this.Nd[66]=I.od,this.$g=performance.now()):(this.ne=this.mh=this.oe=this.Ob=this.jf=this.Vh=this.sf=null,this.pf=this.fe=
this.ac=-1,this.df=this.Bf=this.Nd=null)};qa.prototype.Wl=function(a,c,b){c="Spaceship ("+(c+","+b)+")c";1<a&&(c+="/"+a);return c};qa.prototype.Rk=function(a,c,b,d,f,e){var g=31415962,k,l=0,p=this.l,n=I.Ta;d+=e;for(k=0;k<c;k+=1)for(e=0;e<a;e+=1)p[d-l][f]>=n&&(g=1000003*g^k,g=1000003*g^e),l+=1,l===b&&(l=0,f+=1);return g|0};qa.prototype.Ok=function(a,c,b,d,f,e){var g=31415962,k=this.l,l=I.Ta;b+=f;d+=e;for(e=0;e<c;e+=1){var p=k[d-e];for(f=0;f<a;f+=1)p[b-f]>=l&&(g=1000003*g^e,g=1000003*g^f)}return g|
0};qa.prototype.Sk=function(a,c,b,d,f,e){var g=31415962,k,l=0,p=0,n=this.l,q=I.Ta;d+=f;for(k=0;k<c;k+=1)for(f=0;f<a;f+=1)n[p+e][d-l]>=q&&(g=1000003*g^k,g=1000003*g^f),p+=1,p===b&&(p=0,l+=1);return g|0};qa.prototype.Mk=function(a,c,b,d,f){var e=31415962,g,k=this.l,l=I.Ta;b+=d;for(g=0;g<c;g+=1){var p=k[g+f];for(d=0;d<a;d+=1)p[b-d]>=l&&(e=1000003*e^g,e=1000003*e^d)}return e|0};qa.prototype.Nk=function(a,c,b,d,f){var e=31415962,g,k=this.l,l=I.Ta;b+=f;for(g=0;g<c;g+=1){var p=k[b-g];for(f=0;f<a;f+=1)p[f+
d]>=l&&(e=1000003*e^g,e=1000003*e^f)}return e|0};qa.prototype.Uk=function(a,c,b,d,f){var e=31415962,g,k=0,l=this.l,p=I.Ta;var n=d;for(g=0;g<c;g+=1)for(d=0;d<a;d+=1)l[k+f][n]>=p&&(e=1000003*e^g,e=1000003*e^d),k+=1,k===b&&(k=0,n+=1);return e|0};qa.prototype.Vk=function(a,c,b,d,f,e,g){var k=31415962,l=0,p=0,n=this.l,q=I.Ta;d+=e;f+=g;for(g=0;g<c;g+=1)for(e=0;e<a;e+=1)n[f-p][d-l]>=q&&(k=1000003*k^g,k=1000003*k^e),p+=1,p===b&&(p=0,l+=1);return k|0};qa.prototype.cl=function(a,c){var b=0,d=a.F,f=a.G,e=a.J-
d+1;a=a.K-f+1;var g=e-1,k=a-1,l=a;if(c===I.Xh||c===I.Wh||c===I.Le||c===I.ue){var p=e;e=l;l=p}switch(c){case I.Xh:b=this.Sk(e,l,a,g,d,f);break;case I.Ni:b=this.Ok(e,l,g,k,d,f);break;case I.Wh:b=this.Rk(e,l,a,k,d,f);break;case I.Li:b=this.Mk(e,l,g,d,f);break;case I.Mi:b=this.Nk(e,l,k,d,f);break;case I.Le:b=this.Uk(e,l,a,d,f);break;case I.ue:b=this.Vk(e,l,a,g,k,d,f)}return b};qa.prototype.fl=function(a,c){var b=31415962,d=a.F,f=a.G,e=a.J-d+1;a=a.K-f+1;var g=e-1,k=a-1,l=a,p,n,q=0,m=0,r=0,u=0,t=this.l,
v=this.ta,x=I.Ta,w=B.nb[6]+128;(this.i||this.v||this.o)&&0!==(this.counter&1)&&(t=this.$);if(c===I.Xh||c===I.Wh||c===I.Le||c===I.ue){var A=e;e=l;l=A}for(n=0;n<l;n+=1)for(p=0;p<e;p+=1){switch(c){case I.Wh:q=r;m=k-u;break;case I.Ni:q=g-p;m=k-n;break;case I.Xh:q=g-r;m=u;break;case I.Li:q=g-p;m=n;break;case I.Mi:q=p;m=k-n;break;case I.Le:q=r;m=u;break;case I.ue:q=g-r,m=k-u}if(this.D){if(t[m+f][q+d]>=x||v[m+f][q+d]===w)b=1000003*b^n,b=1000003*b^p,v[m+f][q+d]===w&&(b=1000003*b^6)}else if(this.o){if(t[m+
f][q+d]&1||6===t[m+f][q+d])b=1000003*b^n,b=1000003*b^p}else if(A=t[m+f][q+d],A>this.s){A-=this.s;if(this.i)switch(c){case I.Wh:A=A<<1&15|(A&8)>>3;break;case I.Ni:A=(A&3)<<2|(A&12)>>2;break;case I.Xh:A=A>>1&15|(A&1)<<3;break;case I.Li:A=A&5|(A&2)<<2|(A&8)>>2;break;case I.Mi:A=A&10|(A&1)<<2|(A&4)>>2;break;case I.Le:A=(A&8)>>3|(A&4)>>1|(A&2)<<1|(A&1)<<3;break;case I.ue:A=(A&4)<<1|(A&8)>>1|(A&1)<<1|(A&2)>>1}else this.v||(A=this.h-A);b=1000003*b^n;b=1000003*b^p;b=1000003*b^A}u+=1;u===a&&(u=0,r+=1)}return b|
0};qa.prototype.$k=function(a,c,b){return b?this.cl(a,c):this.fl(a,c)};qa.prototype.qj=function(a,c,b,d,f,e){var g=0!==d&&0!==f,k=-1;a=this.Ii(a,c,d,f);if(a&=b)a&1<<I.Li&&(k=I.Li,a&1<<I.Mi?(k=I.wy,a&1<<I.Xh?a&1<<I.Wh&&(k=I.lp):a&1<<I.Le&&a&1<<I.ue&&(k=I.vy)):a&1<<I.Ni&&(k=I.pD)),-1===k&&a&1<<I.Mi&&(k=I.Mi,a&1<<I.Li?(k=I.wy,a&1<<I.Xh?a&1<<I.Wh&&(k=I.lp):a&1<<I.Le&&a&1<<I.ue&&(k=I.vy)):a&1<<I.Ni&&(k=I.qD)),-1===k&&a&1<<I.Xh&&4===e&&(k=I.Xh,a&1<<I.Wh&&(k=I.xy,a&1<<I.Li&&a&1<<I.Mi&&(k=I.lp),a&1<<I.Le&&
a&1<<I.ue&&(k=I.uy))),-1===k&&a&1<<I.Wh&&4===e&&(k=I.Wh,a&1<<I.Xh&&(k=I.xy,a&1<<I.Li&&a&1<<I.Mi&&(k=I.lp),a&1<<I.Le&&a&1<<I.ue&&(k=I.uy))),-1===k&&a&1<<I.Le&&(k=I.Le,a&1<<I.ue?k=I.Ws:!g&&a&1<<I.Ni&&(k=I.Xs)),-1===k&&a&1<<I.ue&&(k=I.ue,a&1<<I.Le?k=I.Ws:!g&&a&1<<I.Ni&&(k=I.Xs)),-1===k&&a&1<<I.Ni&&(k=I.Ni,a&1<<I.Le?k=I.Xs:a&1<<I.ue&&(k=I.oD));g&&(a&1<<I.Ws&&(d===f&&(k=I.Le),d===-f&&(k=I.ue)),a&1<<I.ue&&d===f&&(k=-1),a&1<<I.Le&&d===-f&&(k=-1));return k};qa.prototype.Ii=function(a,c,b,d){var f=2>=this.h&&
!this.v&&!this.D,e,g=0;var k=0===b&&0===d?I.rD:I.sD;for(e=0;e<k.length;e+=1){var l=k[e];var p=this.$k(a,l,f);if(p===c){p=!0;if(0!==b||0!==d)0!==b||l!==I.Mi&&l!==I.Le&&l!==I.ue||(p=!1),0!==d||l!==I.Li&&l!==I.Le&&l!==I.ue||(p=!1);p&&(g|=1<<l)}}return g};qa.prototype.Mh=function(a){var c=31415962,b=a.F,d=a.G,f=a.J;a=a.K;var e,g,k=2>=this.h&&!this.v,l=this.l,p=this.ta,n=I.Ta,q=B.nb[6]+128;(this.i||this.v||this.o)&&0!==(this.counter&1)&&(l=this.$);for(g=d;g<=a;g+=1){var m=g-d;var r=l[g];if(this.D){var u=
p[g];for(e=b;e<=f;e+=1)if(r[e]>=n||u[e]===q)c=1000003*c^m,c=1000003*c^e-b,u[e]===q&&(c=1000003*c^6)}else if(k)for(e=b;e<=f;e+=1)r[e]>=n&&(c=1000003*c^m,c=1000003*c^e-b);else if(this.o)for(e=b;e<=f;e+=1){if(r[e]&1||6===r[e])c=1000003*c^m,c=1000003*c^e-b}else if(this.v)for(e=b;e<=f;e+=1)u=r[e],u>this.s&&(u-=this.s,c=1000003*c^m,c=1000003*c^e-b,c=1000003*c^u);else for(e=b;e<=f;e+=1)u=r[e],u>this.s&&(u-=this.s,this.i||(u=this.h-u),c=1000003*c^m,c=1000003*c^e-b,c=1000003*c^u)}return c|0};qa.prototype.Tf=
function(a,c){for(var b;0!==c;)b=c,c=a%c,a=b;return a};qa.prototype.Kk=function(a,c){var b="Oblique";if(a>c){var d=a;a=c;c=d}d=this.Tf(a,c);a/=d;c/=d;switch(10*a+c){case 12:b+=" Knightwise";break;case 13:b+=" Camelwise";break;case 14:b+=" Giraffewise";break;case 15:b+=" Ibiswise";break;case 16:b+=" Flamingowise";break;case 23:b+=" Zebrawise";break;case 34:b+=" Antelopewise"}return b};qa.prototype.di=function(a,c){var b=new Va(0,0,0,0),d,f,e=16384,g=-16384,k=16384,l=-16384;for(d=f=0;d<a;d+=1){var p=
this.Ob[c+f<<1];var n=p>>16;var q=p&65535;p=this.Ob[(c+f<<1)+1];var m=p>>16;p&=65535;m<e&&(e=m);p<k&&(k=p);m+n-1>g&&(g=m+n-1);p+q-1>l&&(l=p+q-1);f+=1}b.F=e;b.G=k;b.J=g;b.K=l;return b};qa.prototype.de=function(a,c){return a===Math.floor(a)?String(a):a.toFixed(c)};qa.prototype.Yi=function(){var a,c,b=4283453520,d=4286611584,f=0;var e=[];var g=!1;var k=this.view.h.s;var l=this.da-120*k;var p=this.ba-90*k;this.pc||(b=1347440895,d=2155905279);k=this.dg=8;l/=(this.Sc+2)*k;p/=(this.Fd+2)*k;1<=(l>p?p:l)?
(g=!0,f=1):k=this.dg=1;var n=0;for(l=2;l<this.Ka.length-1;l++)0<this.Ka[l]&&(n+=1);this.Ch=n;p=0;for(l=2;l<this.Ka.length-1;l++)if(0<this.Ka[l]){var q=Math.floor(p/n*360);e[l]=p&1?"hsl("+q+",100%,70%)":"hsl("+q+",100%,40%)";p+=1}e[0]="black";e[1]="rgb(168,168,168)";e[this.Ka.length-1]="rgb(238,238,238)";this.lc?(e[-1]="rgb(96,96,96)",l=-1):l=0;for(;l<this.Ka.length;){if(-1===l||0===l||0<this.Ka[l])this.We.fillStyle=e[l],n=this.We.fillStyle,p=parseInt(n.substring(1,3),16),q=parseInt(n.substring(3,
5),16),n=parseInt(n.substring(5,7),16),this.yc[l]=this.pc?-16777216|n<<16|q<<8|p:p<<24|q<<16|n<<8|255;l+=1}e=k*(this.Sc+2)+f;q=k*(this.Fd+2)+f;this.Xe.width=e;this.Xe.height=q;this.Qc.width=e;this.Qc.height=q;this.We.fillStyle="black";this.We.fillRect(0,0,this.Qc.width,this.Qc.height);f=this.We.getImageData(0,0,this.Qc.width,this.Qc.height);var m=new Uint32Array(f.data.buffer);for(p=0;p<this.Fd;p+=1)for(l=0;l<this.Sc;l+=1)for(n=this.he[p*this.Sc+l],n=this.yc[n],c=0;c<k;c+=1){var r=((p+1)*k+c)*e+(l+
1)*k;for(a=0;a<k;a+=1)m[r+a]=n}if(-1!==this.C){for(c=0;c<k;c+=1){r=c*e;for(l=0;l<(this.Sc+2)*k;l+=1)m[r+l]=d;r+=(this.Fd+1)*k*e;for(l=0;l<(this.Sc+2)*k;l+=1)m[r+l]=d}for(p=0;p<this.Fd;p+=1)for(c=0;c<k;c+=1)for(r=((p+1)*k+c)*e,l=r+k*(this.Sc+1),a=0;a<k;a+=1)m[r+a]=d,m[l+a]=d}if(g){for(p=-1;p<=this.Fd+1;p+=1)for(r=(p+1)*k*e,l=0;l<(this.Sc+2)*k+1;l+=1)m[r+l]=b;for(l=-1;l<=this.Sc+1;l+=1)for(p=0;p<(this.Fd+2)*k;p+=1)m[p*e+(l+1)*k]=b}else{r=e*(q-1);for(l=0;l<e;l+=1)m[l]=b,m[l+r]=b;for(p=0;p<q;p+=1)m[p*
e]=b,m[p*e+e-1]=b}for(l=this.lc?-1:0;l<this.Ka.length;){if(-1===l||0<this.Ka[l])n=this.yc[l],this.pc?(p=n&255,q=n>>8&255,n=n>>16&255):(p=n>>24,q=n>>16&255,n=n>>8&255),this.yc[l]=p<<16|q<<8|n;l+=1}this.We.putImageData(f,0,0);this.Xe.src=this.Qc.toDataURL("image/png")};qa.prototype.$d=function(a,c,b,d,f){var e=this.ha;var g=e.measureText(a).width;e.fillText(a,b+c-g+f,d+f);return b+c};qa.prototype.wk=function(a){var c=2,b=this.view.h.s,d=a.y+a.height;var f=a.width;var e=a.v;var g=a.Vb;a=a.A;var k=d,
l=24*b,p=16*b;var n=this.Ch;var q=(f>>2)-1,m=this.da-f>>1,r=this.ha;0===this.Ka[this.Ka.length-1]&&--n;0===this.Ka[1]&&--n;r.fillStyle=g;r.globalAlpha=e;r.fillRect(m,k,f,(n+3)*l);r.font=(20*b|0)+"px Arial";r.globalAlpha=1;r.fillStyle=g;k+=l>>1;for(e=0;2>e;e+=1){n=m;n=this.$d("Period",q,n,k,c);n=this.$d("Count",q,n,k,c);n=this.$d("% Total",q,n,k,c);this.$d("% Rotor",q,n,k,c);k+=l;for(f=this.Ka.length-1;0<f;--f)g=this.Ka[f],0<g&&(n=m,n=this.$d(String(f),q,n,k,c),n=this.$d(String(g),q,n,k,c),n=this.$d((Math.floor(1E4*
g/this.Cf)/100).toFixed(2)+"%",q,n,k,c),1<f&&this.$d((Math.floor(1E4*g/this.dh)/100).toFixed(2)+"%",q,n,k,c),k+=l);k=d+(l>>1);c=0;r.fillStyle=a}c=22*b>>1;for(f=this.Ka.length-1;0<f;--f)g=this.Ka[f],0<g&&(r.fillStyle=this.view.B.Vb,r.fillRect(m+(p>>1)+2,k+c+2,p,p),r.fillStyle="#"+("000000"+this.yc[f].toString(16)).slice(-6),r.fillRect(m+(p>>1),k+c,p,p),k+=l)};qa.prototype.uk=function(a){var c=this.view.h.s,b=50*c,d=15*c,f=16*c,e=.7*d|0;var g=this.ba-90*c;var k=this.Ch;var l=this.dg;var p=a.v,n=a.A;
a=a.Vb;var q=this.ha;var m=(this.da-c*(b+b+20))/((this.Sc+2)*l);g/=(this.Fd+2)*l;m=m>g?g:m;1<=m&&(m|=0);q.save();q.translate(this.da>>1,this.ba>>1);q.scale(m,m);q.imageSmoothingEnabled=1>m?!0:!1;q.drawImage(this.Xe,-(this.Xe.width>>1),-(this.Xe.height>>1));q.imageSmoothingEnabled=!1;q.restore();var r=55*c;q.font=(11*c|0)+"px Arial";0===this.Ka[this.Ka.length-1]&&--k;0===this.Ka[1]&&--k;this.lc&&(k+=1);g=0;for(m=this.Ka.length-1;0<m;--m)l=this.Ka[m],0<l&&m>g&&(g=m);m=q.measureText(String(g)).width;
this.lc&&(g=q.measureText(I.Gu).width,g>m&&(m=g));var u=(this.ba-(k+2)*d)/2;q.globalAlpha=p;q.fillStyle=a;q.fillRect(r-b-2,u-2,e+e+m+3,(k+2)*d+3);q.globalAlpha=1;g=0;this.lc&&(q.fillStyle=this.view.B.Vb,q.fillRect(r-b+2,u+g*d+2,e,e),q.fillStyle="#"+("000000"+this.yc[-1].toString(16)).slice(-6),q.fillRect(r-b,u+g*d,e,e),q.fillStyle=a,q.fillText(I.Gu,r-b+f+2,u+g*d+2+7*c),q.fillStyle=n,q.fillText(I.Gu,r-b+f,u+g*d+7*c),g+=1);for(m=this.Ka.length-1;0<m;--m)l=this.Ka[m],0<l&&(q.fillStyle=this.view.B.Vb,
q.fillRect(r-b+2,u+g*d+2,e,e),q.fillStyle="#"+("000000"+this.yc[m].toString(16)).slice(-6),q.fillRect(r-b,u+g*d,e,e),q.fillStyle=a,q.fillText(String(m),r-b+f+2,u+g*d+2+7*c),q.fillStyle=n,q.fillText(String(m),r-b+f,u+g*d+7*c),g+=1)};qa.prototype.bm=function(a,c){var b,d=this.l,f=this.mh,e,g,k,l,p=I.Ta,n=this.Nd;var q=this.W;var m=this.U>>4;var r=0;var u=q;0>r&&(r=0);u>q&&(u=q);q=r<<4;var t=q+16;for(e=r;e<u;e+=1){var v=0;var x=c[e];for(g=0;g<m;g+=1)if(l=x[g])for(k=15;0<=k;--k){if(0!==(l&1<<k))for(r=
q;r<t;){var w=d[r];var A=f[r];if(0===a)for(b=v;b<v+16;)w[b]>=p&&(A[b]=I.xd),b+=1,w[b]>=p&&(A[b]=I.xd),b+=1,w[b]>=p&&(A[b]=I.xd),b+=1,w[b]>=p&&(A[b]=I.xd),b+=1;else b=v,A[b]=n[(w[b]&64)+A[b]],b+=1,A[b]=n[(w[b]&64)+A[b]],b+=1,A[b]=n[(w[b]&64)+A[b]],b+=1,A[b]=n[(w[b]&64)+A[b]],b+=1,A[b]=n[(w[b]&64)+A[b]],b+=1,A[b]=n[(w[b]&64)+A[b]],b+=1,A[b]=n[(w[b]&64)+A[b]],b+=1,A[b]=n[(w[b]&64)+A[b]],b+=1,A[b]=n[(w[b]&64)+A[b]],b+=1,A[b]=n[(w[b]&64)+A[b]],b+=1,A[b]=n[(w[b]&64)+A[b]],b+=1,A[b]=n[(w[b]&64)+A[b]],b+=
1,A[b]=n[(w[b]&64)+A[b]],b+=1,A[b]=n[(w[b]&64)+A[b]],b+=1,A[b]=n[(w[b]&64)+A[b]],b+=1,A[b]=n[(w[b]&64)+A[b]];r+=1}v+=16}else v+=256;q+=16;t+=16}};qa.prototype.am=function(a,c){var b=a.F,d=a.G,f=a.J;a=a.K;var e,g=this.l,k=this.mh,l=this.ne,p=I.Ta,n=2>=this.h&&!this.v;(this.i||this.v||this.o)&&0!==(this.counter&1)&&(g=this.$);for(e=d;e<=a;e+=1){var q=g[e];var m=k[e];if(n)if(0===c)for(d=b;d<=f;d+=1)q[d]>=p&&(m[d]=I.xd);else for(d=b;d<=f;d+=1)q[d]>=p?m[d]===I.Bg&&(m[d]=I.od):m[d]===I.xd&&(m[d]=I.od);
else if(this.i)if(0===c)for(d=b;d<=f;d+=1){var r=q[d];r=r>this.s?r-this.s:0;var u=0;0!==(r&1)&&(u=I.xd);var t=0;0!==(r&2)&&(t=I.xd);var v=0;0!==(r&4)&&(v=I.xd);var x=0;0!==(r&8)&&(x=I.xd);m[d]=u|t<<2|v<<4|x<<6}else for(d=b;d<=f;d+=1)x=m[d],r=q[d],r=r>this.s?r-this.s:0,u=x&3,0!==(r&1)?u===I.Bg&&(u=I.od):u===I.xd&&(u=I.od),t=x>>2&3,0!==(r&2)?t===I.Bg&&(t=I.od):t===I.xd&&(t=I.od),v=x>>4&3,0!==(r&4)?v===I.Bg&&(v=I.od):v===I.xd&&(v=I.od),x=x>>6&3,0!==(r&8)?x===I.Bg&&(x=I.od):x===I.xd&&(x=I.od),m[d]=u|
t<<2|v<<4|x<<6;else if(this.o)for(r=l[e],d=b;d<=f;d+=1)0===c?(r[d]=q[d]&1,q[d]&1&&(m[d]=I.xd)):q[d]&1?m[d]===I.Bg?m[d]=I.od:(q[d]&1)!==r[d]&&(m[d]=I.od):m[d]===I.xd&&(m[d]=I.od);else for(r=l[e],d=b;d<=f;d+=1)0===c?(r[d]=q[d],q[d]>this.s&&(m[d]=I.xd)):q[d]>this.s?m[d]===I.Bg?m[d]=I.od:q[d]!==r[d]&&(m[d]=I.od):m[d]===I.xd&&(m[d]=I.od)}};qa.prototype.$l=function(a,c){var b=this.df.cb,d=this.fa.cb,f=this.Bf.cb;if(-1===this.h||this.Ga&&2===this.h){for(a=0;a<b.length;a+=1)b[a]=d[a]|f[a];this.bm(c,this.df);
for(a=0;a<f.length;a+=1)f[a]=d[a]}else this.am(a,c)};qa.prototype.cm=function(a,c,b,d,f,e,g,k){var l,p=I.Ta;this.o&&(c=this.l,0!==(this.counter&1)&&(c=this.$));var n=f*g;for(g=a.G;g<=a.K;g+=1){var q=c[g];var m=(g-a.G)*e+n;var r=k;if(this.o){f=a.F;for(l=0;f<=a.J-16;)q[f]&1&&(l|=r),r>>=1,f+=1,q[f]&1&&(l|=r),r>>=1,f+=1,q[f]&1&&(l|=r),r>>=1,f+=1,q[f]&1&&(l|=r),r>>=1,f+=1,q[f]&1&&(l|=r),r>>=1,f+=1,q[f]&1&&(l|=r),r>>=1,f+=1,q[f]&1&&(l|=r),r>>=1,f+=1,q[f]&1&&(l|=r),r>>=1,f+=1,q[f]&1&&(l|=r),r>>=1,f+=1,q[f]&
1&&(l|=r),r>>=1,f+=1,q[f]&1&&(l|=r),r>>=1,f+=1,q[f]&1&&(l|=r),r>>=1,f+=1,q[f]&1&&(l|=r),r>>=1,f+=1,q[f]&1&&(l|=r),r>>=1,f+=1,q[f]&1&&(l|=r),r>>=1,f+=1,q[f]&1&&(l|=r),f+=1,0!==l&&(b[m]=l,d[m-n]|=l,l=0),r=k,m+=1;for(;f<=a.J;)q[f]&1&&(l|=r),r>>=1,f+=1}else{f=a.F;for(l=0;f<=a.J-16;)q[f]>=p&&(l|=r),r>>=1,f+=1,q[f]>=p&&(l|=r),r>>=1,f+=1,q[f]>=p&&(l|=r),r>>=1,f+=1,q[f]>=p&&(l|=r),r>>=1,f+=1,q[f]>=p&&(l|=r),r>>=1,f+=1,q[f]>=p&&(l|=r),r>>=1,f+=1,q[f]>=p&&(l|=r),r>>=1,f+=1,q[f]>=p&&(l|=r),r>>=1,f+=1,q[f]>=
p&&(l|=r),r>>=1,f+=1,q[f]>=p&&(l|=r),r>>=1,f+=1,q[f]>=p&&(l|=r),r>>=1,f+=1,q[f]>=p&&(l|=r),r>>=1,f+=1,q[f]>=p&&(l|=r),r>>=1,f+=1,q[f]>=p&&(l|=r),r>>=1,f+=1,q[f]>=p&&(l|=r),r>>=1,f+=1,q[f]>=p&&(l|=r),f+=1,0!==l&&(b[m]=l,d[m-n]|=l,l=0),r=k,m+=1;for(;f<=a.J;)q[f]>=p&&(l|=r),r>>=1,f+=1}0!==l&&(b[m]=l,d[m-n]|=l)}};qa.prototype.ml=function(a,c,b,d,f,e,g,k){var l,p,n,q;for(l=1;l<=c/2;l+=1)if(0===c%l){var m=c-l;var r=l*e;for(q=0;q<f;q+=1){var u=q*d;var t=q*g;var v=k;for(n=0;n<d;n+=1){if(a[u+n]===c){var x=
(n>>4)+t;var w=x+r;for(p=0;p<m&&(b[x]&v)===(b[w]&v);p+=1)x+=e,w+=e;p===m&&(a[u+n]=l)}(v>>=1)||(v=k)}}}};qa.prototype.hj=function(a,c,b){var d=a.F,f=a.G,e=a.J;a=a.K;var g,k,l=B.nb[6]+128;this.lc=0;for(k=f;k<=a;k+=1){var p=b[k];var n=(k-f)*(e-d+1);for(g=d;g<=e;g+=1)p[g]===l&&(c[n+g-d]=-1,this.lc+=1)}};qa.prototype.jj=function(a,c,b){var d=a.F,f=a.G,e=a.J;a=a.K;var g,k;this.lc=0;for(k=f;k<=a;k+=1){var l=b[k];var p=(k-f)*(e-d+1);for(g=d;g<=e;g+=1)6===l[g]&&(c[p+g-d]=-1,this.lc+=1)}};qa.prototype.Oi=function(a,
c,b,d,f,e){var g,k=0,l=0;var p=!1;var n=null,q=null,m=this.l,r=new Uint32Array(a+1),u=null,t=0,v=0,x=0,w=0,A=0,C,z=C=0,H=0,E=0,J=0,N=0,L=[];this.gi=(performance.now()-this.$g)/1E3;(this.i||this.v||this.o)&&0!==(this.counter&1)&&(m=this.$);var D=this.di(a,c);d&&(2>=this.h||this.o)&&!this.v&&!this.T&&(D=this.di(a,c),t=D.J-D.F+1,v=D.K-D.G+1,k=(t-1>>4)+1,l=k*v,l*a<=I.hD&&(n=new Uint16Array(a*l),u=new Int32Array(t*v),q=new Uint16Array(l),w=8*n.BYTES_PER_ELEMENT-1,A=1<<w,p=!0));p||(this.mh.cb.fill(I.Bg),
this.Bf=Array.matrix(na.Aa,this.W,(this.U-1>>4)+1,0,this.N,"Life.occTileMap"),this.df=Array.matrix(na.Aa,this.W,(this.U-1>>4)+1,0,this.N,"Life.occMergedTileMap"));var G=this.Va?2:1;this.bf=268435456;for(c=this.ig=this.xf=0;c<=a;c+=1){this.$c();this.Ac();b.he();this.se();this.cd(b);if(0===this.u){-1===b.sb&&(b.sb=this.counter,b.bc=!1);return}this.counter&&0<this.u&&!d&&(b.Sa.F=this.m.F,b.Sa.G=this.m.G,b.Sa.J=this.m.J,b.Sa.K=this.m.K,b.Gi(b,b.Sa));p?this.cm(D,m,n,q,c,k,l,A):this.$l(D,c);d||(D=this.Ga?
this.xa:this.m,this.o&&(D=this.fi(D.F,D.G,D.J,D.K)));0===c?(C=this.Mh(D),z=D.J-D.F+1,H=D.K-D.G+1):c===G&&(E=this.Mh(D),J=D.J-D.F+1,N=D.K-D.G+1);if(!(this.Va&&0!==(c&1)||this.ga||this.A||-1!==this.ac)){for(;-1===this.ac&&0<L.length&&L[0].i===c;){if(D.J-D.F+1===J&&D.K-D.G+1===N||D.J-D.F+1===N&&D.K-D.G+1===J)this.fe=this.qj(D,E,L[0].h,f,e,a/(c-G)),-1!==this.fe?(console.log(c,"gen",this.counter,"type",this.fe,I.mp[this.fe],"verified"),this.ac=c-G):(console.log(c,"gen",this.counter,"verify failed"),this.ac=
-1);L.shift()}if(-1===this.ac&&0<c&&0===a%c&&(D.J-D.F+1===z&&D.K-D.G+1===H||D.J-D.F+1===H&&D.K-D.G+1==z)){var F=this.Ii(D,C,f,e);if(0!==F)for(L[L.length]=new nc(c+G,F),console.log(c,"gen",this.counter,"type",F,"check at",c+G,"delta",f,e),g=0;g<=I.ue;g+=1)0!==(F&1<<g)&&console.log(I.mp[g])}}c<a&&(g=this.za+this.ia,g<this.bf&&(this.bf=g),g>this.xf&&(this.xf=g),this.ig+=g);this.jf[c]=this.u;this.Ob[c<<1]=D.J-D.F+1<<16|D.K-D.G+1;this.Ob[(c<<1)+1]=D.F<<16|D.G}if(p){for(f=0;f<v;f+=1)for(e=f*t,c=f*k,p=A,
b=0;b<t;b+=1)(C=q[c])?(C&p&&(u[e+b]=a,x+=1),p>>=1,p||(p=A,c+=1)):(b+=w,c+=1);this.ml(u,a,n,t,v,l,k,A);for(f=0;f<v;f+=1)for(e=f*t,b=0;b<t;b+=1)(c=u[e+b])&&(r[c]+=1);d&&(this.lc=0,this.D&&this.hj(D,u,this.ta),this.o&&this.jj(D,u,m));c=r[a]/x;this.Uh=this.de(c,2);this.Ka=r;this.Cf=x;this.he=u;this.Sc=t;this.Fd=v;this.Yi()}else this.Ka=null;this.hi=(performance.now()-this.$g)/1E3};qa.prototype.El=function(a,c,b,d,f,e,g,k){var l="",p=String(this.counter-d),n="",q="",m=this.u,r=m,u=16384,t=0,v=16384,x=
0,w=0,A="",C="",z="",H=this.mh,E=0,J=0,N="",L="",D="";0<d&&(p+=" and "+this.counter);var G=f;var F=e;f=Math.abs(f);e=Math.abs(e);if(0<f||0<e){var W="Spaceship";0===f||0===e?q="0":(f>e?(q=f,n=e):(q=e,n=f),l=this.Tf(q,n),q=String(q/l),1!==n/l&&(q+="/"+String(n/l)));if(f===e||0===f||0===e)if(n=f===e&&0!==f?"Diagonal":"Orthogonal",0===f&&(f=e),1<f)if(1===d)l=f+"c";else{l=this.Tf(f,d);var va=f/l;var ma=d/l;1!==l?(l=1===va?"c":va+"c",1<ma&&(l+="/"+ma),l+=" | "+f+"c/"+d):l=f+"c/"+d}else l="c",1<d&&(l+="/"+
d);else l=this.Tf(f,this.Tf(e,d)),va=f/l,n=e/l,ma=d/l,1!==l?(l=va>n?"("+va+","+n+")c":"("+n+","+va+")c",1<ma&&(l+="/"+ma),l=f>e?l+(" | ("+f+","+e+")c"):l+(" | ("+e+","+f+")c")):l=f>e?"("+f+","+e+")c":"("+e+","+f+")c",1<d&&(l+="/"+d),n=this.Kk(f,e);this.Oi(d,c,a,!1,G,F)}else 1===d||this.Va&&2===d?W="Still Life":(W="Oscillator",this.Oi(d,c,a,!0,0,0));if(0===this.u)return this.i||this.T?["Life ended at generation "+(this.gb+a.Ca),"Empty"]:["Life ended at generation "+(this.counter+a.Ca),"Empty"];if("Still Life"===
W)m=String(this.u);else{for(c=f=0;c<d;c+=1)a=this.jf[c],f+=a,a<m&&(m=a),a>r&&(r=a);m=m===r?String(r):String(m)+" | "+String(r)+" | "+this.de(f/d,1)}if("Still Life"!==W)if("Spaceship"===W)for(c=0;c<d;c+=1)a=this.Ob[c<<1],r=a>>16,f=a&65535,r>g&&(g=r),f>k&&(k=f);else{for(c=0;c<d;c+=1)a=this.Ob[c<<1],r=a>>16,f=a&65535,a=this.Ob[(c<<1)+1],g=a>>16,k=a&65535,g<u&&(u=g),k<v&&(v=k),g+r-1>t&&(t=g+r-1),k+f-1>x&&(x=k+f-1);g=t-u+1;k=x-v+1}c=String(g+" x "+k+" = "+g*k);0<d&&(this.bf===this.xf?(w=this.bf,A=String(w.toFixed(1))):
(w=this.ig/d,A=this.de(this.bf,1)+" | "+this.de(this.xf,1)+" | "+this.de(w,1)));if("Oscillator"===W){if(this.Ka)E=this.Cf-this.Ka[1],J=this.Ka[1];else for(r=v;r<=x;r+=1)if(C=H[r],this.i)for(v=u;v<=t;v+=1)z=C[v],(z&3)===I.od?E+=1:(z&3)===I.xd&&(J+=1),z>>=2,(z&3)===I.od?E+=1:(z&3)===I.xd&&(J+=1),z>>=2,(z&3)===I.od?E+=1:(z&3)===I.xd&&(J+=1),z>>=2,(z&3)===I.od?E+=1:(z&3)===I.xd&&(J+=1);else for(v=u;v<=t;v+=1)C[v]===I.od?E+=1:C[v]===I.xd&&(J+=1);C=this.de(E/(E+J),2);z=this.Uh;this.dh=E}"Oscillator"===
W&&(L=this.de(w/(E+J),2)+" | "+this.de(w/E,2));u=String(E+" | "+J+" | "+(E+J));this.ga||this.A||(0>=this.ac?(this.ac=d,N=String(this.ac)):N=0===d%this.ac&&d!==this.ac?String(this.ac)+" ("+I.mp[this.fe]+")":"Spaceship"===W&&this.ac===d?String(this.ac):String(this.ac)+" ("+I.mp[this.fe]+")");"Still Life"===W&&(f=this.u/(g*k),this.i&&(f/=4),D=1===f?String(f):f.toFixed(3));return[b,W,n,l,c,p,m,q,d,A,C,z,N,u,L,D]};qa.prototype.Vl=function(a,c,b,d,f,e){var g=!1;a===c/2&&(g=0===b?0===d&&a/c===f/e:0===f?
0===e&&a/c===b/d:a/c===b/d&&a/c===f/e);return g};qa.prototype.Yk=function(a,c,b,d){var f,e,g,k=I.Ta,l=this.l,p=this.ta,n=B.nb[6]+128;d=this.height-1;a=0;b=this.width-1;c=this.width;var q=0;var m=this.height;for(g=f=0;g<=d;g+=1){var r=l[g];var u=p[g];for(e=a;e<=b;e+=1){var t=r[e];var v=u[e];if(t>=k||v===n)e<c&&(c=e),e>q&&(q=e),g<m&&(m=g),g>f&&(f=g)}}a=c;c=m;b=q;d=f;return new Va(a,c,b,d)};qa.prototype.fi=function(a,c,b,d){var f,e,g=this.l;0!==(this.counter&1)&&(g=this.$);var k=b;var l=a;var p=d;for(e=
f=c;e<=d;e+=1){var n=g[e];for(c=a;c<=b;c+=1){var q=n[c];if(q&1||6===q)c<k&&(k=c),c>l&&(l=c),e<p&&(p=e),e>f&&(f=e)}}a=k;c=p;b=l;d=f;return new Va(a,c,b,d)};qa.prototype.Hi=function(a,c,b,d,f,e){this.sf[this.wb]=a;this.Vh[this.wb]=this.counter;this.jf[this.wb]=this.u;this.Ob[this.wb<<1]=c;this.Ob[(this.wb<<1)+1]=b<<16|d;this.oe[this.wb]=-1;e||(-1===this.pf?this.pf=0:-1===f?this.pf=this.wb:this.oe[f]=this.wb)};qa.prototype.dm=function(a){var c=this.Ga?this.xa:this.m,b=c.F,d=c.G,f=c.J,e=c.K,g=f-b+1,k=
e-d+1,l=!1,p=-1,n=-1,q=-1,m=g<<16|k,r=b<<16|d,u=!1,t=0,v=0,x=0,w="";var A=this.T?-1:0;var C=[];this.Ga&&(this.Va=this.P.fa);if(this.wb<I.xj)if(0===this.u)C=["Empty Pattern","Empty"];else{-1!==this.C?(b=Math.round((this.width-this.M)/2)+A,d=Math.round((this.height-this.I)/2)+A,f=b+this.M-1,e=d+this.I-1,c=new Va(b,d,f,e),g=f-b+1,k=e-d+1,m=g<<16|k,r=b<<16|d):(this.o&&(c=this.fi(b,d,f,e),b=c.F,d=c.G,f=c.J,e=c.K,g=f-b+1,k=e-d+1,m=g<<16|k,r=b<<16|d),this.D&&null!==this.Ab&&(c=this.Yk(b,d,f,e),b=c.F,d=c.G,
f=c.J,e=c.K,g=f-b+1,k=e-d+1,m=g<<16|k,r=b<<16|d));if((this.T||this.Va)&&0!==(this.counter&1))return this.Hi(-1,m,b,d,t,!0),this.wb+=1,this.wb===I.xj&&(this.wb=0,C=[I.Ar]),C;c=this.Mh(c);f=!1;e=this.pf;for(t=-1;-1!==e&&!f;)if(A=this.sf[e],c>A)t=e,e=this.oe[e];else if(c<A)f=!0;else if(c===A){var z=e<<1;if(this.u===this.jf[e]&&m===this.Ob[z]){A=!0;var H=this.counter-this.Vh[e];this.Ob[z+1]===r?1===H||(this.Va||this.T)&&2===H?(w="Still Life",H=1):w="Oscillator period "+H:(v=b-(this.Ob[z+1]>>16),x=d-(this.Ob[z+
1]&65535),l?(this.Vl(H,p,v,n,x,q)?w=this.Wl(H,v,x):A=!1,l=!1):(l=!0,p=H,n=v,q=x,A=!1));A?(u=f=!0,l&&(x=v=0),C=this.El(a,e,w,H,v,x,g,k)):(t=e,e=this.oe[e])}else t=e,e=this.oe[e]}u||(this.Hi(c,m,b,d,t,!1),this.wb+=1,this.wb===I.xj&&(this.wb=0,C=[I.Ar]))}return C};qa.prototype.Dk=function(a,c,b,d,f,e,g){var k=this.da/2,l=this.ba/2,p=0,n=this.width/2,q=this.height/2,m=this.coords,r=this.ub,u=this.height/2-this.Z-this.wa+.5,t=this.width/2-this.ca-this.ya+.5,v=this.zoom*this.Ja;if(a>b){var x=b;b=a;a=x}c>
d&&(x=d,d=c,c=x);a+=f;b+=f;c+=e;d+=e;r.length!==I.Fc&&(this.coords=this.N.h(na.fd,12*I.Fc,"Life.coords"),this.ub=this.N.h(na.Ub,I.Fc,"Life.cellColours"),m=this.coords,r=this.ub);this.ha.lineWidth=1.6;this.ha.lineCap="butt";this.ha.lineJoin="bevel";for(e=f=0;c<=d;c+=1)if(x=(c-q+u)*v+l,x>=-v&&x<this.ba+v){var w=c-q;var A=t-n;for(x=a;x<=b+1;x+=1){if(0<g[p]){var C=(x+A)*v+k;if(C>=-v&&C<this.da+2*v){r[f]=(0<<I.Cg)+e;C=x-n-.5;var z=x+c&1;m[e]=C-1;m[e+1]=w+z;m[e+2]=C+1;m[e+3]=w+z;m[e+4]=C;m[e+5]=w+1-z;e+=
6;f+=1;f===I.Fc&&(this.Hb=f,this.ld(!0,!1,!0),e=f=0)}}p+=1}}else p+=b-a+1;this.Hb=f;0<f&&this.ld(!0,!1,!0)};qa.prototype.ai=function(a,c,b,d,f,e){var g=this.da/2,k=this.ba/2,l=this.width/2,p=this.height/2,n=this.coords,q=this.ub,m=this.height/2-this.Z-this.wa+.5,r=this.width/2-this.ca-this.ya+.5,u=this.zoom*this.Ja;if(a>b){var t=b;b=a;a=t}c>d&&(t=d,d=c,c=t);a+=f;b+=f;c+=e;d+=e;q.length!==I.Fc&&(this.coords=this.N.h(na.fd,12*I.Fc,"Life.coords"),this.ub=this.N.h(na.Ub,I.Fc,"Life.cellColours"),n=this.coords,
q=this.ub);this.ha.lineWidth=1.6;this.ha.lineCap="butt";this.ha.lineJoin="bevel";for(e=f=0;c<=d;c+=1)if(t=(c-p+m)*u+k,t>=-u&&t<this.ba+u){var v=c-p;var x=r-l;for(t=a;t<=b+1;t+=1){var w=(t+x)*u+g;if(w>=-u&&w<this.da+2*u){q[f]=(0<<I.Cg)+e;w=t-l-.5;var A=t+c&1;n[e]=w-1;n[e+1]=v+A;n[e+2]=w+1;n[e+3]=v+A;n[e+4]=w;n[e+5]=v+1-A;e+=6;f+=1;f===I.Fc&&(this.Hb=f,this.ld(!0,!1,!0),e=f=0)}}}this.Hb=f;0<f&&this.ld(!0,!1,!0)};qa.prototype.bi=function(){var a=this.l,c=this.ta,b=null,d=this.Xa,f=this.da/2,e=this.ba/
2,g,k,l=this.width/2,p=this.height/2,n=B.nb[3]+128,q=B.nb[4]+128,m=B.nb[5]+128,r=B.nb[6]+128,u=this.Ta,t=this.coords,v=this.ub,x=d.F,w=d.J;var A=d.G;var C=d.K,z=this.height/2-this.Z-this.wa+.5,H=this.width/2-this.ca-this.ya+.5,E=this.zoom*this.Ja,J=!this.Ba&&!this.Ra;(this.o||this.v)&&0!==(this.counter&1)&&(a=this.$);v.length!==I.Fc&&(this.coords=this.N.h(na.fd,12*I.Fc,"Life.coords"),this.ub=this.N.h(na.Ub,I.Fc,"Life.cellColours"),t=this.coords,v=this.ub);-1!==this.C&&(0!==this.M?(x=Math.round((this.width-
this.M)/2)-1,w=x+this.M-1+2):(x=0,w=this.width-1),0!==this.I?(A=Math.round((this.height-this.I)/2)-1,C=A+this.I-1+2):(A=0,C=this.height-1));this.ha.lineWidth=1.6;this.ha.lineCap="butt";this.ha.lineJoin="bevel";for(k=d=0;A<=C;A+=1){var N=(A-p+z)*E+e;if(N>=-E&&N<this.ba+E){N=a[A];c&&(b=c[A]);var L=A-p;var D=H-l;for(g=x;g<=w;g+=1){var G=(g+D)*E+f;if(G>=-E&&G<=this.da+2*E){G=N[g];if(b){var F=b[g];if(F===q||F===r)G=G>=u?n:F;else if(F===n||F===m)G=G<u?q:F}0<G&&(v[d]=(G<<I.Cg)+k,G=g-l-.5,F=g+A&1,t[k]=G-
1,t[k+1]=L+F,t[k+2]=G+1,t[k+3]=L+F,t[k+4]=G,t[k+5]=L+1-F,k+=6,d+=1);d===I.Fc&&(this.Hb=d,this.ld(!0,J,!1),this.Ra&&!this.Ba&&(this.ha.strokeStyle="rgb("+this.la[0]+","+this.ja[0]+","+this.ka[0]+")",this.ld(!1,!1,!1)),k=d=0)}}}}this.Hb=d;0<d&&(this.ld(!0,J,!1),this.Ra&&!this.Ba&&(this.ha.strokeStyle="rgb("+this.la[0]+","+this.ja[0]+","+this.ka[0]+")",this.ld(!1,!1,!1)),k=0);if(this.Ba){this.ha.strokeStyle="rgb("+(this.eb>>16)+","+(this.eb>>8&255)+","+(this.eb&255)+")";this.ha.lineWidth=1;C=e/E-z+p|
0;d=0;for(A=-e/E-z+p|0;A<=C;A+=1)if(N=(A-p+z)*E+e,N>=-E&&N<this.ba+E)for(L=A-p,D=H-l,x=-f/E-D-E|0,w=f/E-D+E|0,g=x;g<=w+1;g+=1)G=(g+D)*E+f,G>=-E&&G<this.da+2*E&&(G=g-l-.5,F=g+A&1,t[k]=G-1,t[k+1]=L+F,t[k+2]=G+1,t[k+3]=L+F,t[k+4]=G,t[k+5]=L+1-F,k+=6,d+=1),d===I.Fc&&(this.Hb=d,this.ld(!1,!1,!1),k=d=0);this.Hb=d;0<d&&this.ld(!1,!1,!1)}};qa.prototype.ld=function(a,c,b){var d,f=this.ha,e=this.width/2-this.ca-this.ya,g=this.height/2-this.Z-this.wa,k=this.zoom*this.Ja,l=this.zoom*this.Ja*B.Rd,p=this.da/2,
n=this.ba/2,q=0,m=0,r=-1,u=this.coords,t=this.Hb,v=this.ub,x=(1<<I.Cg)-1;if(a&&!b&&v.sort){m=(I.Fc<<I.Cg)+256;for(d=t;d<I.Fc;d+=1)v[d]=m;v.sort()}f.beginPath();a||(r=m=q=0);for(d=0;d<t;d+=1){a&&(m=v[d],q=m&x,m>>=I.Cg);var w=u[q];var A=u[q+1];q+=2;var C=(A+g)*l+n;var z=(w+e)*k+p;var H=(u[q+1]-A)*l;var E=(u[q]-w)*k;q+=2;m!==r&&(r=m,0<d&&(a?(c&&f.stroke(),f.fill()):f.stroke(),f.beginPath()),a&&!b&&(f.fillStyle=this.Ve[m],c&&(f.strokeStyle=this.Ve[m])));f.moveTo(z|0,C|0);f.lineTo(E+z|0,H+C|0);f.lineTo(E+
z|0,C|0);H=(u[q+1]-A)*l;E=(u[q]-w)*k;f.lineTo(E+z|0,H+C|0);q+=2}a?(c&&f.stroke(),f.fill()):f.stroke()};qa.prototype.Ak=function(a,c,b,d,f,e,g){var k=0,l=this.width/2-.25,p=this.height/2,n=Math.PI/3,q=.5/Math.cos(n/2)*1.16,m=B.Rd/4/Math.cos(n/2)*1.16,r=[],u=[],t=this.coords,v=this.ub,x=this.da/2,w=this.ba/2,A=this.width/2-this.ca-this.ya,C=this.height/2-this.Z-this.wa,z=this.V;A=A+C/2+-(this.height>>2)+.5;C+=.5;if(a>b){var H=b;b=a;a=H}c>d&&(H=d,d=c,c=H);a+=f;b+=f;c+=e;d+=e;v.length!==I.Fc&&(this.coords=
this.N.h(na.fd,12*I.Fc,"Life.coords"),this.ub=this.N.h(na.Ub,I.Fc,"Life.cellColours"),t=this.coords,v=this.ub);e=n/2;for(f=0;5>=f;f+=1)r[f]=Math.cos(e)*m,u[f]=Math.sin(e)*q,r[f]+=u[f]/2,e+=n;n=r[0];q=u[0];m=r[1];H=u[1];var E=r[2];var J=u[2];var N=r[3];var L=u[3];var D=r[4];var G=u[4];r=r[5];u=u[5];this.ha.lineWidth=1;this.ha.lineCap="round";this.ha.lineJoin="round";for(e=f=0;c<=d;c+=1){var F=c-p;var W=(F+C)*z+w;if(W>=-z&&W<this.ba+z)for(W=a;W<=b;W+=1){if(0<g[k]){var va=W-l;var ma=(va+A-(F+C)/2)*z+
x;ma>=-z&&ma<this.da+z&&(v[f]=(0<<I.Cg)+e,t[e]=n+va,t[e+1]=q+F,t[e+2]=m+va,t[e+3]=H+F,t[e+4]=E+va,t[e+5]=J+F,t[e+6]=N+va,t[e+7]=L+F,t[e+8]=D+va,t[e+9]=G+F,t[e+10]=r+va,t[e+11]=u+F,e+=12,f+=1,f===I.Fc&&(this.Hb=f,this.jd(!0,!1,!1,!0),e=f=0))}k+=1}else k+=b-a+1}this.Hb=f;0<f&&this.jd(!0,!1,!1,!0)};qa.prototype.fj=function(a,c,b,d,f,e){var g=this.width/2-.25,k=this.height/2,l=Math.PI/3,p=.5/Math.cos(l/2)*1.16,n=B.Rd/4/Math.cos(l/2)*1.16,q=[],m=[],r=this.coords,u=this.ub,t=this.da/2,v=this.ba/2,x=this.width/
2-this.ca-this.ya,w=this.height/2-this.Z-this.wa,A=this.V;x=x+w/2+-(this.height>>2)+.5;w+=.5;if(a>b){var C=b;b=a;a=C}c>d&&(C=d,d=c,c=C);a+=f;b+=f;c+=e;d+=e;u.length!==I.Fc&&(this.coords=this.N.h(na.fd,12*I.Fc,"Life.coords"),this.ub=this.N.h(na.Ub,I.Fc,"Life.cellColours"),r=this.coords,u=this.ub);e=l/2;for(f=0;5>=f;f+=1)q[f]=Math.cos(e)*n,m[f]=Math.sin(e)*p,q[f]+=m[f]/2,e+=l;l=q[0];p=m[0];n=q[1];C=m[1];var z=q[2];var H=m[2];var E=q[3];var J=m[3];var N=q[4];var L=m[4];q=q[5];m=m[5];this.ha.lineWidth=
1;this.ha.lineCap="round";this.ha.lineJoin="round";for(e=f=0;c<=d;c+=1){var D=c-k;var G=(D+w)*A+v;if(G>=-A&&G<this.ba+A)for(G=a;G<=b;G+=1){var F=G-g;var W=(F+x-(D+w)/2)*A+t;W>=-A&&W<this.da+A&&(u[f]=(0<<I.Cg)+e,r[e]=l+F,r[e+1]=p+D,r[e+2]=n+F,r[e+3]=C+D,r[e+4]=z+F,r[e+5]=H+D,r[e+6]=E+F,r[e+7]=J+D,r[e+8]=N+F,r[e+9]=L+D,r[e+10]=q+F,r[e+11]=m+D,e+=12,f+=1,f===I.Fc&&(this.Hb=f,this.jd(!0,!1,!1,!0),e=f=0))}}this.Hb=f;0<f&&this.jd(!0,!1,!1,!0)};qa.prototype.$h=function(){var a=this.l,c=this.ta,b=null,d=
this.Xa,f=this.da/2,e=this.ba/2,g,k=this.width/2-.25,l=this.height/2,p=Math.PI/3,n=.5/Math.cos(p/2)*1.16,q=B.Rd/4/Math.cos(p/2)*1.16,m=[],r=[],u=B.nb[3]+128,t=B.nb[4]+128,v=B.nb[5]+128,x=B.nb[6]+128,w=this.Ta,A=this.coords,C=this.ub,z=d.F,H=d.J;var E=d.G;var J=d.K,N=this.height/2-this.Z-this.wa+.5,L=this.width/2-this.ca-this.ya+.5-(this.height>>2)+N/2,D=this.zoom*this.Ja,G=!this.Ba&&!this.Ra;(this.o||this.v)&&0!==(this.counter&1)&&(a=this.$);C.length!==I.Fc&&(this.coords=this.N.h(na.fd,12*I.Fc,"Life.coords"),
this.ub=this.N.h(na.Ub,I.Fc,"Life.cellColours"),A=this.coords,C=this.ub);-1!==this.C&&(0!==this.M?(z=Math.round((this.width-this.M)/2)-1,H=z+this.M-1+2):(z=0,H=this.width-1),0!==this.I?(E=Math.round((this.height-this.I)/2)-1,J=E+this.I-1+2):(E=0,J=this.height-1));var F=p/2;for(d=0;5>=d;d+=1)m[d]=Math.cos(F)*q,r[d]=Math.sin(F)*n,m[d]+=r[d]/2,F+=p;p=m[0];n=r[0];q=m[1];var W=r[1];var va=m[2];var ma=r[2];var U=m[3];var oa=r[3];var da=m[4];var ca=r[4];m=m[5];r=r[5];this.ha.lineWidth=1;this.ha.lineCap=
"round";this.ha.lineJoin="round";for(F=d=0;E<=J;E+=1){var ta=(E+N-l)*D+e;if(ta>=-D&&ta<this.ba+D){ta=a[E];c&&(b=c[E]);var ha=E-l;var pa=L-k-(ha+N)/2;for(g=z;g<=H;g+=1){var fa=(g+pa)*D+f;if(fa>=-D&&fa<this.da+D){fa=ta[g];if(b){var la=b[g];if(la===t||la===x)fa=fa>=w?u:la;else if(la===u||la===v)fa=fa<w?t:la}0<fa&&(C[d]=(fa<<I.Cg)+F,fa=g-k,A[F]=p+fa,A[F+1]=n+ha,A[F+2]=q+fa,A[F+3]=W+ha,A[F+4]=va+fa,A[F+5]=ma+ha,A[F+6]=U+fa,A[F+7]=oa+ha,A[F+8]=da+fa,A[F+9]=ca+ha,A[F+10]=m+fa,A[F+11]=r+ha,F+=12,d+=1);d===
I.Fc&&(this.Hb=d,this.jd(!0,G,!1,!1),this.Ra&&!this.Ba&&(this.ha.strokeStyle="rgb("+this.la[0]+","+this.ja[0]+","+this.ka[0]+")",this.jd(!1,!1,!1,!1)),F=d=0)}}}}this.Hb=d;0<d&&(this.jd(!0,G,!1,!1),this.Ra&&!this.Ba&&(this.ha.strokeStyle="rgb("+this.la[0]+","+this.ja[0]+","+this.ka[0]+")",this.jd(!1,!1,!1,!1)),F=0);if(this.Ba){this.ha.strokeStyle="rgb("+(this.eb>>16)+","+(this.eb>>8&255)+","+(this.eb&255)+")";this.ha.lineWidth=1;d=0;J=e/D-N+l|0;for(E=-e/D-N+l|0;E<=J;E+=1)if(ta=(E+N-l)*D+e,ta>=-D&&
ta<this.ba+D)for(ha=E-l,pa=L-k-(ha+N)/2,z=-f/D-pa-D|0,H=f/D-pa+D|0,g=z;g<=H;g+=1)fa=(g+pa)*D+f,fa>=-D&&fa<this.da+D&&(fa=g-k,A[F]=p+fa,A[F+1]=n+ha,A[F+2]=q+fa,A[F+3]=W+ha,A[F+4]=va+fa,A[F+5]=ma+ha,A[F+6]=U+fa,A[F+7]=oa+ha,F+=8,d+=1),d===I.Fc&&(this.Hb=d,this.jd(!1,!1,!0,!1),F=d=0);this.Hb=d;0<d&&this.jd(!1,!1,!0,!1)}};qa.prototype.jd=function(a,c,b,d){var f=this.ha,e=this.width/2-this.ca-this.ya,g=this.height/2-this.Z-this.wa,k=this.zoom*this.Ja,l=this.da/2,p=this.ba/2,n=0,q=0,m=12,r=0,u=-1,t=this.coords,
v=this.Hb,x=this.ub,w=(1<<I.Cg)-1;e=e+g/2+-(this.height>>2)+.5;g+=.5;a&&!d&&x.sort&&(r=(I.Fc<<I.Cg)+256,x.fill(r,v),x.sort());f.beginPath();a||(q=m=b?8:12,u=r=n=0);for(b=0;b<v;b+=1){a&&(r=x[b],n=r&w,q=n+m,r>>=I.Cg);var A=t[n];var C=t[n+1];var z=C+g;var H=A+e-z/2;n+=2;z=z*k+p;H=H*k+l;var E=(t[n+1]-C)*k;var J=(t[n]-A)*k-E/2;n+=2;r!==u&&(u=r,0<b&&(a?(c&&f.stroke(),f.fill()):f.stroke(),f.beginPath()),a&&!d&&(f.fillStyle=this.Ve[r],c&&(f.strokeStyle=this.Ve[r])));f.moveTo(H,z);for(f.lineTo(J+H,E+z);n<
q;)E=(t[n+1]-C)*k,J=(t[n]-A)*k-E/2,n+=2,f.lineTo(J+H,E+z);q+=m}a?(c&&f.stroke(),f.fill()):f.stroke()};qa.prototype.bg=function(a,c,b,d,f,e,g){var k="",l=c.D?c.Xa:c.m,p=l.F,n=l.J,q=l.K,m=l.G,r=n-p+1,u=q-m+1;l=0;var t=[],v=this.l,x=null;var w=(c.width>>1)-(a.A>>1);var A=(c.height>>1)-(a.C>>1),C=a.Y;2>d&&(d=2);2>f&&(f=2);d===f&&this.D&&(f=d=7);a.P&&(p=C.F+w,m=C.G+A,n=C.J+w,q=C.K+A,p>n&&(w=p,p=n,n=w),m>q&&(w=m,m=q,q=w),r=n-p+1,u=q-m+1);c.A&&(0<p&&0!==(p&1)&&(--p,r+=1),0<m&&0!==(m&1)&&(--m,u+=1));c.T&&
(0<p&&0===(p&1)&&(--p,r+=1),0<m&&0===(m&1)&&(--m,u+=1));if(0===e.length)for(w=0;w<d;w+=1)e[w]=w;if(2>=f)t[0]="b",t[1]="o";else for(t[0]=".",w=0;w<f-1;w+=1)t[w+1]=24<=w?String.fromCharCode(112+(w/24|0)-1)+String.fromCharCode(65+w%24):String.fromCharCode(65+w);b&&(k+=c.xh);w=g&&""!==a.ta?a.ta:a.U;"Conway's Life"===w&&(w="Life");"B3/S23History"===w&&(w="LifeHistory");k=k+("x = "+r+", y = "+u+", rule = "+w)+a.Wf;k+="\n";for(a=k.length;m<=q;){w=p;2>=d&&!this.v?(x=v[m],r=x[w],f=r<=this.ie||r===this.Qb?
0:1):f=c.Ha(w,m,!1);g=1;for(w+=1;w<=n+1;)w>n?r=-1:2>=d&&!this.v?(r=x[w],r=r<=this.ie||r===this.Qb?0:1):r=c.Ha(w,m,!1),r!==f?((-1!==r||0!==f)&&0<l&&(1<l&&(k+=l),k+="$",69<=k.length-a&&(k+="\n",a=k.length),l=0),0<f?(1<g&&(k+=g),k+=t[e[f]]):w<=n&&(1<g&&(k+=g),k+=t[e[f]]),69<=k.length-a&&(k+="\n",a=k.length),g=1,f=r):g+=1,w+=1;l+=1;m+=1}k+="!\n";b&&(k+=c.vh);return k};qa.prototype.Pl=function(a,c,b,d){var f=this.pa,e=this.X,g=this.l,k=this.fa,l=this.Y,p=this.qb,n=this.m,q=this.Xa,m,r=!0,u=this.A?1:0,
t=this.A?14:15;if(a!==(a&this.sa)||c!==(c&this.qa)){r=!1;var v=this.width<this.L&&a!==(a&this.sa);for(m=this.height<this.L&&c!==(c&this.qa);v||m;)(v||m)&&this.rf(v,m),v&&(a+=this.width>>2),m&&(c+=this.height>>2),v=this.width<this.L&&a!==(a&this.sa),m=this.height<this.L&&c!==(c&this.qa);a===(a&this.sa)&&c===(c&this.qa)&&(r=!0,f=this.pa,e=this.X,g=this.l,k=this.fa,l=this.Y,p=this.qb)}if(r)if(0!==(this.counter&1)&&(f=this.Fa,e=this.aa),v=1<<(~a&15),m=1<<(~(a>>4)&15),1===(b&1)?(0===(f[c][a>>4]&v)&&(this.u+=
1),g[c][a]=this.Ma?(a+c&127)+64:this.Ta,k[c>>4][a>>8]|=m,l[c>>4][a>>8]|=m,f[c][a>>4]|=v,e[c>>4][a>>8]|=m,p[c>>4][a>>8]&=~m,d=a&15,0<a&&d<=u?(a-=d+1,e[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=t&&(a+=16-d,e[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),0<c&&0===(c&15)?(--c,e[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=u?(a-=d+1,e[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=t&&(a+=16-d,e[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),c+=1):c<this.height-1&&15===(c&15)&&(c+=1,e[c>>4][a>>8]|=1<<(~(a>>
4)&15),0<a&&d<=u?(a-=d+1,e[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=t&&(a+=16-d,e[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),--c)):(0!==(f[c][a>>4]&v)&&--this.u,g[c][a]=d?0:this.ie,k[c>>4][a>>8]|=m,l[c>>4][a>>8]|=m,f[c][a>>4]&=~v),0<b)1===this.u?(n.F=a,n.J=a,n.G=c,n.K=c):(a<n.F&&(n.F=a),a>n.J&&(n.J=a),c<n.G&&(n.G=c),c>n.K&&(n.K=c)),a<q.F&&(q.F=a),a>q.J&&(q.J=a),c<q.G&&(q.G=c),c>q.K&&(q.K=c);else if(a===n.F||a===n.J||c===n.K||c===n.G)this.Jb=!0;return 0};qa.prototype.Ql=function(a,c,b,d){var f=
this.pa,e=this.X,g=this.l,k=this.fa,l=this.Y,p=this.qb,n=this.ta,q=this.m,m=this.Xa,r,u=!0,t=0,v=this.A?1:0,x=this.A?14:15;if(a!==(a&this.sa)||c!==(c&this.qa)){u=!1;var w=this.width<this.L&&a!==(a&this.sa);for(r=this.height<this.L&&c!==(c&this.qa);w||r;)(w||r)&&this.rf(w,r),w&&(a+=this.width>>2),r&&(c+=this.height>>2),w=this.width<this.L&&a!==(a&this.sa),r=this.height<this.L&&c!==(c&this.qa);a===(a&this.sa)&&c===(c&this.qa)&&(u=!0,f=this.pa,e=this.X,g=this.l,k=this.fa,l=this.Y,n=this.ta,p=this.qb)}if(u){0!==
(this.counter&1)&&(f=this.Fa,e=this.aa);w=1<<(~a&15);r=1<<(~(a>>4)&15);1===(b&1)?(0===(f[c][a>>4]&w)&&(this.u+=1),g[c][a]=this.Ta,k[c>>4][a>>8]|=r,l[c>>4][a>>8]|=r,f[c][a>>4]|=w,e[c>>4][a>>8]|=r,p[c>>4][a>>8]&=~r,d=a&15,0<a&&d<=v?(a-=d+1,e[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=x&&(a+=16-d,e[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),0<c&&0===(c&15)?(--c,e[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=v?(a-=d+1,e[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=x&&(a+=16-d,e[c>>4][a>>8]|=
1<<(~(a>>4)&15),a-=16-d),c+=1):c<this.height-1&&15===(c&15)&&(c+=1,e[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=v?(a-=d+1,e[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=x&&(a+=16-d,e[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),--c)):(0!==(f[c][a>>4]&w)&&--this.u,g[c][a]=d?0:this.ie,k[c>>4][a>>8]|=r,l[c>>4][a>>8]|=r,f[c][a>>4]&=~w);if(n){e=n[c][a];0<e&&(e=B.nb.indexOf(e-128));if(6===b&&6!==e||6!==b&&6===e)t=1;2===b&&(g[c][a]=I.Th);n[c][a]=0===b?0:B.nb[b]+128}if(0<b)1===this.u?(q.F=a,q.J=a,q.G=c,q.K=
c):(a<q.F&&(q.F=a),a>q.J&&(q.J=a),c<q.G&&(q.G=c),c>q.K&&(q.K=c)),a<m.F&&(m.F=a),a>m.J&&(m.J=a),c<m.G&&(m.G=c),c>m.K&&(m.K=c);else if(a===q.F||a===q.J||c===q.K||c===q.G)this.Jb=!0}return t};qa.prototype.wi=function(a,c,b,d){var f=this.pa,e=this.X,g=this.l,k=this.fa,l=this.Y,p=this.qb,n=this.ta,q=this.m,m=this.xa,r=this.Xa,u=0,t,v=this.T?-1:0;var x=Math.round((this.width-this.M)/2)+v;var w=Math.round((this.height-this.I)/2)+v,A=x+this.M-1,C=w+this.I-1,z=!0;v=0;var H=this.A?1:0,E=this.A?14:15;(this.i||
this.v||this.o)&&0!==(this.counter&1)&&(g=this.$);-1!==this.C&&(0===this.M&&(x=0,A=this.width-1),0===this.I&&(w=0,C=this.height-1));if(a!==(a&this.sa)||c!==(c&this.qa)){z=!1;var J=this.width<this.L&&a!==(a&this.sa);for(t=this.height<this.L&&c!==(c&this.qa);J||t;)(J||t)&&this.rf(J,t),J&&(a+=this.width>>2),t&&(c+=this.height>>2),J=this.width<this.L&&a!==(a&this.sa),t=this.height<this.L&&c!==(c&this.qa);a===(a&this.sa)&&c===(c&this.qa)&&(z=!0,f=this.pa,e=this.X,g=this.l,k=this.fa,l=this.Y,n=this.ta,
p=this.qb)}if(z){-1===this.C||a>=x&&a<=A&&c>=w&&c<=C||(a<x&&(a=x),a>A&&(a=A),c<w&&(c=w),c>C&&(c=C));if(this.i||this.v)f=g[c][a],g[c][a]=d&&0===b?0:this.s+b,l[c>>4][a>>8]=65535,this.v&&(0!==(this.counter&1)&&(e=this.aa),u=1<<(~(a>>4)&15),e[c>>4][a>>8]|=u,p[c>>4][a>>8]&=~u),0===b?f>this.s&&(this.i?this.u-=this.Lb[f-this.s]:--this.u):this.i?f<=this.s?this.u+=this.Lb[b]:(this.u-=this.Lb[f-this.s],this.u+=this.Lb[b]):(e[c>>4][a>>8]|=u,p[c>>4][a>>8]&=~u,0===f&&(this.u+=1),k=a&15,0<a&&k<=H?(a-=k+1,e[c>>
4][a>>8]|=1<<(~(a>>4)&15),a+=k+1):a<this.width-1&&k>=E&&(a+=16-k,e[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-k),0<c&&0===(c&15)?(--c,e[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&k<=H?(a-=k+1,e[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=k+1):a<this.width-1&&k>=E&&(a+=16-k,e[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-k),c+=1):c<this.height-1&&15===(c&15)&&(c+=1,e[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&k<=H?(a-=k+1,e[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=k+1):a<this.width-1&&k>=E&&(a+=16-k,e[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-k),--c));else if(0!==
(this.counter&1)&&(f=this.Fa,e=this.aa),x=1<<(~a&15),u=1<<(~(a>>4)&15),this.Ga)f=g[c][a],2===this.h?(e=this.Ta,1===b&&(b=this.Ta)):(e=this.h-1+this.s,0<b&&(b=this.s+b)),g[c][a]=b,k[c>>4][a>>8]|=u,l[c>>4][a>>8]|=u,f!==e&&b===e?this.u+=1:f===e&&b!==e&&--this.u;else{(J=2>=this.h||this.o?1===(b&1):b===this.h-1)?(0===(f[c][a>>4]&x)&&(this.u+=1),g[c][a]=this.Ma?(a+c&127)+64:this.Ta,k[c>>4][a>>8]|=u,l[c>>4][a>>8]|=u,f[c][a>>4]|=x,e[c>>4][a>>8]|=u,p[c>>4][a>>8]&=~u,k=a&15,0<a&&k<=H?(a-=k+1,e[c>>4][a>>8]|=
1<<(~(a>>4)&15),a+=k+1):a<this.width-1&&k>=E&&(a+=16-k,e[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-k),0<c&&0===(c&15)?(--c,e[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&k<=H?(a-=k+1,e[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=k+1):a<this.width-1&&k>=E&&(a+=16-k,e[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-k),c+=1):c<this.height-1&&15===(c&15)&&(c+=1,e[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&k<=H?(a-=k+1,e[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=k+1):a<this.width-1&&k>=E&&(a+=16-k,e[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-k),--c)):(0!==(f[c][a>>4]&x)&&
--this.u,g[c][a]=d?0:this.ie,k[c>>4][a>>8]|=u,l[c>>4][a>>8]|=u,f[c][a>>4]&=~x);if(this.D&&n){f=n[c][a];0<f&&(f=B.nb.indexOf(f-128));if(6===b&&6!==f||6!==b&&6===f)v=1;2===b?g[c][a]=I.Th:n[c][a]=0===b?0:B.nb[b]+128}2<this.h&&(0<b&&(b=this.s+b),g[c][a]=b,this.o&&(p[c>>4][a>>8]&=~u))}if(0<b)1===this.u&&(this.Jb=!0),a<q.F&&(q.F=a),a>q.J&&(q.J=a),c<q.G&&(q.G=c),c>q.K&&(q.K=c),a<r.F&&(r.F=a),a>r.J&&(r.J=a),c<r.G&&(r.G=c),c>r.K&&(r.K=c),this.Ga&&b===this.h-1+this.s&&(1===this.u?(m.F=a,m.J=a,m.G=c,m.K=c):
(a<m.F&&(m.F=a),a>m.J&&(m.J=a),c<m.G&&(m.G=c),c>m.K&&(m.K=c)));else if(a===q.F||a===q.J||c===q.K||c===q.G)this.Jb=!0}return v};qa.prototype.Ha=function(a,c,b){switch(this.yi){case I.Ys:return this.ei(a,c,b);case I.$s:return this.ei(a,c,!0);case I.Zs:return this.hl(a,c,b);default:return this.jl(a,c,b)}};qa.prototype.qc=function(a,c,b,d){switch(this.yi){case I.Ys:return this.Pl(a,c,b,d);case I.$s:return this.wi(a,c,b,d);case I.Zs:return this.Ql(a,c,b,d);default:return this.wi(a,c,b,d)}};qa.prototype.Sl=
function(){this.yi=-1!==this.h||-1!==this.C||this.ea?this.v&&2===this.h?I.$s:I.tD:this.D?I.Zs:I.Ys};qa.prototype.kj=function(a){var c=1<<I.Ah;a?(this.Cc=Array.matrix(na.Ub,1,c,0,this.N,"Life.popGraphData"),this.Se=Array.matrix(na.Ub,1,c,0,this.N,"Life.birthGraphData"),this.$e=Array.matrix(na.Ub,1,c,0,this.N,"Life.deathGraphData"),this.ef=c):(this.Cc=Array.matrix(na.Ub,0,0,0,this.N,"Life.popGraphData"),this.Se=Array.matrix(na.Ub,0,0,0,this.N,"Life.birthGraphData"),this.$e=Array.matrix(na.Ub,0,0,0,
this.N,"Life.deathGraphData"),this.ef=0)};qa.prototype.ei=function(a,c,b){var d=0,f=this.l;a===(a&this.sa)&&c===(c&this.qa)&&(this.v&&0!==(this.counter&1)&&(f=this.$),a=f[c][a],d=b?a:a<=this.ie?0:1);return d};qa.prototype.hl=function(a,c,b){var d=0,f=B.nb[3]+128,e=B.nb[4]+128,g=B.nb[5]+128,k=B.nb[6]+128;a===(a&this.sa)&&c===(c&this.qa)&&(d=this.l[c][a],b||(this.ta?(a=this.ta[c][a],a===e||a===k?(d>=this.Ta&&(a=f),d=B.nb.indexOf(a-128)):a===f||a===g?(d<this.Ta&&(a=e),d=B.nb.indexOf(a-128)):d=0===d?
0:d<=this.ie?2:1):d=d<=this.ie?0:1));return d};qa.prototype.jl=function(a,c,b){var d=0,f=B.nb[3]+128,e=B.nb[4]+128,g=B.nb[5]+128,k=B.nb[6]+128,l=this.T?-1:0,p=Math.round((this.width-this.M)/2)+l;l=Math.round((this.height-this.I)/2)+l;var n=p+this.M-1,q=l+this.I-1,m=this.l;(this.i||this.v||this.o)&&0!==(this.counter&1)&&(m=this.$);a===(a&this.sa)&&c===(c&this.qa)&&(d=m[c][a],b||2<this.h?2<this.h&&0<d&&!this.ea&&(d<=this.s?d=0:(-1!==this.C&&(0===this.M&&(p=0,n=this.width-1),0===this.I&&(l=0,q=this.height-
1)),d=-1===this.C||d!==this.Qb||a>=p&&a<=n&&c>=l&&c<=q?this.i||this.v||this.o?d-this.s:this.h+this.s-d:0)):this.ta?-1===this.C||d!==this.Qb||a>=p&&a<=n&&c>=l&&c<=q?(a=this.ta[c][a],a===e||a===k?(d>=this.Ta&&(a=f),d=B.nb.indexOf(a-128)):a===f||a===g?(d<this.Ta&&(a=e),d=B.nb.indexOf(a-128)):d=0===d?0:d<=this.ie?2:1):d=0:d=d<=this.ie||d===this.Qb?0:1);return d};qa.prototype.Qd=function(a){var c,b,d,f=a.length,e=a[0].length,g=this.Lb,k=0;for(c=0;c<f;c+=1){var l=a[c];for(b=0;b<e;b+=1)(d=l[b])&&(k+=g[d])}return k};
qa.prototype.uj=function(a,c){var b=a.Qb,d=b.length,f=!1;if(this.T||this.i)for(this.xb=this.Ya=!1,a=0;!f&&a<d;){var e=b[a];e.og<c?("reverse playback"===e.action&&(this.xb=!this.xb),a+=1):e.og>c?f=!0:"reverse playback"===e.action?f=this.Ya=!0:a+=1}};qa.prototype.gj=function(a,c){var b=this.rc.h.length,d=null;a<this.counter&&(d=this.rc.X(a),b!==this.rc.h.length&&(this.Fe-=I.Mp*(b-this.rc.h.length)));d&&(this.ti(d,c),c.he());for(;this.counter<a;)this.uj(c,this.counter),this.i&&(1===(this.counter&1)?
this.l.cb.fill(0):this.$.cb.fill(0)),this.$c(),c.ha+=c.L,this.Ac(),c.he(),this.se(),this.cd(c)};qa.prototype.ti=function(a,c){var b=this.l,d=this.ta;this.counter=a.counter;c.ha=a.L;this.gb=a.v;this.ee=a.C;if(0!==(this.counter&1)){c=this.mc;var f=this.grid;var e=this.aa;var g=this.X}else c=this.grid,f=this.mc,e=this.X,g=this.aa;c.cb.fill(0);f.cb.fill(0);this.l.cb.fill(0);(this.i||this.v||this.o)&&this.$.cb.fill(0);this.ra.cb.fill(0);this.qb.cb.fill(0);a.T(c,e);a.P(b,this.fa);(this.i||this.v||this.o)&&
Array.jg(b,this.$);this.Tb?(d.cb.fill(0),this.Qa.cb.fill(0),a.U(d,this.Y),this.Wa()):Array.jg(this.Y,this.fa);Array.jg(e,g);Array.jg(c,f);this.m.F=a.i.F;this.m.G=a.i.G;this.m.J=a.i.J;this.m.K=a.i.K;this.xa.F=a.h.F;this.xa.G=a.h.G;this.xa.J=a.h.J;this.xa.K=a.h.K;this.u=a.D;this.za=a.u;this.ia=a.A};qa.prototype.zh=function(a){if(0!==(this.counter&1)){var c=this.mc;var b=this.aa}else c=this.grid,b=this.X;this.vi(!1,c,b,a)};qa.prototype.Df=function(a,c){this.ti(this.Bi,a);this.rc.reset();this.Fe=I.Mp;
c||this.zh(a)};qa.prototype.vi=function(a,c,b,d){var f=this.l;(this.i||this.v||this.o)&&0!==(this.counter&1)&&(f=this.$);this.rc.V(c,b,f,this.Y,this.ta,this.Y,this.m,this.xa,this.u,this.za,this.ia,this.counter,d.ha,this.gb,this.ee,(this.U-1>>4)+1,this.W,a)};qa.prototype.Nl=function(a,c){this.rc.reset();this.Bi=this.rc.L((this.U-1>>4)+1,this.W,!0,this.Tb);this.vi(!0,this.grid,this.X,c);a||this.zh(c)};qa.prototype.jn=function(){var a=this.ta,c=this.Ab;this.width=512;this.height=256;this.Ga&&this.P.resize(this.width,
this.height);this.grid=Array.matrix(na.La,this.height,(this.width-1>>3)+1,0,this.N,"Life.grid");this.mc=Array.matrix(na.La,this.height,(this.width-1>>3)+1,0,this.N,"Life.nextGrid");this.pa=Array.ud(na.Aa,this.grid,"Life.grid16");this.Fa=Array.ud(na.Aa,this.mc,"Life.nextGrid16");c&&(this.Ab=Array.matrix(na.Aa,this.height,(this.width-1>>4)+1,0,this.N,"Life.state6Mask"),this.dd=Array.matrix(na.Aa,this.height,(this.width-1>>4)+1,0,this.N,"Life.state6Alive"),this.Dc=Array.matrix(na.Aa,this.height,(this.width-
1>>4)+1,0,this.N,"Life.state6Cells"));this.U=this.width>>4;this.W=this.height>>4;c&&(this.bc=Array.matrix(na.Aa,this.W,(this.U-1>>4)+1,0,this.N,"Life.state6TileGrid"));this.X=Array.matrix(na.Aa,this.W,(this.U-1>>4)+1,0,this.N,"Life.tileGrid");this.aa=Array.matrix(na.Aa,this.W,(this.U-1>>4)+1,0,this.N,"Life.nextTileGrid");this.qb=Array.matrix(na.Aa,this.W,(this.U-1>>4)+1,0,this.N,"Life.staticTileGrid");this.fa=Array.matrix(na.Aa,this.W,(this.U-1>>4)+1,0,this.N,"Life.colourTileGrid");this.Y=Array.matrix(na.Aa,
this.W,(this.U-1>>4)+1,0,this.N,"Life.colourTileHistoryGrid");this.Te=this.N.h(na.La,(this.width-1>>3)+1,"Life.blankRow");this.Oc=this.N.h(na.Aa,(this.width-1>>4)+1,"Life.blankRow16");this.ib=this.N.h(na.Aa,this.U>>4,"Life.blankTileRow");this.Ia=this.N.h(na.La,this.width,"Life.blankColourRow");this.$a=this.N.h(na.Aa,(this.width-1>>4)+1,"Life.columnOccupied16");this.Ib=this.N.h(na.Aa,(this.height-1>>4)+1,"Life.rowOccupied16");this.l=Array.matrix(na.La,this.height,this.width,0,this.N,"Life.colourGrid");
this.i||this.v||this.o?(this.$=Array.matrix(na.La,this.height,this.width,0,this.N,"Life.nextColourGrid"),this.cf=Array.ud(na.Aa,this.$,"Life.nextColourGrid16"),this.kb=Array.ud(na.Ub,this.$,"Life.nextColourGrid32")):this.kb=this.cf=this.$=null;this.ra=Array.matrix(na.La,this.height,this.width,0,this.N,"Life.smallColourGrid");this.Gd=Array.ud(na.Aa,this.l,"Life.colourGrid16");this.Za=Array.ud(na.Ub,this.l,"Life.colourGrid32");a&&(this.ta=Array.matrix(na.La,this.height,this.width,0,this.N,"Life.overlayGrid"),
this.Qa=Array.matrix(na.La,this.height,this.width,0,this.N,"Life.smallOverlayGrid"),this.Ge=Array.ud(na.Aa,this.ta,"Life.overlayGrid16"),this.sd=Array.ud(na.Ub,this.ta,"Life.overlayGrid32"));this.sa=this.width-1;this.qa=this.height-1;this.rc.T((this.U-1>>4)+1,this.W,0,0,0,0,this.Tb)};qa.prototype.mj=function(){this.height=this.width=1024;this.grid=Array.matrix(na.La,this.height,(this.width-1>>3)+1,0,this.N,"Life.grid");this.mc=Array.matrix(na.La,this.height,(this.width-1>>3)+1,0,this.N,"Life.nextGrid");
this.pa=Array.ud(na.Aa,this.grid,"Life.grid16");this.Fa=Array.ud(na.Aa,this.mc,"Life.nextGrid16");this.U=this.width>>4;this.W=this.height>>4;this.bc&&this.dj();this.X=Array.matrix(na.Aa,this.W,(this.U-1>>4)+1,0,this.N,"Life.tileGrid");this.aa=Array.matrix(na.Aa,this.W,(this.U-1>>4)+1,0,this.N,"Life.nextTileGrid");this.qb=Array.matrix(na.Aa,this.W,(this.U-1>>4)+1,0,this.N,"Life.staticTileGrid");this.fa=Array.matrix(na.Aa,this.W,(this.U-1>>4)+1,0,this.N,"Life.colourTileGrid");this.Y=Array.matrix(na.Aa,
this.W,(this.U-1>>4)+1,0,this.N,"Life.colourTileHistoryGrid");this.Te=this.N.h(na.La,(this.width-1>>3)+1,"Life.blankRow");this.Oc=this.N.h(na.Aa,(this.width-1>>4)+1,"Life.blankRow16");this.ib=this.N.h(na.Aa,this.U>>4,"Life.blankTileRow");this.Ia=this.N.h(na.La,this.width,"Life.blankColourRow");this.$a=this.N.h(na.Aa,(this.width-1>>4)+1,"Life.columnOccupied16");this.Ib=this.N.h(na.Aa,(this.height-1>>4)+1,"Life.rowOccupied16");this.l=Array.matrix(na.La,this.height,this.width,0,this.N,"Life.colourGrid");
this.Gd=Array.ud(na.Aa,this.l,"Life.colourGrid16");this.Za=Array.ud(na.Ub,this.l,"Life.colourGrid32");this.i||this.v||this.o?(this.$=Array.matrix(na.La,this.height,this.width,0,this.N,"Life.nextColourGrid"),this.cf=Array.ud(na.Aa,this.$,"Life.nextColourGrid16"),this.kb=Array.ud(na.Ub,this.$,"Life.nextColourGrid32")):this.kb=this.cf=this.$=null;this.ra=Array.matrix(na.La,this.height,this.width,0,this.N,"Life.smallColourGrid");this.ta&&this.bj();this.sa=this.width-1;this.qa=this.height-1};qa.prototype.Gb=
function(a,c,b,d,f){var e;for(e=0;e<a;e+=1)d[e+c].set(f[e],b)};qa.prototype.rf=function(a,c){var b=this.height,d=this.grid,f=this.mc,e=this.l,g=this.$,k=this.ra,l=this.ta,p=this.Qa,n=this.Ab,q=this.dd,m=this.Dc,r=this.mh,u=this.ne,t=this.bc,v=this.X,x=this.aa,w=this.qb,A=this.fa,C=this.Y,z=this.Bf,H=this.df,E=this.W,J=0,N=0,L=0,D=0;if(this.width<this.L||b<this.L)if(a&&(J=this.width>>1,this.width*=2),c&&(N=this.height>>1,this.height*=2),this.Ga&&this.P.resize(this.width,this.height),this.grid=Array.matrix(na.La,
this.height,(this.width-1>>3)+1,0,this.N,"Life.grid"),this.mc=Array.matrix(na.La,this.height,(this.width-1>>3)+1,0,this.N,"Life.nextGrid"),this.pa=Array.ud(na.Aa,this.grid,"Life.grid16"),this.Fa=Array.ud(na.Aa,this.mc,"Life.nextGrid16"),n&&(this.Ab=Array.matrix(na.Aa,this.height,(this.width-1>>4)+1,0,this.N,"Life.state6Mask"),this.dd=Array.matrix(na.Aa,this.height,(this.width-1>>4)+1,0,this.N,"Life.state6Alive"),this.Dc=Array.matrix(na.Aa,this.height,(this.width-1>>4)+1,0,this.N,"Life.state6Cells")),
this.U=this.width>>4,this.W=this.height>>4,n&&(this.bc=Array.matrix(na.Aa,this.W,(this.U-1>>4)+1,0,this.N,"Life.state6TileGrid")),this.X=Array.matrix(na.Aa,this.W,(this.U-1>>4)+1,0,this.N,"Life.tileGrid"),this.aa=Array.matrix(na.Aa,this.W,(this.U-1>>4)+1,0,this.N,"Life.nextTileGrid"),this.qb=Array.matrix(na.Aa,this.W,(this.U-1>>4)+1,0,this.N,"Life.staticTileGrid"),this.fa=Array.matrix(na.Aa,this.W,(this.U-1>>4)+1,0,this.N,"Life.colourTileGrid"),this.Y=Array.matrix(na.Aa,this.W,(this.U-1>>4)+1,0,this.N,
"Life.colourTileHistoryGrid"),z&&(this.Bf=Array.matrix(na.Aa,this.W,(this.U-1>>4)+1,0,this.N,"Life.occTileMap")),H&&(this.df=Array.matrix(na.Aa,this.W,(this.U-1>>4)+1,0,this.N,"Life.occMergedTileMap")),this.Te=this.N.h(na.La,(this.width-1>>3)+1,"Life.blankRow"),this.Oc=this.N.h(na.Aa,(this.width-1>>4)+1,"Life.blankRow16"),this.ib=this.N.h(na.Aa,this.U>>4,"Life.blankTileRow"),this.Ia=this.N.h(na.La,this.width,"Life.blankColourRow"),this.$a=this.N.h(na.Aa,(this.width-1>>4)+1,"Life.columnOccupied16"),
this.Ib=this.N.h(na.Aa,(this.height-1>>4)+1,"Life.rowOccupied16"),r&&(this.mh=Array.matrix(na.La,this.height,this.width,I.Bg,this.N,"Life.countList")),u&&(this.ne=Array.matrix(na.La,this.height,this.width,0,this.N,"Life.initList")),this.l=Array.matrix(na.La,this.height,this.width,0,this.N,"Life.colourGrid"),this.ra=Array.matrix(na.La,this.height,this.width,0,this.N,"Life.smallColourGrid"),this.Gd=Array.ud(na.Aa,this.l,"Life.colourGrid16"),this.Za=Array.ud(na.Ub,this.l,"Life.colourGrid32"),this.i||
this.v||this.o?(this.$=Array.matrix(na.La,this.height,this.width,0,this.N,"Life.nextColourGrid"),this.cf=Array.ud(na.Aa,this.$,"Life.nextColourGrid16"),this.kb=Array.ud(na.Ub,this.$,"Life.nextColourGrid32")):this.kb=this.cf=this.$=null,l&&(this.ta=Array.matrix(na.La,this.height,this.width,0,this.N,"Life.overlayGrid"),this.Qa=Array.matrix(na.La,this.height,this.width,0,this.N,"Life.smallOverlayGrid"),this.Ge=Array.ud(na.Aa,this.ta,"Life.overlayGrid16"),this.sd=Array.ud(na.Ub,this.ta,"Life.overlayGrid32")),
this.sa=this.width-1,this.qa=this.height-1,this.Gb(b,N,J>>3,this.grid,d),this.Gb(b,N,J>>3,this.mc,f),this.Gb(b,N,J,this.l,e),this.Gb(b,N,J,this.ra,k),(this.i||this.v||this.o)&&this.Gb(b,N,J,this.$,g),this.mh&&this.Gb(b,N,J,this.mh,r),this.ne&&this.Gb(b,N,J,this.ne,u),l&&p&&(this.Gb(b,N,J,this.ta,l),this.Gb(b,N,J,this.Qa,p)),n&&q&&m&&(this.Gb(b,N,J>>4,this.Ab,n),this.Gb(b,N,J>>4,this.dd,q),this.Gb(b,N,J>>4,this.Dc,m)),c&&(D=E>>1),a&&(L=this.X[0].length>>2),t&&this.Gb(E,D,L,this.bc,t),this.Gb(E,D,L,
this.X,v),this.Gb(E,D,L,this.aa,x),this.Gb(E,D,L,this.qb,w),this.Gb(E,D,L,this.fa,A),this.Gb(E,D,L,this.Y,C),this.rc.T((this.U-1>>4)+1,this.W,L,D,J,N,this.Tb),this.ca+=J,this.Z+=N,this.ga&&(this.ca-=N/2|0),this.m.F+=J,this.m.J+=J,this.m.K+=N,this.m.G+=N,this.xa.F+=J,this.xa.J+=J,this.xa.K+=N,this.xa.G+=N,this.Nb.F+=J,this.Nb.J+=J,this.Nb.K+=N,this.Nb.G+=N,this.Xa.F+=J,this.Xa.J+=J,this.Xa.K+=N,this.Xa.G+=N,0<this.wb)for(c=0;c<this.wb;c+=1)b=this.Ob[(c<<1)+1],a=(b>>16)+J,b=(b&65535)+N,this.Ob[(c<<
1)+1]=a<<16|b};qa.prototype.oj=function(a,c,b){var d=this.width,f=this.height,e=!1,g=!1,k=!1;(d<this.L||f<this.L)&&0<this.u&&(d<this.L&&(c.F<=b||c.J>=d-b)&&(e=!0),f<this.L&&(c.G<=b||c.K>=f-b)&&(g=!0),e||g)&&(this.rf(e,g),k=!0,e&&(a.sa+=this.width>>2,a.ua+=this.width>>2),g&&(a.qb+=this.height>>2,a.ub+=this.height>>2),a.g.ga&&g&&(a.sa-=this.height>>3,a.ua-=this.height>>3),e&&(a.$+=this.width>>2),g&&(a.aa+=this.height>>2),e&&(c.F+=this.width>>2,c.J+=this.width>>2),g&&(c.G+=this.height>>2,c.K+=this.height>>
2));return k};qa.prototype.nj=function(a,c,b){for(;this.oj(a,c,b););};qa.prototype.Ij=function(){var a,c=this.ci;for(a=0;65536>a;a+=1){var b=a;var d=0;65535<b&&(b>>=16,d+=16);255<b&&(b>>=8,d+=8);15<b&&(b>>=4,d+=4);3<b&&(b>>=2,d+=2);d+=b>>1;c[a]=d}};qa.prototype.Gl=function(){var a,c,b=this.Lb;for(a=0;65536>a;a+=1){var d=a;for(c=0;d;c+=1)d&=d-1;b[a]=c}};qa.prototype.Il=function(){var a,c,b=this.Ki,d=this.Ta;for(a=0;256>a;a+=1)for(c=0;8>c;c+=1)b[(a<<3)+c]=a&1<<7-c?d:0};qa.prototype.Ml=function(a,c){var b,
d=0,f=this.Lb;var e=0;var g=this.m;var k=g.F,l=g.J,p=g.K;g=g.G;this.Ga&&(e=2<this.h?this.s+this.h-1:I.Ta);if(this.Ga||this.i||this.v||this.ea)for(;g<=p;g+=1)for(a=c[g],b=k;b<=l;b+=1){var n=a[b];0<n&&(this.i?d+=f[n-this.s]:this.Ga?n===e&&(d+=1):d+=1)}else for(k>>=4,l>>=4;g<=p;g+=1)for(c=a[g],b=k;b<=l;b+=1)e=f[c[b]],d+=e;this.u=d;this.ia=this.za=0};qa.prototype.si=function(a,c){var b=this.ha,d=!1;var f=this.pc?4278190080:255;if(this.da!==a||this.ba!==c)d=!0;this.da=a;this.ba=c;this.zf=this.lm=this.Gc=
this.Ic=null;this.Ic=b.createImageData(b.canvas.width,b.canvas.height);this.N.l(na.Ub,b.canvas.width*b.canvas.height,"Life.imageData");this.Ic.data.buffer?this.Gc=new Uint32Array(this.Ic.data.buffer):(this.Gc=new Uint32Array(this.Ic.data.length>>2),this.lm=new Uint8Array(this.Gc.buffer));if(d){this.Bh=this.N.h(na.Ub,a,"Life.blankPixelRow");for(c=0;c<a;c+=1)this.Bh[c]=f;this.gl(f);this.ah()}};qa.prototype.Bl=function(a,c,b){var d,f,e=this.l,g=a.width,k=a.height,l=this.sa,p=this.qa,n=this.Th,q=B.nb[2];
for(f=0;f<k;f+=1){var m=a.ia[f];var r=e[f+b&p];for(d=0;d<g;d+=1)m[d]===q&&(r[d+c&l]=n)}};qa.prototype.Gj=function(){this.sd=this.Ge=this.Qa=this.ta=null};qa.prototype.bj=function(){this.ta=Array.matrix(na.La,this.height,this.width,0,this.N,"Life.overlayGrid");this.Qa=Array.matrix(na.La,this.height,this.width,0,this.N,"Life.smallOverlayGrid");Array.Ns(this.Qa,1,"Life.smallOverlayGrid4");Array.Ns(this.Qa,3,"Life.smallOverlayGrid8");Array.Ns(this.Qa,7,"Life.smallOverlayGrid16");this.Ge=Array.ud(na.Aa,
this.ta,"Life.overlayGrid16");this.sd=Array.ud(na.Ub,this.ta,"Life.overlayGrid32")};qa.prototype.Fk=function(){this.bc=this.Dc=this.dd=this.Ab=null};qa.prototype.dj=function(){this.Ab=Array.matrix(na.Aa,this.height,(this.width-1>>4)+1,0,this.N,"Life.state6Mask");this.dd=Array.matrix(na.Aa,this.height,(this.width-1>>4)+1,0,this.N,"Life.state6Alive");this.Dc=Array.matrix(na.Aa,this.height,(this.width-1>>4)+1,0,this.N,"Life.state6Cells");this.bc=Array.matrix(na.Aa,this.W,(this.U-1>>4)+1,0,this.N,"Life.state6TileGrid")};
qa.prototype.Wa=function(){var a,c,b=this.sa,d=this.qa,f=this.bc,e=this.o?6:B.nb[6]+128,g=this.o?this.l:this.ta;this.Ab.cb.fill(0);this.Dc.cb.fill(0);this.dd.cb.fill(0);this.bc.cb.fill(0);for(c=1;c<this.height-1;c+=1){var k=g[c];var l=this.Ab[c-1&d];var p=this.Ab[c&d];var n=this.Ab[c+1&d];var q=this.Dc[c&d];var m=f[(c-1&d)>>4];var r=f[(c&d)>>4];var u=f[(c+1&d)>>4];for(a=1;a<=this.width-1;a+=1)if(k[a]===e){var t=a&b;q[t>>4]|=1<<(~t&15);l[t>>4]|=1<<(~t&15);m[t>>8]|=1<<(~(t>>4)&15);p[t>>4]|=1<<(~t&15);
r[t>>8]|=1<<(~(t>>4)&15);n[t>>4]|=1<<(~t&15);u[t>>8]|=1<<(~(t>>4)&15);t=a-1&b;this.kc||(l[t>>4]|=1<<(~t&15),m[t>>8]|=1<<(~(t>>4)&15));p[t>>4]|=1<<(~t&15);r[t>>8]|=1<<(~(t>>4)&15);this.ga||this.kc||(n[t>>4]|=1<<(~t&15),u[t>>8]|=1<<(~(t>>4)&15));t=a+1&b;this.ga||this.kc||(l[t>>4]|=1<<(~t&15),m[t>>8]|=1<<(~(t>>4)&15));p[t>>4]|=1<<(~t&15);r[t>>8]|=1<<(~(t>>4)&15);this.kc||(n[t>>4]|=1<<(~t&15),u[t>>8]|=1<<(~(t>>4)&15))}}};qa.prototype.em=function(a,c,b){var d,f,e=a.width,g=a.height,k=this.sa,l=this.qa,
p=this.bc;for(f=0;f<g;f+=1){var n=a.ia[f];var q=this.Ab[f-1+b&l];var m=this.Ab[f+b&l];var r=this.Ab[f+1+b&l];var u=this.Dc[f+b&l];var t=p[(f-1+b&l)>>4];var v=p[(f+b&l)>>4];var x=p[(f+1+b&l)>>4];for(d=0;d<e;d+=1)if(6===n[d]){var w=d+c&k;u[w>>4]|=1<<(~w&15);q[w>>4]|=1<<(~w&15);t[w>>8]|=1<<(~(w>>4)&15);m[w>>4]|=1<<(~w&15);v[w>>8]|=1<<(~(w>>4)&15);r[w>>4]|=1<<(~w&15);x[w>>8]|=1<<(~(w>>4)&15);w=d-1+c&k;this.kc||(q[w>>4]|=1<<(~w&15),t[w>>8]|=1<<(~(w>>4)&15));m[w>>4]|=1<<(~w&15);v[w>>8]|=1<<(~(w>>4)&15);
this.ga||this.kc||(r[w>>4]|=1<<(~w&15),x[w>>8]|=1<<(~(w>>4)&15));w=d+1+c&k;this.ga||this.kc||(q[w>>4]|=1<<(~w&15),t[w>>8]|=1<<(~(w>>4)&15));m[w>>4]|=1<<(~w&15);v[w>>8]|=1<<(~(w>>4)&15);this.kc||(r[w>>4]|=1<<(~w&15),x[w>>8]|=1<<(~(w>>4)&15))}}};qa.prototype.nf=function(a){this.Ma?this.hn(a):this.gn(a)};qa.prototype.hn=function(a){var c,b=this.l;var d=this.m;var f=d.F>>4,e=d.J>>4,g=d.K;for(c=d.G;c<=g;c+=1){var k=a[c];var l=b[c];var p=f<<4;for(d=f;d<=e;d+=1){var n=k[d]>>8;l[p]=n&128?(c+p&127)+64:0;p+=
1;l[p]=n&64?(c+p&127)+64:0;p+=1;l[p]=n&32?(c+p&127)+64:0;p+=1;l[p]=n&16?(c+p&127)+64:0;p+=1;l[p]=n&8?(c+p&127)+64:0;p+=1;l[p]=n&4?(c+p&127)+64:0;p+=1;l[p]=n&2?(c+p&127)+64:0;p+=1;l[p]=n&1?(c+p&127)+64:0;p+=1;n=k[d]&255;l[p]=n&128?(c+p&127)+64:0;p+=1;l[p]=n&64?(c+p&127)+64:0;p+=1;l[p]=n&32?(c+p&127)+64:0;p+=1;l[p]=n&16?(c+p&127)+64:0;p+=1;l[p]=n&8?(c+p&127)+64:0;p+=1;l[p]=n&4?(c+p&127)+64:0;p+=1;l[p]=n&2?(c+p&127)+64:0;p+=1;l[p]=n&1?(c+p&127)+64:0;p+=1}}};qa.prototype.gn=function(a){var c,b=this.l,
d=this.Ki;var f=this.m;var e=f.F>>4,g=f.J>>4,k=f.K;f=f.G;if(!(this.i||this.v||this.Ga))for(c=f;c<=k;c+=1){var l=a[c];var p=b[c];var n=e<<4;for(f=e;f<=g;f+=1){var q=l[f]>>8<<3;p[n]=d[q];n+=1;p[n]=d[q+1];n+=1;p[n]=d[q+2];n+=1;p[n]=d[q+3];n+=1;p[n]=d[q+4];n+=1;p[n]=d[q+5];n+=1;p[n]=d[q+6];n+=1;p[n]=d[q+7];n+=1;q=(l[f]&255)<<3;p[n]=d[q];n+=1;p[n]=d[q+1];n+=1;p[n]=d[q+2];n+=1;p[n]=d[q+3];n+=1;p[n]=d[q+4];n+=1;p[n]=d[q+5];n+=1;p[n]=d[q+6];n+=1;p[n]=d[q+7];n+=1}}};qa.prototype.Rb=function(a){var c=[],b,
d;for(d=0;7>d;d+=1){var f=[];for(b=0;7>b;b+=1)f[b]=0;c[d]=f}for(d=0;3>d;d+=1)for(b=0;3>b;b+=1)c[d+2][b+2]=a[d][b];return c};qa.prototype.Pj=function(){this.Og=this.Rb(I.kC);this.Pg=this.Rb(I.lC);this.Qg=this.Rb(I.mC);this.Rg=this.Rb(I.nC);this.Nh=this.Rb(I.gC);this.Lg=this.Rb(I.hC);this.Mg=this.Rb(I.iC);this.Ng=this.Rb(I.jC);this.Wg=this.Rb(I.sC);this.Xg=this.Rb(I.tC);this.Yg=this.Rb(I.uC);this.Zg=this.Rb(I.vC);this.Sg=this.Rb(I.oC);this.Tg=this.Rb(I.pC);this.Ug=this.Rb(I.qC);this.Vg=this.Rb(I.rC)};
qa.prototype.Kl=function(a,c,b){var d=this.Te,f=this.Ia,e=this.Bh,g=this.ib;var k=this.pc?4278190080:255;this.Tb=!1;this.sa=this.width-1;this.qa=this.height-1;this.m=new Va(0,0,this.width-1,this.height-1);this.ki=new Va(0,0,this.width-1,this.height-1);this.xa=new Va(0,0,this.width-1,this.height-1);this.Nb=new Va(0,0,this.width-1,this.height-1);this.Xa=new Va(0,0,this.width-1,this.height-1);new Va(0,0,this.width-1,this.height-1);this.ha=a;this.Il();this.si(c,b);d.fill(0);f.fill(0);g.fill(0);e.fill(k);
this.Pj()};qa.prototype.$j=function(){var a=0;this.na[a]=new Sa("Mono",new Da(new K(0,0,0),new K(0,0,0)),new Da(new K(255,255,255),new K(255,255,255)),new K(0,0,0),new K(255,255,255),new Da(new K(64,64,64),new K(-1,-1,-1)),new Da(new K(0,0,0),new K(0,0,0)),new K(0,0,0),[new K(64,64,64),new K(64,64,64),new K(128,128,128),new K(64,64,64),new K(128,128,128),new K(128,128,128),new K(192,192,192),new K(64,64,64),new K(128,128,128),new K(128,128,128),new K(192,192,192),new K(128,128,128),new K(192,192,
192),new K(192,192,192),new K(255,255,255)]);a+=1;this.na[a]=new Sa("Blues",new Da(new K(0,0,47),new K(0,0,255)),new Da(new K(0,255,255),new K(255,255,255)),new K(0,0,0),new K(0,255,255),new Da(new K(0,0,255),new K(-1,-1,-1)),new Da(new K(0,0,47),new K(0,0,128)),new K(0,0,0),[new K(0,128,255),new K(0,255,128),new K(0,192,192),new K(128,0,255),new K(0,0,255),new K(96,128,192),new K(128,255,224),new K(255,0,128),new K(96,96,192),new K(128,128,255),new K(128,224,255),new K(192,0,192),new K(255,128,224),
new K(224,128,225),new K(224,224,255)]);a+=1;this.na[a]=new Sa("Fire",new Da(new K(32,0,0),new K(160,0,0)),new Da(new K(255,144,0),new K(255,255,0)),new K(0,0,0),new K(255,144,0),new Da(new K(240,0,0),new K(-1,-1,-1)),new Da(new K(32,0,0),new K(160,0,0)),new K(0,0,0),[new K(128,0,0),new K(128,0,48),new K(192,0,48),new K(128,48,48),new K(192,64,0),new K(192,48,64),new K(224,48,64),new K(128,48,0),new K(192,48,0),new K(192,0,64),new K(224,48,64),new K(192,64,48),new K(224,64,48),new K(224,64,64),new K(255,
192,0)]);a+=1;this.na[a]=new Sa("Poison",new Da(new K(0,24,0),new K(0,128,0)),new Da(new K(0,255,255),new K(255,255,255)),new K(0,0,0),new K(0,255,255),new Da(new K(0,192,0),new K(-1,-1,-1)),new Da(new K(0,24,0),new K(0,128,0)),new K(0,0,0),[new K(0,128,255),new K(0,255,128),new K(0,192,192),new K(64,0,255),new K(0,0,255),new K(48,128,192),new K(64,255,224),new K(0,128,128),new K(48,128,192),new K(64,128,255),new K(64,224,255),new K(0,96,192),new K(64,128,224),new K(56,128,255),new K(224,255,224)]);
a+=1;this.na[a]=new Sa("Yellow",new Da(new K(0,47,0),new K(128,0,128)),new Da(new K(255,255,0),new K(255,255,255)),new K(0,32,128),new K(255,255,0),new Da(new K(192,64,64),new K(-1,-1,-1)),new Da(new K(0,47,0),new K(128,0,128)),new K(0,32,128),[new K(0,150,0),new K(50,100,0),new K(50,200,0),new K(150,0,0),new K(75,25,0),new K(200,100,0),new K(200,225,0),new K(100,50,0),new K(100,200,0),new K(25,75,0),new K(150,255,0),new K(200,50,0),new K(225,200,0),new K(255,225,0),new K(255,255,0)]);a+=1;this.na[a]=
new Sa("Gray",new Da(new K(16,16,16),new K(104,104,104)),new Da(new K(176,176,176),new K(240,240,240)),new K(0,0,0),new K(240,240,240),new Da(new K(160,160,160),new K(-1,-1,-1)),new Da(new K(16,16,16),new K(104,104,104)),new K(0,0,0),[new K(128,128,128),new K(128,128,128),new K(144,144,144),new K(128,128,128),new K(144,144,144),new K(144,144,144),new K(160,160,160),new K(128,128,128),new K(144,144,144),new K(144,144,144),new K(160,160,160),new K(144,144,144),new K(160,160,160),new K(160,160,160),
new K(192,192,192)]);a+=1;this.na[a]=new Sa("Inverse",new Da(new K(255,255,255),new K(255,255,255)),new Da(new K(0,0,0),new K(0,0,0)),new K(255,255,255),new K(0,0,0),new Da(new K(192,192,192),new K(-1,-1,-1)),new Da(new K(255,255,255),new K(255,255,255)),new K(255,255,255),[new K(192,192,192),new K(192,192,192),new K(128,128,128),new K(192,192,192),new K(128,128,128),new K(128,128,128),new K(64,64,64),new K(192,192,192),new K(128,128,128),new K(128,128,128),new K(64,64,64),new K(128,128,128),new K(64,
64,64),new K(64,64,64),new K(0,0,0)]);a+=1;this.na[a]=new Sa("Day",new Da(new K(240,240,240),new K(0,255,255)),new Da(new K(0,0,255),new K(0,0,0)),new K(255,255,255),new K(0,0,255),new Da(new K(0,255,255),new K(-1,-1,-1)),new Da(new K(240,240,240),new K(0,192,192)),new K(255,255,255),[new K(192,224,255),new K(192,255,224),new K(192,0,192),new K(224,192,255),new K(128,128,255),new K(96,96,192),new K(0,128,32),new K(255,192,224),new K(96,128,192),new K(0,0,255),new K(0,32,128),new K(0,192,192),new K(128,
0,32),new K(32,0,128),new K(0,0,32)]);a+=1;this.na[a]=new Sa("Occupied",new Da(new K(240,240,240),new K(240,240,240)),new Da(new K(240,240,240),new K(240,240,240)),new K(0,0,0),new K(240,240,240),new Da(new K(240,240,240),new K(240,240,240)),new Da(new K(240,240,240),new K(240,240,240)),new K(0,0,0),[new K(240,240,240),new K(240,240,240),new K(240,240,240),new K(240,240,240),new K(240,240,240),new K(240,240,240),new K(240,240,240),new K(240,240,240),new K(240,240,240),new K(240,240,240),new K(240,
240,240),new K(240,240,240),new K(240,240,240),new K(240,240,240),new K(240,240,240)]);a+=1;this.na[a]=new Sa("Red",new Da(new K(160,0,0),new K(160,0,0)),new Da(new K(240,240,240),new K(240,240,240)),new K(0,0,0),new K(255,255,255),new Da(new K(160,160,160),new K(160,160,160)),new Da(new K(160,0,0),new K(160,0,0)),new K(0,0,0),[new K(255,255,255),new K(255,255,255),new K(255,255,255),new K(255,255,255),new K(255,255,255),new K(255,255,255),new K(255,255,255),new K(255,255,255),new K(255,255,255),
new K(255,255,255),new K(255,255,255),new K(255,255,255),new K(255,255,255),new K(255,255,255),new K(255,255,255)]);a+=1;this.na[a]=new Sa("LifeHistory",new Da(new K(0,0,96),new K(0,0,160)),new Da(new K(0,240,0),new K(16,255,16)),new K(0,0,0),new K(16,255,16),new Da(new K(0,128,160),new K(-1,-1,-1)),new Da(new K(0,0,96),new K(0,0,160)),new K(0,0,0),[new K(255,0,0),new K(192,192,0),new K(224,144,0),new K(0,192,192),new K(192,144,144),new K(144,192,144),new K(255,224,192),new K(0,0,255),new K(192,0,
192),new K(144,144,192),new K(255,192,255),new K(0,144,224),new K(128,96,224),new K(144,192,224),new K(224,224,224)]);a+=1;this.na[a]=new Sa("Generations",new Da(new K(64,0,0),new K(255,0,0)),new Da(new K(255,255,0),new K(255,255,255)),new K(0,0,0),new K(255,255,0),new Da(new K(255,0,0),new K(-1,-1,-1)),new Da(new K(64,0,0),new K(128,0,0)),new K(0,0,0),[new K(255,128,0),new K(224,128,64),new K(192,192,0),new K(255,16,32),new K(255,0,0),new K(192,128,48),new K(255,224,64),new K(128,32,64),new K(192,
96,48),new K(255,128,64),new K(255,224,64),new K(192,24,48),new K(224,128,128),new K(255,218,112),new K(255,255,224)]);a+=1;this.na[a]=new Sa("Golly",new Da(new K(48,48,48),new K(48,48,48)),new Da(new K(255,255,255),new K(255,255,255)),new K(48,48,48),new K(255,255,0),new Da(new K(255,0,0),new K(-1,-1,-1)),new Da(new K(48,48,48),new K(48,48,48)),new K(48,48,48),[new K(0,255,127),new K(127,0,255),new K(148,148,148),new K(128,255,9),new K(255,0,128),new K(0,128,255),new K(1,159,0),new K(159,0,1),new K(255,
254,96),new K(0,1,159),new K(96,255,254),new K(254,96,255),new K(126,125,21),new K(21,126,125),new K(125,21,126)]);this.na[a].L(10,new K(80,80,80),new K(112,112,112));a+=1;this.na[a]=new Sa("MCell",new Da(new K(0,0,0),new K(0,0,0)),new Da(new K(255,255,0),new K(255,255,0)),new K(0,0,0),new K(255,255,0),new Da(new K(0,255,0),new K(-1,-1,-1)),new Da(new K(0,0,0),new K(0,0,0)),new K(0,0,0),[new K(255,255,0),new K(255,219,0),new K(255,183,0),new K(255,147,0),new K(255,111,0),new K(255,75,0),new K(255,
39,0),new K(255,0,0),new K(240,0,0),new K(225,0,0),new K(210,0,0),new K(195,0,0),new K(180,0,0),new K(165,0,0),new K(150,0,0)]);this.na[a].L(5,new K(64,0,0),new K(99,3,1));a+=1;this.na[a]=new Sa("Catagolue",new Da(new K(160,221,204),new K(160,221,204)),new Da(new K(0,0,0),new K(0,0,0)),new K(192,255,238),new K(0,0,0),new Da(new K(96,192,139),new K(2,129,2)),new Da(new K(160,221,204),new K(160,221,204)),new K(192,255,238),[new K(0,0,0),new K(0,128,0),new K(0,64,0),new K(255,0,0),new K(128,0,0),new K(128,
64,0),new K(85,43,0),new K(0,0,255),new K(0,0,128),new K(0,64,128),new K(0,43,85),new K(128,0,128),new K(85,0,85),new K(85,43,85),new K(64,32,64)]);this.na[a].L(0,new K(160,221,204),new K(160,221,204));a+=1;this.na[a]=new Sa("Caterer",new Da(new K(54,57,62),new K(54,57,62)),new Da(new K(255,255,255),new K(255,255,255)),new K(54,57,62),new K(255,170,0),new Da(new K(255,85,0),new K(-1,-1,-1)),new Da(new K(54,57,62),new K(54,57,62)),new K(54,57,62),[new K(48,93,148),new K(58,73,148),new K(144,137,188),
new K(78,72,128),new K(134,137,218),new K(124,147,228),new K(130,151,242),new K(78,93,118),new K(114,107,218),new K(114,137,238),new K(120,171,242),new K(84,137,188),new K(150,171,212),new K(150,151,222),new K(186,205,255)]);this.na[a].L(0,new K(0,0,0),new K(0,0,0));a+=1;this.na[a]=new Sa("Life32",new Da(new K(255,255,255),new K(255,255,255)),new Da(new K(0,0,128),new K(0,0,128)),new K(255,255,255),new K(0,0,128),new Da(new K(0,0,64),new K(-1,-1,-1)),new Da(new K(255,255,255),new K(255,255,255)),
new K(255,255,255),[new K(255,128,128),new K(192,192,128),new K(224,144,96),new K(128,192,192),new K(192,112,112),new K(144,192,144),new K(128,96,64),new K(128,128,255),new K(192,96,192),new K(112,112,192),new K(128,64,128),new K(96,144,224),new K(64,32,160),new K(32,96,128),new K(32,32,32)]);this.na[a].L(5,new K(192,192,192),new K(128,128,128));a+=1;this.na[a]=new Sa("Margolus",new Da(new K(0,0,47),new K(0,0,128)),new Da(new K(255,255,0),new K(255,255,255)),new K(0,0,0),new K(255,255,0),new Da(new K(64,
64,128),new K(-1,-1,-1)),new Da(new K(0,0,47),new K(0,0,128)),new K(0,0,0),[new K(255,128,0),new K(224,128,64),new K(192,192,0),new K(255,16,32),new K(255,0,0),new K(192,128,48),new K(224,255,64),new K(128,32,64),new K(192,96,48),new K(255,128,64),new K(255,224,64),new K(192,24,48),new K(224,128,128),new K(255,128,112),new K(255,255,224)]);this.na[a].L(2,new K(64,64,128),new K(32,32,255));a+=1;this.na[a]=new Sa("PCA",new Da(new K(24,24,24),new K(64,64,64)),new Da(new K(176,176,176),new K(240,240,
240)),new K(0,0,0),new K(240,240,240),new Da(new K(160,160,160),new K(-1,-1,-1)),new Da(new K(24,24,24),new K(64,64,64)),new K(0,0,0),[new K(255,0,0),new K(0,255,0),new K(128,128,0),new K(16,16,255),new K(128,0,128),new K(0,128,128),new K(96,96,96),new K(255,255,0),new K(255,128,0),new K(128,255,0),new K(170,170,0),new K(144,144,144),new K(170,85,85),new K(85,128,43),new K(128,128,64)]);a+=1;this.na[a]=new Sa("Book",new Da(new K(255,220,192),new K(192,220,255)),new Da(new K(0,0,0),new K(0,0,0)),new K(255,
255,255),new K(0,0,0),new Da(new K(128,128,128),new K(48,48,48)),new Da(new K(255,220,192),new K(192,220,255)),new K(255,255,255),[new K(255,128,128),new K(192,192,128),new K(224,144,96),new K(128,192,192),new K(192,112,112),new K(144,192,144),new K(128,96,64),new K(128,128,255),new K(192,96,192),new K(112,112,192),new K(128,64,128),new K(96,144,224),new K(64,32,160),new K(32,96,128),new K(32,32,32)]);this.na[a].L(0,new K(192,192,192),new K(209,209,209));this.na[a+1]=new Sa(y.$m,new Da(new K(0,0,
0),new K(0,0,0)),new Da(new K(0,0,0),new K(0,0,0)),new K(0,0,0),new K(0,0,0),new Da(new K(0,0,0),new K(0,0,0)),new Da(new K(0,0,0),new K(0,0,0)),new K(0,0,0),[new K(255,0,0),new K(0,255,0),new K(128,128,0),new K(16,16,255),new K(128,0,128),new K(0,128,128),new K(96,96,96),new K(255,255,0),new K(255,128,0),new K(128,255,0),new K(170,170,0),new K(144,144,144),new K(170,85,85),new K(85,128,43),new K(128,128,64)]);this.fb=this.na.length-1;this.wd=new Da(new K(0,0,0),new K(0,0,0));this.Mc=new Da(new K(0,
0,0),new K(0,0,0));this.Sd=new K(0,0,0);this.Re=new K(0,0,0);this.Id=new Da(new K(0,0,0),new K(0,0,0));this.Zd=new Da(new K(0,0,0),new K(0,0,0));this.qf=new K(0,0,0);this.pe=[new K(0,0,0),new K(0,0,0),new K(0,0,0),new K(0,0,0),new K(0,0,0),new K(0,0,0),new K(0,0,0),new K(0,0,0),new K(0,0,0),new K(0,0,0),new K(0,0,0),new K(0,0,0),new K(0,0,0),new K(0,0,0),new K(0,0,0)];this.gd=new Da(new K(0,0,0),new K(0,0,0));this.Bc=new Da(new K(0,0,0),new K(0,0,0));this.td=new K(0,0,0);this.Ce=new K(0,0,0);this.md=
new Da(new K(0,0,0),new K(0,0,0));this.Hd=new Da(new K(0,0,0),new K(0,0,0));this.He=new K(0,0,0);this.ad=[new K(0,0,0),new K(0,0,0),new K(0,0,0),new K(0,0,0),new K(0,0,0),new K(0,0,0),new K(0,0,0),new K(0,0,0),new K(0,0,0),new K(0,0,0),new K(0,0,0),new K(0,0,0),new K(0,0,0),new K(0,0,0),new K(0,0,0)]};qa.prototype.Rl=function(a,c,b){var d=this.na[a],f=this.Pd,e;this.Eb=a;this.wd.set(this.gd);this.Mc.set(this.Bc);this.Sd.set(this.td);this.Re.set(this.Ce);this.Zd.set(this.Hd);this.Id.set(this.md);this.qf.set(this.He);
for(e=0;e<this.ad.length;e+=1)this.pe[e]=this.ad[e];this.gd.set(d.i);this.Bc.set(d.h);this.td.set(d.u);this.Ce.set(d.v);this.Hd.set(d.l);this.md.set(d.m);this.He.set(d.D);for(e=0;e<this.ad.length;e+=1)this.ad[e]=d.C[e];this.Wd=c;this.Pd=d.M(this.D);f&&!this.Pd&&!this.Ga&&2>=this.h&&(this.Ma||this.Ji());this.eb=d.o;this.Wb=d.s;this.Fb=a!==this.fb&&this.T&&0!==d.A?2:d.A;this.pc?(this.ae=-16777216|(this.eb&255)<<16|(this.eb>>8&255)<<8|this.eb>>16,this.De=-16777216|(this.Wb&255)<<16|(this.Wb>>8&255)<<
8|this.Wb>>16):(this.ae=this.eb>>16<<24|(this.eb>>8&255)<<16|(this.eb&255)<<8|255,this.De=this.Wb>>16<<24|(this.Wb>>8&255)<<16|(this.Wb&255)<<8|255);b.Rv()};qa.prototype.Hh=function(){this.Ma?this.Vj():this.Xj()};qa.prototype.Vj=function(){var a=this.Ye,c;for(c=0;512>c;c+=1){var b=c&128;var d=c&256;var f=c&127;var e=0;0!==b&&(e=(f+1&127)+64<<8);0!==d&&(e|=(f&127)+64);a[c]=e}};qa.prototype.Xj=function(){var a=this.Ye,c=this.Ie,b=this.Ta,d=this.Th,f=this.ie,e,g=new Uint8Array(256);g[0]=0;g[c+1]=b;for(e=
1;e<c+1;e+=1)g[e]=Math.min(Math.max(e-1,d),f),g[e+c+1]=Math.max(Math.min(e+1,c),b);if(0===this.s)for(e=b;e<=c;e+=1)g[e]=0;else this.s<f&&(g[f-this.s]=1);for(e=0;65536>e;e+=1)a[e]=g[e>>8]<<8|g[e&255]};qa.prototype.pm=function(){var a;for(a=0;a<this.na.length;a+=1){var c=this.na[a];if(c.I)if(2>=this.h)c.m.i.set(c.v);else{var b=1/(this.h-2);c.m.i.h=c.m.h.h*b+c.v.h*(1-b)|0;c.m.i.l=c.m.h.l*b+c.v.l*(1-b)|0;c.m.i.i=c.m.h.i*b+c.v.i*(1-b)|0}}};qa.prototype.Ih=function(){var a;var c=(this.Wd-1)/this.Xd;if(!this.ea)if(this.o)for(a=
0;a<I.wo.length;a+=1){if(this.la[a+this.s]=I.wo[a][0],this.ka[a+this.s]=I.wo[a][1],this.ja[a+this.s]=I.wo[a][2],this.ec&&this.ec.length>=a){var b=this.ec[a];-1!==b&&(this.la[a+this.s]=b>>16,this.ka[a+this.s]=b>>8&255,this.ja[a+this.s]=b&255)}}else if(2<this.h||this.v){a=0;this.v?(this.la[a]=this.Lc[a]>>16,this.ka[a]=this.Lc[a]>>8&255,this.ja[a]=this.Lc[a]&255):(this.la[a]=Math.round(this.qf.h*c+this.He.h*(1-c)),this.ka[a]=Math.round(this.qf.l*c+this.He.l*(1-c)),this.ja[a]=Math.round(this.qf.i*c+this.He.i*
(1-c)));for(a=1;a<this.h-1;a+=1){b=3>=this.h?0:(a-1)/(this.h-3);if(this.i)this.la[a+this.s]=Math.round(this.pe[a-1].h*c+this.ad[a-1].h*(1-c)),this.ka[a+this.s]=Math.round(this.pe[a-1].l*c+this.ad[a-1].l*(1-c)),this.ja[a+this.s]=Math.round(this.pe[a-1].i*c+this.ad[a-1].i*(1-c));else if(this.v)this.la[a]=this.Lc[a]>>16,this.ka[a]=this.Lc[a]>>8&255,this.ja[a]=this.Lc[a]&255;else{var d=Math.round(this.Id.i.h*b+this.Id.h.h*(1-b));var f=Math.round(this.md.i.h*b+this.md.h.h*(1-b));this.la[a+this.s]=Math.round(d*
c+f*(1-c));d=Math.round(this.Id.i.l*b+this.Id.h.l*(1-b));f=Math.round(this.md.i.l*b+this.md.h.l*(1-b));this.ka[a+this.s]=Math.round(d*c+f*(1-c));d=Math.round(this.Id.i.i*b+this.Id.h.i*(1-b));f=Math.round(this.md.i.i*b+this.md.h.i*(1-b));this.ja[a+this.s]=Math.round(d*c+f*(1-c))}this.ec&&this.ec.length>a&&this.Eb===this.fb&&(b=this.i||this.v?this.ec[a]:this.ec[this.h-a],-1!==b&&(this.la[a+this.s]=b>>16,this.ka[a+this.s]=b>>8&255,this.ja[a+this.s]=b&255))}a=this.h-1;this.i?(this.la[a+this.s]=Math.round(this.pe[a-
1].h*c+this.ad[a-1].h*(1-c)),this.ka[a+this.s]=Math.round(this.pe[a-1].l*c+this.ad[a-1].l*(1-c)),this.ja[a+this.s]=Math.round(this.pe[a-1].i*c+this.ad[a-1].i*(1-c))):this.v?(this.la[a]=this.Lc[a]>>16,this.ka[a]=this.Lc[a]>>8&255,this.ja[a]=this.Lc[a]&255):(this.la[a+this.s]=Math.round(this.Re.h*c+this.Ce.h*(1-c)),this.ka[a+this.s]=Math.round(this.Re.l*c+this.Ce.l*(1-c)),this.ja[a+this.s]=Math.round(this.Re.i*c+this.Ce.i*(1-c)));this.ec&&this.ec.length>a&&this.Eb===this.fb&&(b=this.i||this.v?this.ec[a]:
this.ec[this.h-a],-1!==b&&(this.la[a+this.s]=b>>16,this.ka[a+this.s]=b>>8&255,this.ja[a+this.s]=b&255));for(a=0;a<this.s;a+=1)b=1<this.s?1-a/(this.s-1):1,d=Math.round(this.Zd.h.h*b+this.Zd.i.h*(1-b)),f=Math.round(this.Hd.h.h*b+this.Hd.i.h*(1-b)),this.la[a+1]=Math.round(d*c+f*(1-c)),d=Math.round(this.Zd.h.l*b+this.Zd.i.l*(1-b)),f=Math.round(this.Hd.h.l*b+this.Hd.i.l*(1-b)),this.ka[a+1]=Math.round(d*c+f*(1-c)),d=Math.round(this.Zd.h.i*b+this.Zd.i.i*(1-b)),f=Math.round(this.Hd.h.i*b+this.Hd.i.i*(1-b)),
this.ja[a+1]=Math.round(d*c+f*(1-c));this.ec&&0<this.ec.length&&this.Eb===this.fb&&(b=this.ec[0],-1!==b&&(this.la[0]=b>>16,this.ka[0]=b>>8&255,this.ja[0]=b&255))}else{a=0;this.la[a]=Math.round(this.Sd.h*c+this.td.h*(1-c));this.ka[a]=Math.round(this.Sd.l*c+this.td.l*(1-c));this.ja[a]=Math.round(this.Sd.i*c+this.td.i*(1-c));if(0===this.s)for(a=1;a<=this.ie;a+=1)this.la[a]=Math.round(this.Sd.h*c+this.td.h*(1-c)),this.ka[a]=Math.round(this.Sd.l*c+this.td.l*(1-c)),this.ja[a]=Math.round(this.Sd.i*c+this.td.i*
(1-c));else{var e=this.ie-this.s+1;for(a=1;a<e;a+=1)this.la[a]=Math.round(this.Mc.h.h*c+this.Bc.h.h*(1-c)),this.ka[a]=Math.round(this.Mc.h.l*c+this.Bc.h.l*(1-c)),this.ja[a]=Math.round(this.Mc.h.i*c+this.Bc.h.i*(1-c));for(a=e;a<=this.ie;a+=1)b=this.ie===e?1:1-(a-e)/(this.ie-e),d=Math.round(this.Mc.h.h*b+this.Mc.i.h*(1-b)),f=Math.round(this.Bc.h.h*b+this.Bc.i.h*(1-b)),this.la[a]=Math.round(d*c+f*(1-c)),d=Math.round(this.Mc.h.l*b+this.Mc.i.l*(1-b)),f=Math.round(this.Bc.h.l*b+this.Bc.i.l*(1-b)),this.ka[a]=
Math.round(d*c+f*(1-c)),d=Math.round(this.Mc.h.i*b+this.Mc.i.i*(1-b)),f=Math.round(this.Bc.h.i*b+this.Bc.i.i*(1-b)),this.ja[a]=Math.round(d*c+f*(1-c))}for(a=this.Ta;a<=this.Ie;a+=1)b=0===this.Vf?1:a<this.Ta+this.Vf?1-(a-this.Ta)/this.Vf:0,d=Math.round(this.wd.h.h*b+this.wd.i.h*(1-b)),f=Math.round(this.gd.h.h*b+this.gd.i.h*(1-b)),this.la[a]=Math.round(d*c+f*(1-c)),d=Math.round(this.wd.h.l*b+this.wd.i.l*(1-b)),f=Math.round(this.gd.h.l*b+this.gd.i.l*(1-b)),this.ka[a]=Math.round(d*c+f*(1-c)),d=Math.round(this.wd.h.i*
b+this.wd.i.i*(1-b)),f=Math.round(this.gd.h.i*b+this.gd.i.i*(1-b)),this.ja[a]=Math.round(d*c+f*(1-c))}};qa.prototype.Zi=function(a,c){var b=this.la,d=this.ka,f=this.ja,e;for(e=0;e<a.length;e+=1){var g=c&&-1!==c[e]?c[e]:a[e];b[e]=g>>16;d[e]=g>>8&255;f[e]=g&255}this.Wd=0};qa.prototype.bk=function(a,c){var b=this.la,d=this.ka,f=this.ja,e=B.nb,g;for(g=0;g<a.length;g+=1)c&&-1!==c[g]?(b[128+e[g]]=c[g]>>16,d[128+e[g]]=c[g]>>8&255,f[128+e[g]]=c[g]&255):(b[128+e[g]]=a[g]>>16,d[128+e[g]]=a[g]>>8&255,f[128+
e[g]]=a[g]&255)};qa.prototype.ab=function(a){this.Sa.fill(4294967295);this.Ma?this.hk(a):this.fk(a)};qa.prototype.hk=function(a){var c=this.Sa,b,d=255,f=15,e=15,g=0,k=0,l=[[0,1,0],[-1,0,0],[0,0,1],[0,-1,0],[1,0,0],[0,0,-1]],p=this.la,n=this.ka,q=this.ja,m=this.Ve,r=this.ga&&!this.va||this.A&&!this.va,u=this.eb,t=this.Wb;for(b=1;240>=b;b+=1)c[b]=this.pc?-16777216|e*a<<16|f*a<<8|d*a:d*a<<24|f*a<<16|e*a<<8|255,d+=6*l[k][0],f+=6*l[k][1],e+=6*l[k][2],g+=1,40===g&&(g=0,k+=1);for(b=0;128>b;b+=1)g=240*(b+
1)/128|0,c[b]=c[g];for(b=127;0<=b;--b)c[b+64]=c[b],r&&(this.pc?(d=c[b]&255,f=c[b]>>8&255,e=c[b]>>16&255):(d=c[b]>>24,f=c[b]>>16&255,e=c[b]>>8&255),m[b+64]="#"+(16777216+((d<<16)+(f<<8)+e)).toString(16).substring(1));c[0]=this.pc?-16777216|q[0]*a<<16|n[0]*a<<8|p[0]*a:p[0]*a<<24|n[0]*a<<16|q[0]*a<<8|255;this.pc?(this.ae=-16777216|(u&255)<<16|(u>>8&255)<<8|u>>16,this.De=-16777216|(t&255)<<16|(t>>8&255)<<8|t>>16):(this.ae=u>>16<<24|(u>>8&255)<<16|(u&255)<<8|255,this.De=t>>16<<24|(t>>8&255)<<16|(t&255)<<
8|255);-1!==this.C&&(b=this.Qb,c[b]=this.pc?-16777216|q[b]*a<<16|n[b]*a<<8|p[b]*a:p[b]*a<<24|n[b]*a<<16|q[b]*a<<8|255,r&&(m[b]="#"+(16777216+((p[b]<<16)+(n[b]<<8)+q[b])).toString(16).substring(1)))};qa.prototype.fk=function(a){var c=this.la,b=this.ka,d=this.ja,f=this.Sa,e=this.eb,g=this.Wb,k=this.Ve,l=this.ga&&!this.va||this.A&&!this.va,p;if(2<this.h)if(this.pc)for(p=0;p<=this.h+this.s;p+=1)f[p]=-16777216|d[p]*a<<16|b[p]*a<<8|c[p]*a,l&&(k[p]="#"+(16777216+((c[p]<<16)+(b[p]<<8)+d[p])).toString(16).substring(1));
else for(p=0;p<=this.h+this.s;p+=1)f[p]=c[p]*a<<24|b[p]*a<<16|d[p]*a<<8|255,l&&(k[p]="#"+(16777216+((c[p]<<16)+(b[p]<<8)+d[p])).toString(16).substring(1));else if(this.pc){for(p=0;p<this.Ta;p+=1)f[p]=-16777216|d[p]<<16|b[p]<<8|c[p],l&&(k[p]="#"+(16777216+((c[p]<<16)+(b[p]<<8)+d[p])).toString(16).substring(1));for(p=this.Ta;p<=this.Ie;p+=1)f[p]=-16777216|d[p]*a<<16|b[p]*a<<8|c[p]*a,l&&(k[p]="#"+(16777216+((c[p]<<16)+(b[p]<<8)+d[p])).toString(16).substring(1));for(p=this.Ie+1;256>p;p+=1)f[p]=-16777216|
d[p]*a<<16|b[p]*a<<8|c[p]*a,l&&(k[p]="#"+(16777216+((c[p]<<16)+(b[p]<<8)+d[p])).toString(16).substring(1))}else{for(p=0;p<this.Ta;p+=1)f[p]=c[p]<<24|b[p]<<16|d[p]<<8|255,l&&(k[p]="#"+(16777216+((c[p]<<16)+(b[p]<<8)+d[p])).toString(16).substring(1));for(p=this.Ta;p<=this.Ie;p+=1)f[p]=c[p]*a<<24|b[p]*a<<16|d[p]*a<<8|255,l&&(k[p]="#"+(16777216+((c[p]<<16)+(b[p]<<8)+d[p])).toString(16).substring(1));for(p=this.Ie+1;256>p;p+=1)f[p]=c[p]*a<<24|b[p]*a<<16|d[p]*a<<8|255,l&&(k[p]="#"+(16777216+((c[p]<<16)+
(b[p]<<8)+d[p])).toString(16).substring(1))}this.pc?(this.ae=-16777216|(e&255)<<16|(e>>8&255)<<8|e>>16,this.De=-16777216|(g&255)<<16|(g>>8&255)<<8|g>>16):(this.ae=e>>16<<24|(e>>8&255)<<16|(e&255)<<8|255,this.De=g>>16<<24|(g>>8&255)<<16|(g&255)<<8|255);-1!==this.C&&(p=this.Qb,f[p]=this.pc?-16777216|d[p]*a<<16|b[p]*a<<8|c[p]*a:c[p]*a<<24|b[p]*a<<16|d[p]*a<<8|255,l&&(k[p]="#"+(16777216+((c[p]<<16)+(b[p]<<8)+d[p])).toString(16).substring(1)))};qa.prototype.Ol=function(){var a=this.la,c=this.ka,b=this.ja;
this.Qb=-1!==this.C&&256===this.h+this.s?2:255;-1!==this.C&&256>this.h+this.s&&(this.pc?(a[this.Qb]=this.ge&255,c[this.Qb]=this.ge>>8&255,b[this.Qb]=this.ge>>16&255):(a[this.Qb]=this.ge>>24,c[this.Qb]=this.ge>>16&255,b[this.Qb]=this.ge>>8&255))};qa.prototype.Dh=function(){var a=this.mc,c=this.l,b=this.$,d=this.ra,f=this.ta,e=this.Qa,g=this.X,k=this.fa,l=this.Y,p=this.aa,n=this.qb;this.grid.cb.fill(0);a.cb.fill(0);c.cb.fill(0);b&&b.cb.fill(0);d.cb.fill(0);f&&(f.cb.fill(0),e.cb.fill(0));g.cb.fill(0);
p.cb.fill(0);n.cb.fill(0);k.cb.fill(0);l.cb.fill(0)};qa.prototype.Jh=function(a,c){var b=I.Lx,d;for(d=0;d<b;d+=1)a[d]=c[d]};qa.prototype.eg=function(a,c){var b=I.So,d;for(d=0;d<b;d+=1){var f=c[d>>9&448|d>>6&56|d>>3&7]<<3;f|=c[d>>8&448|d>>5&56|d>>2&7]<<2;f|=c[d>>7&448|d>>4&56|d>>1&7]<<1;f|=c[d>>6&448|d>>3&56|d&7];a[d]=f}};qa.prototype.Ze=function(a,c,b){if(b){var d=new Uint8Array(16);for(b=0;16>b;b+=1){var f=c[b];d[f]=b}for(b=0;b<I.Qk;b+=1)f=(d[b>>12]&1)<<2,f|=(d[b>>8&15]&2)<<2,f|=(d[b>>4&15]&4)>>
2,f|=(d[b&15]&8)>>2,a[b]=f}else for(b=0;b<I.Qk;b+=1)f=(b>>12&1)<<2,f|=(b>>8&2)<<2,f|=(b>>4&4)>>2,f|=(b&8)>>2,a[b]=c[f]};qa.prototype.Yd=function(a,c){var b,d,f,e;for(b=0;b<I.sj;b+=1){var g=b>>8;var k=b&255;var l=192;var p=6;for(d=e=f=0;4>d;d+=1){var n=0===p?(k&l)<<2|g&l:(k&l)>>p-2|(g&l)>>p;n=(n&8)>>1|(n&4)<<1|(n&2)>>1|(n&1)<<1;n=c[n];n=(n&8)>>1|(n&4)<<1|(n&2)>>1|(n&1)<<1;f<<=2;e<<=2;f|=n>>2&3;e|=n&3;l>>=2;p-=2}a[b]=e<<8|f}};qa.prototype.Pc=function(a,c){var b,d=0,f=!0,e=new Uint8Array(16);for(b=0;f&&
16>b;){var g=1<<a[b];0!==(d&g)?f=!1:(d|=g,b+=1)}if(f){for(b=0;16>b;b+=1)d=a[b],e[d]=b;if(c)for(b=0;b<e.length;b+=1)a[b]=e[b]}return f};qa.prototype.$i=function(a,c){var b;for(b=0;16>b;b+=1)c[b]=a[15-b];for(b=0;16>b;b+=1)a[b]=15-a[b]};qa.prototype.jk=function(){var a=this.Fi,c,b,d,f,e,g=this.Zf,k=this.Jf,l=this.Mf;for(c=0;1<<c<a;)c+=1;var p=(this.Nf+1)*c;if(p<=I.gD){this.rd=this.N.h(na.La,1<<p,"Life.ruleTreeLookup");p=this.ui=c;var n=p+c;var q=n+c;var m=q+c;if(4===this.Nf)for(c=0;c<a;c+=1)for(d=0;d<
a;d+=1)for(e=0;e<a;e+=1)for(f=0;f<a;f+=1)for(b=0;b<a;b+=1){var r=c<<p|d<<n|e<<q|f<<m|b;this.rd[r]=l[k[k[k[k[g+c]+f]+d]+b]+e]}else this.rd=null}else this.rd=null};qa.prototype.Zl=function(a){var c=this.A?this.S.Eb:this.S.T,b=this.A?this.S.Ab:this.S.xb,d=this.S.Y,f=this.A?I.Lx:I.CC,e=!1,g=null,k=c.length;this.Va=d;if(this.v)this.rd=null,this.jk();else if(this.Va&&this.Ga){var l=0;var p=!0;for(k=this.P.D.length;l<k&&p;)this.P.D[l]!==this.P.ca[l]?p=!1:l+=1;if(p){l=0;for(k=this.P.M.length;l<k&&p;)this.P.M[l]!==
this.P.ea[l]?p=!1:l+=1;p&&(this.Va=!1,l=a.U.indexOf("|"),-1!==l&&(a.U=a.U.substring(0,l)),l=a.ta.indexOf("|"),-1!==l&&(a.ta=a.ta.substring(0,l)))}}else{if(this.Va){if(this.T||this.i)k=16;l=0;for(p=!0;l<k&&p;)c[l]!==b[l]?p=!1:l+=1;p&&(this.Va=!1,l=a.U.indexOf("|"),-1!==l&&(a.U=a.U.substring(0,l)),l=a.ta.indexOf("|"),-1!==l&&(a.ta=a.ta.substring(0,l)));if(this.Va&&(this.T||this.i))for(l=0;l<k;l+=1)a=c[l],c[l]=b[l],b[l]=a}this.Md=this.Ua=this.Ee=this.Jd=this.kg=this.uf=this.af=this.tf=null;if(this.i)this.Jd=
this.N.h(na.Aa,I.Qk,"Life.PCALookup1"),d?(this.Ee=this.N.h(na.Aa,I.Qk,"Life.PCALookup2"),this.Ze(this.Ee,c,!1),this.Ze(this.Jd,b,!1),this.Pc(c,!1)&&this.Pc(b,!1)&&(this.Ua=this.N.h(na.Aa,I.Qk,"Life.PCAReverseLookup1"),this.Md=this.N.h(na.Aa,I.Qk,"Life.PCAReverseLookup2"),this.Pc(b,!1),this.Ze(this.Ua,b,!0),this.Pc(c,!1),this.Ze(this.Md,c,!0))):(this.Ze(this.Jd,c,!1),this.Pc(c,!1)&&(this.Ua=this.N.h(na.Aa,I.Qk,"Life.PCAsReverseLookup1"),this.Ze(this.Ua,c,!0)));else if(this.T){this.Jd=this.N.h(na.Aa,
I.sj,"Life.margolusLookup1");if(15===c[0]&&0===c[15]){d=this.Va=!0;g=new Uint8Array(16);for(l=0;16>l;l+=1)g[l]=c[l];this.$i(c,b)}d?(this.Ee=this.N.h(na.Aa,I.sj,"Life.margolusLookup2"),this.Yd(this.Ee,c),this.Yd(this.Jd,b),g&&this.Pc(g,!0)?(this.Ua=this.N.h(na.Aa,I.sj,"Life.margolusReverseLookup1"),this.Md=this.N.h(na.Aa,I.sj,"Life.margolusReverseLookup2"),this.$i(g,b),this.Yd(this.Ua,b),this.Yd(this.Md,g)):this.Pc(c,!1)&&this.Pc(b,!1)&&(this.Ua=this.N.h(na.Aa,I.sj,"Life.margolusReverseLookup1"),this.Md=
this.N.h(na.Aa,I.sj,"Life.margolusReverseLookup2"),this.Pc(c,!0),this.Yd(this.Ua,c),this.Pc(b,!0),this.Yd(this.Md,b))):(this.Yd(this.Jd,c),this.Pc(c,!0)&&(this.Ua=this.N.h(na.Aa,I.sj,"Life.margolusReverseLookup1"),this.Yd(this.Ua,c)))}else if(this.A)this.uf=this.N.h(na.La,I.Kx,"Life.indexLookupTri1"),d?(this.kg=this.N.h(na.La,I.Kx,"Life.indexLookupTri2"),this.Jh(this.kg,c),this.Jh(this.uf,b)):this.Jh(this.uf,c);else{this.tf=this.N.h(na.La,I.So,"Life.indexLookup63");if(-1===this.vd&&c[0]){if(!c[f-
1]){for(l=0;l<f/2;l+=1)a=c[l],c[l]=c[f-l-1],c[f-l-1]=a;e=!0;this.af=this.N.h(na.La,I.So,"Life.indexLookup632");this.eg(this.af,c)}for(l=0;l<f/2;l+=1)a=c[l],c[l]=1-c[f-l-1],c[f-l-1]=1-a}this.Va?(this.af=this.N.h(na.La,I.So,"Life.indexLookup632"),this.eg(this.af,c),this.eg(this.tf,b)):(this.eg(this.tf,c),e&&(this.Va=!0))}}};qa.prototype.Ca=function(a){var c=0;0!==(a&32768)?c=0:0!==(a&16384)?c=1:0!==(a&8192)?c=2:0!==(a&4096)?c=3:0!==(a&2048)?c=4:0!==(a&1024)?c=5:0!==(a&512)?c=6:0!==(a&256)?c=7:0!==(a&
128)?c=8:0!==(a&64)?c=9:0!==(a&32)?c=10:0!==(a&16)?c=11:0!==(a&8)?c=12:0!==(a&4)?c=13:0!==(a&2)?c=14:0!==(a&1)&&(c=15);return c};qa.prototype.Da=function(a){var c=0;0!==(a&1)?c=15:0!==(a&2)?c=14:0!==(a&4)?c=13:0!==(a&8)?c=12:0!==(a&16)?c=11:0!==(a&32)?c=10:0!==(a&64)?c=9:0!==(a&128)?c=8:0!==(a&256)?c=7:0!==(a&512)?c=6:0!==(a&1024)?c=5:0!==(a&2048)?c=4:0!==(a&4096)?c=3:0!==(a&8192)?c=2:0!==(a&16384)&&(c=1);return c};qa.prototype.dk=function(a){var c=this.ta,b=this.X,d=this.width,f=this.height,e,g=
this.m.K,k=this.m.G,l=this.m.F,p=this.m.J,n,q;for(n=0;n<f;n+=1){var m=c[n];var r=b[n>>4];for(q=e=0;q<d;q+=1)0!==m[q]&&(r[q>>8]|=1<<(~(q>>4)&15),e|=m[q],q<l&&(l=q),q>p&&(p=q));e&&(n<k&&(k=n),n>g&&(g=n))}a||(this.m.K=g,this.m.G=k,this.m.F=l,this.m.J=p)};qa.prototype.Tl=function(){var a,c,b,d=this.pa,f=this.aa,e=this.X,g,k=this.A?49152:32768,l=this.A?3:1,p=this.W,n=this.U>>4,q=this.ib;var m=0;var r=m+16;e.cb.fill(0);for(c=0;c<p;c+=1){var u=0;var t=f[c];var v=e[c];var x=0<c?e[c-1]:q;var w=c<p-1?e[c+1]:
q;t[0]&=32767;t[n-1]&=65534;for(b=0;b<n;b+=1)if(g=t[b]){var A=v[b];var C=x[b];var z=w[b];for(a=15;0<=a;--a){if(0!==(g&1<<a)){var H=!1;var E=0;var J=m;var N=d[J];if(N=N[u])H=!0,0!==(N&k)&&(E|=I.hc,E|=I.tc),0!==(N&l)&&(E|=I.Xb,E|=I.uc),E|=I.oc;for(J+=1;J<r-1;){N=d[J];if(N=N[u])H=!0,0!==(N&k)&&(E|=I.hc),0!==(N&l)&&(E|=I.Xb);J+=1}N=d[J];if(N=N[u])H=!0,0!==(N&k)&&(E|=I.hc,E|=I.zc),0!==(N&l)&&(E|=I.Xb,E|=I.ic),E|=I.jc;H&&(A|=1<<a,E&&(0!==(E&I.hc)&&(15>a?A|=1<<a+1:0<b&&(v[b-1]|=1)),0!==(E&I.Xb)&&(0<a?A|=
1<<a-1:b<n-1&&(v[b+1]|=32768)),0!==(E&I.oc)&&(C|=1<<a),0!==(E&I.jc)&&(z|=1<<a),0!==(E&I.tc)&&(15>a?C|=1<<a+1:0<b&&(x[b-1]|=1)),0!==(E&I.uc)&&(0<a?C|=1<<a-1:b<n-1&&(x[b+1]|=32768)),0!==(E&I.zc)&&(15>a?z|=1<<a+1:0<b&&(w[b-1]|=1)),0!==(E&I.ic)&&(0<a?z|=1<<a-1:b<n-1&&(w[b+1]|=32768))))}u+=1}v[b]|=A;0<c&&(x[b]|=C);c<p-1&&(w[b]|=z)}else u+=16;m+=16;r+=16}q.fill(0)};qa.prototype.Ul=function(){var a,c,b,d=this.pa,f=this.aa,e=this.l,g=this.X,k,l=this.W,p=this.U>>4,n=this.ib;var q=0;var m=q+16;g.cb.fill(0);
for(c=0;c<l;c+=1){var r=0;var u=f[c];var t=g[c];var v=0<c?g[c-1]:n;var x=c<l-1?g[c+1]:n;u[0]&=32767;u[p-1]&=65534;for(b=0;b<p;b+=1)if(k=u[b]){var w=t[b];var A=v[b];var C=x[b];for(a=15;0<=a;--a){if(0!==(k&1<<a)){var z=!1;var H=0;var E=q;var J=d[E];var N=e[E];J=J[r];var L=r<<4;0<N[L]&&(J|=32768);L+=1;0<N[L]&&(J|=16384);L+=1;0<N[L]&&(J|=8192);L+=1;0<N[L]&&(J|=4096);L+=1;0<N[L]&&(J|=2048);L+=1;0<N[L]&&(J|=1024);L+=1;0<N[L]&&(J|=512);L+=1;0<N[L]&&(J|=256);L+=1;0<N[L]&&(J|=128);L+=1;0<N[L]&&(J|=64);L+=
1;0<N[L]&&(J|=32);L+=1;0<N[L]&&(J|=16);L+=1;0<N[L]&&(J|=8);L+=1;0<N[L]&&(J|=4);L+=1;0<N[L]&&(J|=2);L+=1;0<N[L]&&(J|=1);J&&(z=!0,0!==(J&32768)&&(H|=I.hc,H|=I.tc),0!==(J&1)&&(H|=I.Xb,H|=I.uc),H|=I.oc);for(E+=1;E<m-1;)J=d[E],N=e[E],J=J[r],L=r<<4,0<N[L]&&(J|=32768),L+=1,0<N[L]&&(J|=16384),L+=1,0<N[L]&&(J|=8192),L+=1,0<N[L]&&(J|=4096),L+=1,0<N[L]&&(J|=2048),L+=1,0<N[L]&&(J|=1024),L+=1,0<N[L]&&(J|=512),L+=1,0<N[L]&&(J|=256),L+=1,0<N[L]&&(J|=128),L+=1,0<N[L]&&(J|=64),L+=1,0<N[L]&&(J|=32),L+=1,0<N[L]&&(J|=
16),L+=1,0<N[L]&&(J|=8),L+=1,0<N[L]&&(J|=4),L+=1,0<N[L]&&(J|=2),L+=1,0<N[L]&&(J|=1),J&&(z=!0,0!==(J&32768)&&(H|=I.hc),0!==(J&1)&&(H|=I.Xb)),E+=1;J=d[E];N=e[E];J=J[r];L=r<<4;0<N[L]&&(J|=32768);L+=1;0<N[L]&&(J|=16384);L+=1;0<N[L]&&(J|=8192);L+=1;0<N[L]&&(J|=4096);L+=1;0<N[L]&&(J|=2048);L+=1;0<N[L]&&(J|=1024);L+=1;0<N[L]&&(J|=512);L+=1;0<N[L]&&(J|=256);L+=1;0<N[L]&&(J|=128);L+=1;0<N[L]&&(J|=64);L+=1;0<N[L]&&(J|=32);L+=1;0<N[L]&&(J|=16);L+=1;0<N[L]&&(J|=8);L+=1;0<N[L]&&(J|=4);L+=1;0<N[L]&&(J|=2);L+=1;
0<N[L]&&(J|=1);J&&(z=!0,0!==(J&32768)&&(H|=I.hc,H|=I.zc),0!==(J&1)&&(H|=I.Xb,H|=I.ic),H|=I.jc);z&&(w|=1<<a,H&&(0!==(H&I.hc)&&(15>a?w|=1<<a+1:0<b&&(t[b-1]|=1)),0!==(H&I.Xb)&&(0<a?w|=1<<a-1:b<p-1&&(t[b+1]|=32768)),0!==(H&I.oc)&&(A|=1<<a),0!==(H&I.jc)&&(C|=1<<a),0!==(H&I.tc)&&(15>a?A|=1<<a+1:0<b&&(v[b-1]|=1)),0!==(H&I.uc)&&(0<a?A|=1<<a-1:b<p-1&&(v[b+1]|=32768)),0!==(H&I.zc)&&(15>a?C|=1<<a+1:0<b&&(x[b-1]|=1)),0!==(H&I.ic)&&(0<a?C|=1<<a-1:b<p-1&&(x[b+1]|=32768))))}r+=1}t[b]|=w;0<c&&(v[b]|=A);c<l-1&&(x[b]|=
C)}else r+=16;q+=16;m+=16}n.fill(0)};qa.prototype.Gk=function(a){var c,b=this.s+1,d=this.height,f=this.width,e=this.l,g=this.height,k=-1,l=this.width,p=-1;var n=this.T?-1:0;this.i&&0!==(this.counter&1)&&(e=this.$);if(-1===this.C){var q=0;var m=f-1;var r=0;var u=d-1}else 0===this.M?(q=0,m=f-1):(q=Math.round((this.width-this.M)/2)+n,m=q+this.M),0===this.I?(r=0,u=d-1):(r=Math.round((this.height-this.I)/2)+n,u=r+this.I);for(c=r;c<u;c+=1){var t=e[c];var v=!1;for(n=q;n<m;n+=1){var x=t[n];x>=b&&255>=x&&
(v=!0,n<l&&(l=n),n>p&&(p=n))}v&&(c<g&&(g=c),c>k&&(k=c))}if(0>k||g>=d||l>=f||0>p)g=k=u-r>>1,p=l=m-q>>1;k>d-1&&(k=d-1);0>g&&(g=0);0>l&&(l=0);p>f-1&&(p=f-1);a.K=k;a.G=g;a.F=l;a.J=p};qa.prototype.Sb=function(){var a,c,b=this.width>>4,d=this.height,f=this.width,e=this.ta,g=this.l,k=this.m,l=this.xa,p=this.Nb,n=this.height,q=-1,m=this.width,r=-1,u=this.height,t=-1,v=this.width,x=-1,w,A=I.Th,C=I.ie,z=this.$a;if(this.Jb){this.Jb=!1;(this.i||this.v||this.o)&&0!==(this.counter&1)&&(g=this.$);var H=0!==(this.counter&
1)?this.Fa:this.pa;-1!==this.C&&this.Rf(g,0);if(e)for(c=0;c<d;c+=1){var E=e[c];var J=g[c];for(a=w=0;a<f;a+=1){var N=E[a]||J[a]>=A&&J[a]<=C?1:0;w|=N;N&&(a<v&&(v=a),a>x&&(x=a))}w&&(c<u&&(u=c),c>t&&(t=c))}z.fill(0);if(-1!==this.h)for(c=0;c<d;c+=1){J=g[c];for(a=w=0;a<f;a+=1)N=J[a],w|=N,N&&(a<m&&(m=a),a>r&&(r=a));w&&(c<n&&(n=c),c>q&&(q=c))}else{for(c=0;c<d;c+=1){E=H[c];for(a=w=0;a<b;a+=1)N=E[a],w|=N,z[a]|=N;w&&(c<n&&(n=c),c>q&&(q=c))}for(a=0;a<b;a+=1)z[a]&&(a<m&&(m=a),a>r&&(r=a));m=(m<<4)+this.Ca(z[m]);
r=(r<<4)+this.Da(z[r])}if(0>q||n>=d||m>=f||0>r)n=q=d>>1,r=m=f>>1;e&&(t>q&&(q=t),u<n&&(n=u),v<m&&(m=v),x>r&&(r=x));q>this.height-1&&(q=this.height-1);0>n&&(n=0);0>m&&(m=0);r>this.width-1&&(r=this.width-1);k.K=q;k.G=n;k.F=m;k.J=r;l.K=q;l.G=n;l.F=m;l.J=r;p.K=q;p.G=n;p.F=m;p.J=r}};qa.prototype.ih=function(a){var c,b,d=this.width>>4,f=this.height,e=this.width,g=this.ta;var k=this.l;var l=this.m,p=this.xa,n=this.Nb,q=this.height,m=-1,r=this.width,u=-1,t=this.height,v=-1,x=this.width,w=-1,A,C=this.$a,z=
this.fa,H=this.Y;if(0!==(this.counter&1)){var E=this.Fa;var J=this.aa;var N=this.X}else E=this.pa,J=this.X,N=this.aa;if(g&&!a)for(b=0;b<f;b+=1){var L=g[b];for(c=A=0;c<e;c+=1){var D=L[c];A|=D;D&&(c<x&&(x=c),c>w&&(w=c))}A&&(b<t&&(t=b),b>v&&(v=b))}C.fill(0);N.cb.fill(0);if(-1!==this.h)for(b=0;b<f;b+=1){d=k[b];for(c=A=0;c<e;c+=1)D=d[c],A|=D,D&&(c<r&&(r=c),c>u&&(u=c));A&&(b<q&&(q=b),b>m&&(m=b))}else{for(b=0;b<f;b+=1){k=E[b];for(c=A=0;c<d;c+=1)D=k[c],A|=D,C[c]|=D;A&&(b<q&&(q=b),b>m&&(m=b))}for(c=0;c<d;c+=
1)C[c]&&(c<r&&(r=c),c>u&&(u=c));r=(r<<4)+this.Ca(C[r]);u=(u<<4)+this.Da(C[u])}if(0>m||q>=f||r>=e||0>u)q=m=f>>1,u=r=e>>1,v=m,t=q,x=r,w=u;g&&!a&&(v<m&&(m=v),t>q&&(q=t),x<r&&(r=x),w>u&&(u=w));m>this.height-1&&(m=this.height-1);0>q&&(q=0);0>r&&(r=0);u>this.width-1&&(u=this.width-1);l.K=m;l.G=q;l.F=r;l.J=u;p.K=m;p.G=q;p.F=r;p.J=u;n.K=m;n.G=q;n.F=r;n.J=u;0<r&&--r;0<q&&--q;u<this.width-1&&(u+=1);m<this.height-1&&(m+=1);D=m>>4;r>>=8;u>>=8;for(b=q>>4;b<=D;b+=1)for(q=N[b],c=r;c<=u;c+=1)q[c]=-1;-1!==this.h?
this.Ul():this.Tl();g&&(this.dk(a),n.K=l.K,n.G=l.G,n.F=l.F,n.J=l.J);Array.jg(J,N);Array.jg(J,z);Array.jg(J,H)};qa.prototype.wj=function(){var a=Math.round((this.width-this.M)/2),c=Math.round((this.height-this.I)/2),b=a+this.M-1,d=c+this.I-1,f=this.ta,e=!1,g;--a;b+=1;d+=1;--c;var k=f[d];var l=f[c];if(0===this.M)for(g=a;g<=b;g+=1)129===l[g]&&(e=!0,l[g]=0),129===k[g]&&(e=!0,k[g]=0);else if(0===this.I)for(c=0;c<this.height;c+=1)129===f[c][a]&&(e=!0,f[c][a]=0),129===f[c][b]&&(e=!0,f[c][b]=0);else{for(g=
a;g<=b;g+=1)129===l[g]&&(e=!0,l[g]=0),129===k[g]&&(e=!0,k[g]=0);for(c+=1;c<=d-1;c+=1)129===f[c][a]&&(e=!0,f[c][a]=0),129===f[c][b]&&(e=!0,f[c][b]=0)}e&&this.Wa()};qa.prototype.el=function(){var a=Math.round((this.width-this.M)/2),c=Math.round((this.height-this.I)/2),b=a+this.M-1,d=c+this.I-1,f=a-16,e=c-16,g=b+16,k=d+16,l,p=this.l;0!==(this.counter&1)&&(p=this.$);0>f&&(f=0);g>=this.width&&(g=this.width-1);0>e&&(e=0);e>=this.height&&(e=this.height-1);for(l=e;l<=k;l+=1){var n=p[l];if(l<c||l>d)for(e=
f;e<=g;e+=1)0!==n[e]&&(n[e]=0);else for(e=f;e<=g;e+=1)(e<a||e>b)&&0!==n[e]&&(n[e]=0)}this.X.cb.fill(0);this.aa.cb.fill(0);this.fa.cb.fill(0);this.Y.cb.fill(0);this.Hg();this.u=0;for(l=c;l<=d;l+=1)for(n=p[l],e=a;e<=b;e+=1)0!==n[e]&&(this.u+=1)};qa.prototype.vj=function(a){var c=this.T?-1:0,b=Math.round((this.width-this.M)/2)+c;c=Math.round((this.height-this.I)/2)+c;var d=b+this.M-1,f=c+this.I-1,e=d+a>>4;var g=b-a>>4;var k=d+a>>4;var l=~(1<<(~(b-a)&15)),p=~(1<<(~(d+a)&15)),n,q=this.Lb,m=0;if(!this.i&&
!this.v){var r=0!==(this.counter&1)?this.Fa:this.pa;var u=r[f+a];var t=r[c-a];if(0===this.M)for(e=this.width>>4,n=0;n<e;n+=1)m+=q[t[n]],t[n]=0,m+=q[u[n]],u[n]=0;else if(0===this.I)for(c=0,f=this.height,n=0;n<f;n+=1)e=r[n],e[g]&~l&&(m+=1),e[g]&=l,e[k]&~p&&(m+=1),e[k]&=p;else{for(n=b-a>>4;n<=e;n+=1)m+=q[t[n]],t[n]=0,m+=q[u[n]],u[n]=0;for(n=c-a+1;n<=f+a-1;n+=1)e=r[n],e[g]&~l&&(m+=1),e[g]&=l,e[k]&~p&&(m+=1),e[k]&=p}this.u-=m}if(-1!==this.h){r=this.l;(this.i||this.v||this.o)&&0!==(this.counter&1)&&(r=
this.$);b-=a;d+=a;f+=a;c-=a;g=r[f];k=r[c];if(0===this.M)for(n=0;n<this.width;n+=1)a=k[n],0!==a&&(k[n]=0,m+=1),a=g[n],0!==a&&(g[n]=0,m+=1);else if(0===this.I)for(n=0;n<this.height;n+=1)a=r[n][b],0!==a&&(r[n][b]=0,m+=1),a=r[n][d],0!==a&&(r[n][d]=0,m+=1);else{for(n=0;n<this.width;n+=1)a=k[n],0!==a&&(k[n]=0,m+=1),a=g[n],0!==a&&(g[n]=0,m+=1);for(n=c+1;n<=f-1;n+=1)a=r[n][b],0!==a&&(r[n][b]=0,m+=1),a=r[n][d],0!==a&&(r[n][d]=0,m+=1)}this.v&&(this.u-=m)}};qa.prototype.Kh=function(a,c,b){var d,f;this.Af+=1;
for(f=0;f<a.length;f+=1){var e=a[f];if(this.D)for(d=0;d<e.length;d+=1){if(1===e[d]){var g=this.Ha(c+d,b+f,!1);3===g?this.qc(c+d,b+f,4,!1):this.qc(c+d,b+f,0,!1);this.ia+=1}}else for(d=0;d<e.length;d+=1)1===e[d]&&(this.qc(c+d,b+f,0,!1),this.ia+=1)}};qa.prototype.Ea=function(a,c,b,d,f,e,g){var k,l,p=0,n=0,q=d+d,m=f+f,r=q+d,u=m+f,t=r+d,v=u+f,x=this.l,w=this.m.F,A=this.m.J;var C=this.m.G;var z=this.m.K;var H=this.Ta;c-=2;b-=2;var E=0;for(k=!0;k&&E<a.length;){var J=0;for(l=a[E];k&&J<l.length;){var N=l[J];
var L=x[b+E][c+J];L<H&&0===N||L>=H&&1===N||(k=!1);J+=1}E+=1}if(k){J=c+3+d+d;E=b+3+f+f;l=0>d?w-1:A+1;C=0>f?C-1:z+1;for(k=!1;!k&&J!==l&&E!==C;)z=x[E],L=z[J],L&64&&(p=J,n=E,k=!0),L=x[E+f][J],L&64&&(p=J,n=E+f,k=!0),L=z[J+d],L&64&&(p=J+d,n=E,k=!0),L=x[E+m][J],L&64&&(p=J,n=E+m,k=!0),L=z[J+q],L&64&&(p=J+q,n=E,k=!0),L=x[E+u][J],L&64&&(p=J,n=E+u,k=!0),L=z[J+r],L&64&&(p=J+r,n=E,k=!0),L=x[E+v][J],L&64&&(p=J,n=E+v,k=!0),L=z[J+t],L&64&&(p=J+t,n=E,k=!0),L=x[E+v+f][J],L&64&&(p=J,n=E+v+f,k=!0),L=z[J+t+d],L&64&&(p=
J+t+d,n=E+f,k=!0),L=x[E+v+f][J],L&64&&(p=J,n=E+v+f,k=!0),L=z[J+t+d],L&64&&(p=J+t+d,n=E,k=!0),L=x[E+v+m][J],L&64&&(p=J,n=E+v+m,k=!0),L=z[J+t+q],L&64&&(p=J+t+q,n=E,k=!0),L=x[E+v+u][J],L&64&&(p=J,n=E+v+u,k=!0),L=z[J+t+r],L&64&&(p=J+t+r,n=E,k=!0),L=x[E-v][J],L&64&&(p=J,n=E-v,k=!0),L=z[J-t],L&64&&(p=J-t,n=E,k=!0),L=x[E-v-f][J],L&64&&(p=J,n=E-v-f,k=!0),L=z[J-t-d],L&64&&(p=J-t-d,n=E,k=!0),L=x[E-v-m][J],L&64&&(p=J,n=E-v-m,k=!0),z=z[J-t-q],z&64&&(p=J-t-q,n=E,k=!0),J+=d,E+=f;this.qe[this.qe.length]={es:a,x:c,
y:b,jF:p,oF:n,orientation:e,ux:k,offset:g}}return k};qa.prototype.tj=function(){var a,c=this.qe.length,b;if(1<c)for(a=0;a<c;a+=1){var d=this.qe[a];if(d.ux){var f=d.jF;var e=d.oF;var g=d.orientation;var k=0;for(b=!1;!b&&k<c;){if(k!==a){var l=this.qe[k];var p=l.x+3;var n=l.y+3;f>=p-1&&f<=p+1&&e>=n-1&&e<=n+1&&l.orientation===g&&0===d.offset&&(this.Kh(d.es,d.x,d.y),b=!0)}k+=1}}else{f=d.x+3;e=d.y+3;g=d.orientation;k=0;for(b=!1;!b&&k<c;){if(k!==a)switch(l=this.qe[k],p=l.x+3,n=l.y+3,l=l.orientation,g){case I.ph:l===
I.oh&&e>=n-6&&e<=n+6&&f>=p&&(b=!0);l===I.rh&&f>=p-6&&f<=p+6&&e>=n&&(b=!0);break;case I.oh:l===I.ph&&e>=n-6&&e<=n+6&&f<=p&&(b=!0);l===I.qh&&f>=p-6&&f<=p+6&&e>=n&&(b=!0);break;case I.rh:l===I.qh&&e>=n-6&&e<=n+6&&f>=p&&(b=!0);l===I.ph&&f>=p-6&&f<=p+6&&e<=n&&(b=!0);break;case I.qh:l===I.rh&&e>=n-6&&e<=n+6&&f<=p&&(b=!0),l===I.oh&&f>=p-6&&f<=p+6&&e<=n&&(b=!0)}k+=1}b||0!==d.offset||this.Kh(d.es,d.x,d.y)}}else 1===c&&(d=this.qe[0],d.ux||0!==d.offset||this.Kh(d.es,d.x,d.y))};qa.prototype.Xk=function(){var a;
var c=this.m.F;var b=this.m.J;var d=this.m.G;var f=this.m.K,e=this.l,g=this.Ta;if(-1===this.C){this.qe=[];64>c&&(c=64);b>this.width-64&&(b=this.width-64);64>d&&(d=64);for(f>this.height-64&&(f=this.height-64);c<=b;c+=1)for(a=0;6>=a;a+=1){d=this.m.G+a;f=e[d];f[c]>=g&&(this.Ea(this.Og,c,d,-1,1,I.ph,a)||this.Ea(this.Pg,c-1,d,-1,1,I.ph,a)||this.Ea(this.Qg,c,d,-1,1,I.ph,a)||this.Ea(this.Rg,c-1,d,-1,1,I.ph,a)||this.Ea(this.Nh,c,d,1,1,I.oh,a)||this.Ea(this.Lg,c-1,d,1,1,I.oh,a)||this.Ea(this.Mg,c-1,d,1,1,
I.oh,a)||this.Ea(this.Ng,c,d,1,1,I.oh,a));f=this.m.K-a;var k=e[f];k[c]>=g&&(this.Ea(this.Wg,c,f-2,-1,-1,I.rh,a)||this.Ea(this.Xg,c-1,f-2,-1,-1,I.rh,a)||this.Ea(this.Yg,c,f-2,-1,-1,I.rh,a)||this.Ea(this.Zg,c-1,f-2,-1,-1,I.rh,a)||this.Ea(this.Sg,c,f-2,1,-1,I.qh,a)||this.Ea(this.Tg,c-1,f-2,1,-1,I.qh,a)||this.Ea(this.Ug,c-1,f-2,1,-1,I.qh,a)||this.Ea(this.Vg,c,f-2,1,-1,I.qh,a))}for(;d<=f;d+=1)for(a=0;6>=a;a+=1)k=e[d],c=this.m.F+a,k[c]>=g&&(this.Ea(this.Og,c,d,1,-1,I.ph,a)||this.Ea(this.Pg,c,d-1,1,-1,I.ph,
a)||this.Ea(this.Qg,c,d,1,-1,I.ph,a)||this.Ea(this.Rg,c,d-1,1,-1,I.ph,a)||this.Ea(this.Wg,c,d-1,1,1,I.rh,a)||this.Ea(this.Xg,c,d,1,1,I.rh,a)||this.Ea(this.Yg,c,d,1,1,I.rh,a)||this.Ea(this.Zg,c,d-1,1,1,I.rh,a)),b=this.m.J-a,k[b]>=g&&(this.Ea(this.Nh,b-2,d,-1,-1,I.oh,a)||this.Ea(this.Lg,b-2,d-1,-1,-1,I.oh,a)||this.Ea(this.Mg,b-2,d,-1,-1,I.oh,a)||this.Ea(this.Ng,b-2,d-1,-1,-1,I.oh,a)||this.Ea(this.Sg,b-2,d-1,-1,1,I.qh,a)||this.Ea(this.Tg,b-2,d,-1,1,I.qh,a)||this.Ea(this.Ug,b-2,d,-1,1,I.qh,a)||this.Ea(this.Vg,
b-2,d-1,-1,1,I.qh,a));this.tj();this.Sb()}};qa.prototype.Hg=function(){var a,c,b=this.T?-1:0,d=this.M,f=this.I;for(c=0;1>=c;c+=1){var e=Math.round((this.width-d)/2-1)+b+c>>4;var g=Math.round((this.width+d)/2)+b-c>>4;var k=Math.round((this.height-f)/2-1+c)+b>>4;var l=Math.round((this.height+f)/2)+b-c>>4;0===f&&(k=0,l=(this.height>>4)-1);0===d&&(e=0,g=(this.width>>4)-1);0>e&&(e=0);0>k&&(k=0);g>=this.width>>4&&(g=(this.width>>4)-1);l>=this.height>>4&&(l=(this.height>>4)-1);if(this.Qe)for(;k<=l;k+=1){var p=
this.X[k];var n=this.aa[k];var q=this.fa[k];var m=this.Y[k];for(a=e;a<=g;a+=1){var r=1<<(~a&15);p[a>>4]|=r;n[a>>4]|=r;q[a>>4]|=r;m[a>>4]|=r}}else{for(a=e;a<=g;a+=1)r=1<<(~a&15),this.X[k][a>>4]|=r,this.aa[k][a>>4]|=r,this.fa[k][a>>4]|=r,this.Y[k][a>>4]|=r,this.X[l][a>>4]|=r,this.aa[l][a>>4]|=r,this.fa[l][a>>4]|=r,this.Y[l][a>>4]|=r;for(;k<=l;k+=1)r=1<<(~e&15),this.X[k][e>>4]|=r,this.aa[k][e>>4]|=r,this.fa[k][e>>4]|=r,this.Y[k][e>>4]|=r,r=1<<(~g&15),this.X[k][g>>4]|=r,this.aa[k][g>>4]|=r,this.fa[k][g>>
4]|=r,this.Y[k][g>>4]|=r}}};qa.prototype.wm=function(a){var c=this.M,b=this.I,d=Math.round((this.width-c)/2),f=Math.round((this.height-b)/2),e=d+c-1,g=f+b-1,k=this.Ad,l=this.Cd,p=this.Y,n=!1,q;0===this.M&&(d=0,e=this.width-1,c=this.width);0===this.I&&(f=0,g=this.height-1,b=this.height);if(0!==this.I)for(q=0;q<c;q+=1){var m=d+q;var r=d+(q+k+c)%c;var u=a[g][m];129===u&&(n=!0,a[f-1][r]=u,p[f-1>>4][r>>8]|=1<<(~(r>>4)&15),15===(f-1&15)&&(p[(f-1>>4)+1][r>>8]|=1<<(~(r>>4)&15)));r=d+(q-k+c)%c;u=a[f][m];129===
u&&(n=!0,a[g+1][r]=u,p[g+1>>4][r>>8]|=1<<(~(r>>4)&15),0===(g+1&15)&&(p[(g+1>>4)-1][r>>8]|=1<<(~(r>>4)&15)))}if(0!==this.M)for(q=0;q<b;q+=1)m=f+q,r=f+(q-l+b)%b,u=a[m][d],129===u&&(n=!0,a[r][e+1]=u,p[r>>4][e+1>>8]|=1<<(~(e+1>>4)&15),0===(e+1&15)&&(p[r>>4][e-15>>8]|=1<<(~(e-15>>4)&15))),r=f+(q+l+b)%b,u=a[m][e],129===u&&(n=!0,a[r][d-1]=u,p[r>>4][d-1>>8]|=1<<(~(d-1>>4)&15),15===(d-1&15)&&(p[r>>4][d+15>>8]|=1<<(~(d+15>>4)&15)));0!==this.M&&0!==this.I&&(u=a[f+(b-1+l+b)%b][d+(-k+c)%c],129===u&&(a[f-1][e+
1]=u,n=!0),u=a[f+(b-1-l+b)%b][d+(c-1-k+c)%c],129===u&&(a[f-1][d-1]=u,n=!0),u=a[f+(l+b)%b][d+(k+c)%c],129===u&&(a[g+1][e+1]=u,n=!0),u=a[f+(-l+b)%b][d+(c-1+k+c)%c],129===u&&(a[g+1][d-1]=u,n=!0));n&&this.Wa()};qa.prototype.nm=function(a){var c=this.Y,b=this.M,d=this.I,f=Math.round((this.width-b)/2),e=Math.round((this.height-d)/2),g=f+b-1,k=e+d-1,l=this.Ad,p=this.Cd,n=this.Of,q=this.cg,m=!1,r;for(r=0;r<b;r+=1){var u=f+r;var t=n?g-(r+l+b)%b:f+(r+l+b)%b;var v=a[k][u];129===v&&(m=!0,a[e-1][t]=v,c[e-1>>4][t>>
8]|=1<<(~(t>>4)&15),15===(e-1&15)&&(c[(e-1>>4)+1][t>>8]|=1<<(~(t>>4)&15)));t=n?g-(r+l+b)%b:f+(r+l+b)%b;v=a[e][u];129===v&&(m=!0,a[k+1][t]=v,c[k+1>>4][t>>8]|=1<<(~(t>>4)&15),0===(k+1&15)&&(c[(k+1>>4)-1][t>>8]|=1<<(~(t>>4)&15)))}for(r=0;r<d;r+=1)u=e+r,t=q?k-(r+p+d)%d:e+(r+p+d)%d,v=a[u][f],129===v&&(m=!0,a[t][g+1]=v,c[t>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(c[t>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),t=q?k-(r+p+d)%d:e+(r+p+d)%d,v=a[u][g],129===v&&(m=!0,a[t][f-1]=v,c[t>>4][f-1>>8]|=1<<(~(f-1>>4)&15),
15===(f-1&15)&&(c[t>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));v=a[q?k-(d-1+p+d)%d:e+(d-1+p+d)%d][n?g-(-l+b)%b:f+(-l+b)%b];129===v&&(a[e-1][g+1]=v,m=!0);v=a[q?k-(d-1+p+d)%d:e+(d-1+p+d)%d][n?g-(b-1-l+b)%b:f+(b-1-l+b)%b];129===v&&(a[e-1][f-1]=v,m=!0);v=a[q?k-(p+d)%d:e+(p+d)%d][n?g-(l+b)%b:f+(l+b)%b];129===v&&(a[k+1][g+1]=v,m=!0);v=a[q?k-(p+d)%d:e+(p+d)%d][n?g-(b-1+l+b)%b:f+(b-1+l+b)%b];129===v&&(a[k+1][f-1]=v,m=!0);m&&this.Wa()};qa.prototype.hm=function(a){var c=this.fa,b=this.M,d=this.I,f=Math.round((this.width-
b)/2),e=Math.round((this.height-d)/2),g=f+b-1,k=e+d-1,l=!1,p;for(p=0;p<b;p+=1){var n=f+p;var q=g-p;var m=a[k][n];129===m&&(l=!0,a[e-1][q]=m,c[e-1>>4][q>>8]|=1<<(~(q>>4)&15),15===(e-1&15)&&(c[(e-1>>4)+1][q>>8]|=1<<(~(q>>4)&15)));m=a[e][n];129===m&&(l=!0,a[k+1][q]=m,c[k+1>>4][q>>8]|=1<<(~(q>>4)&15),0===(k+1&15)&&(c[(k+1>>4)-1][q>>8]|=1<<(~(q>>4)&15)))}for(p=0;p<=d;p+=1)n=e+p,q=k-p,m=a[n][f],129===m&&(l=!0,a[q][g+1]=m,c[q>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(c[q>>4][g-15>>8]|=1<<(~(g-15>>4)&
15))),m=a[n][g],129===m&&(l=!0,a[q][f-1]=m,c[q>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(c[q>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));m=a[k][f];129===m&&(a[k+1][f-1]=m,l=!0);m=a[k][g];129===m&&(a[k+1][g+1]=m,l=!0);m=a[e][f];129===m&&(a[e-1][f-1]=m,l=!0);m=a[e][g];129===m&&(a[e-1][g+1]=m,l=!0);l&&this.Wa()};qa.prototype.sm=function(a){var c=this.fa,b=this.M,d=this.I,f=Math.round((this.width-b)/2),e=Math.round((this.height-d)/2),g=f+b-1;d=e+d-1;var k=!1,l;if(this.Pf)for(l=0;l<b;l+=1){var p=e+l;var n=
f+l;var q=a[p][f];129===q&&(k=!0,a[e-1][n]=q,c[e-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(e-1&15)&&(c[(e-1>>4)+1][n>>8]|=1<<(~(n>>4)&15)));q=a[p][g];129===q&&(k=!0,a[d+1][n]=q,c[d+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(d+1&15)&&(c[(d+1>>4)-1][n>>8]|=1<<(~(n>>4)&15)));q=a[e][n];129===q&&(k=!0,a[p][f-1]=q,c[p>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(c[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));q=a[d][n];129===q&&(k=!0,a[p][g+1]=q,c[p>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(c[p>>4][g-15>>8]|=1<<(~(g-15>>
4)&15)))}else for(l=0;l<b;l+=1)p=e+l,n=f+(b-l-1),q=a[p][g],129===q&&(k=!0,a[e-1][n]=q,c[e-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(e-1&15)&&(c[(e-1>>4)+1][n>>8]|=1<<(~(n>>4)&15))),q=a[p][f],129===q&&(k=!0,a[d+1][n]=q,c[d+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(d+1&15)&&(c[(d+1>>4)-1][n>>8]|=1<<(~(n>>4)&15))),q=a[e][n],129===q&&(k=!0,a[p][g+1]=q,c[p>>4][f-1>>8]|=1<<(~(f-1>>4)&15),0===(g+1&15)&&(c[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15),c[p>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),q=a[d][n],129===q&&(k=!0,a[p][f-1]=q,c[p>>
4][g+1>>8]|=1<<(~(g+1>>4)&15),15===(f+15&15)&&(c[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));q=a[d][f];129===q&&(k=!0,a[d+1][f-1]=q);q=a[d][g];129===q&&(k=!0,a[d+1][g+1]=q);q=a[e][f];129===q&&(k=!0,a[e-1][f-1]=q);q=a[e][g];129===q&&(k=!0,a[e-1][g+1]=q);k&&this.Wa()};qa.prototype.xm=function(a){var c=this.M,b=this.I,d=this.T?-1:0,f=Math.round((this.width-c)/2)+d;d=Math.round((this.height-b)/2)+d;var e=f+c-1,g=d+b-1,k=this.Ad,l=this.Cd,p=this.Y,n=this.qb,q;0===this.M&&(f=0,e=this.width-1,c=this.width);0===
this.I&&(d=0,g=this.height-1,b=this.height);if(0!==this.I)for(q=0;q<c;q+=1){var m=f+q;var r=f+(q+k+c)%c;var u=a[g][m];0!==u&&(a[d-1][r]=u,p[d-1>>4][r>>8]|=1<<(~(r>>4)&15),n[d-1>>4][r>>8]&=~(1<<(~(r>>4)&15)),15===(d-1&15)&&(p[(d-1>>4)+1][r>>8]|=1<<(~(r>>4)&15),n[(d-1>>4)+1][r>>8]&=~(1<<(~(r>>4)&15))));r=f+(q-k+c)%c;u=a[d][m];0!==u&&(a[g+1][r]=u,p[g+1>>4][r>>8]|=1<<(~(r>>4)&15),n[g+1>>4][r>>8]&=~(1<<(~(r>>4)&15)),0===(g+1&15)&&(p[(g+1>>4)-1][r>>8]|=1<<(~(r>>4)&15),n[(g+1>>4)-1][r>>8]&=~(1<<(~(r>>4)&
15))))}if(0!==this.M)for(q=0;q<b;q+=1)m=d+q,r=d+(q-l+b)%b,u=a[m][f],0!==u&&(a[r][e+1]=u,p[r>>4][e+1>>8]|=1<<(~(e+1>>4)&15),n[r>>4][e+1>>8]&=~(1<<(~(e+1>>4)&15)),0===(e+1&15)&&(p[r>>4][e-15>>8]|=1<<(~(e-15>>4)&15),n[r>>4][e-15>>8]&=~(1<<(~(e-15>>4)&15)))),r=d+(q+l+b)%b,u=a[m][e],0!==u&&(a[r][f-1]=u,p[r>>4][f-1>>8]|=1<<(~(f-1>>4)&15),n[r>>4][f-1>>8]&=~(1<<(~(f-1>>4)&15)),15===(f-1&15)&&(p[r>>4][f+15>>8]|=1<<(~(f+15>>4)&15),n[r>>4][f+15>>8]&=~(1<<(~(f+15>>4)&15))));0!==this.M&&0!==this.I&&(u=a[d+(b-
1+l+b)%b][f+(-k+c)%c],a[d-1][e+1]=u,u=a[d+(b-1-l+b)%b][f+(c-1-k+c)%c],a[d-1][f-1]=u,u=a[d+(l+b)%b][f+(k+c)%c],a[g+1][e+1]=u,u=a[d+(-l+b)%b][f+(c-1+k+c)%c],a[g+1][f-1]=u)};qa.prototype.om=function(a){var c=this.Y,b=this.qb,d=this.M,f=this.I,e=this.T?-1:0,g=Math.round((this.width-d)/2)+e;e=Math.round((this.height-f)/2)+e;var k=g+d-1,l=e+f-1,p=this.Ad,n=this.Cd,q=this.Of,m=this.cg,r;for(r=0;r<d;r+=1){var u=g+r;var t=q?k-(r+p+d)%d:g+(r+p+d)%d;var v=a[l][u];0!==v&&(a[e-1][t]=v,c[e-1>>4][t>>8]|=1<<(~(t>>
4)&15),b[e-1>>4][t>>8]&=~(1<<(~(t>>4)&15)),15===(e-1&15)&&(c[(e-1>>4)+1][t>>8]|=1<<(~(t>>4)&15),b[(e-1>>4)+1][t>>8]&=~(1<<(~(t>>4)&15))));t=q?k-(r+p+d)%d:g+(r+p+d)%d;v=a[e][u];0!==v&&(a[l+1][t]=v,c[l+1>>4][t>>8]|=1<<(~(t>>4)&15),b[l+1>>4][t>>8]&=~(1<<(~(t>>4)&15)),0===(l+1&15)&&(c[(l+1>>4)-1][t>>8]|=1<<(~(t>>4)&15),b[(l+1>>4)-1][t>>8]&=~(1<<(~(t>>4)&15))))}for(r=0;r<f;r+=1)u=e+r,t=m?l-(r+n+f)%f:e+(r+n+f)%f,v=a[u][g],0!==v&&(a[t][k+1]=v,c[t>>4][k+1>>8]|=1<<(~(k+1>>4)&15),b[t>>4][k+1>>8]&=~(1<<(~(k+
1>>4)&15)),0===(k+1&15)&&(c[t>>4][k-15>>8]|=1<<(~(k-15>>4)&15),b[t>>4][k-15>>8]&=~(1<<(~(k-15>>4)&15)))),t=m?l-(r+n+f)%f:e+(r+n+f)%f,v=a[u][k],0!==v&&(a[t][g-1]=v,c[t>>4][g-1>>8]|=1<<(~(g-1>>4)&15),b[t>>4][g-1>>8]&=~(1<<(~(g-1>>4)&15)),15===(g-1&15)&&(c[t>>4][g+15>>8]|=1<<(~(g+15>>4)&15),b[t>>4][g+15>>8]&=~(1<<(~(g+15>>4)&15))));v=a[m?l-(f-1+n+f)%f:e+(f-1+n+f)%f][q?k-(-p+d)%d:g+(-p+d)%d];a[e-1][k+1]=v;v=a[m?l-(f-1+n+f)%f:e+(f-1+n+f)%f][q?k-(d-1-p+d)%d:g+(d-1-p+d)%d];a[e-1][g-1]=v;v=a[m?l-(n+f)%f:
e+(n+f)%f][q?k-(p+d)%d:g+(p+d)%d];a[l+1][k+1]=v;v=a[m?l-(n+f)%f:e+(n+f)%f][q?k-(d-1+p+d)%d:g+(d-1+p+d)%d];a[l+1][g-1]=v};qa.prototype.im=function(a){var c=this.fa,b=this.qb,d=this.M,f=this.I,e=this.T?-1:0,g=Math.round((this.width-d)/2)+e;e=Math.round((this.height-f)/2)+e;var k=g+d-1,l=e+f-1,p;for(p=0;p<d;p+=1){var n=g+p;var q=k-p;var m=a[l][n];0!==m&&(a[e-1][q]=m,c[e-1>>4][q>>8]|=1<<(~(q>>4)&15),b[e-1>>4][q>>8]&=~(1<<(~(q>>4)&15)),15===(e-1&15)&&(c[(e-1>>4)+1][q>>8]|=1<<(~(q>>4)&15),b[(e-1>>4)+1][q>>
8]&=~(1<<(~(q>>4)&15))));m=a[e][n];0!==m&&(a[l+1][q]=m,c[l+1>>4][q>>8]|=1<<(~(q>>4)&15),b[l+1>>4][q>>8]&=~(1<<(~(q>>4)&15)),0===(l+1&15)&&(c[(l+1>>4)-1][q>>8]|=1<<(~(q>>4)&15),b[(l+1>>4)-1][q>>8]&=~(1<<(~(q>>4)&15))))}for(p=0;p<=f;p+=1)n=e+p,q=l-p,m=a[n][g],0!==m&&(a[q][k+1]=m,c[q>>4][k+1>>8]|=1<<(~(k+1>>4)&15),b[q>>4][k+1>>8]&=~(1<<(~(k+1>>4)&15)),0===(k+1&15)&&(c[q>>4][k-15>>8]|=1<<(~(k-15>>4)&15),b[q>>4][k-15>>8]&=~(1<<(~(k-15>>4)&15)))),m=a[n][k],0!==m&&(a[q][g-1]=m,c[q>>4][g-1>>8]|=1<<(~(g-1>>
4)&15),b[q>>4][g-1>>8]&=~(1<<(~(g-1>>4)&15)),15===(g-1&15)&&(c[q>>4][g+15>>8]|=1<<(~(g+15>>4)&15),b[q>>4][g+15>>8]&=~(1<<(~(g+15>>4)&15))));m=a[l][g];a[l+1][g-1]=m;m=a[l][k];a[l+1][k+1]=m;m=a[e][g];a[e-1][g-1]=m;m=a[e][k];a[e-1][k+1]=m};qa.prototype.um=function(a){var c=this.fa,b=this.qb,d=this.M,f=this.I,e=this.T?-1:0,g=Math.round((this.width-d)/2)+e;e=Math.round((this.height-f)/2)+e;var k=g+d-1;f=e+f-1;var l=this.s,p;if(this.Pf)for(p=0;p<d;p+=1){var n=e+p;var q=g+p;var m=a[n][g];m>l&&(this.i&&(m-=
l,m=(m>>1&15|(m&1)<<3)+l),a[e-1][q]=m,c[e-1>>4][q>>8]|=1<<(~(q>>4)&15),b[e-1>>4][q>>8]&=~(1<<(~(q>>4)&15)),15===(e-1&15)&&(c[(e-1>>4)+1][q>>8]|=1<<(~(q>>4)&15),b[(e-1>>4)+1][q>>8]&=~(1<<(~(q>>4)&15))));m=a[n][k];m>l&&(this.i&&(m-=l,m=(m>>1&15|(m&1)<<3)+l),a[f+1][q]=m,c[f+1>>4][q>>8]|=1<<(~(q>>4)&15),b[f+1>>4][q>>8]&=~(1<<(~(q>>4)&15)),0===(f+1&15)&&(c[(f+1>>4)-1][q>>8]|=1<<(~(q>>4)&15),b[(f+1>>4)-1][q>>8]&=~(1<<(~(q>>4)&15))));m=a[e][q];m>l&&(this.i&&(m-=l,m=(m<<1&15|(m&8)>>3)+l),a[n][g-1]=m,c[n>>
4][g-1>>8]|=1<<(~(g-1>>4)&15),b[n>>4][g-1>>8]&=~(1<<(~(g-1>>4)&15)),15===(g-1&15)&&(c[n>>4][g+15>>8]|=1<<(~(g+15>>4)&15),b[n>>4][g+15>>8]&=~(1<<(~(g+15>>4)&15))));m=a[f][q];m>l&&(this.i&&(m-=l,m=(m<<1&15|(m&8)>>3)+l),a[n][k+1]=m,c[n>>4][k+1>>8]|=1<<(~(k+1>>4)&15),b[n>>4][k+1>>8]&=~(1<<(~(k+1>>4)&15)),0===(k+1&15)&&(c[n>>4][k-15>>8]|=1<<(~(k-15>>4)&15),b[n>>4][k-15>>8]&=~(1<<(~(k-15>>4)&15))))}else for(p=0;p<d;p+=1)n=e+p,q=g+(d-p-1),m=a[n][k],m>l&&(this.i&&(m-=l,m=(m<<1&15|(m&8)>>3)+l),a[e-1][q]=m,
c[e-1>>4][q>>8]|=1<<(~(q>>4)&15),b[e-1>>4][q>>8]&=~(1<<(~(q>>4)&15)),15===(e-1&15)&&(c[(e-1>>4)+1][q>>8]|=1<<(~(q>>4)&15),b[(e-1>>4)+1][q>>8]&=~(1<<(~(q>>4)&15)))),m=a[n][g],m>l&&(this.i&&(m-=l,m=(m<<1&15|(m&8)>>3)+l),a[f+1][q]=m,c[f+1>>4][q>>8]|=1<<(~(q>>4)&15),b[f+1>>4][q>>8]&=~(1<<(~(q>>4)&15)),0===(f+1&15)&&(c[(f+1>>4)-1][q>>8]|=1<<(~(q>>4)&15),b[(f+1>>4)-1][q>>8]&=~(1<<(~(q>>4)&15)))),m=a[e][q],m>l&&(this.i&&(m-=l,m=(m>>1&15|(m&1)<<3)+l),a[n][k+1]=m,c[n>>4][g-1>>8]|=1<<(~(g-1>>4)&15),b[n>>4][g-
1>>8]&=~(1<<(~(g-1>>4)&15)),0===(k+1&15)&&(c[n>>4][g+15>>8]|=1<<(~(g+15>>4)&15),b[n>>4][g+15>>8]&=~(1<<(~(g+15>>4)&15)),c[n>>4][k-15>>8]|=1<<(~(k-15>>4)&15),b[n>>4][k-15>>8]&=~(1<<(~(k-15>>4)&15)))),m=a[f][q],m>l&&(this.i&&(m-=l,m=(m>>1&15|(m&1)<<3)+l),a[n][g-1]=m,c[n>>4][k+1>>8]|=1<<(~(k+1>>4)&15),b[n>>4][k+1>>8]&=~(1<<(~(k+1>>4)&15)),15===(g+15&15)&&(c[n>>4][g+15>>8]|=1<<(~(g+15>>4)&15),b[n>>4][g+15>>8]&=~(1<<(~(g+15>>4)&15))));m=a[f][g];a[f+1][g-1]=m;m=a[f][k];a[f+1][k+1]=m;m=a[e][g];a[e-1][g-
1]=m;m=a[e][k];a[e-1][k+1]=m};qa.prototype.pi=function(){var a=this.fa,c=this.M,b=this.I;var d=this.T?-1:0;var f=Math.round((this.width-c)/2)+d,e=Math.round((this.height-b)/2)+d,g=f+c-1,k=e+b-1,l=this.Ad,p=this.Cd,n=this.A&&0<f&&g<this.width-1,q;if(0!==(this.counter&1)){d=this.Fa;var m=this.aa}else d=this.pa,m=this.X;0===this.M&&(f=0,g=this.width-1,c=this.width);0===this.I&&(e=0,k=this.height-1,b=this.height);if(0!==this.I)for(q=0;q<c;q+=1){var r=f+q;var u=f+(q+l+c)%c;0!==(d[k][r>>4]&1<<(~r&15))&&
(d[e-1][u>>4]|=1<<(~u&15),m[e-1>>4][u>>8]|=1<<(~(u>>4)&15),a[e-1>>4][u>>8]|=1<<(~(u>>4)&15),15===(e-1&15)&&(m[(e-1>>4)+1][u>>8]|=1<<(~(u>>4)&15),a[(e-1>>4)+1][u>>8]|=1<<(~(u>>4)&15)));u=f+(q-l+c)%c;0!==(d[e][r>>4]&1<<(~r&15))&&(d[k+1][u>>4]|=1<<(~u&15),m[k+1>>4][u>>8]|=1<<(~(u>>4)&15),a[k+1>>4][u>>8]|=1<<(~(u>>4)&15),0===(k+1&15)&&(m[(k+1>>4)-1][u>>8]|=1<<(~(u>>4)&15),a[(k+1>>4)-1][u>>8]|=1<<(~(u>>4)&15)))}if(0!==this.M)for(q=0;q<b;q+=1)r=e+q,u=e+(q-p+b)%b,0!==(d[r][f>>4]&1<<(~f&15))&&(d[u][g+1>>
4]|=1<<(~(g+1)&15),m[u>>4][g+1>>8]|=1<<(~(g+1>>4)&15),a[u>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(m[u>>4][g-15>>8]|=1<<(~(g-15>>4)&15),a[u>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),n&&(f+=1,g+=1,0!==(d[r][f>>4]&1<<(~f&15))&&(d[u][g+1>>4]|=1<<(~(g+1)&15),m[u>>4][g+1>>8]|=1<<(~(g+1>>4)&15),a[u>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(m[u>>4][g-15>>8]|=1<<(~(g-15>>4)&15),a[u>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),--f,--g),u=e+(q+p+b)%b,0!==(d[r][g>>4]&1<<(~g&15))&&(d[u][f-1>>4]|=1<<(~(f-1)&15),m[u>>
4][f-1>>8]|=1<<(~(f-1>>4)&15),a[u>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(m[u>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[u>>4][f+15>>8]|=1<<(~(f+15>>4)&15))),n&&(--f,--g,0!==(d[r][g>>4]&1<<(~g&15))&&(d[u][f-1>>4]|=1<<(~(f-1)&15),m[u>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[u>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(m[u>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[u>>4][f+15>>8]|=1<<(~(f+15>>4)&15))),f+=1,g+=1);0!==this.M&&0!==this.I&&(r=f+(-l+c)%c,d[e-1][g+1>>4]=0!==(d[e+(b-1+p+b)%b][r>>4]&1<<(~r&15))?d[e-1][g+
1>>4]|1<<(~(g+1)&15):d[e-1][g+1>>4]&~(1<<(~(g+1)&15)),r=f+(c-1-l+c)%c,d[e-1][f-1>>4]=0!==(d[e+(b-1-p+b)%b][r>>4]&1<<(~r&15))?d[e-1][f-1>>4]|1<<(~(f-1)&15):d[e-1][f-1>>4]&~(1<<(~(f-1)&15)),r=f+(l+c)%c,d[k+1][g+1>>4]=0!==(d[e+(p+b)%b][r>>4]&1<<(~r&15))?d[k+1][g+1>>4]|1<<(~(g+1)&15):d[k+1][g+1>>4]&~(1<<(~(g+1)&15)),r=f+(c-1+l+c)%c,d[k+1][f-1>>4]=0!==(d[e+(-p+b)%b][r>>4]&1<<(~r&15))?d[k+1][f-1>>4]|1<<(~(f-1)&15):d[k+1][f-1>>4]&~(1<<(~(f-1)&15)),n&&(f+=1,g+=1,r=f+(-l+c)%c,d[e-1][g+1>>4]=0!==(d[e+(b-1+
p+b)%b][r>>4]&1<<(~r&15))?d[e-1][g+1>>4]|1<<(~(g+1)&15):d[e-1][g+1>>4]&~(1<<(~(g+1)&15)),r=f+(c-1-l+c)%c,d[e-1][f-1>>4]=0!==(d[e+(b-1-p+b)%b][r>>4]&1<<(~r&15))?d[e-1][f-1>>4]|1<<(~(f-1)&15):d[e-1][f-1>>4]&~(1<<(~(f-1)&15)),r=f+(l+c)%c,d[k+1][g+1>>4]=0!==(d[e+(p+b)%b][r>>4]&1<<(~r&15))?d[k+1][g+1>>4]|1<<(~(g+1)&15):d[k+1][g+1>>4]&~(1<<(~(g+1)&15)),r=f+(c-1+l+c)%c,d[k+1][f-1>>4]=0!==(d[e+(-p+b)%b][r>>4]&1<<(~r&15))?d[k+1][f-1>>4]|1<<(~(f-1)&15):d[k+1][f-1>>4]&~(1<<(~(f-1)&15)),f-=2,g-=2,r=f+(-l+c)%
c,d[e-1][g+1>>4]=0!==(d[e+(b-1+p+b)%b][r>>4]&1<<(~r&15))?d[e-1][g+1>>4]|1<<(~(g+1)&15):d[e-1][g+1>>4]&~(1<<(~(g+1)&15)),r=f+(c-1-l+c)%c,d[e-1][f-1>>4]=0!==(d[e+(b-1-p+b)%b][r>>4]&1<<(~r&15))?d[e-1][f-1>>4]|1<<(~(f-1)&15):d[e-1][f-1>>4]&~(1<<(~(f-1)&15)),r=f+(l+c)%c,d[k+1][g+1>>4]=0!==(d[e+(p+b)%b][r>>4]&1<<(~r&15))?d[k+1][g+1>>4]|1<<(~(g+1)&15):d[k+1][g+1>>4]&~(1<<(~(g+1)&15)),r=f+(c-1+l+c)%c,d[k+1][f-1>>4]=0!==(d[e+(-p+b)%b][r>>4]&1<<(~r&15))?d[k+1][f-1>>4]|1<<(~(f-1)&15):d[k+1][f-1>>4]&~(1<<(~(f-
1)&15))))};qa.prototype.ni=function(){var a=this.fa,c=this.M,b=this.I;var d=this.T?-1:0;var f=Math.round((this.width-c)/2)+d,e=Math.round((this.height-b)/2)+d,g=f+c-1,k=e+b-1,l=this.Ad,p=this.Cd,n=this.Of,q=this.cg,m=this.A&&0<f&&g<this.width-1,r;if(0!==(this.counter&1)){d=this.Fa;var u=this.aa}else d=this.pa,u=this.X;for(r=0;r<c;r+=1){var t=f+r;var v=n?g-(r+l)%c:t;0!==(d[k][v>>4]&1<<(~v&15))&&(d[e-1][t>>4]|=1<<(~t&15),u[e-1>>4][t>>8]|=1<<(~(t>>4)&15),a[e-1>>4][t>>8]|=1<<(~(t>>4)&15),15===(e-1&15)&&
(u[(e-1>>4)+1][t>>8]|=1<<(~(t>>4)&15),a[(e-1>>4)+1][t>>8]|=1<<(~(t>>4)&15)));0!==(d[e][v>>4]&1<<(~v&15))&&(d[k+1][t>>4]|=1<<(~t&15),u[k+1>>4][t>>8]|=1<<(~(t>>4)&15),a[k+1>>4][t>>8]|=1<<(~(t>>4)&15),0===(k+1&15)&&(u[(k+1>>4)-1][t>>8]|=1<<(~(t>>4)&15),a[(k+1>>4)-1][t>>8]|=1<<(~(t>>4)&15)))}for(r=0;r<b;r+=1)v=e+r,t=q?k-(r+p)%b:v,0!==(d[t][f>>4]&1<<(~f&15))&&(d[v][g+1>>4]|=1<<(~(g+1)&15),u[v>>4][g+1>>8]|=1<<(~(g+1>>4)&15),a[v>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(u[v>>4][g-15>>8]|=1<<(~(g-15>>
4)&15),a[v>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),m&&(f+=1,g+=1,0!==(d[t][f>>4]&1<<(~f&15))&&(d[v][g+1>>4]|=1<<(~(g+1)&15),u[v>>4][g+1>>8]|=1<<(~(g+1>>4)&15),a[v>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(u[v>>4][g-15>>8]|=1<<(~(g-15>>4)&15),a[v>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),--f,--g),0!==(d[t][g>>4]&1<<(~g&15))&&(d[v][f-1>>4]|=1<<(~(f-1)&15),u[v>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[v>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(u[v>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[v>>4][f+15>>8]|=1<<(~(f+15>>
4)&15))),m&&(--f,--g,0!==(d[t][g>>4]&1<<(~g&15))&&(d[v][f-1>>4]|=1<<(~(f-1)&15),u[v>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[v>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(u[v>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[v>>4][f+15>>8]|=1<<(~(f+15>>4)&15))),f+=1,g+=1);0!==this.M&&0!==this.I&&(n?(v=g+l,t=k):(v=f,t=e-p),0!==(d[t][v>>4]&1<<(~v&15))&&(d[e-1][g+1>>4]|=1<<(~(g+1)&15)),n?(v=f+l,t=k):(v=g,t=e-p),0!==(d[t][v>>4]&1<<(~v&15))&&(d[e-1][f-1>>4]|=1<<(~(f-1)&15)),n?(v=g+l,t=e):(v=f,t=k+p),0!==(d[t][v>>4]&1<<(~v&
15))&&(d[k+1][g+1>>4]|=1<<(~(g+1)&15)),n?(v=f+l,t=e):(v=g,t=k+p),0!==(d[t][v>>4]&1<<(~v&15))&&(d[k+1][f-1>>4]|=1<<(~(f-1)&15)),m&&(f+=1,g+=1,v=n?g-(-l+c)%c:f+(-l+c)%c,0!==(d[q?k-(b-1+p+b)%b:e+(b-1+p+b)%b][v>>4]&1<<(~v&15))&&(d[e-1][g+1>>4]|=1<<(~(g+1)&15)),v=n?g-(c-1-l+c)%c:f+(c-1-l+c)%c,0!==(d[q?k-(b-1+p+b)%b:e+(b-1+p+b)%b][v>>4]&1<<(~v&15))&&(d[e-1][f-1>>4]|=1<<(~(f-1)&15)),v=n?g-(l+c)%c:f+(l+c)%c,0!==(d[q?k-(p+b)%b:e+(p+b)%b][v>>4]&1<<(~v&15))&&(d[k+1][g+1>>4]|=1<<(~(g+1)&15)),v=n?g-(c-1+l+c)%
c:f+(c-1+l+c)%c,0!==(d[q?k-(p+b)%b:e+(p+b)%b][v>>4]&1<<(~v&15))&&(d[k+1][f-1>>4]|=1<<(~(f-1)&15)),f-=2,g-=2,v=n?g-(-l+c)%c:f+(-l+c)%c,0!==(d[q?k-(b-1+p+b)%b:e+(b-1+p+b)%b][v>>4]&1<<(~v&15))&&(d[e-1][g+1>>4]|=1<<(~(g+1)&15)),v=n?g-(c-1-l+c)%c:f+(c-1-l+c)%c,0!==(d[q?k-(b-1+p+b)%b:e+(b-1+p+b)%b][v>>4]&1<<(~v&15))&&(d[e-1][f-1>>4]|=1<<(~(f-1)&15)),v=n?g-(l+c)%c:f+(l+c)%c,0!==(d[q?k-(p+b)%b:e+(p+b)%b][v>>4]&1<<(~v&15))&&(d[k+1][g+1>>4]|=1<<(~(g+1)&15)),v=n?g-(c-1+l+c)%c:f+(c-1+l+c)%c,0!==(d[q?k-(p+b)%
b:e+(p+b)%b][v>>4]&1<<(~v&15))&&(d[k+1][f-1>>4]|=1<<(~(f-1)&15))))};qa.prototype.mi=function(){var a=this.fa,c=this.M,b=this.I;var d=this.T?-1:0;var f=Math.round((this.width-c)/2)+d,e=Math.round((this.height-b)/2)+d,g=f+c-1,k=e+b-1,l=this.A&&0<f&&g<this.width-1,p;if(0!==(this.counter&1)){d=this.Fa;var n=this.aa}else d=this.pa,n=this.X;for(p=0;p<c;p+=1){var q=f+p;var m=g-p;0!==(d[k][q>>4]&1<<(~q&15))&&(d[e-1][m>>4]|=1<<(~m&15),n[e-1>>4][m>>8]|=1<<(~(m>>4)&15),a[e-1>>4][m>>8]|=1<<(~(m>>4)&15),15===
(e-1&15)&&(n[(e-1>>4)+1][m>>8]|=1<<(~(m>>4)&15),a[(e-1>>4)+1][m>>8]|=1<<(~(m>>4)&15)));0!==(d[e][q>>4]&1<<(~q&15))&&(d[k+1][m>>4]|=1<<(~m&15),n[k+1>>4][m>>8]|=1<<(~(m>>4)&15),a[k+1>>4][m>>8]|=1<<(~(m>>4)&15),0===(k+1&15)&&(n[(k+1>>4)-1][m>>8]|=1<<(~(m>>4)&15),a[(k+1>>4)-1][m>>8]|=1<<(~(m>>4)&15)))}for(p=0;p<b;p+=1)q=e+p,m=k-p,0!==(d[q][f>>4]&1<<(~f&15))&&(d[m][g+1>>4]|=1<<(~(g+1)&15),n[m>>4][g+1>>8]|=1<<(~(g+1>>4)&15),a[m>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(n[m>>4][g-15>>8]|=1<<(~(g-15>>
4)&15),a[m>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),l&&(f+=1,g+=1,0!==(d[q][f>>4]&1<<(~f&15))&&(d[m][g+1>>4]|=1<<(~(g+1)&15),n[m>>4][g+1>>8]|=1<<(~(g+1>>4)&15),a[m>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(n[m>>4][g-15>>8]|=1<<(~(g-15>>4)&15),a[m>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),--f,--g),0!==(d[q][g>>4]&1<<(~g&15))&&(d[m][f-1>>4]|=1<<(~(f-1)&15),n[m>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[m>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(n[m>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[m>>4][f+15>>8]|=1<<(~(f+15>>
4)&15))),l&&(--f,--g,0!==(d[q][g>>4]&1<<(~g&15))&&(d[m][f-1>>4]|=1<<(~(f-1)&15),n[m>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[m>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(n[m>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[m>>4][f+15>>8]|=1<<(~(f+15>>4)&15))),f+=1,g+=1);0!==this.M&&0!==this.I&&(0!==(d[k][f>>4]&1<<(~f&15))&&(d[k+1][f-1>>4]|=1<<(~(f-1)&15)),0!==(d[k][g>>4]&1<<(~g&15))&&(d[k+1][g+1>>4]|=1<<(~(g+1)&15)),0!==(d[e][f>>4]&1<<(~f&15))&&(d[e-1][f-1>>4]|=1<<(~(f-1)&15)),0!==(d[e][g>>4]&1<<(~g&15))&&(d[e-1][g+
1>>4]|=1<<(~(g+1)&15)),l&&(f+=1,g+=1,0!==(d[k][f>>4]&1<<(~f&15))&&(d[k+1][f-1>>4]|=1<<(~(f-1)&15)),0!==(d[k][g>>4]&1<<(~g&15))&&(d[k+1][g+1>>4]|=1<<(~(g+1)&15)),0!==(d[e][f>>4]&1<<(~f&15))&&(d[e-1][f-1>>4]|=1<<(~(f-1)&15)),0!==(d[e][g>>4]&1<<(~g&15))&&(d[e-1][g+1>>4]|=1<<(~(g+1)&15)),f-=2,g-=2,0!==(d[k][f>>4]&1<<(~f&15))&&(d[k+1][f-1>>4]|=1<<(~(f-1)&15)),0!==(d[k][g>>4]&1<<(~g&15))&&(d[k+1][g+1>>4]|=1<<(~(g+1)&15)),0!==(d[e][f>>4]&1<<(~f&15))&&(d[e-1][f-1>>4]|=1<<(~(f-1)&15)),0!==(d[e][g>>4]&1<<(~g&
15))&&(d[e-1][g+1>>4]|=1<<(~(g+1)&15))))};qa.prototype.oi=function(){var a=this.fa,c=this.M;var b=this.I;var d=this.T?-1:0,f=Math.round((this.width-c)/2)+d;d=Math.round((this.height-b)/2)+d;var e=f+c-1,g=d+b-1,k;if(0!==(this.counter&1)){b=this.Fa;var l=this.aa}else b=this.pa,l=this.X;if(this.Pf)for(k=0;k<c;k+=1){var p=d+k;var n=f+k;0!==(b[p][f>>4]&1<<(~f&15))&&(b[d-1][n>>4]|=1<<(~n&15),l[d-1>>4][n>>8]|=1<<(~(n>>4)&15),a[d-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(d-1&15)&&(l[(d-1>>4)+1][n>>8]|=1<<(~(n>>
4)&15),a[(d-1>>4)+1][n>>8]|=1<<(~(n>>4)&15)));0!==(b[p][e>>4]&1<<(~e&15))&&(b[g+1][n>>4]|=1<<(~n&15),l[g+1>>4][n>>8]|=1<<(~(n>>4)&15),a[g+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(g+1&15)&&(l[(g+1>>4)-1][n>>8]|=1<<(~(n>>4)&15),a[(g+1>>4)-1][n>>8]|=1<<(~(n>>4)&15)));0!==(b[d][n>>4]&1<<(~n&15))&&(b[p][f-1>>4]|=1<<(~(f-1)&15),l[p>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[p>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(l[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));0!==(b[g][n>>4]&1<<(~n&
15))&&(b[p][e+1>>4]|=1<<(~(e+1)&15),l[p>>4][e+1>>8]|=1<<(~(e+1>>4)&15),a[p>>4][e+1>>8]|=1<<(~(e+1>>4)&15),0===(e+1&15)&&(l[p>>4][e-15>>8]|=1<<(~(e-15>>4)&15),a[p>>4][e-15>>8]|=1<<(~(e-15>>4)&15)))}else for(k=0;k<c;k+=1)p=d+k,n=f+(c-k-1),0!==(b[p][e>>4]&1<<(~e&15))&&(b[d-1][n>>4]|=1<<(~n&15),l[d-1>>4][n>>8]|=1<<(~(n>>4)&15),a[d-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(d-1&15)&&(l[(d-1>>4)+1][n>>8]|=1<<(~(n>>4)&15),a[(d-1>>4)+1][n>>8]|=1<<(~(n>>4)&15))),0!==(b[p][f>>4]&1<<(~f&15))&&(b[g+1][n>>4]|=1<<(~n&
15),l[g+1>>4][n>>8]|=1<<(~(n>>4)&15),a[g+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(g+1&15)&&(l[(g+1>>4)-1][n>>8]|=1<<(~(n>>4)&15),a[(g+1>>4)-1][n>>8]|=1<<(~(n>>4)&15))),0!==(b[d][n>>4]&1<<(~n&15))&&(b[p][e+1>>4]|=1<<(~(e+1)&15),l[p>>4][e+1>>8]|=1<<(~(e+1>>4)&15),a[p>>4][e+1>>8]|=1<<(~(e+1>>4)&15),15===(e+1&15)&&(l[p>>4][e-15>>8]|=1<<(~(e-15>>4)&15),a[p>>4][e-15>>8]|=1<<(~(e-15>>4)&15))),0!==(b[g][n>>4]&1<<(~n&15))&&(b[p][f-1>>4]|=1<<(~(f-1)&15),l[p>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[p>>4][f-1>>8]|=1<<(~(f-
1>>4)&15),0===(f-1&15)&&(l[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));0!==(b[g][f>>4]&1<<(~f&15))&&(b[g+1][f-1>>4]|=1<<(~(f-1)&15));0!==(b[g][e>>4]&1<<(~e&15))&&(b[g+1][e+1>>4]|=1<<(~(e+1)&15));0!==(b[d][f>>4]&1<<(~f&15))&&(b[d-1][f-1>>4]|=1<<(~(f-1)&15));0!==(b[d][e>>4]&1<<(~e&15))&&(b[d-1][e+1>>4]|=1<<(~(e+1)&15))};qa.prototype.fm=function(){var a,c=1;0!==this.C&&(c=2);this.A&&(c+=1);for(a=1;a<=c+1;a+=1)this.vj(a);this.D&&this.wj();this.Qe&&this.el()};qa.prototype.Ll=
function(){var a=this.l,c=this.ta;(this.i||this.v||this.o)&&0!==(this.counter&1)&&(a=this.$);this.Rf(a,0);this.Hg();switch(this.C){case 1:this.i||this.v||this.o?(this.xm(a),this.o&&this.pi()):(this.pi(),this.D&&this.wm(c));break;case 2:this.i||this.v||this.o?(this.om(a),this.o&&this.ni()):(this.ni(),this.D&&this.nm(c));break;case 3:this.i||this.v||this.o?(this.im(a),this.o&&this.mi()):(this.mi(),this.D&&this.hm(c));break;case 4:this.i||this.v||this.o?(this.um(a),this.o&&this.oi()):(this.oi(),this.D&&
this.sm(c))}this.Hg()};qa.prototype.cd=function(a){this.Oh&&(this.Fe+=I.Mp,this.zh(a),this.Oh=!1)};qa.prototype.$c=function(){this.ea?this.counter+=1:this.qm()};qa.prototype.qm=function(){var a=this.m,c=this.Xa;this.Oh=this.counter===this.Fe-1?!0:!1;-1===this.C||this.Ga||this.Ll();this.Ab&&this.Yl();this.v?null===this.Nc?this.ek():this.Uj():this.i?this.Sj():this.Ga?this.P.Ea(this.counter):this.T?this.Qj():this.A?this.Bk():this.zk();this.counter+=1;if(this.T||this.i)this.xb?--this.gb:this.gb+=1,this.gb>
this.ee&&(this.ee=this.gb);-1===this.h||this.Ga||this.i||this.v||this.o||this.Oj();this.o&&this.rk();this.Ab&&this.Xl();-1===this.C||this.Ga||this.fm();if(this.width===this.L||this.height===this.L){var b=this.Ga?2*this.P.u:16;if(a.F<=b||a.J>=this.L-b||a.G<=b||a.K>=this.L-b)this.Ga?this.bl():this.v?this.il():this.Zk()}a.F<c.F&&(c.F=a.F);a.J>c.J&&(c.J=a.J);a.G<c.G&&(c.G=a.G);a.K>c.K&&(c.K=a.K)};qa.prototype.se=function(){var a=this.counter>>I.Ah,c=this.counter&(1<<I.Ah)-1;this.counter<I.ap&&(this.u>
this.yf&&(this.yf=this.u),this.za>this.lg&&(this.lg=this.za),this.ia>this.wf&&(this.wf=this.ia),this.Cc&&0<this.Cc.length&&(this.counter>=this.ef&&(Array.gm(this.Cc,"Life.popGraphData"),Array.gm(this.Se,"Life.birthGraphData"),Array.gm(this.$e,"Life.deathGraphData"),this.ef+=1<<I.Ah),this.Cc[a][c]=this.u,this.Se[a][c]=this.za,this.$e[a][c]=this.ia))};qa.prototype.fh=function(a,c,b,d,f,e,g,k){var l=1,p,n=(1<<I.Ah)-1,q=I.ap;var m=this.counter;m>q&&(m=q);m>b&&(l=b/m);if(k){a.strokeStyle=c;a.beginPath();
var r=d-g[0][0]/this.Zc*d|0;a.moveTo(e+.5,r+f+e+.5)}else a.fillStyle=c;g.length<<I.Ah<q&&(q=g.length<<I.Ah);var u=0;for(c=m=1;c<b;c+=1){if(m<q){var t=m>>I.Ah;r=m&n;var v=p=g[t][r];u+=l;for(m+=1;0===(u|0)&&m<q;)t=m>>I.Ah,r=m&n,t=g[t][r],m+=1,t>v&&(v=t),t<p&&(p=t),u+=l;--u}else v=p=0;c<=this.counter&&(t=e+1+c,r=d-p/this.Zc*d|0,k?(a.lineTo(t+.5,r+f+e+.5),p!==v&&(r=d-v/this.Zc*d|0,a.lineTo(t+.5,r+f+e+.5))):0<p&&0<v&&(p!==v&&(r=d-v/this.Zc*d|0),a.fillRect(t+.5,r+f+e+.5,1,1)))}k&&a.stroke()};qa.prototype.hg=
function(a,c,b,d,f){var e=this.ha,g=f.h.s,k=40*f.h.D,l=40*g,p=this.da-l,n=this.ba-k-l,q=this.counter,m="rgb("+this.Wc[0]+","+this.Wc[1]+","+this.Wc[2]+")",r="rgb("+this.Vc[0]+","+this.Vc[1]+","+this.Vc[2]+")",u="rgb("+this.Uc[0]+","+this.Uc[1]+","+this.Uc[2]+")",t="rgb("+this.Xc[0]+","+this.Xc[1]+","+this.Xc[2]+")",v="rgb("+this.Yc[0]+","+this.Yc[1]+","+this.Yc[2]+")";if(this.Cc&&0<this.Cc.length){b?(n=this.ba,k=0):d&&(n=this.ba,k=0,p=this.da,l=0);var x=p-l;q>I.ap&&(q=I.ap);this.Zc=0;-1===this.C&&
(f.Dh&&(this.Zc=this.lg),f.Hh&&this.wf>this.Zc&&(this.Zc=this.wf));f.Ih&&this.yf>this.Zc&&(this.Zc=this.yf);e.save();e.fillStyle=m;e.globalAlpha=c;e.fillRect(0,k,p+l,n);e.globalAlpha=1;b&&(n-=l);if(!d){e.font=(16*g|0)+"px Arial";e.textAlign="center";e.fillStyle=f.B.Vb;for(c=2;0<=c;c-=2)e.save(),e.translate(this.da/2,n+l/2-(6*g|0)),e.fillText("Generation",c,c),e.restore(),e.save(),e.translate(l/2+(6*g|0),this.ba/2),e.rotate(-90*Math.PI/180),320>this.ba?e.fillText("Pop",c,c):e.fillText("Population",
c,c),e.restore(),e.fillStyle=r;e.fillStyle=f.B.Vb;for(c=2;0<=c;c-=2)e.save(),e.translate(l-l/2+(6*g|0),k+l),e.rotate(-90*Math.PI/180),e.fillText(String(this.Zc),c,c),e.restore(),e.save(),e.translate(l-l/2+(6*g|0),n),e.rotate(-90*Math.PI/180),e.fillText("0",c,c),e.restore(),e.save(),e.translate(l,n+l/2-(6*g|0)),e.fillText("0",c,c),e.restore(),e.save(),e.translate(p,n+l/2-(6*g|0)),e.fillText(String(q>x?q:x|0),c,c),e.restore(),e.fillStyle=r}-1===this.C&&(f.Hh&&this.fh(e,v,x,n-k-l,k,l,this.$e,a),f.Dh&&
this.fh(e,t,x,n-k-l,k,l,this.Se,a));(-1!==this.C||f.Ih)&&this.fh(e,u,x,n-k-l,k,l,this.Cc,a);-1!==this.C||f.Hh||f.Dh||f.Ih||(e.save(),e.font=(24*g|0)+"px Arial",e.translate(this.da/2,this.ba/2),e.fillStyle=f.B.Vb,e.fillText("Select Data",2,2),e.fillStyle=r,e.fillText("Select Data",0,0),e.restore());e.strokeStyle=r;e.lineWidth=1;e.beginPath();e.moveTo(l+.5,k+l+.5);e.lineTo(l+.5,n+.5);e.lineTo(p+.5,n+.5);e.lineTo(p+.5,n+2.5);e.moveTo(l+.5,n+.5);e.lineTo(l+.5,n+2.5);e.moveTo(l+.5,n+.5);e.lineTo(l+.5-
2,n+.5);e.moveTo(l+.5,k+l+.5);e.lineTo(l+.5-2,k+l+.5);e.stroke();e.restore()}};qa.prototype.Eg=function(){var a=(1<<I.Ah)-1,c;if(this.Cc&&0<this.Cc.length){for(c=0;c<this.ef;c+=1){var b=c>>I.Ah;var d=c&a;this.Cc[b][d]=0;this.Se[b][d]=0;this.$e[b][d]=0}this.Cc[0][0]=this.u}this.yf=this.u;this.lg=this.za;this.wf=this.ia};qa.prototype.qg=function(){var a=this.m,c=this.Xa;c.F=a.F;c.J=a.J;c.K=a.K;c.G=a.G};qa.prototype.Yl=function(){var a,c,b,d,f=this.Ab,e=this.dd,g=this.Dc,k=this.bc,l=this.W,p=this.U>>
4,n;var q=0;var m=0!==(this.counter&1)?this.Fa:this.pa;for(a=0;a<l;a+=1){var r=0;var u=k[a];for(c=0;c<p;c+=1)if(n=u[c])for(b=15;0<=b;--b){if(0!==(n&1<<b))for(d=q;d<q+16;d+=1)e[d][r]=(m[d][r]|g[d][r])&f[d][r];r+=1}else r+=16;q+=16}};qa.prototype.Xl=function(){var a,c,b,d,f,e=this.Lb,g=this.dd,k=this.Dc,l=this.bc,p=this.W,n=this.U>>4,q;var m=0!==(this.counter&1)?this.Fa:this.pa;for(a=f=0;a<p;a+=1){var r=0;var u=l[a];for(c=0;c<n;c+=1)if(q=u[c])for(b=15;0<=b;--b){if(0!==(q&1<<b))for(d=f;d<f+16;d+=1){var t=
m[d][r];var v=t&~g[d][r];var x=t&~k[d][r];v!==t&&(m[d][r]=v,v=e[t]-e[v],t=e[t]-e[x],this.u-=v,this.za-=t,this.ia+=v-t)}r+=1}else r+=16;f+=16}};qa.prototype.eh=function(a,c,b,d){var f,e,g=this.Ue,k=0,l=this.vc[k],p=this.wc[k],n=0,q=I.Mn,m=q-1,r=0,u=q,t=this.kf,v=this.sa,x=this.qa,w=this.h+this.s-2,A=0;l[n]=a;p[n]=c;n+=1;-1===this.h&&(w=this.Ta);if(b[c][a>>4]&1<<(~a&15)){b[c][a>>4]&=~(1<<(~a&15));A+=1;if(this.o)switch(d[c][a]){case 3:case 4:w=4;break;case 7:case 8:w=8;break;case 9:w=10;break;case 11:w=
12;break;case 13:w=0;break;default:w=2}d[c][a]=w}for(;0<n;)for(--n,n<r&&(--k,r-=q,u-=q,l=this.vc[k],p=this.wc[k]),a=l[n&m],c=p[n&m],e=c-t;e<=c+t;){for(f=a-t;f<=a+t;){if(f===(f&v)&&e===(e&x)&&0!==(b[e][f>>4]&1<<(~f&15))){b[e][f>>4]&=~(1<<(~f&15));A+=1;if(this.o)switch(d[e][f]){case 3:case 4:w=4;break;case 7:case 8:w=8;break;case 9:w=10;break;case 11:w=12;break;case 13:w=0;break;default:w=2}d[e][f]=w;n===u&&(k+=1,r+=q,u+=q,k>g&&(this.vc[k]=this.N.h(na.ze,q,"Life.boundaryX"+k),this.wc[k]=this.N.h(na.ze,
q,"Life.boundaryY"+k),this.Ue=g+=1),l=this.vc[k],p=this.wc[k]);l[n&m]=f;p[n&m]=e;n+=1}f+=1}e+=1}this.u-=A;this.ia+=A};qa.prototype.ri=function(a,c,b,d){for(var f=b[c][a],e=15;0<=e;)0!==(f&1<<e)&&this.eh((a<<4)+(~e&15),c,b,d),--e};qa.prototype.ym=function(a,c,b){this.eh(0,a,c,b)};qa.prototype.Bm=function(a,c,b,d){this.eh((a<<4)+15,c,b,d)};qa.prototype.Zk=function(){var a=this.l,c;(this.i||this.v||this.o)&&0!==(this.counter&1)&&(a=this.$);var b=0!==(this.counter&1)?this.Fa:this.pa;var d=b.length;var f=
b[0].length;var e=b[0];var g=b[d-1];for(c=0;c<f;)e[c]&&this.ri(c,0,b,a),g[c]&&this.ri(c,d-1,b,a),c+=1;for(c=0;c<d;)0!==(b[c][0]&32768)&&this.ym(c,b,a),0!==(b[c][f-1]&1)&&this.Bm(f-1,c,b,a),c+=1};qa.prototype.pg=function(a,c){var b,d=this.l,f,e=this.Ue,g=0,k=this.vc[g],l=this.wc[g],p=0,n=I.Mn,q=n-1,m=0,r=n,u=this.sa,t=this.qa,v=this.kf,x=0;0!==(this.counter&1)&&(d=this.$);k[p]=a;l[p]=c;p+=1;0<d[c][a]&&(d[c][a]=0,x+=1);for(;0<p;)for(--p,p<m&&(--g,m-=n,r-=n,k=this.vc[g],l=this.wc[g]),a=k[p&q],c=l[p&
q],b=c-v;b<=c+v;){var w=a-v;for(f=d[b];w<=a+v;)w===(w&u)&&b===(b&t)&&0<f[w]&&(f[w]=0,x+=1,p===r&&(g+=1,m+=n,r+=n,g>e&&(this.vc[g]=this.N.h(na.ze,n,"Life.boundaryX"+g),this.wc[g]=this.N.h(na.ze,n,"Life.boundaryY"+g),this.Ue=e+=1),k=this.vc[g],l=this.wc[g]),k[p&q]=w,l[p&q]=b,p+=1),w+=1;b+=1}this.u-=x;this.ia+=x};qa.prototype.ng=function(a,c){var b,d=this.l,f,e=this.Ue,g=0,k=this.vc[g],l=this.wc[g],p=0,n=I.Mn,q=n-1,m=0,r=n,u=this.sa,t=this.qa,v=2<this.h?1:I.Ta,x=2<this.h?0:I.ie,w=this.kf,A=0;k[p]=a;
l[p]=c;p+=1;1===v?d[c][a]===v&&(d[c][a]=x,A+=1):d[c][a]>=v&&(d[c][a]=x,A+=1);for(;0<p;)for(--p,p<m&&(--g,m-=n,r-=n,k=this.vc[g],l=this.wc[g]),a=k[p&q],c=l[p&q],b=c-w;b<=c+w;){var C=a-w;for(f=d[b];C<=a+w;)C===(C&u)&&b===(b&t)&&(1===v&&f[C]===v||1<v&&f[C]>=v)&&(f[C]=x,A+=1,p===r&&(g+=1,m+=n,r+=n,g>e&&(this.vc[g]=this.N.h(na.ze,n,"Life.boundaryX"+g),this.wc[g]=this.N.h(na.ze,n,"Life.boundaryY"+g),this.Ue=e+=1),k=this.vc[g],l=this.wc[g]),k[p&q]=C,l[p&q]=b,p+=1),C+=1;b+=1}this.u-=A;this.ia+=A};qa.prototype.il=
function(){var a=this.l,c=a.length,b=a[0].length,d=this.m,f=d.F,e=d.J,g=d.G,k=d.K,l,p;0!==(this.counter&1)&&(a=this.$);if(1>=c-k){for(p=c-1;p<=k;p+=1){var n=a[p];for(l=f;l<=e;l+=1)0<n[l]&&this.pg(l,p)}d.K=c-1}if(1>=g){for(p=g;1>=p;p+=1)for(n=a[p],l=f;l<=e;l+=1)0<n[l]&&this.pg(l,p);d.G=1}if(1>=f){for(p=g;p<=k;p+=1)for(n=a[p],l=f;1>=l;l+=1)0<n[l]&&this.pg(l,p);d.F=1}if(1>=b-e){for(p=g;p<=k;p+=1)for(n=a[p],l=b-1;l<=e;l+=1)0<n[l]&&this.pg(l,p);d.J=b-1}};qa.prototype.bl=function(){var a=this.l,c=a.length,
b=a[0].length,d=this.m,f=d.F,e=d.J,g=d.G,k=d.K,l=2*this.P.u+1,p=2*this.P.s+1,n=2<this.h?1:I.Ta,q,m;if(c-k<=p){for(m=c-p;m<=k;m+=1){var r=a[m];for(q=f;q<=e;q+=1)r[q]>=n&&this.ng(q,m)}d.K=c-p}if(g<=p){for(m=g;m<=p;m+=1)for(r=a[m],q=f;q<=e;q+=1)r[q]>=n&&this.ng(q,m);d.G=p}if(f<=l){for(m=g;m<=k;m+=1)for(r=a[m],q=f;q<=l;q+=1)r[q]>=n&&this.ng(q,m);d.F=l}if(b-e<=l){for(m=g;m<=k;m+=1)for(r=a[m],q=b-l;q<=e;q+=1)r[q]>=n&&this.ng(q,m);d.J=b-l}};qa.prototype.Bk=function(){var a=this.uf,c,b,d,f,e,g=this.$a,k,
l=this.height,p=this.width,n=p>>4,q=this.m,m=l,r=-1,u=p,t=-1,v=this.W,x=this.U>>4,w=this.ib;var A=0;var C=v,z=this.Lb,H=0,E=0,J=0;if(0!==(this.counter&1)){var N=this.Fa;var L=this.pa;var D=this.aa;var G=this.X;this.Va&&(a=this.kg)}else N=this.pa,L=this.Fa,D=this.X,G=this.aa;g.fill(0);0>A&&(A=0);C>v&&(C=v);var F=A<<4;var W=F+16;G.cb.fill(0);for(b=A;b<C;b+=1){var va=0;var ma=D[b];var U=G[b];var oa=0<b?G[b-1]:w;var da=b<v-1?G[b+1]:w;for(d=0;d<x;d+=1)if(f=ma[d]){var ca=U[d];var ta=oa[d];var ha=da[d];
for(c=15;0<=c;--c){if(0!==(f&1<<c)){var pa=k=0;var fa=F;var la=0===fa?this.Oc:N[fa-1];var Aa=N[fa];A=N[fa+1];var ra=e=Aa[va];la=la[va-1]<<18|la[va]<<2|la[va+1]>>14;var ka=Aa[va-1]<<18|e<<2|Aa[va+1]>>14;var Z=A[va-1]<<18|A[va]<<2|A[va+1]>>14;var ea=a[la>>7&7936|Z>>11&224|ka>>15&31]<<15;ea|=a[Z>>6&7936|la>>10&224|ka>>14&31]<<14;ea|=a[la>>5&7936|Z>>9&224|ka>>13&31]<<13;ea|=a[Z>>4&7936|la>>8&224|ka>>12&31]<<12;ea|=a[la>>3&7936|Z>>7&224|ka>>11&31]<<11;ea|=a[Z>>2&7936|la>>6&224|ka>>10&31]<<10;ea|=a[la>>
1&7936|Z>>5&224|ka>>9&31]<<9;ea|=a[Z>>0&7936|la>>4&224|ka>>8&31]<<8;ea|=a[la<<1&7936|Z>>3&224|ka>>7&31]<<7;ea|=a[Z<<2&7936|la>>2&224|ka>>6&31]<<6;ea|=a[la<<3&7936|Z>>1&224|ka>>5&31]<<5;ea|=a[Z<<4&7936|la>>0&224|ka>>4&31]<<4;ea|=a[la<<5&7936|Z<<1&224|ka>>3&31]<<3;ea|=a[Z<<6&7936|la<<2&224|ka>>2&31]<<2;ea|=a[la<<7&7936|Z<<3&224|ka>>1&31]<<1;ea|=a[Z<<8&7936|la<<4&224|ka>>0&31]<<0;L[fa][va]=ea;H+=z[ea];E+=z[ea&~e];J+=z[e&~ea];ea&&(k|=ea,fa<m&&(m=fa),fa>r&&(r=fa),0!==(ea&49152)&&(pa|=I.tc),0!==(ea&3)&&
(pa|=I.uc),pa|=I.oc);for(fa+=1;fa<W-1;){e=A[va];ra|=e;A=N[fa+1];la=ka;ka=Z;Z=A[va-1]<<18|A[va]<<2|A[va+1]>>14;0!==(fa&1)&&(Aa=la,la=Z,Z=Aa);ea=a[la>>7&7936|Z>>11&224|ka>>15&31]<<15;ea|=a[Z>>6&7936|la>>10&224|ka>>14&31]<<14;ea|=a[la>>5&7936|Z>>9&224|ka>>13&31]<<13;ea|=a[Z>>4&7936|la>>8&224|ka>>12&31]<<12;ea|=a[la>>3&7936|Z>>7&224|ka>>11&31]<<11;ea|=a[Z>>2&7936|la>>6&224|ka>>10&31]<<10;ea|=a[la>>1&7936|Z>>5&224|ka>>9&31]<<9;ea|=a[Z>>0&7936|la>>4&224|ka>>8&31]<<8;ea|=a[la<<1&7936|Z>>3&224|ka>>7&31]<<
7;ea|=a[Z<<2&7936|la>>2&224|ka>>6&31]<<6;ea|=a[la<<3&7936|Z>>1&224|ka>>5&31]<<5;ea|=a[Z<<4&7936|la>>0&224|ka>>4&31]<<4;ea|=a[la<<5&7936|Z<<1&224|ka>>3&31]<<3;ea|=a[Z<<6&7936|la<<2&224|ka>>2&31]<<2;ea|=a[la<<7&7936|Z<<3&224|ka>>1&31]<<1;ea|=a[Z<<8&7936|la<<4&224|ka>>0&31]<<0;H+=z[ea];E+=z[ea&~e];J+=z[e&~ea];0!==(fa&1)&&(Z=Aa=la);if(L[fa][va]=ea)k|=ea,fa<m&&(m=fa),fa>r&&(r=fa);fa+=1}e=A[va];ra|=e;A=fa===this.height-1?this.Oc:N[fa+1];la=ka;ka=Z;Z=A[va-1]<<18|A[va]<<2|A[va+1]>>14;0!==(fa&1)&&(Aa=la,la=
Z,Z=Aa);ea=a[la>>7&7936|Z>>11&224|ka>>15&31]<<15;ea|=a[Z>>6&7936|la>>10&224|ka>>14&31]<<14;ea|=a[la>>5&7936|Z>>9&224|ka>>13&31]<<13;ea|=a[Z>>4&7936|la>>8&224|ka>>12&31]<<12;ea|=a[la>>3&7936|Z>>7&224|ka>>11&31]<<11;ea|=a[Z>>2&7936|la>>6&224|ka>>10&31]<<10;ea|=a[la>>1&7936|Z>>5&224|ka>>9&31]<<9;ea|=a[Z>>0&7936|la>>4&224|ka>>8&31]<<8;ea|=a[la<<1&7936|Z>>3&224|ka>>7&31]<<7;ea|=a[Z<<2&7936|la>>2&224|ka>>6&31]<<6;ea|=a[la<<3&7936|Z>>1&224|ka>>5&31]<<5;ea|=a[Z<<4&7936|la>>0&224|ka>>4&31]<<4;ea|=a[la<<5&
7936|Z<<1&224|ka>>3&31]<<3;ea|=a[Z<<6&7936|la<<2&224|ka>>2&31]<<2;ea|=a[la<<7&7936|Z<<3&224|ka>>1&31]<<1;ea|=a[Z<<8&7936|la<<4&224|ka>>0&31]<<0;H+=z[ea];E+=z[ea&~e];J+=z[e&~ea];if(L[fa][va]=ea)k|=ea,fa<m&&(m=fa),fa>r&&(r=fa),0!==(ea&49152)&&(pa|=I.zc),0!==(ea&3)&&(pa|=I.ic),pa|=I.jc;k&&(0!==(k&49152)&&(pa|=I.hc),0!==(k&3)&&(pa|=I.Xb));g[va]|=k;if(k||ra)ca|=1<<c,pa&&(0!==(pa&I.hc)&&(15>c?ca|=1<<c+1:0<d&&0<va&&(U[d-1]|=1)),0!==(pa&I.Xb)&&(0<c?ca|=1<<c-1:d<x-1&&va<n-1&&(U[d+1]|=32768)),0!==(pa&I.oc)&&
(ta|=1<<c),0!==(pa&I.jc)&&(ha|=1<<c),0!==(pa&I.tc)&&(15>c?ta|=1<<c+1:0<d&&0<va&&(oa[d-1]|=1)),0!==(pa&I.uc)&&(0<c?ta|=1<<c-1:d<x-1&&va<n-1&&(oa[d+1]|=32768)),0!==(pa&I.zc)&&(15>c?ha|=1<<c+1:0<d&&0<va&&(da[d-1]|=1)),0!==(pa&I.ic)&&(0<c?ha|=1<<c-1:d<x-1&&va<n-1&&(da[d+1]|=32768)))}va+=1}U[d]|=ca;0<b&&(oa[d]|=ta);b<v-1&&(da[d]|=ha)}else va+=16;F+=16;W+=16}for(d=0;d<n;d+=1)g[d]&&(d<u&&(u=d),d>t&&(t=d));u=(u<<4)+this.Ca(g[u]);t=(t<<4)+this.Da(g[t]);0>r&&(r=l-1);m>=l&&(m=0);u>=p&&(u=0);0>t&&(t=p-1);r>l-
1&&(r=l-1);0>m&&(m=0);0>u&&(u=0);t>p-1&&(t=p-1);q.K=r;q.G=m;q.F=u;q.J=t;w.fill(0);this.u=H;this.za=E;this.ia=J};qa.prototype.Qj=function(){var a=this.Jd,c,b,d,f,e=this.$a,g,k=this.height,l=this.width,p=l>>4,n=this.m,q=k,m=-1,r=l,u=-1,t=this.W,v=this.U>>4,x=this.ib,w=this.Lb,A=0,C=0,z=0,H=this.counter&1;this.Ya&&(this.xb=!this.xb,this.Ya=!1);if(0!==H){var E=this.Fa;var J=this.pa;var N=this.aa;var L=this.X;this.xb&&(a=this.Ua)}else E=this.pa,J=this.Fa,N=this.X,L=this.aa,this.Va&&(a=this.Ee),this.xb&&
(a=this.Va?this.Md:this.Ua);this.xb&&(H=1-H);e.fill(0);var D=1-H;var G=D+16;L.cb.fill(0);for(b=0;b<N.length;b+=1){var F=0;var W=N[b];var va=L[b];var ma=0<b?L[b-1]:x;var U=b<t-1?L[b+1]:x;for(d=0;d<v;d+=1)if(f=W[d]){var oa=va[d];var da=ma[d];var ca=U[d];for(c=15;0<=c;--c){var ta=0===c&&d===v-1?!0:!1;if(0!==(f&1<<c)){var ha=g=0;if(0!==H){var pa=D;var fa=E[pa][F];var la=E[pa+1][F];var Aa=fa|la;var ra=a[fa&65280|la>>8];var ka=ra&65280;var Z=(ra&255)<<8;ra=a[(fa&255)<<8|la&255];ka|=ra>>8;Z|=ra&255;J[pa][F]=
ka;J[pa+1][F]=Z;A+=w[ka];C+=w[ka&~fa];z+=w[fa&~ka];A+=w[Z];C+=w[Z&~la];z+=w[la&~Z];if(ra=ka|Z)g|=ra,ka&&(pa<q&&(q=pa),pa>m&&(m=pa)),Z&&(pa+1<q&&(q=pa+1),pa+1>m&&(m=pa+1)),0!==(ra&49152)&&(ha|=I.tc),0!==(ra&3)&&(ha|=I.uc),ha|=I.oc;for(pa+=2;pa<G-2;){fa=E[pa][F];la=E[pa+1][F];Aa|=fa|la;ra=a[fa&65280|la>>8];ka=ra&65280;Z=(ra&255)<<8;ra=a[(fa&255)<<8|la&255];ka|=ra>>8;Z|=ra&255;J[pa][F]=ka;J[pa+1][F]=Z;A+=w[ka];C+=w[ka&~fa];z+=w[fa&~ka];A+=w[Z];C+=w[Z&~la];z+=w[la&~Z];if(ra=ka|Z)g|=ra,ka&&(pa<q&&(q=pa),
pa>m&&(m=pa)),Z&&(pa+1<q&&(q=pa+1),pa+1>m&&(m=pa+1));pa+=2}fa=E[pa][F];la=E[pa+1][F];Aa|=fa|la;ra=a[fa&65280|la>>8];ka=ra&65280;Z=(ra&255)<<8;ra=a[(fa&255)<<8|la&255];ka|=ra>>8;Z|=ra&255;J[pa][F]=ka;J[pa+1][F]=Z;A+=w[ka];C+=w[ka&~fa];z+=w[fa&~ka];A+=w[Z];C+=w[Z&~la];z+=w[la&~Z];if(ra=ka|Z)g|=ra,ka&&(pa<q&&(q=pa),pa>m&&(m=pa)),Z&&(pa+1<q&&(q=pa+1),pa+1>m&&(m=pa+1)),ra&&(0!==(ra&49152)&&(ha|=I.zc),0!==(ra&3)&&(ha|=I.ic),ha|=I.jc);g&&(0!==(g&49152)&&(ha|=I.hc),0!==(g&3)&&(ha|=I.Xb),e[F]|=g);if(g||Aa)ha|=
I.ic,ha|=I.Xb}else{pa=D;ta?(fa=E[pa][F]<<1&65535,la=E[pa+1][F]<<1&65535):(fa=(E[pa][F]<<1|E[pa][F+1]>>15)&65535,la=(E[pa+1][F]<<1|E[pa+1][F+1]>>15)&65535);Aa=fa|la;ra=a[fa&65280|la>>8];ka=ra&65280;Z=(ra&255)<<8;ra=a[(fa&255)<<8|la&255];ka|=ra>>8;Z|=ra&255;ta?(J[pa][F]=J[pa][F]&32768|ka>>1,J[pa+1][F]=J[pa+1][F]&32768|Z>>1):(J[pa][F]=J[pa][F]&32768|ka>>1,J[pa][F+1]=J[pa][F+1]&32767|(ka&1)<<15,J[pa+1][F]=J[pa+1][F]&32768|Z>>1,J[pa+1][F+1]=J[pa+1][F+1]&32767|(Z&1)<<15);A+=w[ka];C+=w[ka&~fa];z+=w[fa&~ka];
A+=w[Z];C+=w[Z&~la];z+=w[la&~Z];if(ra=ka|Z)g|=ra,ka&&(pa<q&&(q=pa),pa>m&&(m=pa)),Z&&(pa+1<q&&(q=pa+1),pa+1>m&&(m=pa+1));for(pa+=2;pa<G-2;){ta?(fa=E[pa][F]<<1&65535,la=E[pa+1][F]<<1&65535):(fa=(E[pa][F]<<1|E[pa][F+1]>>15)&65535,la=(E[pa+1][F]<<1|E[pa+1][F+1]>>15)&65535);Aa|=fa|la;ra=a[fa&65280|la>>8];ka=ra&65280;Z=(ra&255)<<8;ra=a[(fa&255)<<8|la&255];ka|=ra>>8;Z|=ra&255;ta?(J[pa][F]=J[pa][F]&32768|ka>>1,J[pa+1][F]=J[pa+1][F]&32768|Z>>1):(J[pa][F]=J[pa][F]&32768|ka>>1,J[pa][F+1]=J[pa][F+1]&32767|(ka&
1)<<15,J[pa+1][F]=J[pa+1][F]&32768|Z>>1,J[pa+1][F+1]=J[pa+1][F+1]&32767|(Z&1)<<15);A+=w[ka];C+=w[ka&~fa];z+=w[fa&~ka];A+=w[Z];C+=w[Z&~la];z+=w[la&~Z];if(ra=ka|Z)g|=ra,ka&&(pa<q&&(q=pa),pa>m&&(m=pa)),Z&&(pa+1<q&&(q=pa+1),pa+1>m&&(m=pa+1));pa+=2}ta?(fa=E[pa][F]<<1&65535,la=E[pa+1][F]<<1&65535):(fa=(E[pa][F]<<1|E[pa][F+1]>>15)&65535,la=(E[pa+1][F]<<1|E[pa+1][F+1]>>15)&65535);Aa|=fa|la;ra=a[fa&65280|la>>8];ka=ra&65280;Z=(ra&255)<<8;ra=a[(fa&255)<<8|la&255];ka|=ra>>8;Z|=ra&255;ta?(J[pa][F]=J[pa][F]&32768|
ka>>1,J[pa+1][F]=J[pa+1][F]&32768|Z>>1):(J[pa][F]=J[pa][F]&32768|ka>>1,J[pa][F+1]=J[pa][F+1]&32767|(ka&1)<<15,J[pa+1][F]=J[pa+1][F]&32768|Z>>1,J[pa+1][F+1]=J[pa+1][F+1]&32767|(Z&1)<<15);A+=w[ka];C+=w[ka&~fa];z+=w[fa&~ka];A+=w[Z];C+=w[Z&~la];z+=w[la&~Z];if(ra=ka|Z)g|=ra,ka&&(pa<q&&(q=pa),pa>m&&(m=pa)),Z&&(pa+1<q&&(q=pa+1),pa+1>m&&(m=pa+1)),0!==(ra&3)&&(ha|=I.ic),ha|=I.jc;fa|la&&(0!==((fa|la)&3)&&(ha|=I.ic),ha|=I.jc);g&&(0!==(g&3)&&(ha|=I.Xb),e[F]|=g>>1,e[F+1]|=(g&1)<<15);0!==(Aa&3)&&(ha|=I.Xb)}if(g||
Aa)oa|=1<<c,ha&&(0!==(ha&I.hc)&&(15>c?oa|=1<<c+1:0<d&&0<F&&(va[d-1]|=1)),0!==(ha&I.Xb)&&(0<c?oa|=1<<c-1:d<v-1&&F<p-1&&(va[d+1]|=32768)),0!==(ha&I.oc)&&(da|=1<<c),0!==(ha&I.jc)&&(ca|=1<<c),0!==(ha&I.tc)&&(15>c?da|=1<<c+1:0<d&&0<F&&(ma[d-1]|=1)),0!==(ha&I.uc)&&(0<c?da|=1<<c-1:d<v-1&&F<p-1&&(ma[d+1]|=32768)),0!==(ha&I.zc)&&(15>c?ca|=1<<c+1:0<d&&0<F&&(U[d-1]|=1)),0!==(ha&I.ic)&&(0<c?ca|=1<<c-1:d<v-1&&F<p-1&&(U[d+1]|=32768)))}F+=1}va[d]|=oa;0<b&&(ma[d]|=da);b<t-1&&(U[d]|=ca)}else F+=16;D+=16;G+=16;G>=
k&&(G=k-1)}for(d=0;d<p;d+=1)e[d]&&(d<r&&(r=d),d>u&&(u=d));r=(r<<4)+this.Ca(e[r]);u=(u<<4)+this.Da(e[u]);0>m&&(m=k-1);q>=k&&(q=0);r>=l&&(r=0);0>u&&(u=l-1);m>k-1&&(m=k-1);0>q&&(q=0);0>r&&(r=0);u>l-1&&(u=l-1);n.K=m;n.G=q;n.F=r;n.J=u;x.fill(0);this.u=A;this.za=C;this.ia=z};qa.prototype.zk=function(){var a=this.tf,c,b,d,f,e,g,k=this.$a,l,p=this.Ib,n,q=this.Lb,m=0,r=0,u=0,t=this.height,v=this.width,x=v>>4,w=this.m,A=t,C=-1,z=v,H=-1,E=this.W,J=this.U>>4,N=this.ib,L=this.M,D=this.I,G=Math.round((this.width-
L)/2),F=Math.round((this.height-D)/2),W=G+L-1,va=F+D-1;if(0!==(this.counter&1)){var ma=this.Fa;var U=this.pa;var oa=this.aa;var da=this.X;this.Va&&(a=this.af)}else ma=this.pa,U=this.Fa,oa=this.X,da=this.aa;k.fill(0);p.fill(0);var ca=0;var ta=ca+16;da.cb.fill(0);for(d=0;d<oa.length;d+=1){var ha=0;var pa=oa[d];var fa=da[d];var la=0<d?da[d-1]:N;var Aa=d<E-1?da[d+1]:N;for(f=0;f<J;f+=1)if(e=pa[f]){var ra=fa[f];var ka=la[f];var Z=Aa[f];for(c=15;0<=c;--c){if(0!==(e&1<<c)){var ea=n=l=0;var V=ca;var ya=32768;
var R=0===V?this.Oc:ma[V-1];var M=ma[V];var O=ma[V+1];var ia=g=M[ha];if(ha)if(ha>=x-1){R=(R[ha-1]&1)<<17|R[ha]<<1;M=(M[ha-1]&1)<<17|g<<1;var T=(O[ha-1]&1)<<17|O[ha]<<1;if(b=R|M|T)if(b=a[R>>12|M>>12<<6|T&258048]<<12,b|=a[R>>8&63|M>>2&4032|T<<4&258048]<<8,b|=a[R>>4&63|M<<2&4032|T<<8&258048]<<4,b|=a[R&63|(M&63)<<6|(T&63)<<12])l|=b,n|=ya,m+=q[b],0!==(b&32768)&&(ea|=I.tc),ea|=I.oc;U[V][ha]=b;b|g&&(r+=q[b&~g],u+=q[g&~b]);V+=1;for(ya>>=1;V<ta-1;){g=O[ha];ia|=g;O=ma[V+1];R=M;M=T;T=(O[ha-1]&1)<<17|O[ha]<<
1;if(b=R|M|T)if(b=a[R>>12|M>>12<<6|T&258048]<<12,b|=a[R>>8&63|M>>2&4032|T<<4&258048]<<8,b|=a[R>>4&63|M<<2&4032|T<<8&258048]<<4,b|=a[R&63|(M&63)<<6|(T&63)<<12])l|=b,n|=ya,m+=q[b];U[V][ha]=b;b|g&&(r+=q[b&~g],u+=q[g&~b]);V+=1;ya>>=1}g=O[ha];ia|=g;O=V===this.height-1?this.Oc:ma[V+1];R=M;M=T;T=(O[ha-1]&1)<<17|O[ha]<<1;if(b=R|M|T)if(b=a[R>>12|M>>12<<6|T&258048]<<12,b|=a[R>>8&63|M>>2&4032|T<<4&258048]<<8,b|=a[R>>4&63|M<<2&4032|T<<8&258048]<<4,b|=a[R&63|(M&63)<<6|(T&63)<<12])l|=b,n|=ya,m+=q[b],0!==(b&32768)&&
(ea|=I.zc),ea|=I.jc}else{R=(R[ha-1]&1)<<17|R[ha]<<1|R[ha+1]>>15;M=(M[ha-1]&1)<<17|g<<1|M[ha+1]>>15;T=(O[ha-1]&1)<<17|O[ha]<<1|O[ha+1]>>15;if(b=R|M|T)if(b=a[R>>12|M>>12<<6|T&258048]<<12,b|=a[R>>8&63|M>>2&4032|T<<4&258048]<<8,b|=a[R>>4&63|M<<2&4032|T<<8&258048]<<4,b|=a[R&63|(M&63)<<6|(T&63)<<12])l|=b,n|=ya,m+=q[b],0!==(b&32768)&&(ea|=I.tc),0!==(b&1)&&(ea|=I.uc),ea|=I.oc;U[V][ha]=b;b|g&&(r+=q[b&~g],u+=q[g&~b]);V+=1;ya>>=1;g=O[ha];ia|=g;O=ma[V+1];R=M;M=T;T=(O[ha-1]&1)<<17|O[ha]<<1|O[ha+1]>>15;if(b=R|
M|T)if(b=a[R>>12|M>>12<<6|T&258048]<<12,b|=a[R>>8&63|M>>2&4032|T<<4&258048]<<8,b|=a[R>>4&63|M<<2&4032|T<<8&258048]<<4,b|=a[R&63|(M&63)<<6|(T&63)<<12])l|=b,n|=ya,m+=q[b];U[V][ha]=b;b|g&&(r+=q[b&~g],u+=q[g&~b]);V+=1;ya>>=1;g=O[ha];ia|=g;O=ma[V+1];R=M;M=T;T=(O[ha-1]&1)<<17|O[ha]<<1|O[ha+1]>>15;if(b=R|M|T)if(b=a[R>>12|M>>12<<6|T&258048]<<12,b|=a[R>>8&63|M>>2&4032|T<<4&258048]<<8,b|=a[R>>4&63|M<<2&4032|T<<8&258048]<<4,b|=a[R&63|(M&63)<<6|(T&63)<<12])l|=b,n|=ya,m+=q[b];U[V][ha]=b;b|g&&(r+=q[b&~g],u+=q[g&
~b]);V+=1;ya>>=1;g=O[ha];ia|=g;O=ma[V+1];R=M;M=T;T=(O[ha-1]&1)<<17|O[ha]<<1|O[ha+1]>>15;if(b=R|M|T)if(b=a[R>>12|M>>12<<6|T&258048]<<12,b|=a[R>>8&63|M>>2&4032|T<<4&258048]<<8,b|=a[R>>4&63|M<<2&4032|T<<8&258048]<<4,b|=a[R&63|(M&63)<<6|(T&63)<<12])l|=b,n|=ya,m+=q[b];U[V][ha]=b;b|g&&(r+=q[b&~g],u+=q[g&~b]);V+=1;ya>>=1;g=O[ha];ia|=g;O=ma[V+1];R=M;M=T;T=(O[ha-1]&1)<<17|O[ha]<<1|O[ha+1]>>15;if(b=R|M|T)if(b=a[R>>12|M>>12<<6|T&258048]<<12,b|=a[R>>8&63|M>>2&4032|T<<4&258048]<<8,b|=a[R>>4&63|M<<2&4032|T<<8&
258048]<<4,b|=a[R&63|(M&63)<<6|(T&63)<<12])l|=b,n|=ya,m+=q[b];U[V][ha]=b;b|g&&(r+=q[b&~g],u+=q[g&~b]);V+=1;ya>>=1;g=O[ha];ia|=g;O=ma[V+1];R=M;M=T;T=(O[ha-1]&1)<<17|O[ha]<<1|O[ha+1]>>15;if(b=R|M|T)if(b=a[R>>12|M>>12<<6|T&258048]<<12,b|=a[R>>8&63|M>>2&4032|T<<4&258048]<<8,b|=a[R>>4&63|M<<2&4032|T<<8&258048]<<4,b|=a[R&63|(M&63)<<6|(T&63)<<12])l|=b,n|=ya,m+=q[b];U[V][ha]=b;b|g&&(r+=q[b&~g],u+=q[g&~b]);V+=1;ya>>=1;g=O[ha];ia|=g;O=ma[V+1];R=M;M=T;T=(O[ha-1]&1)<<17|O[ha]<<1|O[ha+1]>>15;if(b=R|M|T)if(b=a[R>>
12|M>>12<<6|T&258048]<<12,b|=a[R>>8&63|M>>2&4032|T<<4&258048]<<8,b|=a[R>>4&63|M<<2&4032|T<<8&258048]<<4,b|=a[R&63|(M&63)<<6|(T&63)<<12])l|=b,n|=ya,m+=q[b];U[V][ha]=b;b|g&&(r+=q[b&~g],u+=q[g&~b]);V+=1;ya>>=1;g=O[ha];ia|=g;O=ma[V+1];R=M;M=T;T=(O[ha-1]&1)<<17|O[ha]<<1|O[ha+1]>>15;if(b=R|M|T)if(b=a[R>>12|M>>12<<6|T&258048]<<12,b|=a[R>>8&63|M>>2&4032|T<<4&258048]<<8,b|=a[R>>4&63|M<<2&4032|T<<8&258048]<<4,b|=a[R&63|(M&63)<<6|(T&63)<<12])l|=b,n|=ya,m+=q[b];U[V][ha]=b;b|g&&(r+=q[b&~g],u+=q[g&~b]);V+=1;ya>>=
1;g=O[ha];ia|=g;O=ma[V+1];R=M;M=T;T=(O[ha-1]&1)<<17|O[ha]<<1|O[ha+1]>>15;if(b=R|M|T)if(b=a[R>>12|M>>12<<6|T&258048]<<12,b|=a[R>>8&63|M>>2&4032|T<<4&258048]<<8,b|=a[R>>4&63|M<<2&4032|T<<8&258048]<<4,b|=a[R&63|(M&63)<<6|(T&63)<<12])l|=b,n|=ya,m+=q[b];U[V][ha]=b;b|g&&(r+=q[b&~g],u+=q[g&~b]);V+=1;ya>>=1;g=O[ha];ia|=g;O=ma[V+1];R=M;M=T;T=(O[ha-1]&1)<<17|O[ha]<<1|O[ha+1]>>15;if(b=R|M|T)if(b=a[R>>12|M>>12<<6|T&258048]<<12,b|=a[R>>8&63|M>>2&4032|T<<4&258048]<<8,b|=a[R>>4&63|M<<2&4032|T<<8&258048]<<4,b|=a[R&
63|(M&63)<<6|(T&63)<<12])l|=b,n|=ya,m+=q[b];U[V][ha]=b;b|g&&(r+=q[b&~g],u+=q[g&~b]);V+=1;ya>>=1;g=O[ha];ia|=g;O=ma[V+1];R=M;M=T;T=(O[ha-1]&1)<<17|O[ha]<<1|O[ha+1]>>15;if(b=R|M|T)if(b=a[R>>12|M>>12<<6|T&258048]<<12,b|=a[R>>8&63|M>>2&4032|T<<4&258048]<<8,b|=a[R>>4&63|M<<2&4032|T<<8&258048]<<4,b|=a[R&63|(M&63)<<6|(T&63)<<12])l|=b,n|=ya,m+=q[b];U[V][ha]=b;b|g&&(r+=q[b&~g],u+=q[g&~b]);V+=1;ya>>=1;g=O[ha];ia|=g;O=ma[V+1];R=M;M=T;T=(O[ha-1]&1)<<17|O[ha]<<1|O[ha+1]>>15;if(b=R|M|T)if(b=a[R>>12|M>>12<<6|T&
258048]<<12,b|=a[R>>8&63|M>>2&4032|T<<4&258048]<<8,b|=a[R>>4&63|M<<2&4032|T<<8&258048]<<4,b|=a[R&63|(M&63)<<6|(T&63)<<12])l|=b,n|=ya,m+=q[b];U[V][ha]=b;b|g&&(r+=q[b&~g],u+=q[g&~b]);V+=1;ya>>=1;g=O[ha];ia|=g;O=ma[V+1];R=M;M=T;T=(O[ha-1]&1)<<17|O[ha]<<1|O[ha+1]>>15;if(b=R|M|T)if(b=a[R>>12|M>>12<<6|T&258048]<<12,b|=a[R>>8&63|M>>2&4032|T<<4&258048]<<8,b|=a[R>>4&63|M<<2&4032|T<<8&258048]<<4,b|=a[R&63|(M&63)<<6|(T&63)<<12])l|=b,n|=ya,m+=q[b];U[V][ha]=b;b|g&&(r+=q[b&~g],u+=q[g&~b]);V+=1;ya>>=1;g=O[ha];ia|=
g;O=ma[V+1];R=M;M=T;T=(O[ha-1]&1)<<17|O[ha]<<1|O[ha+1]>>15;if(b=R|M|T)if(b=a[R>>12|M>>12<<6|T&258048]<<12,b|=a[R>>8&63|M>>2&4032|T<<4&258048]<<8,b|=a[R>>4&63|M<<2&4032|T<<8&258048]<<4,b|=a[R&63|(M&63)<<6|(T&63)<<12])l|=b,n|=ya,m+=q[b];U[V][ha]=b;b|g&&(r+=q[b&~g],u+=q[g&~b]);V+=1;ya>>=1;g=O[ha];ia|=g;O=ma[V+1];R=M;M=T;T=(O[ha-1]&1)<<17|O[ha]<<1|O[ha+1]>>15;if(b=R|M|T)if(b=a[R>>12|M>>12<<6|T&258048]<<12,b|=a[R>>8&63|M>>2&4032|T<<4&258048]<<8,b|=a[R>>4&63|M<<2&4032|T<<8&258048]<<4,b|=a[R&63|(M&63)<<
6|(T&63)<<12])l|=b,n|=ya,m+=q[b];U[V][ha]=b;b|g&&(r+=q[b&~g],u+=q[g&~b]);V+=1;ya>>=1;g=O[ha];ia|=g;O=V===this.height-1?this.Oc:ma[V+1];R=M;M=T;T=(O[ha-1]&1)<<17|O[ha]<<1|O[ha+1]>>15;if(b=R|M|T)if(b=a[R>>12|M>>12<<6|T&258048]<<12,b|=a[R>>8&63|M>>2&4032|T<<4&258048]<<8,b|=a[R>>4&63|M<<2&4032|T<<8&258048]<<4,b|=a[R&63|(M&63)<<6|(T&63)<<12])l|=b,n|=ya,m+=q[b],0!==(b&32768)&&(ea|=I.zc),0!==(b&1)&&(ea|=I.ic),ea|=I.jc}else{R=R[ha]<<1|R[ha+1]>>15;M=g<<1|M[ha+1]>>15;T=O[ha]<<1|O[ha+1]>>15;if(b=R|M|T)if(b=
a[R>>12|M>>12<<6|T&258048]<<12,b|=a[R>>8&63|M>>2&4032|T<<4&258048]<<8,b|=a[R>>4&63|M<<2&4032|T<<8&258048]<<4,b|=a[R&63|(M&63)<<6|(T&63)<<12])l|=b,n|=ya,0!==(b&1)&&(ea|=I.uc),ea|=I.oc,m+=q[b];U[V][ha]=b;b|g&&(r+=q[b&~g],u+=q[g&~b]);V+=1;for(ya>>=1;V<ta-1;){g=O[ha];ia|=g;O=ma[V+1];R=M;M=T;T=O[ha]<<1|O[ha+1]>>15;if(b=R|M|T)if(b=a[R>>12|M>>12<<6|T&258048]<<12,b|=a[R>>8&63|M>>2&4032|T<<4&258048]<<8,b|=a[R>>4&63|M<<2&4032|T<<8&258048]<<4,b|=a[R&63|(M&63)<<6|(T&63)<<12])l|=b,n|=ya,m+=q[b];U[V][ha]=b;b|g&&
(r+=q[b&~g],u+=q[g&~b]);V+=1;ya>>=1}g=O[ha];ia|=g;O=V===this.height-1?this.Oc:ma[V+1];R=M;M=T;T=O[ha]<<1|O[ha+1]>>15;if(b=R|M|T)if(b=a[R>>12|M>>12<<6|T&258048]<<12,b|=a[R>>8&63|M>>2&4032|T<<4&258048]<<8,b|=a[R>>4&63|M<<2&4032|T<<8&258048]<<4,b|=a[R&63|(M&63)<<6|(T&63)<<12])l|=b,n|=ya,m+=q[b],0!==(b&1)&&(ea|=I.ic),ea|=I.jc}U[V][ha]=b;b|g&&(r+=q[b&~g],u+=q[g&~b]);l&&(0!==(l&32768)&&(ea|=I.hc),0!==(l&1)&&(ea|=I.Xb));k[ha]|=l;if(l||ia)ra|=1<<c,ea&&(0!==(ea&I.hc)&&(15>c?ra|=1<<c+1:0<f&&0<ha&&(fa[f-1]|=
1)),0!==(ea&I.Xb)&&(0<c?ra|=1<<c-1:f<J-1&&ha<x-1&&(fa[f+1]|=32768)),0!==(ea&I.oc)&&(ka|=1<<c),0!==(ea&I.jc)&&(Z|=1<<c),0!==(ea&I.tc)&&(15>c?ka|=1<<c+1:0<f&&0<ha&&(la[f-1]|=1)),0!==(ea&I.uc)&&(0<c?ka|=1<<c-1:f<J-1&&ha<x-1&&(la[f+1]|=32768)),0!==(ea&I.zc)&&(15>c?Z|=1<<c+1:0<f&&0<ha&&(Aa[f-1]|=1)),0!==(ea&I.ic)&&(0<c?Z|=1<<c-1:f<J-1&&ha<x-1&&(Aa[f+1]|=32768)));p[d]|=n}ha+=1}fa[f]|=ra;0<d&&(la[f]|=ka);d<E-1&&(Aa[f]|=Z)}else ha+=16;ca+=16;ta+=16}-1!==this.C&&(0!==L&&(k[G-1>>4]&=~(1<<(~(G-1)&15)),k[W+1>>
4]&=~(1<<(~(W+1)&15)),k[G-2>>4]&=~(1<<(~(G-2)&15)),k[W+2>>4]&=~(1<<(~(W+2)&15))),0!==D&&(p[F-1>>4]&=~(1<<(~(F-1)&15)),p[va+1>>4]&=~(1<<(~(va+1)&15)),p[F-2>>4]&=~(1<<(~(F-2)&15)),p[va+2>>4]&=~(1<<(~(va+2)&15))));for(f=0;f<x;f+=1)k[f]&&(f<z&&(z=f),f>H&&(H=f));for(d=0;d<p.length;d+=1)p[d]&&(d<A&&(A=d),d>C&&(C=d));z=(z<<4)+this.Ca(k[z]);H=(H<<4)+this.Da(k[H]);A=(A<<4)+this.Ca(p[A]);C=(C<<4)+this.Da(p[C]);0>C&&(C=t-1);A>=t&&(A=0);z>=v&&(z=0);0>H&&(H=v-1);C>t-1&&(C=t-1);0>A&&(A=0);0>z&&(z=0);H>v-1&&(H=
v-1);w.K=C;w.G=A;w.F=z;w.J=H;N.fill(0);this.u=m;this.za=r;this.ia=u};qa.prototype.Jl=function(a,c){var b,d=this.Y,f,e,g,k,l=this.W,p=this.U>>4;var n=0;var q=n+16;for(f=0;f<l;f+=1){var m=0;var r=d[f];for(e=0;e<p;e+=1)if(k=r[e])for(g=15;0<=g;--g){if(0!==(k&1<<g))for(b=n;b<q;b+=2){var u=c[b];var t=a[b];var v=a[b+1];var x=m<<3;var w=t[x];w|=v[x];u[x+x]=w|w>>8;x+=1;w=t[x];w|=v[x];u[x+x]=w|w>>8;x+=1;w=t[x];w|=v[x];u[x+x]=w|w>>8;x+=1;w=t[x];w|=v[x];u[x+x]=w|w>>8;x+=1;w=t[x];w|=v[x];u[x+x]=w|w>>8;x+=1;w=
t[x];w|=v[x];u[x+x]=w|w>>8;x+=1;w=t[x];w|=v[x];u[x+x]=w|w>>8;x+=1;w=t[x];w|=v[x];u[x+x]=w|w>>8}m+=1}else m+=16;n+=16;q+=16}};qa.prototype.Hl=function(a,c){var b,d=this.Y,f,e,g,k,l=this.W,p=this.U>>4;var n=0;var q=n+16;for(f=0;f<l;f+=1){var m=0;var r=d[f];for(e=0;e<p;e+=1)if(k=r[e])for(g=15;0<=g;--g){if(0!==(k&1<<g))for(b=n;b<q;b+=2){var u=c[b];var t=a[b];var v=a[b+1];var x=m<<3;var w=t[x];var A=w&255|(w&1)<<5;var C=A-(w>>8|w&32);A-=C&C>>255;w=v[x];C=A-(w&255|(w&1)<<5);A-=C&C>>255;C=A-(w>>8|w&32);
u[x+x]=A-(C&C>>255)&31;x+=1;w=t[x];A=w&255|(w&1)<<5;C=A-(w>>8|w&32);A-=C&C>>255;w=v[x];C=A-(w&255|(w&1)<<5);A-=C&C>>255;C=A-(w>>8|w&32);u[x+x]=A-(C&C>>255)&31;x+=1;w=t[x];A=w&255|(w&1)<<5;C=A-(w>>8|w&32);A-=C&C>>255;w=v[x];C=A-(w&255|(w&1)<<5);A-=C&C>>255;C=A-(w>>8|w&32);u[x+x]=A-(C&C>>255)&31;x+=1;w=t[x];A=w&255|(w&1)<<5;C=A-(w>>8|w&32);A-=C&C>>255;w=v[x];C=A-(w&255|(w&1)<<5);A-=C&C>>255;C=A-(w>>8|w&32);u[x+x]=A-(C&C>>255)&31;x+=1;w=t[x];A=w&255|(w&1)<<5;C=A-(w>>8|w&32);A-=C&C>>255;w=v[x];C=A-(w&
255|(w&1)<<5);A-=C&C>>255;C=A-(w>>8|w&32);u[x+x]=A-(C&C>>255)&31;x+=1;w=t[x];A=w&255|(w&1)<<5;C=A-(w>>8|w&32);A-=C&C>>255;w=v[x];C=A-(w&255|(w&1)<<5);A-=C&C>>255;C=A-(w>>8|w&32);u[x+x]=A-(C&C>>255)&31;x+=1;w=t[x];A=w&255|(w&1)<<5;C=A-(w>>8|w&32);A-=C&C>>255;w=v[x];C=A-(w&255|(w&1)<<5);A-=C&C>>255;C=A-(w>>8|w&32);u[x+x]=A-(C&C>>255)&31;x+=1;w=t[x];A=w&255|(w&1)<<5;C=A-(w>>8|w&32);A-=C&C>>255;w=v[x];C=A-(w&255|(w&1)<<5);A-=C&C>>255;C=A-(w>>8|w&32);u[x+x]=A-(C&C>>255)&31}m+=1}else m+=16;n+=16;q+=16}};
qa.prototype.Ri=function(a,c){var b,d=this.Y,f,e,g,k,l=this.W,p=this.U>>4;var n=0;var q=n+16;for(f=0;f<l;f+=1){var m=0;var r=d[f];for(e=0;e<p;e+=1)if(k=r[e])for(g=15;0<=g;--g){if(0!==(k&1<<g))for(b=n;b<q;b+=2){var u=c[b];var t=a[b];var v=a[b+1];var x=m<<3;var w=t[x];var A=w&255;var C=A-(w>>8);A-=C&C>>255;w=v[x];C=A-(w&255);A-=C&C>>255;C=A-(w>>8);u[x+x]=A-(C&C>>255);x+=1;w=t[x];A=w&255;C=A-(w>>8);A-=C&C>>255;w=v[x];C=A-(w&255);A-=C&C>>255;C=A-(w>>8);u[x+x]=A-(C&C>>255);x+=1;w=t[x];A=w&255;C=A-(w>>
8);A-=C&C>>255;w=v[x];C=A-(w&255);A-=C&C>>255;C=A-(w>>8);u[x+x]=A-(C&C>>255);x+=1;w=t[x];A=w&255;C=A-(w>>8);A-=C&C>>255;w=v[x];C=A-(w&255);A-=C&C>>255;C=A-(w>>8);u[x+x]=A-(C&C>>255);x+=1;w=t[x];A=w&255;C=A-(w>>8);A-=C&C>>255;w=v[x];C=A-(w&255);A-=C&C>>255;C=A-(w>>8);u[x+x]=A-(C&C>>255);x+=1;w=t[x];A=w&255;C=A-(w>>8);A-=C&C>>255;w=v[x];C=A-(w&255);A-=C&C>>255;C=A-(w>>8);u[x+x]=A-(C&C>>255);x+=1;w=t[x];A=w&255;C=A-(w>>8);A-=C&C>>255;w=v[x];C=A-(w&255);A-=C&C>>255;C=A-(w>>8);u[x+x]=A-(C&C>>255);x+=1;
w=t[x];A=w&255;C=A-(w>>8);A-=C&C>>255;w=v[x];C=A-(w&255);A-=C&C>>255;C=A-(w>>8);u[x+x]=A-(C&C>>255)}m+=1}else m+=16;n+=16;q+=16}};qa.prototype.Nj=function(a,c){var b,d=this.Y,f,e,g,k,l=this.W,p=this.U>>4;var n=0;var q=n+16;for(f=0;f<l;f+=1){var m=0;var r=d[f];for(e=0;e<p;e+=1)if(k=r[e])for(g=15;0<=g;--g){if(0!==(k&1<<g))for(b=n;b<q;b+=4){var u=c[b];var t=a[b];var v=a[b+1];var x=a[b+2];var w=a[b+3];var A=m<<2;var C=m<<4;var z=t[A]|v[A]|x[A]|w[A];u[C]=(z?1:0)<<6;A+=1;C+=4;z=t[A]|v[A]|x[A]|w[A];u[C]=
(z?1:0)<<6;A+=1;C+=4;z=t[A]|v[A]|x[A]|w[A];u[C]=(z?1:0)<<6;A+=1;C+=4;z=t[A]|v[A]|x[A]|w[A];u[C]=(z?1:0)<<6}m+=1}else m+=16;n+=16;q+=16}};qa.prototype.Lj=function(a,c){var b,d,f=this.Y,e,g,k,l,p,n=this.W,q=this.U>>4;var m=0;var r=m+16;for(g=0;g<n;g+=1){var u=0;var t=f[g];for(k=0;k<q;k+=1)if(p=t[k])for(l=15;0<=l;--l){if(0!==(p&1<<l))for(b=m;b<r;b+=4){var v=c[b];var x=a[b];var w=a[b+1];var A=a[b+2];var C=a[b+3];var z=u<<2;var H=u<<4;for(d=0;4>d;d+=1){var E=0;if(e=x[z]){var J=E-(e&255|(e&1)<<5);E-=J&
J>>255;e>>=8;J=E-(e&255|(e&1)<<5);E-=J&J>>255;e>>=8;J=E-(e&255|(e&1)<<5);E-=J&J>>255;e>>=8;J=E-(e&255|(e&1)<<5);E-=J&J>>255}if(e=w[z])J=E-(e&255|(e&1)<<5),E-=J&J>>255,e>>=8,J=E-(e&255|(e&1)<<5),E-=J&J>>255,e>>=8,J=E-(e&255|(e&1)<<5),E-=J&J>>255,e>>=8,J=E-(e&255|(e&1)<<5),E-=J&J>>255;if(e=A[z])J=E-(e&255|(e&1)<<5),E-=J&J>>255,e>>=8,J=E-(e&255|(e&1)<<5),E-=J&J>>255,e>>=8,J=E-(e&255|(e&1)<<5),E-=J&J>>255,e>>=8,J=E-(e&255|(e&1)<<5),E-=J&J>>255;if(e=C[z])J=E-(e&255|(e&1)<<5),E-=J&J>>255,e>>=8,J=E-(e&255|
(e&1)<<5),E-=J&J>>255,e>>=8,J=E-(e&255|(e&1)<<5),E-=J&J>>255,e>>=8,J=E-(e&255|(e&1)<<5),E-=J&J>>255;v[H]=E&31;z+=1;H+=4}}u+=1}else u+=16;m+=16;r+=16}};qa.prototype.Ui=function(a,c){var b,d,f=this.Y,e,g,k,l,p,n=this.W,q=this.U>>4;var m=0;var r=m+16;for(g=0;g<n;g+=1){var u=0;var t=f[g];for(k=0;k<q;k+=1)if(p=t[k])for(l=15;0<=l;--l){if(0!==(p&1<<l))for(b=m;b<r;b+=4){var v=c[b];var x=a[b];var w=a[b+1];var A=a[b+2];var C=a[b+3];var z=u<<2;var H=u<<4;for(d=0;4>d;d+=1){var E=0;if(e=x[z])E-=E-(e&255)&E-(e&
255)>>255,e>>=8,E-=E-(e&255)&E-(e&255)>>255,e>>=8,E-=E-(e&255)&E-(e&255)>>255,e>>=8,E-=E-(e&255)&E-(e&255)>>255;if(e=w[z])E-=E-(e&255)&E-(e&255)>>255,e>>=8,E-=E-(e&255)&E-(e&255)>>255,e>>=8,E-=E-(e&255)&E-(e&255)>>255,e>>=8,E-=E-(e&255)&E-(e&255)>>255;if(e=A[z])E-=E-(e&255)&E-(e&255)>>255,e>>=8,E-=E-(e&255)&E-(e&255)>>255,e>>=8,E-=E-(e&255)&E-(e&255)>>255,e>>=8,E-=E-(e&255)&E-(e&255)>>255;if(e=C[z])E-=E-(e&255)&E-(e&255)>>255,e>>=8,E-=E-(e&255)&E-(e&255)>>255,e>>=8,E-=E-(e&255)&E-(e&255)>>255,e>>=
8,E-=E-(e&255)&E-(e&255)>>255;v[H]=E;z+=1;H+=4}}u+=1}else u+=16;m+=16;r+=16}};qa.prototype.Tj=function(a,c){var b,d=this.Y,f,e,g,k,l=this.W,p=this.U>>4;var n=0;var q=n+16;for(f=0;f<l;f+=1){var m=0;var r=d[f];for(e=0;e<p;e+=1)if(k=r[e])for(g=15;0<=g;--g){if(0!==(k&1<<g))for(b=n;b<q;b+=8){var u=c[b];var t=a[b];var v=a[b+1];var x=a[b+2];var w=a[b+3];var A=a[b+4];var C=a[b+5];var z=a[b+6];var H=a[b+7];var E=m<<2;var J=m<<4;var N=t[E]|t[E+1];N|=v[E]|v[E+1];N|=x[E]|x[E+1];N|=w[E]|w[E+1];0===N&&(N|=A[E]|
A[E+1],N|=C[E]|C[E+1],N|=z[E]|z[E+1],N|=H[E]|H[E+1]);u[J]=(N?1:0)<<6;E+=2;J+=8;N=t[E]|t[E+1];N|=v[E]|v[E+1];N|=x[E]|x[E+1];N|=w[E]|w[E+1];0===N&&(N|=A[E]|A[E+1],N|=C[E]|C[E+1],N|=z[E]|z[E+1],N|=H[E]|H[E+1]);u[J]=(N?1:0)<<6}m+=1}else m+=16;n+=16;q+=16}};qa.prototype.Rj=function(a,c){var b,d,f=this.Y,e,g,k,l,p,n=this.W,q=this.U>>4;var m=0;var r=m+16;for(g=0;g<n;g+=1){var u=0;var t=f[g];for(k=0;k<q;k+=1)if(p=t[k])for(l=15;0<=l;--l){if(0!==(p&1<<l))for(b=m;b<r;b+=8){var v=c[b];var x=a[b];var w=a[b+1];
var A=a[b+2];var C=a[b+3];var z=a[b+4];var H=a[b+5];var E=a[b+6];var J=a[b+7];var N=u<<2;var L=u<<4;for(d=0;2>d;d+=1){var D=0;if(e=x[N]){var G=D-(e&255|(e&1)<<5);D-=G&G>>255;e>>=8;G=D-(e&255|(e&1)<<5);D-=G&G>>255;e>>=8;G=D-(e&255|(e&1)<<5);D-=G&G>>255;e>>=8;G=D-(e&255|(e&1)<<5);D-=G&G>>255}if(e=x[N+1])G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255;if(e=w[N])G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,
G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255;if(e=w[N+1])G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255;if(e=A[N])G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255;if(e=A[N+1])G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<
5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255;if(e=C[N])G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255;if(e=C[N+1])G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255;if(e=z[N])G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=
8,G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255;if(e=z[N+1])G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255;if(e=H[N])G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255;if(e=H[N+1])G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<
5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255;if(e=E[N])G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255;if(e=E[N+1])G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255;if(e=J[N])G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=
8,G=D-(e&255|(e&1)<<5),D-=G&G>>255;if(e=J[N+1])G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255,e>>=8,G=D-(e&255|(e&1)<<5),D-=G&G>>255;v[L]=D&31;N+=2;L+=8}}u+=1}else u+=16;m+=16;r+=16}};qa.prototype.Wi=function(a,c){var b,d,f=this.Y,e,g,k,l,p,n=this.W,q=this.U>>4;var m=0;var r=m+16;for(g=0;g<n;g+=1){var u=0;var t=f[g];for(k=0;k<q;k+=1)if(p=t[k])for(l=15;0<=l;--l){if(0!==(p&1<<l))for(b=m;b<r;b+=8){var v=c[b];var x=a[b];var w=a[b+1];var A=
a[b+2];var C=a[b+3];var z=a[b+4];var H=a[b+5];var E=a[b+6];var J=a[b+7];var N=u<<2;var L=u<<4;for(d=0;2>d;d+=1){var D=0;if(e=x[N])D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255;if(e=x[N+1])D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255;if(e=w[N])D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>
255,e>>=8,D-=D-(e&255)&D-(e&255)>>255;if(e=w[N+1])D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255;if(e=A[N])D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255;if(e=A[N+1])D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255;if(e=C[N])D-=D-(e&255)&D-(e&255)>>255,e>>=
8,D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255;if(e=C[N+1])D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255;if(e=z[N])D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255;if(e=z[N+1])D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&
255)&D-(e&255)>>255;if(e=H[N])D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255;if(e=H[N+1])D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255;if(e=E[N])D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255;if(e=E[N+1])D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&
D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255;if(e=J[N])D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255;if(e=J[N+1])D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255,e>>=8,D-=D-(e&255)&D-(e&255)>>255;v[L]=D;N+=2;L+=8}}u+=1}else u+=16;m+=16;r+=16}};qa.prototype.Fl=function(a,c){var b=this.Y,d,f,e,g,k,l=this.W,p=this.U>>4;for(d=g=0;d<l;d+=
1){var n=0;var q=b[d];for(f=0;f<p;f+=1)if(k=q[f])for(e=15;0<=e;--e){if(0!==(k&1<<e)){var m=c[g];var r=a[g];var u=a[g+1];var t=a[g+2];var v=a[g+3];var x=a[g+4];var w=a[g+5];var A=a[g+6];var C=a[g+7];var z=a[g+8];var H=a[g+9];var E=a[g+10];var J=a[g+11];var N=a[g+12];var L=a[g+13];var D=a[g+14];var G=a[g+15];var F=n<<2;var W=n<<4;r=r[F]|r[F+1]|r[F+2]|r[F+3];r|=u[F]|u[F+1]|u[F+2]|u[F+3];r|=t[F]|t[F+1]|t[F+2]|t[F+3];r|=v[F]|v[F+1]|v[F+2]|v[F+3];0===r&&(r|=x[F]|x[F+1]|x[F+2]|x[F+3],r|=w[F]|w[F+1]|w[F+
2]|w[F+3],r|=A[F]|A[F+1]|A[F+2]|A[F+3],r|=C[F]|C[F+1]|C[F+2]|C[F+3],0===r&&(r|=z[F]|z[F+1]|z[F+2]|z[F+3],r|=H[F]|H[F+1]|H[F+2]|H[F+3],r|=E[F]|E[F+1]|E[F+2]|E[F+3],r|=J[F]|J[F+1]|J[F+2]|J[F+3],0===r&&(r|=N[F]|N[F+1]|N[F+2]|N[F+3],r|=L[F]|L[F+1]|L[F+2]|L[F+3],r|=D[F]|D[F+1]|D[F+2]|D[F+3],r|=G[F]|G[F+1]|G[F+2]|G[F+3])));m[W]=(r?1:0)<<6}n+=1}else n+=16;g+=16}};qa.prototype.Dl=function(a,c){var b=this.Y,d,f,e,g,k,l,p=this.W,n=this.U>>4;var q=0;var m=q+16;for(f=0;f<p;f+=1){var r=0;var u=b[f];for(e=0;e<
n;e+=1)if(l=u[e])for(g=15;0<=g;--g){if(0!==(l&1<<g)){var t=0;for(k=q;k<m;k+=1){var v=a[k];var x=r<<2;if(d=v[x]){var w=t-(d&255|(d&1)<<5);t-=w&w>>255;d>>=8;w=t-(d&255|(d&1)<<5);t-=w&w>>255;d>>=8;w=t-(d&255|(d&1)<<5);t-=w&w>>255;d>>=8;w=t-(d&255|(d&1)<<5);t-=w&w>>255}if(d=v[x+1])w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255;if(d=v[x+2])w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=
w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255;if(d=v[x+3])w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255}v=c[q];x=r<<4;v[x]=t&31}r+=1}else r+=16;q+=16;m+=16}};qa.prototype.Qi=function(a,c){var b=this.Y,d,f,e,g,k,l,p=this.W,n=this.U>>4;var q=0;var m=q+16;for(f=0;f<p;f+=1){var r=0;var u=b[f];for(e=0;e<n;e+=1)if(l=u[e])for(g=15;0<=g;--g){if(0!==(l&1<<g)){var t=
0;for(k=q;k<m;k+=1){var v=a[k];var x=r<<2;if(d=v[x])t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255;if(d=v[x+1])t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255;if(d=v[x+2])t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255;if(d=v[x+3])t-=t-(d&255)&t-(d&255)>>
255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255}v=c[q];x=r<<4;v[x]=t}r+=1}else r+=16;q+=16;m+=16}};qa.prototype.Jj=function(a,c){var b=this.Y,d,f,e,g,k=this.W,l=this.U>>4;var p=0;var n=p+32;for(d=0;d<k;d+=2){var q=0;var m=b[d];var r=b[d+1];for(f=0;f<l;f+=1){var u=m[f]|r[f];if(0!==u)for(e=49152;0<e;e>>=2){if(0!==(u&e)){var t=q<<4;var v=c[p];var x=q<<2;var w=p;for(g=0;w<n&&0===g;){var A=a[w];g|=A[x]|A[x+1]|A[x+2]|A[x+3]|A[x+4]|A[x+5]|A[x+6]|
A[x+7];w+=1}v[t]=(g?1:0)<<6}q+=2}else q+=16}p+=32;n+=32}};qa.prototype.Hj=function(a,c){var b=this.Y,d,f,e,g,k,l=this.W,p=this.U>>4;var n=0;var q=n+32;for(f=0;f<l;f+=2){var m=0;var r=b[f];var u=b[f+1];for(e=0;e<p;e+=1){var t=r[e]|u[e];if(0!==t)for(g=49152;0<g;g>>=2){if(0!==(t&g)){var v=0;for(k=n;k<q;k+=1){var x=a[k];var w=m<<2;if(d=x[w]){var A=v-(d&255|(d&1)<<5);v-=A&A>>255;d>>=8;A=v-(d&255|(d&1)<<5);v-=A&A>>255;d>>=8;A=v-(d&255|(d&1)<<5);v-=A&A>>255;d>>=8;A=v-(d&255|(d&1)<<5);v-=A&A>>255}if(d=x[w+
1])A=v-(d&255|(d&1)<<5),v-=A&A>>255,d>>=8,A=v-(d&255|(d&1)<<5),v-=A&A>>255,d>>=8,A=v-(d&255|(d&1)<<5),v-=A&A>>255,d>>=8,A=v-(d&255|(d&1)<<5),v-=A&A>>255;if(d=x[w+2])A=v-(d&255|(d&1)<<5),v-=A&A>>255,d>>=8,A=v-(d&255|(d&1)<<5),v-=A&A>>255,d>>=8,A=v-(d&255|(d&1)<<5),v-=A&A>>255,d>>=8,A=v-(d&255|(d&1)<<5),v-=A&A>>255;if(d=x[w+3])A=v-(d&255|(d&1)<<5),v-=A&A>>255,d>>=8,A=v-(d&255|(d&1)<<5),v-=A&A>>255,d>>=8,A=v-(d&255|(d&1)<<5),v-=A&A>>255,d>>=8,A=v-(d&255|(d&1)<<5),v-=A&A>>255;if(d=x[w+4])A=v-(d&255|(d&
1)<<5),v-=A&A>>255,d>>=8,A=v-(d&255|(d&1)<<5),v-=A&A>>255,d>>=8,A=v-(d&255|(d&1)<<5),v-=A&A>>255,d>>=8,A=v-(d&255|(d&1)<<5),v-=A&A>>255;if(d=x[w+5])A=v-(d&255|(d&1)<<5),v-=A&A>>255,d>>=8,A=v-(d&255|(d&1)<<5),v-=A&A>>255,d>>=8,A=v-(d&255|(d&1)<<5),v-=A&A>>255,d>>=8,A=v-(d&255|(d&1)<<5),v-=A&A>>255;if(d=x[w+6])A=v-(d&255|(d&1)<<5),v-=A&A>>255,d>>=8,A=v-(d&255|(d&1)<<5),v-=A&A>>255,d>>=8,A=v-(d&255|(d&1)<<5),v-=A&A>>255,d>>=8,A=v-(d&255|(d&1)<<5),v-=A&A>>255;if(d=x[w+7])A=v-(d&255|(d&1)<<5),v-=A&A>>
255,d>>=8,A=v-(d&255|(d&1)<<5),v-=A&A>>255,d>>=8,A=v-(d&255|(d&1)<<5),v-=A&A>>255,d>>=8,A=v-(d&255|(d&1)<<5),v-=A&A>>255}x=c[n];w=m<<4;x[w]=v&31}m+=2}else m+=16}n+=32;q+=32}};qa.prototype.Si=function(a,c){var b=this.Y,d,f,e,g,k,l=this.W,p=this.U>>4;var n=0;var q=n+32;for(f=0;f<l;f+=2){var m=0;var r=b[f];var u=b[f+1];for(e=0;e<p;e+=1){var t=r[e]|u[e];if(0!==t)for(g=49152;0<g;g>>=2){if(0!==(t&g)){var v=0;for(k=n;k<q;k+=1){var x=a[k];var w=m<<2;if(d=x[w])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&
v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255;if(d=x[w+1])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255;if(d=x[w+2])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255;if(d=x[w+3])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>
255;if(d=x[w+4])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255;if(d=x[w+5])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255;if(d=x[w+6])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255;if(d=x[w+7])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,
d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255}x=c[n];w=m<<4;x[w]=v}m+=2}else m+=16}n+=32;q+=32}};qa.prototype.Vd=function(a){this.ji&&a.cb.fill(0)};qa.prototype.lk=function(a,c){var b=this.V;.5<=b&&1>b?(this.Vd(this.ra),this.Pd||this.Ga||this.i||this.v||this.o||this.Ma?this.o?this.Hl(a,this.ra):this.Ri(a,this.ra):this.Jl(a,this.ra)):.25<=b&&.5>b?(this.Vd(this.ra),this.Pd||this.Ga||this.i||this.v||this.o||this.Ma?this.o?this.Lj(c,this.ra):this.Ui(c,this.ra):this.Nj(c,this.ra)):
.125<=b&&.25>b?(this.Vd(this.ra),this.Pd||this.Ga||this.i||this.v||this.o||this.Ma?this.o?this.Rj(c,this.ra):this.Wi(c,this.ra):this.Tj(c,this.ra)):.0625<=b&&.125>b?(this.Vd(this.ra),this.Pd||this.Ga||this.i||this.v||this.o||this.Ma?this.o?this.Dl(c,this.ra):this.Qi(c,this.ra):this.Fl(c,this.ra)):this.Pd||this.Ga||this.i||this.v||this.o||this.Ma?this.o?this.Hj(c,this.ra):this.Si(c,this.ra):this.Jj(c,this.ra);this.Tb&&(.5<=b&&1>b?(this.Vd(this.Qa),this.Ri(this.Ge,this.Qa)):.25<=b&&.5>b?(this.Vd(this.Qa),
this.Ui(this.sd,this.Qa)):.125<=b&&.25>b?(this.Vd(this.Qa),this.Wi(this.sd,this.Qa)):.0625<=b&&.125>b?(this.Vd(this.Qa),this.Qi(this.sd,this.Qa)):this.Si(this.sd,this.Qa));this.ji=.0625>b?!0:!1};qa.prototype.tk=function(){var a=this.Y,c=this.fa,b=this.Ia,d,f,e,g,k=this.width,l=k>>4,p=this.height,n=k,q=-1,m=-1,r=p,u=this.m,t,v=this.$a,x,w,A=this.Ib;var C=this.W;var z=this.U>>4;var H=0;var E=C,J=this.Lb;if(0!==(this.counter&1)){var N=this.Fa;var L=this.aa;var D=this.l;var G=this.$}else N=this.pa,L=
this.X,D=this.$,G=this.l;0>H&&(H=0);E>C&&(E=C);v.fill(0);A.fill(0);C=H<<4;var F=C+16;for(d=H;d<E;d+=1){var W=0;var va=L[d];var ma=c[d];var U=a[d];for(f=0;f<z;f+=1){if(g=va[f]|ma[f])for(e=15;0<=e;--e){if(0!==(g&1<<e)){var oa=x=0;var da=32768;for(H=C;H<F;H+=1){var ca=N[H];var ta=D[H];var ha=0===H?b:D[H-1];var pa=H===this.height-1?b:D[H+1];var fa=G[H];var la=W<<4;if(0===la)var Aa=t=0;else t=ta[la-1],Aa=ha[la-1];var ra=pa[la];var ka=ta[la];var Z=ca[W];for(w=32768;0<w;){var ea=Aa;Aa=ha[la];var V=t;t=ka;
ka=ta[la+1];var ya=ra;ra=pa[la+1];var R=t;ea=1<<ea|1<<Aa|1<<ka|1<<V|1<<ya|1<<ra;V=!0;if(0!==(ea&64)){V=!1;if(7===t||8===t||13<=t)R=0;else switch(t){case 1:R=2;break;case 3:case 5:R=4;break;case 9:R=10;break;case 11:R=12;break;default:V=!0}V||0===(t&1)||(ca[W]&=~w,this.ia+=1,--this.u)}if(V)if(0!==(Z&w)){if(0===(t&1))switch(t){case 4:R=3;break;case 6:ca[W]&w&&(ca[W]&=~w,this.ia+=1,--this.u);break;case 8:R=7;break;default:R=1,V=ea&44739072,0===(ea&170)&&1===J[V&65535]+J[V>>16]?(R=0,65535<V&&(V>>=16,
R+=16),255<V&&(V>>=8,R+=8),15<V&&(V>>=4,R+=4),3<V&&(V>>=2,R+=2),R+=V>>1):(V=ea&44736512,0!==(ea&8)&&0===(ea&2722)&&1===J[V&65535]+J[V>>16]?(R=0,65535<V&&(V>>=16,R+=16),255<V&&(V>>=8,R+=8),15<V&&(V>>=4,R+=4),3<V&&(V>>=2,R+=2),R+=V>>1):(V=ea&2560,0!==(ea&128)&&0===(ea&44736554)&&1===J[V&65535]+J[V>>16]?(R=0,65535<V&&(V>>=16,R+=16),255<V&&(V>>=8,R+=8),15<V&&(V>>=4,R+=4),3<V&&(V>>=2,R+=2),R+=V>>1):(V=ea&44736640)&&0===(ea&2602)&&(R=13)))}}else if(0!==(t&1))R=11>=t?5===t?4:t+1:0;else if(14===t)R=0;else if(14<
t)switch(t){case 16:0!==(ea&44755626)&&(R=14);break;case 18:0!==(ea&4194304)&&(R=22);break;case 20:0!==(ea&262144)&&(R=18);break;case 22:0!==(ea&1048576)&&(R=20);break;case 24:0!==(ea&45017770)&&(R=18)}fa[la]=R;0<R&&(x|=w,oa|=da);w>>=1;la+=1}da>>=1}v[W]|=x;A[d]|=oa}W+=1}else W+=16;ma[f]=g|0;U[f]=U[f]|g|0}C+=16;F+=16}for(f=0;f<l;f+=1)v[f]&&(f<n&&(n=f),f>q&&(q=f));for(d=0;d<A.length;d+=1)A[d]&&(d<r&&(r=d),d>m&&(m=d));n=(n<<4)+this.Ca(v[n]);q=(q<<4)+this.Da(v[q]);r=(r<<4)+this.Ca(A[r]);m=(m<<4)+this.Da(A[m]);
0>m&&(m=p-1);r>=p&&(r=0);n>=k&&(n=0);0>q&&(q=k-1);m>p-1&&(m=p-1);0>r&&(r=0);0>n&&(n=0);q>k-1&&(q=k-1);u.K=m;u.G=r;u.F=n;u.J=q};qa.prototype.xk=function(){var a=this.Y,c=this.fa,b=this.Ia,d,f,e,g,k=this.width,l=k>>4,p=this.height,n=k,q=-1,m=-1,r=p,u=this.m,t=this.$a,v,x,w=this.Ib;var A=this.W;var C=this.U>>4;var z=0;var H=A,E=this.Lb;if(0!==(this.counter&1)){var J=this.Fa;var N=this.aa;var L=this.l;var D=this.$}else J=this.pa,N=this.X,L=this.$,D=this.l;0>z&&(z=0);H>A&&(H=A);t.fill(0);w.fill(0);A=z<<
4;var G=A+16;for(d=z;d<H;d+=1){var F=0;var W=N[d];var va=c[d];var ma=a[d];for(f=0;f<C;f+=1){if(g=W[f]|va[f])for(e=15;0<=e;--e){if(0!==(g&1<<e)){var U=v=0;var oa=32768;for(z=A;z<G;z+=1){var da=J[z];var ca=L[z];var ta=0===z?b:L[z-1];var ha=z===this.height-1?b:L[z+1];var pa=D[z];var fa=F<<4;var la=0===fa?0:ca[fa-1];var Aa=ca[fa];var ra=da[F];for(x=32768;0<x;){var ka=ta[fa];var Z=la;la=Aa;Aa=ca[fa+1];var ea=ha[fa];var V=la;ka=1<<ka|1<<Aa|1<<Z|1<<ea;Z=!0;if(0!==(ka&64)){Z=!1;if(7===la||8===la||13<=la)V=
0;else switch(la){case 1:V=2;break;case 3:case 5:V=4;break;case 9:V=10;break;case 11:V=12;break;default:Z=!0}Z||0===(la&1)||(da[F]&=~x,this.ia+=1,--this.u)}if(Z)if(0!==(ra&x)){if(0===(la&1))switch(la){case 4:V=3;break;case 6:da[F]&x&&(da[F]&=~x,this.ia+=1,--this.u);break;case 8:V=7;break;default:V=1,Z=ka&44739072,0===(ka&170)&&1===E[Z&65535]+E[Z>>16]?(V=0,65535<Z&&(Z>>=16,V+=16),255<Z&&(Z>>=8,V+=8),15<Z&&(Z>>=4,V+=4),3<Z&&(Z>>=2,V+=2),V+=Z>>1):(Z=ka&44736512,0!==(ka&8)&&0===(ka&2722)&&1===E[Z&65535]+
E[Z>>16]?(V=0,65535<Z&&(Z>>=16,V+=16),255<Z&&(Z>>=8,V+=8),15<Z&&(Z>>=4,V+=4),3<Z&&(Z>>=2,V+=2),V+=Z>>1):(Z=ka&2560,0!==(ka&128)&&0===(ka&44736554)&&1===E[Z&65535]+E[Z>>16]?(V=0,65535<Z&&(Z>>=16,V+=16),255<Z&&(Z>>=8,V+=8),15<Z&&(Z>>=4,V+=4),3<Z&&(Z>>=2,V+=2),V+=Z>>1):(Z=ka&44736640)&&0===(ka&2602)&&(V=13)))}}else if(0!==(la&1))V=11>=la?5===la?4:la+1:0;else if(14===la)V=0;else if(14<la)switch(la){case 16:0!==(ka&44755626)&&(V=14);break;case 18:0!==(ka&4194304)&&(V=22);break;case 20:0!==(ka&262144)&&
(V=18);break;case 22:0!==(ka&1048576)&&(V=20);break;case 24:0!==(ka&45017770)&&(V=18)}pa[fa]=V;0<V&&(v|=x,U|=oa);x>>=1;fa+=1}oa>>=1}t[F]|=v;w[d]|=U}F+=1}else F+=16;va[f]=g|0;ma[f]=ma[f]|g|0}A+=16;G+=16}for(f=0;f<l;f+=1)t[f]&&(f<n&&(n=f),f>q&&(q=f));for(d=0;d<w.length;d+=1)w[d]&&(d<r&&(r=d),d>m&&(m=d));n=(n<<4)+this.Ca(t[n]);q=(q<<4)+this.Da(t[q]);r=(r<<4)+this.Ca(w[r]);m=(m<<4)+this.Da(w[m]);0>m&&(m=p-1);r>=p&&(r=0);n>=k&&(n=0);0>q&&(q=k-1);m>p-1&&(m=p-1);0>r&&(r=0);0>n&&(n=0);q>k-1&&(q=k-1);u.K=
m;u.G=r;u.F=n;u.J=q};qa.prototype.vk=function(){var a=this.Y,c=this.fa,b=this.Ia,d,f,e,g,k=this.width,l=k>>4,p=this.height,n=k,q=-1,m=-1,r=p,u=this.m,t=this.$a,v,x,w=this.Ib;var A=this.W;var C=this.U>>4;var z=0;var H=A,E=this.ci;if(0!==(this.counter&1)){var J=this.Fa;var N=this.aa;var L=this.l;var D=this.$}else J=this.pa,N=this.X,L=this.$,D=this.l;0>z&&(z=0);H>A&&(H=A);t.fill(0);w.fill(0);A=z<<4;var G=A+16;for(d=z;d<H;d+=1){var F=0;var W=N[d];var va=c[d];var ma=a[d];for(f=0;f<C;f+=1){if(g=W[f]|va[f])for(e=
15;0<=e;--e){if(0!==(g&1<<e)){var U=v=0;var oa=32768;for(z=A;z<G;z+=1){var da=J[z];var ca=L[z];var ta=0===z?b:L[z-1];var ha=z===this.height-1?b:L[z+1];var pa=D[z];var fa=F<<4;if(0===fa)var la=0;else{var Aa=ca[fa-1];la=1<<ta[fa-1]|1<<Aa|1<<ha[fa-1]}var ra=ca[fa];var ka=1<<ra|1<<ha[fa]|1<<ta[fa];var Z=da[F];for(x=32768;0<x;){fa+=1;Aa=ra;ra=ca[fa];var ea=la;la=ka;ka=1<<ra|1<<ha[fa]|1<<ta[fa];var V=Aa;ea=ea|la|ka;var ya=!0;if(0!==(ea&64)){ya=!1;if(7===Aa||8===Aa||13<=Aa)V=0;else switch(Aa){case 1:V=2;
break;case 3:case 5:V=4;break;case 9:V=10;break;case 11:V=12;break;default:ya=!0}!ya&&0!==(Aa&1)&&da[F]&x&&(da[F]&=~x,this.ia+=1,--this.u)}if(ya)if(0!==(Z&x)){if(0===(Aa&1))switch(Aa){case 4:V=3;break;case 6:da[F]&x&&(da[F]&=~x,--this.za,--this.u);break;case 8:V=7;break;default:V=1,Aa=ea&44739072,0===(ea&170)&&Aa&&0===(Aa&Aa-1)?(V=0,65535<Aa&&(Aa>>=16,V+=16),V+=E[Aa]):(Aa=ea&44736512,0!==(ea&8)&&0===(ea&2722)&&Aa&&0===(Aa&Aa-1)?(V=0,65535<Aa&&(Aa>>=16,V+=16),V+=E[Aa]):(Aa=ea&2560,0!==(ea&128)&&0===
(ea&44736554)&&Aa&&0===(Aa&Aa-1)?(V=0,65535<Aa&&(Aa>>=16,V+=16),V+=E[Aa]):(Aa=ea&44736640)&&0===(ea&2602)&&(V=13)))}}else if(0!==(Aa&1))V=11>=Aa?5===Aa?4:Aa+1:0;else if(14<=Aa)switch(Aa){case 14:V=0;break;case 16:0!==(ea&44755626)&&(V=14);break;case 18:0!==(ea&4194304)&&(V=22);break;case 20:0!==(ea&262144)&&(V=18);break;case 22:0!==(ea&1048576)&&(V=20);break;case 24:0!==(ea&45017770)&&(V=18)}pa[fa-1]=V;0<V&&(v|=x,U|=oa);x>>=1}oa>>=1}t[F]|=v;w[d]|=U}F+=1}else F+=16;va[f]=g|0;ma[f]=ma[f]|g|0}A+=16;
G+=16}for(f=0;f<l;f+=1)t[f]&&(f<n&&(n=f),f>q&&(q=f));for(d=0;d<w.length;d+=1)w[d]&&(d<r&&(r=d),d>m&&(m=d));n=(n<<4)+this.Ca(t[n]);q=(q<<4)+this.Da(t[q]);r=(r<<4)+this.Ca(w[r]);m=(m<<4)+this.Da(w[m]);0>m&&(m=p-1);r>=p&&(r=0);n>=k&&(n=0);0>q&&(q=k-1);m>p-1&&(m=p-1);0>r&&(r=0);0>n&&(n=0);q>k-1&&(q=k-1);u.K=m;u.G=r;u.F=n;u.J=q};qa.prototype.Oj=function(){var a=this.l,c=this.Y,b=this.fa,d,f,e,g,k,l=0,p=0,n=0,q=this.width,m=q>>4,r=this.height,u=q,t=-1,v=-1,x=r,w=this.m,A=this.$a,C,z,H=this.Ib;var E=this.W;
var J=this.U>>4;var N=0;var L=E,D=this.h+this.s-1,G=this.s,F=0<this.s?1:0;if(0!==(this.counter&1)){var W=this.Fa;var va=this.aa}else W=this.pa,va=this.X;0>N&&(N=0);L>E&&(L=E);A.fill(0);H.fill(0);E=N<<4;var ma=E+16;for(f=N;f<L;f+=1){var U=0;var oa=va[f];var da=b[f];var ca=c[f];for(e=0;e<J;e+=1){var ta=oa[e]|da[e];var ha=0;if(ta)for(g=15;0<=g;--g){if(0!==(ta&1<<g)){var pa=C=0;var fa=32768;var la=0;for(N=E;N<ma;N+=1){var Aa=W[N];var ra=a[N];var ka=U<<4;var Z=Aa[U];for(k=z=32768;0<k;){var ea=d=ra[ka];
(d<=G||d===D)&&0!==(Z&k)?d=D:(Z&=~k,d>F&&--d);ra[ka]=d;d>F&&(la=1,d>G&&(C|=z,pa|=fa),d===D&&(l+=1,ea!==D&&(p+=1)));ea===D&&d!==D&&(n+=1);z>>=1;ka+=1;k>>=1;ea=d=ra[ka];(d<=G||d===D)&&0!==(Z&k)?d=D:(Z&=~k,d>F&&--d);ra[ka]=d;d>F&&(la=1,d>G&&(C|=z,pa|=fa),d===D&&(l+=1,ea!==D&&(p+=1)));ea===D&&d!==D&&(n+=1);z>>=1;ka+=1;k>>=1;ea=d=ra[ka];(d<=G||d===D)&&0!==(Z&k)?d=D:(Z&=~k,d>F&&--d);ra[ka]=d;d>F&&(la=1,d>G&&(C|=z,pa|=fa),d===D&&(l+=1,ea!==D&&(p+=1)));ea===D&&d!==D&&(n+=1);z>>=1;ka+=1;k>>=1;ea=d=ra[ka];
(d<=G||d===D)&&0!==(Z&k)?d=D:(Z&=~k,d>F&&--d);ra[ka]=d;d>F&&(la=1,d>G&&(C|=z,pa|=fa),d===D&&(l+=1,ea!==D&&(p+=1)));ea===D&&d!==D&&(n+=1);z>>=1;ka+=1;k>>=1}Aa[U]=Z;fa>>=1}A[U]|=C;H[f]|=pa;la&&(ha|=1<<g)}U+=1}else U+=16;da[e]=ha;ca[e]|=ha}E+=16;ma+=16}for(e=0;e<m;e+=1)A[e]&&(e<u&&(u=e),e>t&&(t=e));for(f=0;f<H.length;f+=1)H[f]&&(f<x&&(x=f),f>v&&(v=f));u=(u<<4)+this.Ca(A[u]);t=(t<<4)+this.Da(A[t]);x=(x<<4)+this.Ca(H[x]);v=(v<<4)+this.Da(H[v]);0>v&&(v=r-1);x>=r&&(x=0);u>=q&&(u=0);0>t&&(t=q-1);v>r-1&&(v=
r-1);0>x&&(x=0);0>u&&(u=0);t>q-1&&(t=q-1);w.K=v;w.G=x;w.F=u;w.J=t;this.u=l;this.za=p;this.ia=n};qa.prototype.Ac=function(){this.ea||this.i||this.v||this.o||(-1===this.h&&(this.Ma?this.ul():this.Pd?this.zl():this.pl()),this.Tc&&-1===this.h&&this.Xk())};qa.prototype.Ji=function(){var a,c=this.Gd,b=this.Y,d,f,e,g=0,k,l=this.W,p=this.U>>4;var n=16;for(d=0;d<l;d+=1){var q=0;var m=b[d];for(f=0;f<p;f+=1)if(k=m[f])for(e=15;0<=e;--e){if(0!==(k&1<<e))for(a=g;a<n;){var r=c[a];var u=q<<3;r[u]&=16448;u+=1;r[u]&=
16448;u+=1;r[u]&=16448;u+=1;r[u]&=16448;u+=1;r[u]&=16448;u+=1;r[u]&=16448;u+=1;r[u]&=16448;u+=1;r[u]&=16448;a+=1}q+=1}else q+=16;g+=16;n+=16}};qa.prototype.rk=function(){var a=this.M,c=this.I,b=this.m;this.ga?this.tk():this.kc?this.xk():this.vk();if(-1!==this.C){var d=Math.round((this.width-a)/2);var f=Math.round((this.height-c)/2);a=d+a-1;c=f+c-1;b.F<d&&(b.F=d);b.J>a&&(b.J=a);b.G<f&&(b.G=f);b.K>c&&(b.K=c)}};qa.prototype.Uj=function(){switch(this.Yf){case Oa.Um:this.ck();break;case Oa.Sm:this.ak();
break;case Oa.Ti:this.Yj();break;case Oa.Tm:this.Wj()}};qa.prototype.Wj=function(){var a=this.Be;var c=a[0];var b=a[1],d=a[2],f=this.Nc,e=this.Ae,g,k,l,p,n,q=this.Y,m=this.fa,r,u=this.$a,t,v=this.Ib,x,w,A=0,C=0,z=0,H=this.height,E=this.width,J=E>>4,N=this.m,L=H,D=-1,G=E,F=-1,W=this.W,va=this.U>>4,ma=this.ib;if(0!==(this.counter&1)){var U=this.$;var oa=this.kb;var da=this.l;var ca=this.aa;var ta=this.X}else U=this.l,oa=this.Za,da=this.$,ca=this.X,ta=this.aa;u.fill(0);v.fill(0);var ha=0;var pa=ha+16;
ta.cb.fill(0);for(p=0;p<ca.length;p+=1){var fa=0;var la=fa+16;var Aa=ca[p];var ra=ta[p];var ka=m[p];var Z=q[p];var ea=0<p?ta[p-1]:ma;var V=p<W-1?ta[p+1]:ma;for(n=0;n<va;n+=1)if(r=Aa[n]){var ya=ra[n];var R=ea[n];var M=V[n];for(l=15;0<=l;--l){if(0!==(r&1<<l)){var O=x=t=0;a=ha;for(w=32768;a<pa;){var ia=U[a];var T=da[a];var P=32768;var sa=fa;var za=0===sa?0:ia[sa-1];for(k=ia[sa];sa<la-1;){var Ba=za;za=k;k=ia[sa+1];var aa=c[za];var ja=b[Ba];var X=d[k];var ba=za;for(g=0;g<e;g+=1)if(Ba=aa[g]&ja[g]&X[g]){aa=
0;for(X=1;!(Ba&X);)aa+=1,X<<=1;ba=f[(g<<5)+aa];break}T[sa]=ba;0<ba?(A+=1,0===za&&(C+=1),x|=w,t|=P):0<za&&(z+=1);P>>=1;sa+=1}Ba=za;za=k;k=sa===E-1?0:ia[sa+1];aa=c[za];ja=b[Ba];X=d[k];ba=za;for(g=0;g<e;g+=1)if(Ba=aa[g]&ja[g]&X[g]){aa=0;for(X=1;!(Ba&X);)aa+=1,X<<=1;ba=f[(g<<5)+aa];break}T[sa]=ba;0<ba?(A+=1,0===za&&(C+=1),x|=w,t|=P):0<za&&(z+=1);a+=1;w>>=1}u[fa>>4]|=t;t&&(ya|=1<<l,x&1&&(O|=I.jc,t&32768&&(O|=I.zc),t&1&&(O|=I.ic)),x&32768&&(O|=I.oc,t&32768&&(O|=I.tc),t&1&&(O|=I.uc)),t&32768&&(O|=I.hc),
t&1&&(O|=I.Xb),O&&(0!==(O&I.hc)&&(15>l?ya|=1<<l+1:0<n&&0<fa&&(ra[n-1]|=1)),0!==(O&I.Xb)&&(0<l?ya|=1<<l-1:n<va-1&&fa<E-1&&(ra[n+1]|=32768)),0!==(O&I.oc)&&(R|=1<<l),0!==(O&I.jc)&&(M|=1<<l),0!==(O&I.tc)&&(15>l?R|=1<<l+1:0<n&&0<fa&&(ea[n-1]|=1)),0!==(O&I.uc)&&(0<l?R|=1<<l-1:n<va-1&&fa<E-1&&(ea[n+1]|=32768)),0!==(O&I.zc)&&(15>l?M|=1<<l+1:0<n&&0<fa&&(V[n-1]|=1)),0!==(O&I.ic)&&(0<l?M|=1<<l-1:n<va-1&&fa<E-1&&(V[n+1]|=32768))));v[p]|=x}fa+=16;la+=16}ra[n]|=ya;ka[n]=r|ya;Z[n]=Z[n]|r|ya;0<p&&(ea[n]|=R);p<W-
1&&(V[n]|=M)}else fa+=256,la+=256;ha+=16;pa+=16}for(n=0;n<J;n+=1)u[n]&&(n<G&&(G=n),n>F&&(F=n));for(p=0;p<v.length;p+=1)v[p]&&(p<L&&(L=p),p>D&&(D=p));G=(G<<4)+this.Ca(u[G]);F=(F<<4)+this.Da(u[F]);L=(L<<4)+this.Ca(v[L]);D=(D<<4)+this.Da(v[D]);0>D&&(D=H-1);L>=H&&(L=0);G>=E&&(G=0);0>F&&(F=E-1);D>H-1&&(D=H-1);0>L&&(L=0);0>G&&(G=0);F>E-1&&(F=E-1);N.K=D;N.G=L;N.F=G;N.J=F;ma.fill(0);ha=0;pa=ha+16;for(p=0;p<ca.length;p+=1){fa=0;Aa=ca[p];ra=ta[p];for(n=0;n<va;n+=1)if(r=Aa[n],ya=ra[n],r!==ya)for(l=15;0<=l;--l){if((r&
1<<l)!==(ya&1<<l)&&0===(ya&1<<l))for(a=ha;a<pa;a+=1)c=oa[a],sa=fa>>2,c[sa]=0,c[sa+1]=0,c[sa+2]=0,c[sa+3]=0;fa+=16}else fa+=256;ha+=16;pa+=16}this.u=A;this.za=C;this.ia=z};qa.prototype.ck=function(){var a=this.Be;var c=a[0];var b=a[1],d=a[2],f=a[3],e=a[4],g=this.Nc,k=this.Ae,l,p,n,q,m=this.Y,r=this.fa,u,t=this.$a,v,x=this.Ib,w,A,C=0,z=0,H=0,E=this.height,J=this.width,N=J>>4,L=this.m,D=E,G=-1,F=J,W=-1,va=this.W,ma=this.U>>4,U=this.ib;if(0!==(this.counter&1)){var oa=this.$;var da=this.kb;var ca=this.l;
var ta=this.aa;var ha=this.X}else oa=this.l,da=this.Za,ca=this.$,ta=this.X,ha=this.aa;t.fill(0);x.fill(0);var pa=0;var fa=pa+16;ha.cb.fill(0);for(n=0;n<ta.length;n+=1){var la=0;var Aa=la+16;var ra=ta[n];var ka=ha[n];var Z=r[n];var ea=m[n];var V=0<n?ha[n-1]:U;var ya=n<va-1?ha[n+1]:U;for(q=0;q<ma;q+=1)if(u=ra[q]){var R=ka[q];var M=V[q];var O=ya[q];for(p=15;0<=p;--p){if(0!==(u&1<<p)){var ia=w=v=0;a=pa;for(A=32768;a<fa;){var T=0===a?this.Ia:oa[a-1];var P=oa[a];var sa=a===this.height-1?this.Ia:oa[a+1];
var za=ca[a];var Ba=32768;var aa=la;var ja=0===aa?0:P[aa-1];for(l=P[aa];aa<Aa-1;){var X=ja;ja=l;var ba=T[aa];l=P[aa+1];var Y=sa[aa];var wa=c[ja];ba=b[ba];var xa=d[l];var Ca=f[Y];var ua=e[X];var Ea=ja;for(Y=0;Y<k;Y+=1)if(X=wa[Y]&ba[Y])if(X&=xa[Y]&Ca[Y]&ua[Y]){wa=0;for(ba=1;!(X&ba);)wa+=1,ba<<=1;Ea=g[(Y<<5)+wa];break}za[aa]=Ea;0<Ea?(C+=1,0===ja&&(z+=1),w|=A,v|=Ba):0<ja&&(H+=1);Ba>>=1;aa+=1}X=ja;ja=l;ba=T[aa];l=aa===J-1?0:P[aa+1];Y=sa[aa];wa=c[ja];ba=b[ba];xa=d[l];Ca=f[Y];ua=e[X];Ea=ja;for(Y=0;Y<k;Y+=
1)if(X=wa[Y]&ba[Y])if(X&=xa[Y]&Ca[Y]&ua[Y]){wa=0;for(ba=1;!(X&ba);)wa+=1,ba<<=1;Ea=g[(Y<<5)+wa];break}za[aa]=Ea;0<Ea?(C+=1,0===ja&&(z+=1),w|=A,v|=Ba):0<ja&&(H+=1);a+=1;A>>=1}t[la>>4]|=v;v&&(R|=1<<p,w&1&&(ia|=I.jc,v&32768&&(ia|=I.zc),v&1&&(ia|=I.ic)),w&32768&&(ia|=I.oc,v&32768&&(ia|=I.tc),v&1&&(ia|=I.uc)),v&32768&&(ia|=I.hc),v&1&&(ia|=I.Xb),ia&&(0!==(ia&I.hc)&&(15>p?R|=1<<p+1:0<q&&0<la&&(ka[q-1]|=1)),0!==(ia&I.Xb)&&(0<p?R|=1<<p-1:q<ma-1&&la<J-1&&(ka[q+1]|=32768)),0!==(ia&I.oc)&&(M|=1<<p),0!==(ia&I.jc)&&
(O|=1<<p),0!==(ia&I.tc)&&(15>p?M|=1<<p+1:0<q&&0<la&&(V[q-1]|=1)),0!==(ia&I.uc)&&(0<p?M|=1<<p-1:q<ma-1&&la<J-1&&(V[q+1]|=32768)),0!==(ia&I.zc)&&(15>p?O|=1<<p+1:0<q&&0<la&&(ya[q-1]|=1)),0!==(ia&I.ic)&&(0<p?O|=1<<p-1:q<ma-1&&la<J-1&&(ya[q+1]|=32768))));x[n]|=w}la+=16;Aa+=16}ka[q]|=R;Z[q]=u|R;ea[q]=ea[q]|u|R;0<n&&(V[q]|=M);n<va-1&&(ya[q]|=O)}else la+=256,Aa+=256;pa+=16;fa+=16}for(q=0;q<N;q+=1)t[q]&&(q<F&&(F=q),q>W&&(W=q));for(n=0;n<x.length;n+=1)x[n]&&(n<D&&(D=n),n>G&&(G=n));F=(F<<4)+this.Ca(t[F]);W=
(W<<4)+this.Da(t[W]);D=(D<<4)+this.Ca(x[D]);G=(G<<4)+this.Da(x[G]);0>G&&(G=E-1);D>=E&&(D=0);F>=J&&(F=0);0>W&&(W=J-1);G>E-1&&(G=E-1);0>D&&(D=0);0>F&&(F=0);W>J-1&&(W=J-1);L.K=G;L.G=D;L.F=F;L.J=W;U.fill(0);pa=0;fa=pa+16;for(n=0;n<ta.length;n+=1){la=0;ra=ta[n];ka=ha[n];for(q=0;q<ma;q+=1)if(u=ra[q],R=ka[q],u!==R)for(p=15;0<=p;--p){if((u&1<<p)!==(R&1<<p)&&0===(R&1<<p))for(a=pa;a<fa;a+=1)c=da[a],aa=la>>2,c[aa]=0,c[aa+1]=0,c[aa+2]=0,c[aa+3]=0;la+=16}else la+=256;pa+=16;fa+=16}this.u=C;this.za=z;this.ia=H};
qa.prototype.ak=function(){var a=this.Be;var c=a[0];var b=a[1],d=a[2],f=a[3],e=a[4],g=a[5],k=a[6],l=a[7],p=a[8],n=this.Nc,q=this.Ae,m,r,u,t,v,x,w=this.Y,A=this.fa,C,z=this.$a,H,E=this.Ib,J,N,L=0,D=0,G=0,F=this.height,W=this.width,va=W>>4,ma=this.m,U=F,oa=-1,da=W,ca=-1,ta=this.W,ha=this.U>>4,pa=this.ib;if(0!==(this.counter&1)){var fa=this.$;var la=this.kb;var Aa=this.l;var ra=this.aa;var ka=this.X}else fa=this.l,la=this.Za,Aa=this.$,ra=this.X,ka=this.aa;z.fill(0);E.fill(0);var Z=0;var ea=Z+16;ka.cb.fill(0);
for(v=0;v<ra.length;v+=1){var V=0;var ya=V+16;var R=ra[v];var M=ka[v];var O=A[v];var ia=w[v];var T=0<v?ka[v-1]:pa;var P=v<ta-1?ka[v+1]:pa;for(x=0;x<ha;x+=1)if(C=R[x]){var sa=M[x];var za=T[x];var Ba=P[x];for(t=15;0<=t;--t){if(0!==(C&1<<t)){var aa=J=H=0;a=Z;for(N=32768;a<ea;){var ja=0===a?this.Ia:fa[a-1];var X=fa[a];var ba=a===this.height-1?this.Ia:fa[a+1];var Y=Aa[a];var wa=32768;var xa=V;if(0===xa)var Ca=u=m=0;else m=ja[xa-1],u=ba[xa-1],Ca=X[xa-1];var ua=ja[xa];var Ea=ba[xa];for(r=X[xa];xa<ya-1;){var Qa=
m;m=ua;ua=ja[xa+1];var Ma=Ca;Ca=r;r=X[xa+1];var cb=u;u=Ea;Ea=ba[xa+1];var db=Ca;var eb=c[Ca];var Wa=b[m];var fb=d[ua];var sb=f[r];var nb=e[Ea];var ob=g[u];cb=k[cb];var ub=l[Ma];var pb=p[Qa];for(Ma=0;Ma<q;Ma+=1)if(Qa=eb[Ma]&Wa[Ma])if(Qa&=fb[Ma]&sb[Ma])if(Qa&=nb[Ma]&ob[Ma])if(Qa&=cb[Ma]&ub[Ma]&pb[Ma]){Wa=0;for(fb=1;!(Qa&fb);)Wa+=1,fb<<=1;db=n[(Ma<<5)+Wa];break}Y[xa]=db;0<db?(L+=1,0===Ca&&(D+=1),J|=N,H|=wa):0<Ca&&(G+=1);wa>>=1;xa+=1}Qa=m;m=ua;Ma=Ca;Ca=r;cb=u;u=Ea;xa===W-1?Ea=r=ua=0:(ua=ja[xa+1],r=X[xa+
1],Ea=ba[xa+1]);eb=c[Ca];Wa=b[m];fb=d[ua];sb=f[r];nb=e[Ea];ob=g[u];cb=k[cb];ub=l[Ma];pb=p[Qa];db=Ca;for(Ma=0;Ma<q;Ma+=1)if(Qa=eb[Ma]&Wa[Ma])if(Qa&=fb[Ma]&sb[Ma])if(Qa&=nb[Ma]&ob[Ma])if(Qa&=cb[Ma]&ub[Ma]&pb[Ma]){Wa=0;for(fb=1;!(Qa&fb);)Wa+=1,fb<<=1;db=n[(Ma<<5)+Wa];break}Y[xa]=db;0<db?(L+=1,0===Ca&&(D+=1),J|=N,H|=wa):0<Ca&&(G+=1);a+=1;N>>=1}z[V>>4]|=H;H&&(sa|=1<<t,J&1&&(aa|=I.jc,H&32768&&(aa|=I.zc),H&1&&(aa|=I.ic)),J&32768&&(aa|=I.oc,H&32768&&(aa|=I.tc),H&1&&(aa|=I.uc)),H&32768&&(aa|=I.hc),H&1&&(aa|=
I.Xb),aa&&(0!==(aa&I.hc)&&(15>t?sa|=1<<t+1:0<x&&0<V&&(M[x-1]|=1)),0!==(aa&I.Xb)&&(0<t?sa|=1<<t-1:x<ha-1&&V<W-1&&(M[x+1]|=32768)),0!==(aa&I.oc)&&(za|=1<<t),0!==(aa&I.jc)&&(Ba|=1<<t),0!==(aa&I.tc)&&(15>t?za|=1<<t+1:0<x&&0<V&&(T[x-1]|=1)),0!==(aa&I.uc)&&(0<t?za|=1<<t-1:x<ha-1&&V<W-1&&(T[x+1]|=32768)),0!==(aa&I.zc)&&(15>t?Ba|=1<<t+1:0<x&&0<V&&(P[x-1]|=1)),0!==(aa&I.ic)&&(0<t?Ba|=1<<t-1:x<ha-1&&V<W-1&&(P[x+1]|=32768))));E[v]|=J}V+=16;ya+=16}M[x]|=sa;O[x]=C|sa;ia[x]=ia[x]|C|sa;0<v&&(T[x]|=za);v<ta-1&&(P[x]|=
Ba)}else V+=256,ya+=256;Z+=16;ea+=16}for(x=0;x<va;x+=1)z[x]&&(x<da&&(da=x),x>ca&&(ca=x));for(v=0;v<E.length;v+=1)E[v]&&(v<U&&(U=v),v>oa&&(oa=v));da=(da<<4)+this.Ca(z[da]);ca=(ca<<4)+this.Da(z[ca]);U=(U<<4)+this.Ca(E[U]);oa=(oa<<4)+this.Da(E[oa]);0>oa&&(oa=F-1);U>=F&&(U=0);da>=W&&(da=0);0>ca&&(ca=W-1);oa>F-1&&(oa=F-1);0>U&&(U=0);0>da&&(da=0);ca>W-1&&(ca=W-1);ma.K=oa;ma.G=U;ma.F=da;ma.J=ca;pa.fill(0);Z=0;ea=Z+16;for(v=0;v<ra.length;v+=1){V=0;R=ra[v];M=ka[v];for(x=0;x<ha;x+=1)if(C=R[x],sa=M[x],C!==sa)for(t=
15;0<=t;--t){if((C&1<<t)!==(sa&1<<t)&&0===(sa&1<<t))for(a=Z;a<ea;a+=1)c=la[a],xa=V>>2,c[xa]=0,c[xa+1]=0,c[xa+2]=0,c[xa+3]=0;V+=16}else V+=256;Z+=16;ea+=16}this.u=L;this.za=D;this.ia=G};qa.prototype.Yj=function(){var a=this.Be;var c=a[0];var b=a[1],d=a[2],f=a[3],e=a[4],g=a[5],k=a[6],l=this.Nc,p=this.Ae,n,q,m,r,u,t=this.Y,v=this.fa,x,w=this.$a,A,C=this.Ib,z,H,E=0,J=0,N=0,L=this.height,D=this.width,G=D>>4,F=this.m,W=L,va=-1,ma=D,U=-1,oa=this.W,da=this.U>>4,ca=this.ib;if(0!==(this.counter&1)){var ta=
this.$;var ha=this.kb;var pa=this.l;var fa=this.aa;var la=this.X}else ta=this.l,ha=this.Za,pa=this.$,fa=this.X,la=this.aa;w.fill(0);C.fill(0);var Aa=0;var ra=Aa+16;la.cb.fill(0);for(r=0;r<fa.length;r+=1){var ka=0;var Z=ka+16;var ea=fa[r];var V=la[r];var ya=v[r];var R=t[r];var M=0<r?la[r-1]:ca;var O=r<oa-1?la[r+1]:ca;for(u=0;u<da;u+=1)if(x=ea[u]){var ia=V[u];var T=M[u];var P=O[u];for(m=15;0<=m;--m){if(0!==(x&1<<m)){var sa=z=A=0;a=Aa;for(H=32768;a<ra;){var za=0===a?this.Ia:ta[a-1];var Ba=ta[a];var aa=
a===this.height-1?this.Ia:ta[a+1];var ja=pa[a];var X=32768;var ba=ka;if(0===ba)var Y=n=0;else n=za[ba-1],Y=Ba[ba-1];var wa=aa[ba];for(q=Ba[ba];ba<Z-1;){var xa=n;n=za[ba];var Ca=Y;Y=q;q=Ba[ba+1];var ua=wa;wa=aa[ba+1];var Ea=c[Y];var Qa=b[n];var Ma=d[q];var cb=f[wa];ua=e[ua];var db=g[Ca];var eb=k[xa];var Wa=Y;for(Ca=0;Ca<p;Ca+=1)if(xa=Ea[Ca]&Qa[Ca])if(xa&=Ma[Ca]&cb[Ca])if(xa&=ua[Ca]&db[Ca]&eb[Ca]){Qa=0;for(Ma=1;!(xa&Ma);)Qa+=1,Ma<<=1;Wa=l[(Ca<<5)+Qa];break}ja[ba]=Wa;0<Wa?(E+=1,0===Y&&(J+=1),z|=H,A|=
X):0<Y&&(N+=1);X>>=1;ba+=1}xa=n;n=za[ba];Ca=Y;Y=q;ua=wa;ba===D-1?wa=q=0:(q=Ba[ba+1],wa=aa[ba+1]);Ea=c[Y];Qa=b[n];Ma=d[q];cb=f[wa];ua=e[ua];db=g[Ca];eb=k[xa];Wa=Y;for(Ca=0;Ca<p;Ca+=1)if(xa=Ea[Ca]&Qa[Ca])if(xa&=Ma[Ca]&cb[Ca])if(xa&=ua[Ca]&db[Ca]&eb[Ca]){Qa=0;for(Ma=1;!(xa&Ma);)Qa+=1,Ma<<=1;Wa=l[(Ca<<5)+Qa];break}ja[ba]=Wa;0<Wa?(E+=1,0===Y&&(J+=1),z|=H,A|=X):0<Y&&(N+=1);a+=1;H>>=1}w[ka>>4]|=A;A&&(ia|=1<<m,z&1&&(sa|=I.jc,A&32768&&(sa|=I.zc),A&1&&(sa|=I.ic)),z&32768&&(sa|=I.oc,A&32768&&(sa|=I.tc),A&1&&
(sa|=I.uc)),A&32768&&(sa|=I.hc),A&1&&(sa|=I.Xb),sa&&(0!==(sa&I.hc)&&(15>m?ia|=1<<m+1:0<u&&0<ka&&(V[u-1]|=1)),0!==(sa&I.Xb)&&(0<m?ia|=1<<m-1:u<da-1&&ka<D-1&&(V[u+1]|=32768)),0!==(sa&I.oc)&&(T|=1<<m),0!==(sa&I.jc)&&(P|=1<<m),0!==(sa&I.tc)&&(15>m?T|=1<<m+1:0<u&&0<ka&&(M[u-1]|=1)),0!==(sa&I.uc)&&(0<m?T|=1<<m-1:u<da-1&&ka<D-1&&(M[u+1]|=32768)),0!==(sa&I.zc)&&(15>m?P|=1<<m+1:0<u&&0<ka&&(O[u-1]|=1)),0!==(sa&I.ic)&&(0<m?P|=1<<m-1:u<da-1&&ka<D-1&&(O[u+1]|=32768))));C[r]|=z}ka+=16;Z+=16}V[u]|=ia;ya[u]=x|ia;
R[u]=R[u]|x|ia;0<r&&(M[u]|=T);r<oa-1&&(O[u]|=P)}else ka+=256,Z+=256;Aa+=16;ra+=16}for(u=0;u<G;u+=1)w[u]&&(u<ma&&(ma=u),u>U&&(U=u));for(r=0;r<C.length;r+=1)C[r]&&(r<W&&(W=r),r>va&&(va=r));ma=(ma<<4)+this.Ca(w[ma]);U=(U<<4)+this.Da(w[U]);W=(W<<4)+this.Ca(C[W]);va=(va<<4)+this.Da(C[va]);0>va&&(va=L-1);W>=L&&(W=0);ma>=D&&(ma=0);0>U&&(U=D-1);va>L-1&&(va=L-1);0>W&&(W=0);0>ma&&(ma=0);U>D-1&&(U=D-1);F.K=va;F.G=W;F.F=ma;F.J=U;ca.fill(0);Aa=0;ra=Aa+16;for(r=0;r<fa.length;r+=1){ka=0;ea=fa[r];V=la[r];for(u=0;u<
da;u+=1)if(x=ea[u],ia=V[u],x!==ia)for(m=15;0<=m;--m){if((x&1<<m)!==(ia&1<<m)&&0===(ia&1<<m))for(a=Aa;a<ra;a+=1)c=ha[a],ba=ka>>2,c[ba]=0,c[ba+1]=0,c[ba+2]=0,c[ba+3]=0;ka+=16}else ka+=256;Aa+=16;ra+=16}this.u=E;this.za=J;this.ia=N};qa.prototype.ek=function(){if(4===this.Nf)if(null!==this.rd)switch(this.ui){case 1:this.ik();break;case 2:this.kk();break;case 3:this.mk();break;case 4:this.pk();break;default:this.li()}else this.li();else this.gk()};qa.prototype.li=function(){var a=this.Jf,c=this.Mf,b=this.Zf,
d,f,e,g=this.Y,k=this.fa,l,p=this.qb,n=this.$a,q,m=this.Ib,r,u=0,t=0,v=0,x=this.height,w=this.width,A=w>>4,C=this.m,z=x,H=-1,E=w,J=-1,N=this.W,L=this.U>>4,D=this.ib;if(0!==(this.counter&1)){var G=this.$;var F=this.kb;var W=this.Za;var va=this.aa;var ma=this.X}else G=this.l,F=this.Za,W=this.kb,va=this.X,ma=this.aa;n.fill(0);m.fill(0);var U=0;var oa=U+16;ma.cb.fill(0);for(f=0;f<va.length;f+=1){var da=0;var ca=va[f];var ta=ma[f];var ha=k[f];var pa=g[f];var fa=p[f];var la=0<f?ma[f-1]:D;var Aa=f<N-1?ma[f+
1]:D;for(e=0;e<L;e+=1)if(l=ca[e]){var ra=ta[e];var ka=la[e];var Z=Aa[e];var ea=fa[e];for(d=15;0<=d;--d){if(0!==(l&1<<d)){var V=r=q=0;var ya=U;var R=32768;var M=0;if(0!==(ea&1<<d)){for(;ya<oa;){var O=ya===U||ya===oa-1?!0:!1;var ia=0===ya?this.Ia:G[ya-1];var T=G[ya];var P=ya===this.height-1?this.Ia:G[ya+1];var sa=W[ya];var za=32768;var Ba=0;var aa=da;var ja=0===aa?0:T[aa-1];var X=T[aa];var ba=ja;ja=X;var Y=ia[aa];X=T[aa+1];var wa=P[aa];var xa=Y=c[a[a[a[a[b+Y]+ba]+X]+wa]+ja];M|=Y-ja;0<Y?(u+=1,0===ja&&
(t+=1),Ba|=za):0<ja&&(v+=1);za>>=1;aa+=1;O?(ba=ja,ja=X,Y=ia[aa],X=T[aa+1],wa=P[aa],Y=c[a[a[a[a[b+Y]+ba]+X]+wa]+ja],xa|=Y<<8,M|=Y-ja,0<Y?(u+=1,0===ja&&(t+=1),Ba|=za):0<ja&&(v+=1),za>>=1,aa+=1,ba=ja,ja=X,Y=ia[aa],X=T[aa+1],wa=P[aa],Y=c[a[a[a[a[b+Y]+ba]+X]+wa]+ja],xa|=Y<<16,M|=Y-ja,0<Y?(u+=1,0===ja&&(t+=1),Ba|=za):0<ja&&(v+=1),za>>=1,aa+=1,ba=ja,ja=X,Y=ia[aa],X=T[aa+1],wa=P[aa],Y=c[a[a[a[a[b+Y]+ba]+X]+wa]+ja],xa|=Y<<24,sa[aa>>2]=xa,M|=Y-ja,0<Y?(u+=1,0===ja&&(t+=1),Ba|=za):0<ja&&(v+=1),za>>=1,aa+=1,ba=
ja,ja=X,Y=ia[aa],X=T[aa+1],wa=P[aa],xa=Y=c[a[a[a[a[b+Y]+ba]+X]+wa]+ja],M|=Y-ja,0<Y?(u+=1,0===ja&&(t+=1),Ba|=za):0<ja&&(v+=1),za>>=1,aa+=1,ba=ja,ja=X,Y=ia[aa],X=T[aa+1],wa=P[aa],Y=c[a[a[a[a[b+Y]+ba]+X]+wa]+ja],xa|=Y<<8,M|=Y-ja,0<Y?(u+=1,0===ja&&(t+=1),Ba|=za):0<ja&&(v+=1),za>>=1,aa+=1,ba=ja,ja=X,Y=ia[aa],X=T[aa+1],wa=P[aa],Y=c[a[a[a[a[b+Y]+ba]+X]+wa]+ja],xa|=Y<<16,M|=Y-ja,0<Y?(u+=1,0===ja&&(t+=1),Ba|=za):0<ja&&(v+=1),za>>=1,aa+=1,ba=ja,ja=X,Y=ia[aa],X=T[aa+1],wa=P[aa],Y=c[a[a[a[a[b+Y]+ba]+X]+wa]+ja],
xa|=Y<<24,sa[aa>>2]=xa,M|=Y-ja,0<Y?(u+=1,0===ja&&(t+=1),Ba|=za):0<ja&&(v+=1),za>>=1,aa+=1,ba=ja,ja=X,Y=ia[aa],X=T[aa+1],wa=P[aa],xa=Y=c[a[a[a[a[b+Y]+ba]+X]+wa]+ja],M|=Y-ja,0<Y?(u+=1,0===ja&&(t+=1),Ba|=za):0<ja&&(v+=1),za>>=1,aa+=1,ba=ja,ja=X,Y=ia[aa],X=T[aa+1],wa=P[aa],Y=c[a[a[a[a[b+Y]+ba]+X]+wa]+ja],xa|=Y<<8,M|=Y-ja,0<Y?(u+=1,0===ja&&(t+=1),Ba|=za):0<ja&&(v+=1),za>>=1,aa+=1,ba=ja,ja=X,Y=ia[aa],X=T[aa+1],wa=P[aa],Y=c[a[a[a[a[b+Y]+ba]+X]+wa]+ja],xa|=Y<<16,M|=Y-ja,0<Y?(u+=1,0===ja&&(t+=1),Ba|=za):0<
ja&&(v+=1),za>>=1,aa+=1,ba=ja,ja=X,Y=ia[aa],X=T[aa+1],wa=P[aa],Y=c[a[a[a[a[b+Y]+ba]+X]+wa]+ja],xa|=Y<<24,sa[aa>>2]=xa,M|=Y-ja,0<Y?(u+=1,0===ja&&(t+=1),Ba|=za):0<ja&&(v+=1),za>>=1,aa+=1,ba=ja,ja=X,Y=ia[aa],X=T[aa+1],wa=P[aa],xa=Y=c[a[a[a[a[b+Y]+ba]+X]+wa]+ja],M|=Y-ja,0<Y?(u+=1,0===ja&&(t+=1),Ba|=za):0<ja&&(v+=1),za>>=1,aa+=1,ba=ja,ja=X,Y=ia[aa],X=T[aa+1],wa=P[aa],Y=c[a[a[a[a[b+Y]+ba]+X]+wa]+ja],xa|=Y<<8,M|=Y-ja,0<Y?(u+=1,0===ja&&(t+=1),Ba|=za):0<ja&&(v+=1),za>>=1,aa+=1,ba=ja,ja=X,Y=ia[aa],X=T[aa+1],
wa=P[aa],Y=c[a[a[a[a[b+Y]+ba]+X]+wa]+ja],xa|=Y<<16,M|=Y-ja,0<Y?(u+=1,0===ja&&(t+=1),Ba|=za):0<ja&&(v+=1)):(Y=T[aa],xa|=Y<<8,0<Y&&(u+=1,Ba|=za),za>>=1,aa+=1,Y=T[aa],xa|=Y<<16,0<Y&&(u+=1,Ba|=za),za>>=1,aa+=1,Y=T[aa],xa|=Y<<24,sa[aa>>2]=xa,0<Y&&(u+=1,Ba|=za),za>>=1,aa+=1,0<T[aa]&&(u+=1,Ba|=za),za>>=1,aa+=1,0<T[aa]&&(u+=1,Ba|=za),za>>=1,aa+=1,0<T[aa]&&(u+=1,Ba|=za),za>>=1,aa+=1,0<T[aa]&&(u+=1,Ba|=za),za>>=1,aa+=1,0<T[aa]&&(u+=1,Ba|=za),za>>=1,aa+=1,0<T[aa]&&(u+=1,Ba|=za),za>>=1,aa+=1,0<T[aa]&&(u+=1,Ba|=
za),za>>=1,aa+=1,0<T[aa]&&(u+=1,Ba|=za),za>>=1,aa+=1,xa=Y=T[aa],0<Y&&(u+=1,Ba|=za),za>>=1,aa+=1,Y=T[aa],xa|=Y<<8,0<Y&&(u+=1,Ba|=za),za>>=1,aa+=1,ja=T[aa],xa|=ja<<16,X=T[aa+1],0<ja&&(u+=1,Ba|=za));za>>=1;aa+=1;ba=ja;ja=X;Y=ia[aa];X=aa===w-1?0:T[aa+1];wa=P[aa];Y=c[a[a[a[a[b+Y]+ba]+X]+wa]+ja];xa|=Y<<24;sa[aa>>2]=xa;M|=Y-ja;0<Y?(u+=1,0===ja&&(t+=1),Ba|=za):0<ja&&(v+=1);Ba&&(q|=Ba,r|=R);ya+=1;R>>=1}0!==M&&(ea&=~(1<<d))}else{for(;ya<oa;)ia=0===ya?this.Ia:G[ya-1],T=G[ya],P=ya===this.height-1?this.Ia:G[ya+
1],sa=W[ya],za=32768,Ba=0,aa=da,ja=0===aa?0:T[aa-1],X=T[aa],ba=ja,ja=X,Y=ia[aa],X=T[aa+1],wa=P[aa],xa=Y=c[a[a[a[a[b+Y]+ba]+X]+wa]+ja],M|=Y-ja,0<Y?(u+=1,0===ja&&(t+=1),Ba|=za):0<ja&&(v+=1),za>>=1,aa+=1,ba=ja,ja=X,Y=ia[aa],X=T[aa+1],wa=P[aa],Y=c[a[a[a[a[b+Y]+ba]+X]+wa]+ja],xa|=Y<<8,M|=Y-ja,0<Y?(u+=1,0===ja&&(t+=1),Ba|=za):0<ja&&(v+=1),za>>=1,aa+=1,ba=ja,ja=X,Y=ia[aa],X=T[aa+1],wa=P[aa],Y=c[a[a[a[a[b+Y]+ba]+X]+wa]+ja],xa|=Y<<16,M|=Y-ja,0<Y?(u+=1,0===ja&&(t+=1),Ba|=za):0<ja&&(v+=1),za>>=1,aa+=1,ba=ja,
ja=X,Y=ia[aa],X=T[aa+1],wa=P[aa],Y=c[a[a[a[a[b+Y]+ba]+X]+wa]+ja],xa|=Y<<24,sa[aa>>2]=xa,M|=Y-ja,0<Y?(u+=1,0===ja&&(t+=1),Ba|=za):0<ja&&(v+=1),za>>=1,aa+=1,ba=ja,ja=X,Y=ia[aa],X=T[aa+1],wa=P[aa],xa=Y=c[a[a[a[a[b+Y]+ba]+X]+wa]+ja],M|=Y-ja,0<Y?(u+=1,0===ja&&(t+=1),Ba|=za):0<ja&&(v+=1),za>>=1,aa+=1,ba=ja,ja=X,Y=ia[aa],X=T[aa+1],wa=P[aa],Y=c[a[a[a[a[b+Y]+ba]+X]+wa]+ja],xa|=Y<<8,M|=Y-ja,0<Y?(u+=1,0===ja&&(t+=1),Ba|=za):0<ja&&(v+=1),za>>=1,aa+=1,ba=ja,ja=X,Y=ia[aa],X=T[aa+1],wa=P[aa],Y=c[a[a[a[a[b+Y]+ba]+
X]+wa]+ja],xa|=Y<<16,M|=Y-ja,0<Y?(u+=1,0===ja&&(t+=1),Ba|=za):0<ja&&(v+=1),za>>=1,aa+=1,ba=ja,ja=X,Y=ia[aa],X=T[aa+1],wa=P[aa],Y=c[a[a[a[a[b+Y]+ba]+X]+wa]+ja],xa|=Y<<24,sa[aa>>2]=xa,M|=Y-ja,0<Y?(u+=1,0===ja&&(t+=1),Ba|=za):0<ja&&(v+=1),za>>=1,aa+=1,ba=ja,ja=X,Y=ia[aa],X=T[aa+1],wa=P[aa],xa=Y=c[a[a[a[a[b+Y]+ba]+X]+wa]+ja],M|=Y-ja,0<Y?(u+=1,0===ja&&(t+=1),Ba|=za):0<ja&&(v+=1),za>>=1,aa+=1,ba=ja,ja=X,Y=ia[aa],X=T[aa+1],wa=P[aa],Y=c[a[a[a[a[b+Y]+ba]+X]+wa]+ja],xa|=Y<<8,M|=Y-ja,0<Y?(u+=1,0===ja&&(t+=1),
Ba|=za):0<ja&&(v+=1),za>>=1,aa+=1,ba=ja,ja=X,Y=ia[aa],X=T[aa+1],wa=P[aa],Y=c[a[a[a[a[b+Y]+ba]+X]+wa]+ja],xa|=Y<<16,M|=Y-ja,0<Y?(u+=1,0===ja&&(t+=1),Ba|=za):0<ja&&(v+=1),za>>=1,aa+=1,ba=ja,ja=X,Y=ia[aa],X=T[aa+1],wa=P[aa],Y=c[a[a[a[a[b+Y]+ba]+X]+wa]+ja],xa|=Y<<24,sa[aa>>2]=xa,M|=Y-ja,0<Y?(u+=1,0===ja&&(t+=1),Ba|=za):0<ja&&(v+=1),za>>=1,aa+=1,ba=ja,ja=X,Y=ia[aa],X=T[aa+1],wa=P[aa],xa=Y=c[a[a[a[a[b+Y]+ba]+X]+wa]+ja],M|=Y-ja,0<Y?(u+=1,0===ja&&(t+=1),Ba|=za):0<ja&&(v+=1),za>>=1,aa+=1,ba=ja,ja=X,Y=ia[aa],
X=T[aa+1],wa=P[aa],Y=c[a[a[a[a[b+Y]+ba]+X]+wa]+ja],xa|=Y<<8,M|=Y-ja,0<Y?(u+=1,0===ja&&(t+=1),Ba|=za):0<ja&&(v+=1),za>>=1,aa+=1,ba=ja,ja=X,Y=ia[aa],X=T[aa+1],wa=P[aa],Y=c[a[a[a[a[b+Y]+ba]+X]+wa]+ja],xa|=Y<<16,M|=Y-ja,0<Y?(u+=1,0===ja&&(t+=1),Ba|=za):0<ja&&(v+=1),za>>=1,aa+=1,ba=ja,ja=X,Y=ia[aa],X=aa===w-1?0:T[aa+1],wa=P[aa],Y=c[a[a[a[a[b+Y]+ba]+X]+wa]+ja],xa|=Y<<24,sa[aa>>2]=xa,M|=Y-ja,0<Y?(u+=1,0===ja&&(t+=1),Ba|=za):0<ja&&(v+=1),Ba&&(q|=Ba,r|=R),ya+=1,R>>=1;0===M&&q&&(ea|=1<<d)}n[da>>4]|=q;q&&(ra|=
1<<d,r&1&&(V|=I.jc,q&32768&&(V|=I.zc),q&1&&(V|=I.ic)),r&32768&&(V|=I.oc,q&32768&&(V|=I.tc),q&1&&(V|=I.uc)),q&32768&&(V|=I.hc),q&1&&(V|=I.Xb),V&&(0!==(V&I.hc)&&(15>d?ra|=1<<d+1:0<e&&0<da&&(ta[e-1]|=1)),0!==(V&I.Xb)&&(0<d?ra|=1<<d-1:e<L-1&&da<w-1&&(ta[e+1]|=32768)),0!==(V&I.oc)&&(ka|=1<<d),0!==(V&I.jc)&&(Z|=1<<d),0!==(V&I.tc)&&(15>d?ka|=1<<d+1:0<e&&0<da&&(la[e-1]|=1)),0!==(V&I.uc)&&(0<d?ka|=1<<d-1:e<L-1&&da<w-1&&(la[e+1]|=32768)),0!==(V&I.zc)&&(15>d?Z|=1<<d+1:0<e&&0<da&&(Aa[e-1]|=1)),0!==(V&I.ic)&&
(0<d?Z|=1<<d-1:e<L-1&&da<w-1&&(Aa[e+1]|=32768))));m[f]|=r}da+=16}ta[e]|=ra;fa[e]=ea;ha[e]=l|ra;pa[e]=pa[e]|l|ra;0<f&&(la[e]|=ka);f<N-1&&(Aa[e]|=Z)}else da+=256;U+=16;oa+=16}for(e=0;e<A;e+=1)n[e]&&(e<E&&(E=e),e>J&&(J=e));for(f=0;f<m.length;f+=1)m[f]&&(f<z&&(z=f),f>H&&(H=f));E=(E<<4)+this.Ca(n[E]);J=(J<<4)+this.Da(n[J]);z=(z<<4)+this.Ca(m[z]);H=(H<<4)+this.Da(m[H]);0>H&&(H=x-1);z>=x&&(z=0);E>=w&&(E=0);0>J&&(J=w-1);H>x-1&&(H=x-1);0>z&&(z=0);0>E&&(E=0);J>w-1&&(J=w-1);C.K=H;C.G=z;C.F=E;C.J=J;D.fill(0);
U=0;oa=U+16;for(f=0;f<va.length;f+=1){da=0;ca=va[f];ta=ma[f];for(e=0;e<L;e+=1)if(l=ca[e],ra=ta[e],l!==ra)for(d=15;0<=d;--d){if((l&1<<d)!==(ra&1<<d)&&0===(ra&1<<d))for(ya=U;ya<oa;ya+=1)ia=F[ya],aa=da>>2,ia[aa]=0,ia[aa+1]=0,ia[aa+2]=0,ia[aa+3]=0;da+=16}else da+=256;U+=16;oa+=16}this.u=u;this.za=t;this.ia=v};qa.prototype.gk=function(){var a=this.Jf,c=this.Mf,b=this.Zf,d,f,e,g,k,l=this.Y,p=this.fa,n,q=this.qb,m=this.$a,r,u=this.Ib,t,v=0,x=0,w=0,A=this.height,C=this.width,z=C>>4,H=this.m,E=A,J=-1,N=C,
L=-1,D=this.W,G=this.U>>4,F=this.ib;if(0!==(this.counter&1)){var W=this.$;var va=this.kb;var ma=this.l;var U=this.aa;var oa=this.X}else W=this.l,va=this.Za,ma=this.$,U=this.X,oa=this.aa;m.fill(0);u.fill(0);var da=0;var ca=da+16;oa.cb.fill(0);for(g=0;g<U.length;g+=1){var ta=0;var ha=U[g];var pa=oa[g];var fa=p[g];var la=l[g];var Aa=q[g];var ra=0<g?oa[g-1]:F;var ka=g<D-1?oa[g+1]:F;for(k=0;k<G;k+=1)if(n=ha[k]){var Z=pa[k];var ea=ra[k];var V=ka[k];var ya=Aa[k];for(e=15;0<=e;--e){if(0!==(n&1<<e)){var R=
t=r=0;var M=da;var O=32768;var ia=0;if(0!==(ya&1<<e)){for(;M<ca;){var T=M===da||M===ca-1?!0:!1;var P=0===M?this.Ia:W[M-1];var sa=W[M];var za=M===this.height-1?this.Ia:W[M+1];var Ba=ma[M];var aa=32768;var ja=0;var X=ta;if(0===X)var ba=f=d=0;else d=P[X-1],f=za[X-1],ba=sa[X-1];var Y=P[X];var wa=za[X];var xa=sa[X];var Ca=d;d=Y;Y=P[X+1];var ua=ba;ba=xa;xa=sa[X+1];var Ea=f;f=wa;wa=za[X+1];ua=c[a[a[a[a[a[a[a[a[b+Ca]+Y]+Ea]+wa]+d]+ua]+xa]+f]+ba];ia|=ua-ba;Ba[X]=ua;0<ua?(v+=1,0===ba&&(x+=1),ja|=aa):0<ba&&
(w+=1);aa>>=1;X+=1;T?(Ca=d,d=Y,Y=P[X+1],ua=ba,ba=xa,xa=sa[X+1],Ea=f,f=wa,wa=za[X+1],ua=c[a[a[a[a[a[a[a[a[b+Ca]+Y]+Ea]+wa]+d]+ua]+xa]+f]+ba],ia|=ua-ba,Ba[X]=ua,0<ua?(v+=1,0===ba&&(x+=1),ja|=aa):0<ba&&(w+=1),aa>>=1,X+=1,Ca=d,d=Y,Y=P[X+1],ua=ba,ba=xa,xa=sa[X+1],Ea=f,f=wa,wa=za[X+1],ua=c[a[a[a[a[a[a[a[a[b+Ca]+Y]+Ea]+wa]+d]+ua]+xa]+f]+ba],ia|=ua-ba,Ba[X]=ua,0<ua?(v+=1,0===ba&&(x+=1),ja|=aa):0<ba&&(w+=1),aa>>=1,X+=1,Ca=d,d=Y,Y=P[X+1],ua=ba,ba=xa,xa=sa[X+1],Ea=f,f=wa,wa=za[X+1],ua=c[a[a[a[a[a[a[a[a[b+Ca]+
Y]+Ea]+wa]+d]+ua]+xa]+f]+ba],ia|=ua-ba,Ba[X]=ua,0<ua?(v+=1,0===ba&&(x+=1),ja|=aa):0<ba&&(w+=1),aa>>=1,X+=1,Ca=d,d=Y,Y=P[X+1],ua=ba,ba=xa,xa=sa[X+1],Ea=f,f=wa,wa=za[X+1],ua=c[a[a[a[a[a[a[a[a[b+Ca]+Y]+Ea]+wa]+d]+ua]+xa]+f]+ba],ia|=ua-ba,Ba[X]=ua,0<ua?(v+=1,0===ba&&(x+=1),ja|=aa):0<ba&&(w+=1),aa>>=1,X+=1,Ca=d,d=Y,Y=P[X+1],ua=ba,ba=xa,xa=sa[X+1],Ea=f,f=wa,wa=za[X+1],ua=c[a[a[a[a[a[a[a[a[b+Ca]+Y]+Ea]+wa]+d]+ua]+xa]+f]+ba],ia|=ua-ba,Ba[X]=ua,0<ua?(v+=1,0===ba&&(x+=1),ja|=aa):0<ba&&(w+=1),aa>>=1,X+=1,Ca=
d,d=Y,Y=P[X+1],ua=ba,ba=xa,xa=sa[X+1],Ea=f,f=wa,wa=za[X+1],ua=c[a[a[a[a[a[a[a[a[b+Ca]+Y]+Ea]+wa]+d]+ua]+xa]+f]+ba],ia|=ua-ba,Ba[X]=ua,0<ua?(v+=1,0===ba&&(x+=1),ja|=aa):0<ba&&(w+=1),aa>>=1,X+=1,Ca=d,d=Y,Y=P[X+1],ua=ba,ba=xa,xa=sa[X+1],Ea=f,f=wa,wa=za[X+1],ua=c[a[a[a[a[a[a[a[a[b+Ca]+Y]+Ea]+wa]+d]+ua]+xa]+f]+ba],ia|=ua-ba,Ba[X]=ua,0<ua?(v+=1,0===ba&&(x+=1),ja|=aa):0<ba&&(w+=1),aa>>=1,X+=1,Ca=d,d=Y,Y=P[X+1],ua=ba,ba=xa,xa=sa[X+1],Ea=f,f=wa,wa=za[X+1],ua=c[a[a[a[a[a[a[a[a[b+Ca]+Y]+Ea]+wa]+d]+ua]+xa]+f]+
ba],ia|=ua-ba,Ba[X]=ua,0<ua?(v+=1,0===ba&&(x+=1),ja|=aa):0<ba&&(w+=1),aa>>=1,X+=1,Ca=d,d=Y,Y=P[X+1],ua=ba,ba=xa,xa=sa[X+1],Ea=f,f=wa,wa=za[X+1],ua=c[a[a[a[a[a[a[a[a[b+Ca]+Y]+Ea]+wa]+d]+ua]+xa]+f]+ba],ia|=ua-ba,Ba[X]=ua,0<ua?(v+=1,0===ba&&(x+=1),ja|=aa):0<ba&&(w+=1),aa>>=1,X+=1,Ca=d,d=Y,Y=P[X+1],ua=ba,ba=xa,xa=sa[X+1],Ea=f,f=wa,wa=za[X+1],ua=c[a[a[a[a[a[a[a[a[b+Ca]+Y]+Ea]+wa]+d]+ua]+xa]+f]+ba],ia|=ua-ba,Ba[X]=ua,0<ua?(v+=1,0===ba&&(x+=1),ja|=aa):0<ba&&(w+=1),aa>>=1,X+=1,Ca=d,d=Y,Y=P[X+1],ua=ba,ba=
xa,xa=sa[X+1],Ea=f,f=wa,wa=za[X+1],ua=c[a[a[a[a[a[a[a[a[b+Ca]+Y]+Ea]+wa]+d]+ua]+xa]+f]+ba],ia|=ua-ba,Ba[X]=ua,0<ua?(v+=1,0===ba&&(x+=1),ja|=aa):0<ba&&(w+=1),aa>>=1,X+=1,Ca=d,d=Y,Y=P[X+1],ua=ba,ba=xa,xa=sa[X+1],Ea=f,f=wa,wa=za[X+1],ua=c[a[a[a[a[a[a[a[a[b+Ca]+Y]+Ea]+wa]+d]+ua]+xa]+f]+ba],ia|=ua-ba,Ba[X]=ua,0<ua?(v+=1,0===ba&&(x+=1),ja|=aa):0<ba&&(w+=1),aa>>=1,X+=1,Ca=d,d=Y,Y=P[X+1],ua=ba,ba=xa,xa=sa[X+1],Ea=f,f=wa,wa=za[X+1],ua=c[a[a[a[a[a[a[a[a[b+Ca]+Y]+Ea]+wa]+d]+ua]+xa]+f]+ba],ia|=ua-ba,Ba[X]=ua,
0<ua?(v+=1,0===ba&&(x+=1),ja|=aa):0<ba&&(w+=1),aa>>=1,X+=1,Ca=d,d=Y,Y=P[X+1],ua=ba,ba=xa,xa=sa[X+1],Ea=f,f=wa,wa=za[X+1],ua=c[a[a[a[a[a[a[a[a[b+Ca]+Y]+Ea]+wa]+d]+ua]+xa]+f]+ba],ia|=ua-ba,Ba[X]=ua,0<ua?(v+=1,0===ba&&(x+=1),ja|=aa):0<ba&&(w+=1)):(0<sa[X]&&(v+=1,ja|=aa),aa>>=1,X+=1,0<sa[X]&&(v+=1,ja|=aa),aa>>=1,X+=1,0<sa[X]&&(v+=1,ja|=aa),aa>>=1,X+=1,0<sa[X]&&(v+=1,ja|=aa),aa>>=1,X+=1,0<sa[X]&&(v+=1,ja|=aa),aa>>=1,X+=1,0<sa[X]&&(v+=1,ja|=aa),aa>>=1,X+=1,0<sa[X]&&(v+=1,ja|=aa),aa>>=1,X+=1,0<sa[X]&&(v+=
1,ja|=aa),aa>>=1,X+=1,0<sa[X]&&(v+=1,ja|=aa),aa>>=1,X+=1,0<sa[X]&&(v+=1,ja|=aa),aa>>=1,X+=1,0<sa[X]&&(v+=1,ja|=aa),aa>>=1,X+=1,0<sa[X]&&(v+=1,ja|=aa),aa>>=1,X+=1,0<sa[X]&&(v+=1,ja|=aa),aa>>=1,X+=1,d=P[X],ba=sa[X],f=za[X],Y=P[X+1],xa=sa[X+1],wa=za[X+1],0<ba&&(v+=1,ja|=aa));aa>>=1;X+=1;Ca=d;d=Y;ua=ba;ba=xa;Ea=f;f=wa;X===C-1?wa=xa=Y=0:(Y=P[X+1],xa=sa[X+1],wa=za[X+1]);ua=c[a[a[a[a[a[a[a[a[b+Ca]+Y]+Ea]+wa]+d]+ua]+xa]+f]+ba];ia|=ua-ba;Ba[X]=ua;0<ua?(v+=1,0===ba&&(x+=1),ja|=aa):0<ba&&(w+=1);ja&&(r|=ja,t|=
O);M+=1;O>>=1}0!==ia&&(ya&=~(1<<e))}else{for(;M<ca;)P=0===M?this.Ia:W[M-1],sa=W[M],za=M===this.height-1?this.Ia:W[M+1],Ba=ma[M],aa=32768,ja=0,X=ta,0===X?ba=f=d=0:(d=P[X-1],f=za[X-1],ba=sa[X-1]),Y=P[X],wa=za[X],xa=sa[X],Ca=d,d=Y,Y=P[X+1],ua=ba,ba=xa,xa=sa[X+1],Ea=f,f=wa,wa=za[X+1],ua=c[a[a[a[a[a[a[a[a[b+Ca]+Y]+Ea]+wa]+d]+ua]+xa]+f]+ba],ia|=ua-ba,Ba[X]=ua,0<ua?(v+=1,0===ba&&(x+=1),ja|=aa):0<ba&&(w+=1),aa>>=1,X+=1,Ca=d,d=Y,Y=P[X+1],ua=ba,ba=xa,xa=sa[X+1],Ea=f,f=wa,wa=za[X+1],ua=c[a[a[a[a[a[a[a[a[b+Ca]+
Y]+Ea]+wa]+d]+ua]+xa]+f]+ba],ia|=ua-ba,Ba[X]=ua,0<ua?(v+=1,0===ba&&(x+=1),ja|=aa):0<ba&&(w+=1),aa>>=1,X+=1,Ca=d,d=Y,Y=P[X+1],ua=ba,ba=xa,xa=sa[X+1],Ea=f,f=wa,wa=za[X+1],ua=c[a[a[a[a[a[a[a[a[b+Ca]+Y]+Ea]+wa]+d]+ua]+xa]+f]+ba],ia|=ua-ba,Ba[X]=ua,0<ua?(v+=1,0===ba&&(x+=1),ja|=aa):0<ba&&(w+=1),aa>>=1,X+=1,Ca=d,d=Y,Y=P[X+1],ua=ba,ba=xa,xa=sa[X+1],Ea=f,f=wa,wa=za[X+1],ua=c[a[a[a[a[a[a[a[a[b+Ca]+Y]+Ea]+wa]+d]+ua]+xa]+f]+ba],ia|=ua-ba,Ba[X]=ua,0<ua?(v+=1,0===ba&&(x+=1),ja|=aa):0<ba&&(w+=1),aa>>=1,X+=1,Ca=
d,d=Y,Y=P[X+1],ua=ba,ba=xa,xa=sa[X+1],Ea=f,f=wa,wa=za[X+1],ua=c[a[a[a[a[a[a[a[a[b+Ca]+Y]+Ea]+wa]+d]+ua]+xa]+f]+ba],ia|=ua-ba,Ba[X]=ua,0<ua?(v+=1,0===ba&&(x+=1),ja|=aa):0<ba&&(w+=1),aa>>=1,X+=1,Ca=d,d=Y,Y=P[X+1],ua=ba,ba=xa,xa=sa[X+1],Ea=f,f=wa,wa=za[X+1],ua=c[a[a[a[a[a[a[a[a[b+Ca]+Y]+Ea]+wa]+d]+ua]+xa]+f]+ba],ia|=ua-ba,Ba[X]=ua,0<ua?(v+=1,0===ba&&(x+=1),ja|=aa):0<ba&&(w+=1),aa>>=1,X+=1,Ca=d,d=Y,Y=P[X+1],ua=ba,ba=xa,xa=sa[X+1],Ea=f,f=wa,wa=za[X+1],ua=c[a[a[a[a[a[a[a[a[b+Ca]+Y]+Ea]+wa]+d]+ua]+xa]+f]+
ba],ia|=ua-ba,Ba[X]=ua,0<ua?(v+=1,0===ba&&(x+=1),ja|=aa):0<ba&&(w+=1),aa>>=1,X+=1,Ca=d,d=Y,Y=P[X+1],ua=ba,ba=xa,xa=sa[X+1],Ea=f,f=wa,wa=za[X+1],ua=c[a[a[a[a[a[a[a[a[b+Ca]+Y]+Ea]+wa]+d]+ua]+xa]+f]+ba],ia|=ua-ba,Ba[X]=ua,0<ua?(v+=1,0===ba&&(x+=1),ja|=aa):0<ba&&(w+=1),aa>>=1,X+=1,Ca=d,d=Y,Y=P[X+1],ua=ba,ba=xa,xa=sa[X+1],Ea=f,f=wa,wa=za[X+1],ua=c[a[a[a[a[a[a[a[a[b+Ca]+Y]+Ea]+wa]+d]+ua]+xa]+f]+ba],ia|=ua-ba,Ba[X]=ua,0<ua?(v+=1,0===ba&&(x+=1),ja|=aa):0<ba&&(w+=1),aa>>=1,X+=1,Ca=d,d=Y,Y=P[X+1],ua=ba,ba=
xa,xa=sa[X+1],Ea=f,f=wa,wa=za[X+1],ua=c[a[a[a[a[a[a[a[a[b+Ca]+Y]+Ea]+wa]+d]+ua]+xa]+f]+ba],ia|=ua-ba,Ba[X]=ua,0<ua?(v+=1,0===ba&&(x+=1),ja|=aa):0<ba&&(w+=1),aa>>=1,X+=1,Ca=d,d=Y,Y=P[X+1],ua=ba,ba=xa,xa=sa[X+1],Ea=f,f=wa,wa=za[X+1],ua=c[a[a[a[a[a[a[a[a[b+Ca]+Y]+Ea]+wa]+d]+ua]+xa]+f]+ba],ia|=ua-ba,Ba[X]=ua,0<ua?(v+=1,0===ba&&(x+=1),ja|=aa):0<ba&&(w+=1),aa>>=1,X+=1,Ca=d,d=Y,Y=P[X+1],ua=ba,ba=xa,xa=sa[X+1],Ea=f,f=wa,wa=za[X+1],ua=c[a[a[a[a[a[a[a[a[b+Ca]+Y]+Ea]+wa]+d]+ua]+xa]+f]+ba],ia|=ua-ba,Ba[X]=ua,
0<ua?(v+=1,0===ba&&(x+=1),ja|=aa):0<ba&&(w+=1),aa>>=1,X+=1,Ca=d,d=Y,Y=P[X+1],ua=ba,ba=xa,xa=sa[X+1],Ea=f,f=wa,wa=za[X+1],ua=c[a[a[a[a[a[a[a[a[b+Ca]+Y]+Ea]+wa]+d]+ua]+xa]+f]+ba],ia|=ua-ba,Ba[X]=ua,0<ua?(v+=1,0===ba&&(x+=1),ja|=aa):0<ba&&(w+=1),aa>>=1,X+=1,Ca=d,d=Y,Y=P[X+1],ua=ba,ba=xa,xa=sa[X+1],Ea=f,f=wa,wa=za[X+1],ua=c[a[a[a[a[a[a[a[a[b+Ca]+Y]+Ea]+wa]+d]+ua]+xa]+f]+ba],ia|=ua-ba,Ba[X]=ua,0<ua?(v+=1,0===ba&&(x+=1),ja|=aa):0<ba&&(w+=1),aa>>=1,X+=1,Ca=d,d=Y,Y=P[X+1],ua=ba,ba=xa,xa=sa[X+1],Ea=f,f=wa,
wa=za[X+1],ua=c[a[a[a[a[a[a[a[a[b+Ca]+Y]+Ea]+wa]+d]+ua]+xa]+f]+ba],ia|=ua-ba,Ba[X]=ua,0<ua?(v+=1,0===ba&&(x+=1),ja|=aa):0<ba&&(w+=1),aa>>=1,X+=1,Ca=d,d=Y,ua=ba,ba=xa,Ea=f,f=wa,X===C-1?wa=xa=Y=0:(Y=P[X+1],xa=sa[X+1],wa=za[X+1]),ua=c[a[a[a[a[a[a[a[a[b+Ca]+Y]+Ea]+wa]+d]+ua]+xa]+f]+ba],ia|=ua-ba,Ba[X]=ua,0<ua?(v+=1,0===ba&&(x+=1),ja|=aa):0<ba&&(w+=1),ja&&(r|=ja,t|=O),M+=1,O>>=1;0===ia&&r&&(ya|=1<<e)}m[ta>>4]|=r;r&&(Z|=1<<e,t&1&&(R|=I.jc,r&32768&&(R|=I.zc),r&1&&(R|=I.ic)),t&32768&&(R|=I.oc,r&32768&&(R|=
I.tc),r&1&&(R|=I.uc)),r&32768&&(R|=I.hc),r&1&&(R|=I.Xb),R&&(0!==(R&I.hc)&&(15>e?Z|=1<<e+1:0<k&&0<ta&&(pa[k-1]|=1)),0!==(R&I.Xb)&&(0<e?Z|=1<<e-1:k<G-1&&ta<C-1&&(pa[k+1]|=32768)),0!==(R&I.oc)&&(ea|=1<<e),0!==(R&I.jc)&&(V|=1<<e),0!==(R&I.tc)&&(15>e?ea|=1<<e+1:0<k&&0<ta&&(ra[k-1]|=1)),0!==(R&I.uc)&&(0<e?ea|=1<<e-1:k<G-1&&ta<C-1&&(ra[k+1]|=32768)),0!==(R&I.zc)&&(15>e?V|=1<<e+1:0<k&&0<ta&&(ka[k-1]|=1)),0!==(R&I.ic)&&(0<e?V|=1<<e-1:k<G-1&&ta<C-1&&(ka[k+1]|=32768))));u[g]|=t}ta+=16}pa[k]|=Z;Aa[k]=ya;fa[k]=
n|Z;la[k]=la[k]|n|Z;0<g&&(ra[k]|=ea);g<D-1&&(ka[k]|=V)}else ta+=256;da+=16;ca+=16}for(k=0;k<z;k+=1)m[k]&&(k<N&&(N=k),k>L&&(L=k));for(g=0;g<u.length;g+=1)u[g]&&(g<E&&(E=g),g>J&&(J=g));N=(N<<4)+this.Ca(m[N]);L=(L<<4)+this.Da(m[L]);E=(E<<4)+this.Ca(u[E]);J=(J<<4)+this.Da(u[J]);0>J&&(J=A-1);E>=A&&(E=0);N>=C&&(N=0);0>L&&(L=C-1);J>A-1&&(J=A-1);0>E&&(E=0);0>N&&(N=0);L>C-1&&(L=C-1);H.K=J;H.G=E;H.F=N;H.J=L;F.fill(0);da=0;ca=da+16;for(g=0;g<U.length;g+=1){ta=0;ha=U[g];pa=oa[g];for(k=0;k<G;k+=1)if(n=ha[k],Z=
pa[k],n!==Z)for(e=15;0<=e;--e){if((n&1<<e)!==(Z&1<<e)&&0===(Z&1<<e))for(M=da;M<ca;M+=1)P=va[M],X=ta>>2,P[X]=0,P[X+1]=0,P[X+2]=0,P[X+3]=0;ta+=16}else ta+=256;da+=16;ca+=16}this.u=v;this.za=x;this.ia=w};qa.prototype.ik=function(){var a=this.rd,c,b,d,f=this.Y,e=this.fa,g,k=this.$a,l,p=this.Ib,n,q,m=0,r=0,u=0,t=this.height,v=this.width,x=v>>4,w=this.m,A=t,C=-1,z=v,H=-1,E=this.W,J=this.U>>4,N=this.ib;if(0!==(this.counter&1)){var L=this.$;var D=this.kb;var G=this.Za;var F=this.aa;var W=this.X}else L=this.l,
D=this.Za,G=this.kb,F=this.X,W=this.aa;k.fill(0);p.fill(0);var va=0;var ma=va+16;W.cb.fill(0);for(b=0;b<F.length;b+=1){var U=0;var oa=F[b];var da=W[b];var ca=e[b];var ta=f[b];var ha=0<b?W[b-1]:N;var pa=b<E-1?W[b+1]:N;for(d=0;d<J;d+=1)if(g=oa[d]){var fa=da[d];var la=ha[d];var Aa=pa[d];for(c=15;0<=c;--c){if(0!==(g&1<<c)){var ra=n=l=0;var ka=va;for(q=32768;ka<ma;){var Z=0===ka?this.Ia:L[ka-1];var ea=L[ka];var V=ka===this.height-1?this.Ia:L[ka+1];var ya=G[ka];var R=32768;var M=U;var O=Z[M];var ia=ea[M+
1];var T=V[M];var P=0===M?ea[M]<<3|ia<<2|O<<1|T:ea[M-1]<<4|ea[M]<<3|ia<<2|O<<1|T;var sa=a[P];0<sa?(m+=1,0===(P&8)&&(r+=1),n|=q,l|=R):0!==(P&8)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<1&24|ia<<2|O<<1|T;O=a[P];sa|=O<<8;0<O?(m+=1,0===(P&8)&&(r+=1),n|=q,l|=R):0!==(P&8)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<1&24|ia<<2|O<<1|T;O=a[P];sa|=O<<16;0<O?(m+=1,0===(P&8)&&(r+=1),n|=q,l|=R):0!==(P&8)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<1&24|ia<<2|O<<1|T;O=a[P];sa|=O<<24;ya[M>>2]=
sa;0<O?(m+=1,0===(P&8)&&(r+=1),n|=q,l|=R):0!==(P&8)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<1&24|ia<<2|O<<1|T;sa=a[P];0<sa?(m+=1,0===(P&8)&&(r+=1),n|=q,l|=R):0!==(P&8)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<1&24|ia<<2|O<<1|T;O=a[P];sa|=O<<8;0<O?(m+=1,0===(P&8)&&(r+=1),n|=q,l|=R):0!==(P&8)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<1&24|ia<<2|O<<1|T;O=a[P];sa|=O<<16;0<O?(m+=1,0===(P&8)&&(r+=1),n|=q,l|=R):0!==(P&8)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<1&24|ia<<2|
O<<1|T;O=a[P];sa|=O<<24;ya[M>>2]=sa;0<O?(m+=1,0===(P&8)&&(r+=1),n|=q,l|=R):0!==(P&8)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<1&24|ia<<2|O<<1|T;sa=a[P];0<sa?(m+=1,0===(P&8)&&(r+=1),n|=q,l|=R):0!==(P&8)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<1&24|ia<<2|O<<1|T;O=a[P];sa|=O<<8;0<O?(m+=1,0===(P&8)&&(r+=1),n|=q,l|=R):0!==(P&8)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<1&24|ia<<2|O<<1|T;O=a[P];sa|=O<<16;0<O?(m+=1,0===(P&8)&&(r+=1),n|=q,l|=R):0!==(P&8)&&(u+=1);R>>=1;M+=1;O=Z[M];
ia=ea[M+1];T=V[M];P=P<<1&24|ia<<2|O<<1|T;O=a[P];sa|=O<<24;ya[M>>2]=sa;0<O?(m+=1,0===(P&8)&&(r+=1),n|=q,l|=R):0!==(P&8)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<1&24|ia<<2|O<<1|T;sa=a[P];0<sa?(m+=1,0===(P&8)&&(r+=1),n|=q,l|=R):0!==(P&8)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<1&24|ia<<2|O<<1|T;O=a[P];sa|=O<<8;0<O?(m+=1,0===(P&8)&&(r+=1),n|=q,l|=R):0!==(P&8)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<1&24|ia<<2|O<<1|T;O=a[P];sa|=O<<16;0<O?(m+=1,0===(P&8)&&(r+=1),n|=q,l|=R):0!==
(P&8)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=M===v-1?0:ea[M+1];T=V[M];P=P<<1&24|ia<<2|O<<1|T;O=a[P];sa|=O<<24;ya[M>>2]=sa;0<O?(m+=1,0===(P&3584)&&(r+=1),n|=q,l|=R):0!==(P&3584)&&(u+=1);ka+=1;q>>=1}k[U>>4]|=l;l&&(fa|=1<<c,n&1&&(ra|=I.jc,l&32768&&(ra|=I.zc),l&1&&(ra|=I.ic)),n&32768&&(ra|=I.oc,l&32768&&(ra|=I.tc),l&1&&(ra|=I.uc)),l&32768&&(ra|=I.hc),l&1&&(ra|=I.Xb),ra&&(0!==(ra&I.hc)&&(15>c?fa|=1<<c+1:0<d&&0<U&&(da[d-1]|=1)),0!==(ra&I.Xb)&&(0<c?fa|=1<<c-1:d<J-1&&U<v-1&&(da[d+1]|=32768)),0!==(ra&I.oc)&&(la|=1<<
c),0!==(ra&I.jc)&&(Aa|=1<<c),0!==(ra&I.tc)&&(15>c?la|=1<<c+1:0<d&&0<U&&(ha[d-1]|=1)),0!==(ra&I.uc)&&(0<c?la|=1<<c-1:d<J-1&&U<v-1&&(ha[d+1]|=32768)),0!==(ra&I.zc)&&(15>c?Aa|=1<<c+1:0<d&&0<U&&(pa[d-1]|=1)),0!==(ra&I.ic)&&(0<c?Aa|=1<<c-1:d<J-1&&U<v-1&&(pa[d+1]|=32768))));p[b]|=n}U+=16}da[d]|=fa;ca[d]=g|fa;ta[d]=ta[d]|g|fa;0<b&&(ha[d]|=la);b<E-1&&(pa[d]|=Aa)}else U+=256;va+=16;ma+=16}for(d=0;d<x;d+=1)k[d]&&(d<z&&(z=d),d>H&&(H=d));for(b=0;b<p.length;b+=1)p[b]&&(b<A&&(A=b),b>C&&(C=b));z=(z<<4)+this.Ca(k[z]);
H=(H<<4)+this.Da(k[H]);A=(A<<4)+this.Ca(p[A]);C=(C<<4)+this.Da(p[C]);0>C&&(C=t-1);A>=t&&(A=0);z>=v&&(z=0);0>H&&(H=v-1);C>t-1&&(C=t-1);0>A&&(A=0);0>z&&(z=0);H>v-1&&(H=v-1);w.K=C;w.G=A;w.F=z;w.J=H;N.fill(0);va=0;ma=va+16;for(b=0;b<F.length;b+=1){U=0;oa=F[b];da=W[b];for(d=0;d<J;d+=1)if(g=oa[d],fa=da[d],g!==fa)for(c=15;0<=c;--c){if((g&1<<c)!==(fa&1<<c)&&0===(fa&1<<c))for(ka=va;ka<ma;ka+=1)ya=D[ka],M=U>>2,ya[M]=0,ya[M+1]=0,ya[M+2]=0,ya[M+3]=0;U+=16}else U+=256;va+=16;ma+=16}this.u=m;this.za=r;this.ia=
u};qa.prototype.kk=function(){var a=this.rd,c,b,d,f=this.Y,e=this.fa,g,k=this.$a,l,p=this.Ib,n,q,m=0,r=0,u=0,t=this.height,v=this.width,x=v>>4,w=this.m,A=t,C=-1,z=v,H=-1,E=this.W,J=this.U>>4,N=this.ib;if(0!==(this.counter&1)){var L=this.$;var D=this.kb;var G=this.Za;var F=this.aa;var W=this.X}else L=this.l,D=this.Za,G=this.kb,F=this.X,W=this.aa;k.fill(0);p.fill(0);var va=0;var ma=va+16;W.cb.fill(0);for(b=0;b<F.length;b+=1){var U=0;var oa=F[b];var da=W[b];var ca=e[b];var ta=f[b];var ha=0<b?W[b-1]:
N;var pa=b<E-1?W[b+1]:N;for(d=0;d<J;d+=1)if(g=oa[d]){var fa=da[d];var la=ha[d];var Aa=pa[d];for(c=15;0<=c;--c){if(0!==(g&1<<c)){var ra=n=l=0;var ka=va;for(q=32768;ka<ma;){var Z=0===ka?this.Ia:L[ka-1];var ea=L[ka];var V=ka===this.height-1?this.Ia:L[ka+1];var ya=G[ka];var R=32768;var M=U;var O=Z[M];var ia=ea[M+1];var T=V[M];var P=0===M?ea[M]<<6|ia<<4|O<<2|T:ea[M-1]<<8|ea[M]<<6|ia<<4|O<<2|T;var sa=a[P];0<sa?(m+=1,0===(P&192)&&(r+=1),n|=q,l|=R):0!==(P&192)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];
P=P<<2&960|ia<<4|O<<2|T;O=a[P];sa|=O<<8;0<O?(m+=1,0===(P&192)&&(r+=1),n|=q,l|=R):0!==(P&192)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<2&960|ia<<4|O<<2|T;O=a[P];sa|=O<<16;0<O?(m+=1,0===(P&192)&&(r+=1),n|=q,l|=R):0!==(P&192)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<2&960|ia<<4|O<<2|T;O=a[P];sa|=O<<24;ya[M>>2]=sa;0<O?(m+=1,0===(P&192)&&(r+=1),n|=q,l|=R):0!==(P&192)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<2&960|ia<<4|O<<2|T;sa=a[P];0<sa?(m+=1,0===(P&192)&&(r+=1),n|=q,l|=R):0!==
(P&192)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<2&960|ia<<4|O<<2|T;O=a[P];sa|=O<<8;0<O?(m+=1,0===(P&192)&&(r+=1),n|=q,l|=R):0!==(P&192)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<2&960|ia<<4|O<<2|T;O=a[P];sa|=O<<16;0<O?(m+=1,0===(P&192)&&(r+=1),n|=q,l|=R):0!==(P&192)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<2&960|ia<<4|O<<2|T;O=a[P];sa|=O<<24;ya[M>>2]=sa;0<O?(m+=1,0===(P&192)&&(r+=1),n|=q,l|=R):0!==(P&192)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<2&960|ia<<4|O<<2|T;
sa=a[P];0<sa?(m+=1,0===(P&192)&&(r+=1),n|=q,l|=R):0!==(P&192)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<2&960|ia<<4|O<<2|T;O=a[P];sa|=O<<8;0<O?(m+=1,0===(P&192)&&(r+=1),n|=q,l|=R):0!==(P&192)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<2&960|ia<<4|O<<2|T;O=a[P];sa|=O<<16;0<O?(m+=1,0===(P&192)&&(r+=1),n|=q,l|=R):0!==(P&192)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<2&960|ia<<4|O<<2|T;O=a[P];sa|=O<<24;ya[M>>2]=sa;0<O?(m+=1,0===(P&192)&&(r+=1),n|=q,l|=R):0!==(P&192)&&(u+=1);R>>=1;
M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<2&960|ia<<4|O<<2|T;sa=a[P];0<sa?(m+=1,0===(P&192)&&(r+=1),n|=q,l|=R):0!==(P&192)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<2&960|ia<<4|O<<2|T;O=a[P];sa|=O<<8;0<O?(m+=1,0===(P&192)&&(r+=1),n|=q,l|=R):0!==(P&192)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<2&960|ia<<4|O<<2|T;O=a[P];sa|=O<<16;0<O?(m+=1,0===(P&192)&&(r+=1),n|=q,l|=R):0!==(P&192)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=M===v-1?0:ea[M+1];T=V[M];P=P<<2&960|ia<<4|O<<2|T;O=a[P];sa|=O<<24;ya[M>>2]=sa;0<O?
(m+=1,0===(P&192)&&(r+=1),n|=q,l|=R):0!==(P&192)&&(u+=1);ka+=1;q>>=1}k[U>>4]|=l;l&&(fa|=1<<c,n&1&&(ra|=I.jc,l&32768&&(ra|=I.zc),l&1&&(ra|=I.ic)),n&32768&&(ra|=I.oc,l&32768&&(ra|=I.tc),l&1&&(ra|=I.uc)),l&32768&&(ra|=I.hc),l&1&&(ra|=I.Xb),ra&&(0!==(ra&I.hc)&&(15>c?fa|=1<<c+1:0<d&&0<U&&(da[d-1]|=1)),0!==(ra&I.Xb)&&(0<c?fa|=1<<c-1:d<J-1&&U<v-1&&(da[d+1]|=32768)),0!==(ra&I.oc)&&(la|=1<<c),0!==(ra&I.jc)&&(Aa|=1<<c),0!==(ra&I.tc)&&(15>c?la|=1<<c+1:0<d&&0<U&&(ha[d-1]|=1)),0!==(ra&I.uc)&&(0<c?la|=1<<c-1:d<
J-1&&U<v-1&&(ha[d+1]|=32768)),0!==(ra&I.zc)&&(15>c?Aa|=1<<c+1:0<d&&0<U&&(pa[d-1]|=1)),0!==(ra&I.ic)&&(0<c?Aa|=1<<c-1:d<J-1&&U<v-1&&(pa[d+1]|=32768))));p[b]|=n}U+=16}da[d]|=fa;ca[d]=g|fa;ta[d]=ta[d]|g|fa;0<b&&(ha[d]|=la);b<E-1&&(pa[d]|=Aa)}else U+=256;va+=16;ma+=16}for(d=0;d<x;d+=1)k[d]&&(d<z&&(z=d),d>H&&(H=d));for(b=0;b<p.length;b+=1)p[b]&&(b<A&&(A=b),b>C&&(C=b));z=(z<<4)+this.Ca(k[z]);H=(H<<4)+this.Da(k[H]);A=(A<<4)+this.Ca(p[A]);C=(C<<4)+this.Da(p[C]);0>C&&(C=t-1);A>=t&&(A=0);z>=v&&(z=0);0>H&&(H=
v-1);C>t-1&&(C=t-1);0>A&&(A=0);0>z&&(z=0);H>v-1&&(H=v-1);w.K=C;w.G=A;w.F=z;w.J=H;N.fill(0);va=0;ma=va+16;for(b=0;b<F.length;b+=1){U=0;oa=F[b];da=W[b];for(d=0;d<J;d+=1)if(g=oa[d],fa=da[d],g!==fa)for(c=15;0<=c;--c){if((g&1<<c)!==(fa&1<<c)&&0===(fa&1<<c))for(ka=va;ka<ma;ka+=1)ya=D[ka],M=U>>2,ya[M]=0,ya[M+1]=0,ya[M+2]=0,ya[M+3]=0;U+=16}else U+=256;va+=16;ma+=16}this.u=m;this.za=r;this.ia=u};qa.prototype.mk=function(){var a=this.rd,c,b,d,f=this.Y,e=this.fa,g,k=this.$a,l,p=this.Ib,n,q,m=0,r=0,u=0,t=this.height,
v=this.width,x=v>>4,w=this.m,A=t,C=-1,z=v,H=-1,E=this.W,J=this.U>>4,N=this.ib;if(0!==(this.counter&1)){var L=this.$;var D=this.kb;var G=this.Za;var F=this.aa;var W=this.X}else L=this.l,D=this.Za,G=this.kb,F=this.X,W=this.aa;k.fill(0);p.fill(0);var va=0;var ma=va+16;W.cb.fill(0);for(b=0;b<F.length;b+=1){var U=0;var oa=F[b];var da=W[b];var ca=e[b];var ta=f[b];var ha=0<b?W[b-1]:N;var pa=b<E-1?W[b+1]:N;for(d=0;d<J;d+=1)if(g=oa[d]){var fa=da[d];var la=ha[d];var Aa=pa[d];for(c=15;0<=c;--c){if(0!==(g&1<<
c)){var ra=n=l=0;var ka=va;for(q=32768;ka<ma;){var Z=0===ka?this.Ia:L[ka-1];var ea=L[ka];var V=ka===this.height-1?this.Ia:L[ka+1];var ya=G[ka];var R=32768;var M=U;var O=Z[M];var ia=ea[M+1];var T=V[M];var P=0===M?ea[M]<<9|ia<<6|O<<3|T:ea[M-1]<<12|ea[M]<<9|ia<<6|O<<3|T;var sa=a[P];0<sa?(m+=1,0===(P&3584)&&(r+=1),n|=q,l|=R):0!==(P&3584)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<3&32256|ia<<6|O<<3|T;O=a[P];sa|=O<<8;0<O?(m+=1,0===(P&3584)&&(r+=1),n|=q,l|=R):0!==(P&3584)&&(u+=1);R>>=1;M+=1;O=Z[M];
ia=ea[M+1];T=V[M];P=P<<3&32256|ia<<6|O<<3|T;O=a[P];sa|=O<<16;0<O?(m+=1,0===(P&3584)&&(r+=1),n|=q,l|=R):0!==(P&3584)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<3&32256|ia<<6|O<<3|T;O=a[P];sa|=O<<24;ya[M>>2]=sa;0<O?(m+=1,0===(P&3584)&&(r+=1),n|=q,l|=R):0!==(P&3584)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<3&32256|ia<<6|O<<3|T;sa=a[P];0<sa?(m+=1,0===(P&3584)&&(r+=1),n|=q,l|=R):0!==(P&3584)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<3&32256|ia<<6|O<<3|T;O=a[P];sa|=O<<8;0<O?(m+=1,0===
(P&3584)&&(r+=1),n|=q,l|=R):0!==(P&3584)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<3&32256|ia<<6|O<<3|T;O=a[P];sa|=O<<16;0<O?(m+=1,0===(P&3584)&&(r+=1),n|=q,l|=R):0!==(P&3584)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<3&32256|ia<<6|O<<3|T;O=a[P];sa|=O<<24;ya[M>>2]=sa;0<O?(m+=1,0===(P&3584)&&(r+=1),n|=q,l|=R):0!==(P&3584)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<3&32256|ia<<6|O<<3|T;sa=a[P];0<sa?(m+=1,0===(P&3584)&&(r+=1),n|=q,l|=R):0!==(P&3584)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+
1];T=V[M];P=P<<3&32256|ia<<6|O<<3|T;O=a[P];sa|=O<<8;0<O?(m+=1,0===(P&3584)&&(r+=1),n|=q,l|=R):0!==(P&3584)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<3&32256|ia<<6|O<<3|T;O=a[P];sa|=O<<16;0<O?(m+=1,0===(P&3584)&&(r+=1),n|=q,l|=R):0!==(P&3584)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<3&32256|ia<<6|O<<3|T;O=a[P];sa|=O<<24;ya[M>>2]=sa;0<O?(m+=1,0===(P&3584)&&(r+=1),n|=q,l|=R):0!==(P&3584)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<3&32256|ia<<6|O<<3|T;sa=a[P];0<sa?(m+=1,0===(P&3584)&&
(r+=1),n|=q,l|=R):0!==(P&3584)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<3&32256|ia<<6|O<<3|T;O=a[P];sa|=O<<8;0<O?(m+=1,0===(P&3584)&&(r+=1),n|=q,l|=R):0!==(P&3584)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<3&32256|ia<<6|O<<3|T;O=a[P];sa|=O<<16;0<O?(m+=1,0===(P&3584)&&(r+=1),n|=q,l|=R):0!==(P&3584)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=M===v-1?0:ea[M+1];T=V[M];P=P<<3&32256|ia<<6|O<<3|T;O=a[P];sa|=O<<24;ya[M>>2]=sa;0<O?(m+=1,0===(P&3584)&&(r+=1),n|=q,l|=R):0!==(P&3584)&&(u+=1);ka+=1;q>>=1}k[U>>
4]|=l;l&&(fa|=1<<c,n&1&&(ra|=I.jc,l&32768&&(ra|=I.zc),l&1&&(ra|=I.ic)),n&32768&&(ra|=I.oc,l&32768&&(ra|=I.tc),l&1&&(ra|=I.uc)),l&32768&&(ra|=I.hc),l&1&&(ra|=I.Xb),ra&&(0!==(ra&I.hc)&&(15>c?fa|=1<<c+1:0<d&&0<U&&(da[d-1]|=1)),0!==(ra&I.Xb)&&(0<c?fa|=1<<c-1:d<J-1&&U<v-1&&(da[d+1]|=32768)),0!==(ra&I.oc)&&(la|=1<<c),0!==(ra&I.jc)&&(Aa|=1<<c),0!==(ra&I.tc)&&(15>c?la|=1<<c+1:0<d&&0<U&&(ha[d-1]|=1)),0!==(ra&I.uc)&&(0<c?la|=1<<c-1:d<J-1&&U<v-1&&(ha[d+1]|=32768)),0!==(ra&I.zc)&&(15>c?Aa|=1<<c+1:0<d&&0<U&&(pa[d-
1]|=1)),0!==(ra&I.ic)&&(0<c?Aa|=1<<c-1:d<J-1&&U<v-1&&(pa[d+1]|=32768))));p[b]|=n}U+=16}da[d]|=fa;ca[d]=g|fa;ta[d]=ta[d]|g|fa;0<b&&(ha[d]|=la);b<E-1&&(pa[d]|=Aa)}else U+=256;va+=16;ma+=16}for(d=0;d<x;d+=1)k[d]&&(d<z&&(z=d),d>H&&(H=d));for(b=0;b<p.length;b+=1)p[b]&&(b<A&&(A=b),b>C&&(C=b));z=(z<<4)+this.Ca(k[z]);H=(H<<4)+this.Da(k[H]);A=(A<<4)+this.Ca(p[A]);C=(C<<4)+this.Da(p[C]);0>C&&(C=t-1);A>=t&&(A=0);z>=v&&(z=0);0>H&&(H=v-1);C>t-1&&(C=t-1);0>A&&(A=0);0>z&&(z=0);H>v-1&&(H=v-1);w.K=C;w.G=A;w.F=z;w.J=
H;N.fill(0);va=0;ma=va+16;for(b=0;b<F.length;b+=1){U=0;oa=F[b];da=W[b];for(d=0;d<J;d+=1)if(g=oa[d],fa=da[d],g!==fa)for(c=15;0<=c;--c){if((g&1<<c)!==(fa&1<<c)&&0===(fa&1<<c))for(ka=va;ka<ma;ka+=1)ya=D[ka],M=U>>2,ya[M]=0,ya[M+1]=0,ya[M+2]=0,ya[M+3]=0;U+=16}else U+=256;va+=16;ma+=16}this.u=m;this.za=r;this.ia=u};qa.prototype.pk=function(){var a=this.rd,c,b,d,f=this.Y,e=this.fa,g,k=this.$a,l,p=this.Ib,n,q,m=0,r=0,u=0,t=this.height,v=this.width,x=v>>4,w=this.m,A=t,C=-1,z=v,H=-1,E=this.W,J=this.U>>4,N=
this.ib;if(0!==(this.counter&1)){var L=this.$;var D=this.kb;var G=this.Za;var F=this.aa;var W=this.X}else L=this.l,D=this.Za,G=this.kb,F=this.X,W=this.aa;k.fill(0);p.fill(0);var va=0;var ma=va+16;W.cb.fill(0);for(b=0;b<F.length;b+=1){var U=0;var oa=F[b];var da=W[b];var ca=e[b];var ta=f[b];var ha=0<b?W[b-1]:N;var pa=b<E-1?W[b+1]:N;for(d=0;d<J;d+=1)if(g=oa[d]){var fa=da[d];var la=ha[d];var Aa=pa[d];for(c=15;0<=c;--c){if(0!==(g&1<<c)){var ra=n=l=0;var ka=va;for(q=32768;ka<ma;){var Z=0===ka?this.Ia:L[ka-
1];var ea=L[ka];var V=ka===this.height-1?this.Ia:L[ka+1];var ya=G[ka];var R=32768;var M=U;var O=Z[M];var ia=ea[M+1];var T=V[M];var P=0===M?ea[M]<<12|ia<<8|O<<4|T:ea[M-1]<<16|ea[M]<<12|ia<<8|O<<4|T;var sa=a[P];0<sa?(m+=1,0===(P&61440)&&(r+=1),n|=q,l|=R):0!==(P&61440)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<4&1044480|ia<<8|O<<4|T;O=a[P];sa|=O<<8;0<O?(m+=1,0===(P&61440)&&(r+=1),n|=q,l|=R):0!==(P&61440)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<4&1044480|ia<<8|O<<4|T;O=a[P];sa|=O<<16;
0<O?(m+=1,0===(P&61440)&&(r+=1),n|=q,l|=R):0!==(P&61440)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<4&1044480|ia<<8|O<<4|T;O=a[P];sa|=O<<24;ya[M>>2]=sa;0<O?(m+=1,0===(P&61440)&&(r+=1),n|=q,l|=R):0!==(P&61440)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<4&1044480|ia<<8|O<<4|T;sa=a[P];0<sa?(m+=1,0===(P&61440)&&(r+=1),n|=q,l|=R):0!==(P&61440)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<4&1044480|ia<<8|O<<4|T;O=a[P];sa|=O<<8;0<O?(m+=1,0===(P&61440)&&(r+=1),n|=q,l|=R):0!==(P&61440)&&(u+=
1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<4&1044480|ia<<8|O<<4|T;O=a[P];sa|=O<<16;0<O?(m+=1,0===(P&61440)&&(r+=1),n|=q,l|=R):0!==(P&61440)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<4&1044480|ia<<8|O<<4|T;O=a[P];sa|=O<<24;ya[M>>2]=sa;0<O?(m+=1,0===(P&61440)&&(r+=1),n|=q,l|=R):0!==(P&61440)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<4&1044480|ia<<8|O<<4|T;sa=a[P];0<sa?(m+=1,0===(P&61440)&&(r+=1),n|=q,l|=R):0!==(P&61440)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<4&1044480|ia<<8|
O<<4|T;O=a[P];sa|=O<<8;0<O?(m+=1,0===(P&61440)&&(r+=1),n|=q,l|=R):0!==(P&61440)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<4&1044480|ia<<8|O<<4|T;O=a[P];sa|=O<<16;0<O?(m+=1,0===(P&61440)&&(r+=1),n|=q,l|=R):0!==(P&61440)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<4&1044480|ia<<8|O<<4|T;O=a[P];sa|=O<<24;ya[M>>2]=sa;0<O?(m+=1,0===(P&61440)&&(r+=1),n|=q,l|=R):0!==(P&61440)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<4&1044480|ia<<8|O<<4|T;sa=a[P];0<sa?(m+=1,0===(P&61440)&&(r+=1),n|=q,
l|=R):0!==(P&61440)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<4&1044480|ia<<8|O<<4|T;O=a[P];sa|=O<<8;0<O?(m+=1,0===(P&61440)&&(r+=1),n|=q,l|=R):0!==(P&61440)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=ea[M+1];T=V[M];P=P<<4&1044480|ia<<8|O<<4|T;O=a[P];sa|=O<<16;0<O?(m+=1,0===(P&61440)&&(r+=1),n|=q,l|=R):0!==(P&61440)&&(u+=1);R>>=1;M+=1;O=Z[M];ia=M===v-1?0:ea[M+1];T=V[M];P=P<<4&1044480|ia<<8|O<<4|T;O=a[P];sa|=O<<24;ya[M>>2]=sa;0<O?(m+=1,0===(P&61440)&&(r+=1),n|=q,l|=R):0!==(P&61440)&&(u+=1);ka+=1;q>>=1}k[U>>
4]|=l;l&&(fa|=1<<c,n&1&&(ra|=I.jc,l&32768&&(ra|=I.zc),l&1&&(ra|=I.ic)),n&32768&&(ra|=I.oc,l&32768&&(ra|=I.tc),l&1&&(ra|=I.uc)),l&32768&&(ra|=I.hc),l&1&&(ra|=I.Xb),ra&&(0!==(ra&I.hc)&&(15>c?fa|=1<<c+1:0<d&&0<U&&(da[d-1]|=1)),0!==(ra&I.Xb)&&(0<c?fa|=1<<c-1:d<J-1&&U<v-1&&(da[d+1]|=32768)),0!==(ra&I.oc)&&(la|=1<<c),0!==(ra&I.jc)&&(Aa|=1<<c),0!==(ra&I.tc)&&(15>c?la|=1<<c+1:0<d&&0<U&&(ha[d-1]|=1)),0!==(ra&I.uc)&&(0<c?la|=1<<c-1:d<J-1&&U<v-1&&(ha[d+1]|=32768)),0!==(ra&I.zc)&&(15>c?Aa|=1<<c+1:0<d&&0<U&&(pa[d-
1]|=1)),0!==(ra&I.ic)&&(0<c?Aa|=1<<c-1:d<J-1&&U<v-1&&(pa[d+1]|=32768))));p[b]|=n}U+=16}da[d]|=fa;ca[d]=g|fa;ta[d]=ta[d]|g|fa;0<b&&(ha[d]|=la);b<E-1&&(pa[d]|=Aa)}else U+=256;va+=16;ma+=16}for(d=0;d<x;d+=1)k[d]&&(d<z&&(z=d),d>H&&(H=d));for(b=0;b<p.length;b+=1)p[b]&&(b<A&&(A=b),b>C&&(C=b));z=(z<<4)+this.Ca(k[z]);H=(H<<4)+this.Da(k[H]);A=(A<<4)+this.Ca(p[A]);C=(C<<4)+this.Da(p[C]);0>C&&(C=t-1);A>=t&&(A=0);z>=v&&(z=0);0>H&&(H=v-1);C>t-1&&(C=t-1);0>A&&(A=0);0>z&&(z=0);H>v-1&&(H=v-1);w.K=C;w.G=A;w.F=z;w.J=
H;N.fill(0);va=0;ma=va+16;for(b=0;b<F.length;b+=1){U=0;oa=F[b];da=W[b];for(d=0;d<J;d+=1)if(g=oa[d],fa=da[d],g!==fa)for(c=15;0<=c;--c){if((g&1<<c)!==(fa&1<<c)&&0===(fa&1<<c))for(ka=va;ka<ma;ka+=1)ya=D[ka],M=U>>2,ya[M]=0,ya[M+1]=0,ya[M+2]=0,ya[M+3]=0;U+=16}else U+=256;va+=16;ma+=16}this.u=m;this.za=r;this.ia=u};qa.prototype.Sj=function(){var a=this.Jd,c=this.m,b=this.Xa,d=b.F;var f=b.G;var e=b.J,g=b.K,k=0,l=0,p=0,n=this.width,q=this.height,m=0,r=0,u=this.width,t=this.height,v=0,x=0,w=this.Y,A,C=this.Lb,
z=this.s,H=0<this.s?1:0;var E=this.M;var J=this.I;var N=Math.round((this.width-E)/2);var L=Math.round((this.height-J)/2);-1!==this.C&&(d=N+1,f=L+1,e=N+E-1-1,g=L+J-1-1);this.Ya&&(this.xb=!this.xb,this.Ya=!1);0!==(this.counter&1)?(E=this.$,J=this.l,this.xb&&(a=this.Va?this.Md:this.Ua)):(E=this.l,J=this.$,this.Va&&(a=this.Ee),this.xb&&(a=this.Ua));2>f&&(f=2);g>this.height-3&&(g=this.height-3);1>d&&(d=1);e>this.width-3&&(e=this.width-3);for(--f;f<=g+1;f+=1){L=E[f-1];var D=E[f];var G=E[f+1];var F=w[f>>
4];var W=J[f];var va=A=!1;var ma=D[d-2];for(N=d-1;N<=e+1;N+=1){var U=G[N];var oa=D[N+1];var da=L[N];0<z&&(U=U<=z?0:U-z,oa=oa<=z?0:oa-z,da=da<=z?0:da-z,ma=ma<=z?0:ma-z);ma=ma|U<<4|oa<<8|da<<12;U=a[ma];ma=D[N];0<U?(k+=C[U],W[N]=U+z,A=!0,F[N>>8]=65535,N<n&&(n=N),N>m&&(m=N)):(U=ma,U>z?U=z:U>H&&--U,W[N]=U,0<U&&(A=!0,N<n&&(n=N),N>m&&(m=N)),U=0);ma>z?(ma-=z,l+=C[U&~ma],p+=C[ma&~U],ma+=z):l+=C[U];0<U&&(N<u&&(u=N),N>v&&(v=N),va=!0)}A&&(f<q&&(q=f),f>r&&(r=f));va&&(f<t&&(t=f),f>x&&(x=f))}this.u=k;this.za=l;
this.ia=p;b.F=n;b.G=q;b.J=m;b.K=r;c.F=u;c.G=t;c.J=v;c.K=x};qa.prototype.pl=function(){var a=this.Za,c=this.Y,b=this.fa,d,f,e;var g=this.W;var k=this.U>>4;var l=0;var p=g;if(0!==(this.counter&1)){var n=this.Fa;var q=this.aa}else n=this.pa,q=this.X;0>l&&(l=0);p>g&&(p=g);g=l<<4;var m=g+16;for(d=l;d<p;d+=1){var r=0;var u=q[d];var t=b[d];var v=c[d];for(f=0;f<k;f+=1){var x=u[f]|v[f];var w=0;if(x)for(e=15;0<=e;--e){if(0!==(x&1<<e)){var A=0;for(l=g;l<m;){var C=n[l];var z=a[l];var H=r<<2;(C=C[r])?(A|=C,z[H]=
(C&32768)>>9|C&16384|(C&8192)<<9|(C&4096)<<18,H+=1,z[H]=(C&2048)>>5|(C&1024)<<4|(C&512)<<13|(C&256)<<22,H+=1,z[H]=(C&128)>>1|(C&64)<<8|(C&32)<<17|(C&16)<<26,H+=1,z[H]=(C&8)<<3|(C&4)<<12|(C&2)<<21|(C&1)<<30):(z[H]=0,z[H+1]=0,z[H+2]=0,z[H+3]=0);l+=1}A&&(w|=1<<e)}r+=1}else r+=16;t[f]=w;v[f]|=w}g+=16;m+=16}};qa.prototype.zl=function(){var a=this.Gd,c=this.Y,b=this.fa,d=this.Ye,f,e,g;var k=this.W;var l=this.U>>4;var p=0;var n=k;if(0!==(this.counter&1)){var q=this.Fa;var m=this.aa}else q=this.pa,m=this.X;
0>p&&(p=0);n>k&&(n=k);k=p<<4;var r=k+16;for(f=p;f<n;f+=1){var u=0;var t=m[f];var v=b[f];var x=c[f];for(e=0;e<l;e+=1){var w=t[e]|v[e]|x[e];var A=0;if(w)for(g=15;0<=g;--g){if(0!==(w&1<<g)){var C=0;for(p=k;p<r;){var z=q[p];var H=a[p];var E=u<<3;z=z[u];var J=d[H[E]|(z&32768)>>8|(z&16384)<<1];C|=J;H[E]=J;E+=1;J=d[H[E]|(z&8192)>>6|(z&4096)<<3];C|=J;H[E]=J;E+=1;J=d[H[E]|(z&2048)>>4|(z&1024)<<5];C|=J;H[E]=J;E+=1;J=d[H[E]|(z&512)>>2|(z&256)<<7];C|=J;H[E]=J;E+=1;J=d[H[E]|z&128|(z&64)<<9];C|=J;H[E]=J;E+=1;J=
d[H[E]|(z&32)<<2|(z&16)<<11];C|=J;H[E]=J;E+=1;J=d[H[E]|(z&8)<<4|(z&4)<<13];C|=J;H[E]=J;E+=1;J=d[H[E]|(z&2)<<6|(z&1)<<15];C|=J;H[E]=J;p+=1}0!==(C&65278)&&(A|=1<<g)}u+=1}else u+=16;v[e]=A;x[e]|=A}k+=16;r+=16}};qa.prototype.ul=function(){var a=this.Gd,c=this.Y,b=this.fa,d=this.Ye,f,e,g;var k=this.W;var l=this.U>>4;var p=0;var n=k;if(0!==(this.counter&1)){var q=this.Fa;var m=this.aa}else q=this.pa,m=this.X;0>p&&(p=0);n>k&&(n=k);k=p<<4;var r=k+16;for(f=p;f<n;f+=1){var u=0;var t=m[f];var v=b[f];var x=c[f];
for(e=0;e<l;e+=1){var w=t[e]|v[e];var A=0;if(w)for(g=15;0<=g;--g){if(0!==(w&1<<g)){var C=0;for(p=k;p<r;){var z=q[p];var H=a[p];var E=u<<3;z=z[u];var J=d[(z&49152)>>7|p+E+E&127];C|=J;H[E]=J;E+=1;J=d[(z&12288)>>5|p+E+E&127];C|=J;H[E]=J;E+=1;J=d[(z&3072)>>3|p+E+E&127];C|=J;H[E]=J;E+=1;J=d[(z&768)>>1|p+E+E&127];C|=J;H[E]=J;E+=1;J=d[(z&192)<<1|p+E+E&127];C|=J;H[E]=J;E+=1;J=d[(z&48)<<3|p+E+E&127];C|=J;H[E]=J;E+=1;J=d[(z&12)<<5|p+E+E&127];C|=J;H[E]=J;E+=1;J=d[(z&3)<<7|p+E+E&127];C|=J;H[E]=J;p+=1}if(1<(C&
255)||1<C>>8)A|=1<<g}u+=1}else u+=16;v[e]=A;x[e]|=A}k+=16;r+=16}};qa.prototype.zi=function(a,c,b,d,f,e,g,k,l,p){var n=this.Nb;d=d*a+n.K;b=b*a+n.J;c=c*a+n.G;f=f*a+n.F;n=b-f+1;a=d-c+1;this.ga&&(n=b-c/2-(f-d/2)+1);0===n&&(n=1);0===a&&(a=1);e/=n;g/=a;p=Math.round(1E3*(e>g?g:e)/p)/1E3;p<k?p=k:p>l&&(p=l);return p};qa.prototype.Kj=function(a){var c=a;1>a&&(c=1/a);var b=Math.round(c);(b<c?b/c:c/b)>=B.MC&&(a=1>a?1/b:b);return a};qa.prototype.Gi=function(a,c,b,d,f,e,g,k,l,p,n,q,m){var r=this.m,u=this.Nb,t=
this.Xa,v=this.l,x,w=x=0,A=0;(this.i||this.v||this.o)&&0!==(this.counter&1)&&(v=this.$);var C=2>=this.h?I.Ta:this.s+1;n?r=t:this.Ga&&(r=this.xa);if(a===B.Oo){n=c.F;t=c.J;var z=c.K;c=c.G}else n=r.F,t=r.J,z=r.K,c=r.G,this.D&&!q&&(u.F<n&&(n=u.F),u.J>t&&(t=u.J),u.K>z&&(z=u.K),u.G<c&&(c=u.G)),-1!==this.C&&(x=this.M,w=this.I,0<x?(n=this.width/2-x/2,t=this.width/2+x/2):x=t-n+1,0<w?(c=this.height/2-w/2,z=this.height/2+w/2):w=z-c+1);p?(x=k,w=l,n=this.width/2-x/2,t=this.width/2+x/2,z=this.height/2+w/2,c=this.height/
2-w/2):-1===this.C&&(x=t-n+1,w=z-c+1);if(this.ga){if(a===B.Oo)n-=z/2,t-=c/2;else{p=2*(this.width+this.height);q=-p;c|=0;z|=0;n|=0;t|=0;-1!==this.C&&this.Rf(v,this.Qb);for(l=c;l<=z;l+=1)for(x=v[l],k=n;k<=t;k+=1)u=x[k],u>=C&&(A+=1,u=k-l/2,u<p&&(p=u),u>q&&(q=u));n=p;t=q;n>t&&(v=n,n=t,t=v);0===A&&(t=n=0)}x=t-n+1}0===x&&(x=1);0===w&&(w=1);b/=x;d/=w;this.A&&(d/=B.Rd);g=Math.round(1E3*(b>d?d:b)/g)/1E3;g/=this.Ja;g<f?g=f:g>e&&(g=e);f=c-this.wa+w/2;e=n-this.ya+x/2;m||(g=this.Kj(g));a===B.Zr&&(g=this.zoom);
this.T&&-1!==this.C&&(--e,--f);return[g,e,f]};qa.prototype.yk=function(a,c,b,d){var f=this.Gc,e=this.da,g=this.ba;if(a>c){var k=c;c=a;a=k}0>a?a=0:a>=e&&(a=e-1);0>c?c=0:c>=e&&(c=e-1);0<=b&&b<g&&f.fill(d,b*e+a,b*e+c)};qa.prototype.Ek=function(a,c,b,d){var f=this.Gc,e=this.da,g=this.ba;if(c>b){var k=b;b=c;c=k}0>c?c=0:c>=g&&(c=g-1);0>b?b=0:b>=g&&(b=g-1);c=c*e+a;b=b*e+a;g=b-15*e;if(0<=a&&a<e){for(;c<=g;)f[c]=d,c+=e,f[c]=d,c+=e,f[c]=d,c+=e,f[c]=d,c+=e,f[c]=d,c+=e,f[c]=d,c+=e,f[c]=d,c+=e,f[c]=d,c+=e,f[c]=
d,c+=e,f[c]=d,c+=e,f[c]=d,c+=e,f[c]=d,c+=e,f[c]=d,c+=e,f[c]=d,c+=e,f[c]=d,c+=e,f[c]=d,c+=e;for(;c<=b;)f[c]=d,c+=e}};qa.prototype.sk=function(a,c,b,d,f){var e=Math.abs(b-a),g=Math.abs(d-c),k=a<b?1:-1,l=c<d?1:-1,p=e-g,n=this.da,q=this.ba,m=this.Gc;if(!(0>a&&0>b||a>=n&&b>=n||0>c&&0>d||c>=q&&d>=q))if(0<=a&&a<n&&0<=c&&c<q&&0<=b&&b<n&&0<=d&&d<q)for(m[c*n+a]=f;a!==b||c!==d;){var r=p+p;r>-g&&(p-=g,a+=k);r<e&&(p+=e,c+=l);m[c*n+a]=f}else for(0<=a&&a<n&&0<=c&&c<q&&(m[c*n+a]=f);a!==b||c!==d;)r=p+p,r>-g&&(p-=
g,a+=k),r<e&&(p+=e,c+=l),0<=a&&a<n&&0<=c&&c<q&&(m[c*n+a]=f)};qa.prototype.fg=function(a,c,b,d,f){var e=this.da/2,g=this.ba/2;if(0!==this.ma){a-=e;c-=g;var k=Math.sqrt(a*a+c*c);var l=180/Math.PI*Math.atan2(c,a);l+=this.ma;a=Math.round(k*Math.cos(Math.PI/180*l)+e);c=Math.round(k*Math.sin(Math.PI/180*l)+g);b-=e;d-=g;k=Math.sqrt(b*b+d*d);l=180/Math.PI*Math.atan2(d,b);l+=this.ma;b=Math.round(k*Math.cos(Math.PI/180*l)+e);d=Math.round(k*Math.sin(Math.PI/180*l)+g)}a===b?this.Ek(a,c,d,f):c===d?this.yk(a,b,
c,f):this.sk(a,c,b,d,f)};qa.prototype.Lh=function(a,c,b,d,f){var e=a.Jb,g=a.Ib,k=0,l=0,p=this.ha;var n=this.zoom;var q=this.zoom*(this.A?B.Rd:1);var m=(this.width>>1)-(a.A>>1);var r=(this.height>>1)-(a.C>>1);var u=a.aa-this.Z,t=a.$-this.ca-(this.ga?this.Z/2:0),v=[0,0];switch(d){case B.Jy:c-=e>>1;break;case B.Ky:c-=e-1;break;case B.Oy:b-=g>>1;break;case B.Iy:c-=e>>1;b-=g>>1;break;case B.Hy:c-=e-1;b-=g>>1;break;case B.Ny:b-=g-1;break;case B.Ly:c-=e>>1;b-=g-1;break;case B.My:c-=e-1,b-=g-1}var x=q*(b-
r+u-this.wa+a.aa)+a.ba/2;d=n*(c-m+t-this.ya+a.$)+a.da/2+(this.ga?(a.ba/2-x)/2:0);var w=q*(b+g-r+u-this.wa+a.aa)+a.ba/2;var A=n*(c+e-m+t-this.ya+a.$)+a.da/2+(this.ga?(a.ba/2-w)/2:0);p.fillStyle=f;p.globalAlpha=.5;if(this.ga)if(!this.va&&4<=this.zoom)this.fj(c,b,c+e-1,b+g-1,m,r);else{p.beginPath();for(f=0;f<g;f+=1)p.moveTo(d,x),p.lineTo(d+e*n+1,x),p.lineTo(d+e*n+1,x+q+1),p.lineTo(d,x+q+1),d-=q/2,x+=q;p.fill()}else!this.va&&this.A&&4<=this.zoom?this.ai(c,b,c+e-1,b+g-1,m,r):(p.beginPath(),this.Od(d,x,
v),p.moveTo(v[0],v[1]),this.Od(A+1,x,v),p.lineTo(v[0],v[1]),this.Od(A+1,w+1,v),p.lineTo(v[0],v[1]),this.Od(d,w+1,v),p.lineTo(v[0],v[1]),p.fill());if(1<=this.zoom){if(0<this.ma){var C=Math.cos(this.ma/180*Math.PI)*this.V;var z=Math.sin(this.ma/180*Math.PI)*this.V;var H=Math.cos((this.ma+90)/180*Math.PI)*this.V;var E=Math.sin((this.ma+90)/180*Math.PI)*this.V}else C=n,H=z=0,E=q;x=q*(b+l-r+u-this.wa+a.aa)+a.ba/2;d=n*(c+k-m+t-this.ya+a.$)+a.da/2+(this.ga?(a.ba/2-x)/2:0);0!==this.ma&&(this.Od(d,x,v),d=
v[0],x=v[1]);A=d;w=x;p.fillStyle=this.kh;if(this.ga&&!this.va&&4<=this.zoom)this.Ak(c,b,c+e-1,b+g-1,m,r,a.T);else if(!this.va&&this.A&&4<=this.zoom)this.Dk(c,b,c+e-1,b+g-1,m,r,a.T);else{p.beginPath();for(l=f=0;l<g;l+=1){d=A;for(k=0;k<e;k+=1)c=a.T[f],f+=1,c&&(c=d+C,b=x+z,n=c+H,q=b+E,m=n-C,r=q-z,0>d&&0>c&&0>n&&0>m||d>=a.da&&c>=a.da&&n>=a.da&&m>=a.da||0>x&&0>b&&0>q&&0>r||x>=a.ba&&b>=a.ba&&q>=a.ba&&r>=a.ba||(p.moveTo(d,x),p.lineTo(c,b),p.lineTo(n,q),p.lineTo(m,r))),d+=C,x+=z;A+=H;x=w+=E;this.ga&&(A-=
E/2)}p.fill()}}};qa.prototype.Od=function(a,c,b){var d=this.da/2,f=this.ba/2;if(0!==this.ma){a-=d;c-=f;var e=Math.sqrt(a*a+c*c);c=180/Math.PI*Math.atan2(c,a);c+=this.ma;a=Math.round(e*Math.cos(Math.PI/180*c)+d);c=Math.round(e*Math.sin(Math.PI/180*c)+f)}b[0]=a;b[1]=c};qa.prototype.Ck=function(a){var c=a.fc+.5|0,b=(this.width>>1)-(a.A>>1)+(a.V<<1),d=(this.height>>1)-(a.C>>1)+(a.W<<1);(a.P||a.fe)&&this.qk(a,a.Y,this.jh);a.Ra&&(-1!==this.C&&a.Sc?this.Lh(a,a.Wi.F-a.A,a.Wi.G-a.C,B.Km,this.ag):this.Lh(a,
a.Wi.F,a.Wi.G,B.Km,this.ag));if(a.Ea){var f=a.B.D;var e=a.B.I;-1!==f&&(a.$n(f,e),-1!==this.C&&a.Sc&&(b+=a.A-1,d+=a.C-1),this.Lh(a,a.Sd-b,a.ee-d,c,this.bh))}};qa.prototype.qk=function(a,c,b){var d=this.ha,f=this.zoom,e=this.zoom*(this.A?B.Rd:1),g=c.F,k=c.G,l=c.J;c=c.K;var p=(this.width>>1)-(a.A>>1),n=(this.height>>1)-(a.C>>1),q=a.aa-this.Z,m=a.$-this.ca-(this.ga?this.Z/2:0),r=[0,0],u=a.Y;if(g>l){var t=g;g=l;l=t}k>c&&(t=k,k=c,c=t);t=l-g+1;var v=c-k+1;-1!==this.C&&a.Sc&&(n+=a.C-1,p+=a.A-1);k=e*(k-n+
q-this.wa+a.aa)+a.ba/2;g=f*(g-p+m-this.ya+a.$)+a.da/2+(this.ga?(a.ba/2-k)/2:0);c=e*(c+1-n+q-this.wa+a.aa)+a.ba/2;l=f*(l+1-p+m-this.ya+a.$)+a.da/2+(this.ga?(a.ba/2-c)/2:0);d.fillStyle=b;d.globalAlpha=.5;if(this.ga)if(!this.va&&4<=this.zoom)this.fj(u.F,u.G,u.J,u.K,p,n);else{d.beginPath();t*=f;for(a=0;a<v;a+=1)d.moveTo(g,k),d.lineTo(g+t+1,k),d.lineTo(g+t+1,k+e+1),d.lineTo(g,k+e+1),g-=e/2,k+=e;d.fill()}else this.A&&!this.va&&4<=this.zoom?this.ai(u.F,u.G,u.J,u.K,p,n):(d.beginPath(),this.Od(g,k,r),d.moveTo(r[0],
r[1]),this.Od(l+1,k,r),d.lineTo(r[0],r[1]),this.Od(l+1,c+1,r),d.lineTo(r[0],r[1]),this.Od(g,c+1,r),d.lineTo(r[0],r[1]),d.fill());d.globalAlpha=1};qa.prototype.hd=function(){var a,c=this.da,b=this.ba,d=this.ae,f=this.De,e=this.V,g=this.V*(this.A?B.Rd:1),k=d,l,p=0<this.Fb&&this.nd,n=this.counter&1,q=((this.height/2-(this.Z+this.wa))*g+b/2)%g,m=((this.width/2-(this.ca+this.ya))*e+c/2)%e,r=this.view.A/2|0,u=this.view.C/2|0;if(this.Ba)var t=p?2:1;else t=1,p=!1,k=d=this.Sa[0];var v=d;for(this.T&&2===this.Fb&&
this.yd||(n=0);t;){var x=-(c/2/e)-(this.width/2-this.ca-this.ya)|0;x+=r-2;var w=22*-e;var A=c+e+22*e;var C=q-22*g;var z=b+22*g;var H=-c/1.5;var E=c+c/1.5;var J=-b/1.5;for(l=b+b/1.5;w<=A;w+=e)if(p&&(k=0===(x+n)%this.Fb?f:d),x+=1,k===v)if(this.ga){var N=-(b/2/g)-(this.height/2-this.Z-this.wa)|0;for(a=C;a<z;a+=g)0===(N&1)?this.fg(Math.round(w+m),Math.round(a),Math.round(w+m),Math.round(a+g-1),k):this.fg(Math.round(w+m+e/2),Math.round(a),Math.round(w+m+e/2),Math.round(a+g-1),k),N+=1}else this.fg(Math.round(w+
m),J,Math.round(w+m),l-1,k);x=-(b/2/g)-(this.height/2-this.Z-this.wa)|0;x+=u-2;for(a=C;a<z;a+=g)p&&(k=0===(x+n)%this.Fb?f:d),x+=1,k===v&&this.fg(H,Math.round(a),E-1,Math.round(a),k);--t;v=f}};qa.prototype.xc=function(){return 4<=this.V};qa.prototype.Rf=function(a,c){var b=this.M,d=this.I,f=this.T?-1:0,e=Math.round((this.width-b)/2-1)+f,g=e+b+1,k=Math.round((this.height-d)/2-1)+f;f=k+d+1;var l=a[k],p=a[f];if(0===b)l.fill(c,0,this.width),p.fill(c,0,this.width);else if(0===d)for(b=0;b<this.height;b+=
1)a[b][e]=c,a[b][g]=c;else for(l.fill(c,e,g+1),p.fill(c,e,g+1),b=k+1;b<=f-1;b+=1)a[b][e]=c,a[b][g]=c};qa.prototype.Fm=function(a,c){var b=this.Sa[0],d=this.Gc,f=this.l,e=this.Gd,g=this.Za;this.Uf=!0;(this.i||this.v||this.o)&&0!==(this.counter&1)&&(f=this.$,e=this.cf,g=this.kb);this.Wd&&(this.Ih(),b=this.Sa[0],--this.Wd,this.Wd||(this.wd.set(this.gd),this.Mc.set(this.Bc),this.Sd.set(this.td),this.Re.set(this.Ce),this.Id.set(this.md),this.qf.set(this.He)));this.V=this.zoom*this.Ja;this.V<B.rb?this.V=
B.rb:this.V>B.Mb&&(this.V=B.Mb);this.sb=this.ca+this.ya;this.tb=this.Z+this.wa;this.ua=this.vb/2+1;this.ma=this.ga||this.A?0:this.angle;-1!==this.C&&this.Rf(f,this.Qb);4<=this.V&&(!this.va&&this.ga||!this.va&&this.A)?(d.fill(b),this.ab(1)):(1>this.V&&this.lk(e,g),.0625>this.V?this.Tb?this.lf(this.Qa,this.ra,31,a,c):this.mf(this.ra,this.ra,31,a,c):.125>this.V?this.Tb?this.lf(this.Qa,this.ra,15,a,c):this.mf(this.ra,this.ra,15,a,c):.25>this.V?this.Tb?this.lf(this.Qa,this.ra,7,a,c):this.mf(this.ra,this.ra,
7,a,c):.5>this.V?this.Tb?this.lf(this.Qa,this.ra,3,a,c):this.mf(this.ra,this.ra,3,a,c):1>this.V?this.Tb?this.lf(this.Qa,this.ra,1,a,c):this.mf(this.ra,this.ra,1,a,c):this.Tb?this.lf(this.ta,f,0,a,c):this.mf(f,f,0,a,c))};qa.prototype.an=function(a,c,b,d){var f=this.da>>3,e=this.Sa,g=this.Gc,k=0,l=0;var p=this.width;var n=this.height;var q=1,m=1,r=0,u=this.L,t=this.sa&~b,v=this.qa&~b,x=~b,w=~b,A=this.zd,C,z=a,H=this.V;1<this.ua&&(q=this.oa);a=Math.sin(this.ma/180*Math.PI)/this.V;var E=Math.cos(this.ma/
180*Math.PI)/this.V;var J=-(this.da/2*-a+this.ba/2*E)+this.tb;var N=-(this.da/2*E+this.ba/2*a)+this.sb;1<this.oa&&1<this.ua&&(r=.4/(this.oa-1),m=.6);this.ab(m);for(C=this.Sa[0];p<u;)k+=p>>1,p<<=1;for(;n<u;)l+=n>>1,n<<=1;var L=0;var D=J;for(p=0;p<this.ba;p+=1){var G=N;for(n=0;n<f;n+=1){if(0<=G&&(G&x)===(G&t)&&0<D&&(D&w)===(D&v)){var F=z[D&v][G&t]|0;g[L]=e[F]}else g[L]=0<=G+k&&G+k<u&&0<=D+l&&D+l<u?C:A;L+=1;G+=E;D-=a;0<=G&&(G&x)===(G&t)&&0<D&&(D&w)===(D&v)?(F=z[D&v][G&t]|0,g[L]=e[F]):g[L]=0<=G+k&&G+
k<u&&0<=D+l&&D+l<u?C:A;L+=1;G+=E;D-=a;0<=G&&(G&x)===(G&t)&&0<D&&(D&w)===(D&v)?(F=z[D&v][G&t]|0,g[L]=e[F]):g[L]=0<=G+k&&G+k<u&&0<=D+l&&D+l<u?C:A;L+=1;G+=E;D-=a;0<=G&&(G&x)===(G&t)&&0<D&&(D&w)===(D&v)?(F=z[D&v][G&t]|0,g[L]=e[F]):g[L]=0<=G+k&&G+k<u&&0<=D+l&&D+l<u?C:A;L+=1;G+=E;D-=a;0<=G&&(G&x)===(G&t)&&0<D&&(D&w)===(D&v)?(F=z[D&v][G&t]|0,g[L]=e[F]):g[L]=0<=G+k&&G+k<u&&0<=D+l&&D+l<u?C:A;L+=1;G+=E;D-=a;0<=G&&(G&x)===(G&t)&&0<D&&(D&w)===(D&v)?(F=z[D&v][G&t]|0,g[L]=e[F]):g[L]=0<=G+k&&G+k<u&&0<=D+l&&D+l<
u?C:A;L+=1;G+=E;D-=a;0<=G&&(G&x)===(G&t)&&0<D&&(D&w)===(D&v)?(F=z[D&v][G&t]|0,g[L]=e[F]):g[L]=0<=G+k&&G+k<u&&0<=D+l&&D+l<u?C:A;L+=1;G+=E;D-=a;0<=G&&(G&x)===(G&t)&&0<D&&(D&w)===(D&v)?(F=z[D&v][G&t]|0,g[L]=e[F]):g[L]=0<=G+k&&G+k<u&&0<=D+l&&D+l<u?C:A;L+=1;G+=E;D-=a}N+=a;D=J+=E}d&&this.kd();(this.Ba||this.Ra)&&this.xc()&&this.hd();z=c;for(c=1;c<q;c+=1)for(d=2<this.h?this.o?1:0===this.s?this.h/this.oa*c|0:c<q/2?this.s/this.oa*c*2|0:this.s+this.h/this.oa*c|0:this.Ma?1:(this.Ie+1)/this.oa*c|0,m+=r,this.ab(m),
a/=this.ua,E/=this.ua,H*=this.ua,t=b,b=.125>H?15:.25>H?7:.5>H?3:1>H?1:0,b!==t&&(z=this.l),t=this.sa&~b,v=this.qa&~b,x=~b,w=~b,J=-(this.da/2*-a+this.ba/2*E)+this.tb,N=-(this.da/2*E+this.ba/2*a)+this.sb,L=0,D=J,p=0;p<this.ba;p+=1){G=N;for(n=0;n<f;n+=1)0<=G&&(G&x)===(G&t)&&0<D&&(D&w)===(D&v)&&(F=z[D&v][G&t]|0,F>=d&&(g[L]=e[F])),L+=1,G+=E,D-=a,0<=G&&(G&x)===(G&t)&&0<D&&(D&w)===(D&v)&&(F=z[D&v][G&t]|0,F>=d&&(g[L]=e[F])),L+=1,G+=E,D-=a,0<=G&&(G&x)===(G&t)&&0<D&&(D&w)===(D&v)&&(F=z[D&v][G&t]|0,F>=d&&(g[L]=
e[F])),L+=1,G+=E,D-=a,0<=G&&(G&x)===(G&t)&&0<D&&(D&w)===(D&v)&&(F=z[D&v][G&t]|0,F>=d&&(g[L]=e[F])),L+=1,G+=E,D-=a,0<=G&&(G&x)===(G&t)&&0<D&&(D&w)===(D&v)&&(F=z[D&v][G&t]|0,F>=d&&(g[L]=e[F])),L+=1,G+=E,D-=a,0<=G&&(G&x)===(G&t)&&0<D&&(D&w)===(D&v)&&(F=z[D&v][G&t]|0,F>=d&&(g[L]=e[F])),L+=1,G+=E,D-=a,0<=G&&(G&x)===(G&t)&&0<D&&(D&w)===(D&v)&&(F=z[D&v][G&t]|0,F>=d&&(g[L]=e[F])),L+=1,G+=E,D-=a,0<=G&&(G&x)===(G&t)&&0<D&&(D&w)===(D&v)&&(F=z[D&v][G&t]|0,F>=d&&(g[L]=e[F])),L+=1,G+=E,D-=a;N+=a;D=J+=E}};qa.prototype.cn=
function(a,c,b,d){var f=this.da>>3,e=this.Sa,g=this.Gc,k=0,l=0;var p=this.width;var n=this.height;var q=1,m=1,r=0,u=this.L,t=this.sa&~b,v=this.qa&~b,x=~b,w=~b,A=this.zd,C,z=a,H=this.V;1<this.ua&&(q=this.oa);a=1/this.V;this.A&&(a/=B.Rd);var E=1/this.V;var J=-(this.ba/2*a)+this.tb;var N=-(this.da/2*E)+this.sb;1<this.oa&&1<this.ua&&(r=.4/(this.oa-1),m=.6);this.ab(m);for(C=this.Sa[0];p<u;)k+=p>>1,p<<=1;for(;n<u;)l+=n>>1,n<<=1;var L=0;var D=J;for(p=0;p<this.ba;p+=1){if(0<=D&&(D&w)===(D&v)){var G=z[D&v];
var F=N;this.ga&&(F+=.5*(D|0));for(n=0;n<f;n+=1){if(0<=F&&(F&x)===(F&t)){var W=G[F&t]|0;g[L]=e[W]}else g[L]=0<=F+k&&F+k<u?C:A;L+=1;F+=E;0<=F&&(F&x)===(F&t)?(W=G[F&t]|0,g[L]=e[W]):g[L]=0<=F+k&&F+k<u?C:A;L+=1;F+=E;0<=F&&(F&x)===(F&t)?(W=G[F&t]|0,g[L]=e[W]):g[L]=0<=F+k&&F+k<u?C:A;L+=1;F+=E;0<=F&&(F&x)===(F&t)?(W=G[F&t]|0,g[L]=e[W]):g[L]=0<=F+k&&F+k<u?C:A;L+=1;F+=E;0<=F&&(F&x)===(F&t)?(W=G[F&t]|0,g[L]=e[W]):g[L]=0<=F+k&&F+k<u?C:A;L+=1;F+=E;0<=F&&(F&x)===(F&t)?(W=G[F&t]|0,g[L]=e[W]):g[L]=0<=F+k&&F+k<u?
C:A;L+=1;F+=E;0<=F&&(F&x)===(F&t)?(W=G[F&t]|0,g[L]=e[W]):g[L]=0<=F+k&&F+k<u?C:A;L+=1;F+=E;0<=F&&(F&x)===(F&t)?(W=G[F&t]|0,g[L]=e[W]):g[L]=0<=F+k&&F+k<u?C:A;L+=1;F+=E}}else if(0<=D+l&&D+l<u)for(F=N,this.ga&&(F+=.5*(D|0)),n=0;n<this.da;n+=1)g[L]=0<=F+k&&F+k<u?C:A,L+=1,F+=E;else g.fill(A,L,L+this.da+1),L+=this.da;D=J+=a}d&&this.kd();(this.Ba||this.Ra)&&this.xc()&&this.hd();z=c;for(c=1;c<q;c+=1)for(d=2<this.h?this.o?1:0===this.s?this.h/this.oa*c|0:c<q/2?this.s/this.oa*c*2|0:this.s+this.h/this.oa*c|0:
this.Ma?1:(this.Ie+1)/this.oa*c|0,m+=r,this.ab(m),a/=this.ua,E/=this.ua,H*=this.ua,t=b,b=.125>H?15:.25>H?7:.5>H?3:1>H?1:0,b!==t&&(z=this.l),t=this.sa&~b,v=this.qa&~b,x=~b,w=~b,J=-(this.ba/2*a)+this.tb,N=-(this.da/2*E)+this.sb,L=0,D=J,p=0;p<this.ba;p+=1){if(0<=D&&(D&w)===(D&v))for(G=z[D&v],F=N,this.ga&&(F+=.5*(D|0)),n=0;n<f;n+=1)0<=F&&(F&x)===(F&t)&&(W=G[F&t]|0,W>=d&&(g[L]=e[W])),L+=1,F+=E,0<=F&&(F&x)===(F&t)&&(W=z[D&v][F&t]|0,W>=d&&(g[L]=e[W])),L+=1,F+=E,0<=F&&(F&x)===(F&t)&&(W=z[D&v][F&t]|0,W>=d&&
(g[L]=e[W])),L+=1,F+=E,0<=F&&(F&x)===(F&t)&&(W=z[D&v][F&t]|0,W>=d&&(g[L]=e[W])),L+=1,F+=E,0<=F&&(F&x)===(F&t)&&(W=z[D&v][F&t]|0,W>=d&&(g[L]=e[W])),L+=1,F+=E,0<=F&&(F&x)===(F&t)&&(W=z[D&v][F&t]|0,W>=d&&(g[L]=e[W])),L+=1,F+=E,0<=F&&(F&x)===(F&t)&&(W=z[D&v][F&t]|0,W>=d&&(g[L]=e[W])),L+=1,F+=E,0<=F&&(F&x)===(F&t)&&(W=z[D&v][F&t]|0,W>=d&&(g[L]=e[W])),L+=1,F+=E;else L+=f<<3;D=J+=a}};qa.prototype.dn=function(a,c,b,d){var f=this.da>>3,e=this.Sa,g=this.Gc,k,l,p=1,n=1,q=0,m=this.sa&~b,r=this.qa&~b,u=a,t=this.V;
1<this.ua&&(p=this.oa);a=Math.sin(this.ma/180*Math.PI)/this.V;var v=Math.cos(this.ma/180*Math.PI)/this.V;var x=-(this.da/2*-a+this.ba/2*v)+this.tb;var w=-(this.da/2*v+this.ba/2*a)+this.sb;1<this.oa&&1<this.ua&&(q=.4/(this.oa-1),n=.6);this.ab(n);var A=0;var C=x;for(k=0;k<this.ba;k+=1){var z=w;for(l=0;l<f;l+=1){var H=u[C&r][z&m]|0;g[A]=e[H];A+=1;z+=v;C-=a;H=u[C&r][z&m]|0;g[A]=e[H];A+=1;z+=v;C-=a;H=u[C&r][z&m]|0;g[A]=e[H];A+=1;z+=v;C-=a;H=u[C&r][z&m]|0;g[A]=e[H];A+=1;z+=v;C-=a;H=u[C&r][z&m]|0;g[A]=e[H];
A+=1;z+=v;C-=a;H=u[C&r][z&m]|0;g[A]=e[H];A+=1;z+=v;C-=a;H=u[C&r][z&m]|0;g[A]=e[H];A+=1;z+=v;C-=a;H=u[C&r][z&m]|0;g[A]=e[H];A+=1;z+=v;C-=a}w+=a;C=x+=v}d&&this.kd();(this.Ba||this.Ra)&&this.xc()&&this.hd();u=c;for(c=1;c<p;c+=1)for(d=2<this.h?this.o?1:0===this.s?this.h/this.oa*c|0:c<p/2?this.s/this.oa*c*2|0:this.s+this.h/this.oa*c|0:this.Ma?1:(this.Ie+1)/this.oa*c|0,n+=q,this.ab(n),a/=this.ua,v/=this.ua,t*=this.ua,m=b,.125>t?b=15:.25>t?b=7:.5>t?b=3:1>t?b=1:(u=this.l,b=0),b!==m&&(u=this.l),m=this.sa&
~b,r=this.qa&~b,x=-(this.da/2*-a+this.ba/2*v)+this.tb,w=-(this.da/2*v+this.ba/2*a)+this.sb,A=0,C=x,k=0;k<this.ba;k+=1){z=w;for(l=0;l<f;l+=1)H=u[C&r][z&m]|0,H>=d&&(g[A]=e[H]),A+=1,z+=v,C-=a,H=u[C&r][z&m]|0,H>=d&&(g[A]=e[H]),A+=1,z+=v,C-=a,H=u[C&r][z&m]|0,H>=d&&(g[A]=e[H]),A+=1,z+=v,C-=a,H=u[C&r][z&m]|0,H>=d&&(g[A]=e[H]),A+=1,z+=v,C-=a,H=u[C&r][z&m]|0,H>=d&&(g[A]=e[H]),A+=1,z+=v,C-=a,H=u[C&r][z&m]|0,H>=d&&(g[A]=e[H]),A+=1,z+=v,C-=a,H=u[C&r][z&m]|0,H>=d&&(g[A]=e[H]),A+=1,z+=v,C-=a,H=u[C&r][z&m]|0,H>=
d&&(g[A]=e[H]),A+=1,z+=v,C-=a;w+=a;C=x+=v}};qa.prototype.en=function(a,c,b,d){var f=this.da>>3,e=this.Sa,g=this.Gc,k,l=1,p=1,n=0,q=this.sa&~b,m=this.qa&~b,r=a,u=this.V;1<this.ua&&(l=this.oa);a=1/this.V;this.A&&(a/=B.Rd);var t=1/this.V;var v=-(this.ba/2*a)+this.tb;var x=-(this.da/2*t)+this.sb;1<this.oa&&1<this.ua&&(n=.4/(this.oa-1),p=.6);this.ab(p);var w=0;var A=v;for(k=0;k<this.ba;k+=1){var C=r[A&m];var z=x;this.ga&&(z+=.5*(A|0));for(A=0;A<f;A+=1){var H=C[z&q];g[w]=e[H];w+=1;z+=t;H=C[z&q];g[w]=e[H];
w+=1;z+=t;H=C[z&q];g[w]=e[H];w+=1;z+=t;H=C[z&q];g[w]=e[H];w+=1;z+=t;H=C[z&q];g[w]=e[H];w+=1;z+=t;H=C[z&q];g[w]=e[H];w+=1;z+=t;H=C[z&q];g[w]=e[H];w+=1;z+=t;H=C[z&q];g[w]=e[H];w+=1;z+=t}A=v+=a}d&&this.kd();(this.Ba||this.Ra)&&this.xc()&&this.hd();r=c;for(c=1;c<l;c+=1)for(d=2<this.h?this.o?1:0===this.s?this.h/this.oa*c|0:c<l/2?this.s/this.oa*c*2|0:this.s+this.h/this.oa*c|0:this.Ma?1:(this.Ie+1)/this.oa*c|0,p+=n,this.ab(p),a/=this.ua,t/=this.ua,u*=this.ua,q=b,b=.125>u?15:.25>u?7:.5>u?3:1>u?1:0,b!==q&&
(r=this.l),q=this.sa&~b,m=this.qa&~b,v=-(this.ba/2*a)+this.tb,x=-(this.da/2*t)+this.sb,w=0,A=v,k=0;k<this.ba;k+=1){C=r[A&m];z=x;this.ga&&(z+=.5*(A|0));for(A=0;A<f;A+=1)H=C[z&q]|0,H>=d&&(g[w]=e[H]),w+=1,z+=t,H=C[z&q]|0,H>=d&&(g[w]=e[H]),w+=1,z+=t,H=C[z&q]|0,H>=d&&(g[w]=e[H]),w+=1,z+=t,H=C[z&q]|0,H>=d&&(g[w]=e[H]),w+=1,z+=t,H=C[z&q]|0,H>=d&&(g[w]=e[H]),w+=1,z+=t,H=C[z&q]|0,H>=d&&(g[w]=e[H]),w+=1,z+=t,H=C[z&q]|0,H>=d&&(g[w]=e[H]),w+=1,z+=t,H=C[z&q]|0,H>=d&&(g[w]=e[H]),w+=1,z+=t;A=v+=a}};qa.prototype.mf=
function(a,c,b,d,f){var e=Math.sin(this.ma/180*Math.PI)/this.V,g=Math.cos(this.ma/180*Math.PI)/this.V,k=this.A?B.Rd:1,l=this.da,p=this.ba,n=-(this.da/2*-e+this.ba/2*g/k)+this.tb,q=-(this.da/2*g+this.ba/2*e)+this.sb,m=n+l*-e,r=q+l*g;k=n+p*g/k;p=q+p*e;e=k+l*-e;g=p+l*g;l=k;var u=p;g<u&&(u=g);q<u&&(u=q);r<u&&(u=q);g>p&&(p=g);q>p&&(p=q);r>p&&(p=r);e>l&&(l=e);n>l&&(l=n);m>l&&(l=m);e<k&&(k=e);n<k&&(k=n);m<k&&(k=m);0>(u|0)||(p|0)>=this.width||0>(k|0)||(l|0)>=this.height?0===this.ma?this.nc&&!this.ga&&1<=
this.V&&1===this.oa&&(this.V|0)!==this.V?(this.ab(1),this.width!==this.L?this.hh(a,u,k,p,l,this.Sa[0],d,f):this.hh(a,u,k,p,l,this.zd,d,f)):this.cn(a,c,b,d):this.an(a,c,b,d):0===this.ma?this.nc&&!this.ga&&1<=this.V&&1===this.oa&&(this.V|0)!==this.V?(this.ab(1),this.hh(a,u,k,p,l,this.Sa[0],d,f)):this.en(a,c,b,d):this.dn(a,c,b,d)};qa.prototype.hh=function(a,c,b,d,f,e,g,k){var l=this.Sa,p=this.Fg,n=this.Ef,q=this.Ff,m=(this.V|0)<<1,r=this.bd.width,u=r*m,t=d-c,v=f-b,x=this.V*(this.A?B.Rd:1),w=-(c-Math.floor(c))*
this.V,A=-(b-Math.floor(b))*x,C=this.width-1,z=this.height-1,H,E=0,J,N=m>>1,L;b|=0;c|=0;t=(t|0)+2;v=(v|0)+2;d=c+t;f=b+v;switch(N){case 1:var D=u;for(L=t<<1;b<f;b+=1){if((b&z)!==b)p.fill(e,E,E+L),E+=r,p.fill(e,E,E+L);else{var G=a[b];var F=E;for(H=c;H<d;H+=1){var W=(H&C)!==H?e:l[G[H]];p[E]=W;p[E+1]=W;E+=2}E=F+r;p.copyWithin(E,F,F+L)}E=D;D+=u}break;case 2:D=u;for(L=t<<2;b<f;b+=1){if((b&z)!==b)p.fill(e,E,E+L),E+=r,p.fill(e,E,E+L),E+=r,p.fill(e,E,E+L),E+=r,p.fill(e,E,E+L);else{G=a[b];F=E;for(H=c;H<d;H+=
1)W=(H&C)!==H?e:l[G[H]],p[E]=W,p[E+1]=W,p[E+2]=W,p[E+3]=W,E+=4;E=F+r;p.copyWithin(E,F,F+L);E+=r;F+=r;p.copyWithin(E,F,F+L);E+=r;F+=r;p.copyWithin(E,F,F+L)}E=D;D+=u}break;default:for(D=u,L=t*m;b<f;b+=1){if((b&z)!==b)for(G=0;G<N;G+=1)p.fill(e,E,E+L),E+=r,p.fill(e,E,E+L),E+=r;else{G=a[b];F=E;for(H=c;H<d;H+=1)for(W=(H&C)!==H?e:l[G[H]],J=0;J<N;J+=1)p[E]=W,p[E+1]=W,E+=2;E=F+r;for(G=1;G<m;G+=1)p.copyWithin(E,F,F+L),F+=r,E+=r}E=D;D+=u}}n.putImageData(q,0,0,0,0,t*m,v*m);this.ha.imageSmoothingEnabled=!0;this.ha.drawImage(this.bd,
0,0,t*m,v*m,w,A,t*this.V,v*x);this.ha.imageSmoothingEnabled=!1;g||k||(this.Ba||this.Ra)&&this.xc()?(this.Ic=this.ha.getImageData(0,0,this.ha.canvas.width,this.ha.canvas.height),this.Gc=new Uint32Array(this.Ic.data.buffer),g&&this.kd(),(this.Ba||this.Ra)&&this.xc()&&this.hd()):this.Uf=!1};qa.prototype.gh=function(a,c,b,d,f,e,g,k,l){var p=this.Sa,n=this.Fg,q=this.Ef,m=this.Ff,r=(this.V|0)<<1,u=this.bd.width,t=u*r,v=f-b,x=e-d,w=-(b-Math.floor(b))*this.V,A=-(d-Math.floor(d))*this.V,C=this.width-1,z=this.height-
1,H,E=0,J=this.Ta,N=r>>1,L=B.nb[3]+128,D=B.nb[4]+128,G=B.nb[5]+128,F=B.nb[6]+128,W;d|=0;b|=0;v=(v|0)+2;x=(x|0)+2;f=b+v;e=d+x;switch(N){case 1:var va=t;for(W=v<<1;d<e;d+=1){if((d&z)!==d)n.fill(g,E,E+W),E+=u,n.fill(g,E,E+W);else{var ma=c[d];var U=a[d];var oa=E;for(H=b;H<f;H+=1){if((H&C)!==H)var da=g;else{da=ma[H];var ca=U[H];ca===D||ca===F?(da>=J&&(ca=L),da=p[ca]):ca===L||ca===G?(da<J&&(ca=D),da=p[ca]):da=p[da]}n[E]=da;n[E+1]=da;E+=2}E=oa+u;n.copyWithin(E,oa,oa+W)}E=va;va+=t}break;case 2:va=t;for(W=
v<<2;d<e;d+=1){if((d&z)!==d)n.fill(g,E,E+W),E+=u,n.fill(g,E,E+W),E+=u,n.fill(g,E,E+W),E+=u,n.fill(g,E,E+W);else{ma=c[d];U=a[d];oa=E;for(H=b;H<f;H+=1)(H&C)!==H?da=g:(da=ma[H],ca=U[H],ca===D||ca===F?(da>=J&&(ca=L),da=p[ca]):ca===L||ca===G?(da<J&&(ca=D),da=p[ca]):da=p[da]),n[E]=da,n[E+1]=da,n[E+2]=da,n[E+3]=da,E+=4;E=oa+u;n.copyWithin(E,oa,oa+W);E+=u;oa+=u;n.copyWithin(E,oa,oa+W);E+=u;oa+=u;n.copyWithin(E,oa,oa+W)}E=va;va+=t}break;default:for(va=t,W=v*r;d<e;d+=1){if((d&z)!==d)for(ma=0;ma<N;ma+=1)n.fill(g,
E,E+W),E+=u,n.fill(g,E,E+W),E+=u;else{ma=c[d];U=a[d];oa=E;for(H=b;H<f;H+=1)for((H&C)!==H?da=g:(da=ma[H],ca=U[H],ca===D||ca===F?(da>=J&&(ca=L),da=p[ca]):ca===L||ca===G?(da<J&&(ca=D),da=p[ca]):da=p[da]),ca=0;ca<N;ca+=1)n[E]=da,n[E+1]=da,E+=2;E=oa+u;for(ma=1;ma<r;ma+=1)n.copyWithin(E,oa,oa+W),oa+=u,E+=u}E=va;va+=t}}q.putImageData(m,0,0,0,0,v*r,x*r);this.ha.imageSmoothingEnabled=!0;this.ha.drawImage(this.bd,0,0,v*r,x*r,w,A,v*this.V,x*this.V);this.ha.imageSmoothingEnabled=!1;k||l||(this.Ba||this.Ra)&&
this.xc()?(this.Ic=this.ha.getImageData(0,0,this.ha.canvas.width,this.ha.canvas.height),this.Gc=new Uint32Array(this.Ic.data.buffer),k&&this.kd(),(this.Ba||this.Ra)&&this.xc()&&this.hd()):this.Uf=!1};qa.prototype.Hm=function(a,c,b,d){var f=this.da>>3,e=this.Sa,g=this.Gc,k=0,l=0;var p=this.width;var n=this.height;var q=B.nb[3]+128,m=B.nb[4]+128,r=B.nb[5]+128,u=B.nb[6]+128,t=1,v=1,x=0,w=this.L,A=this.Ta,C=this.sa&~b,z=this.qa&~b,H=~b,E=~b,J=this.zd,N,L=c,D=this.V;1<this.ua&&(t=this.oa);var G=Math.sin(this.ma/
180*Math.PI)/this.V;var F=Math.cos(this.ma/180*Math.PI)/this.V;var W=-(this.da/2*-G+this.ba/2*F)+this.tb;var va=-(this.da/2*F+this.ba/2*G)+this.sb;1<this.oa&&1<this.ua&&(x=.4/(this.oa-1),v=.6);this.ab(v);for(N=this.Sa[0];p<w;)k+=p>>1,p<<=1;for(;n<w;)l+=n>>1,n<<=1;var ma=0;var U=W;for(p=0;p<this.ba;p+=1){var oa=va;for(n=0;n<f;n+=1){if(0<=oa&&(oa&H)===(oa&C)&&0<=U&&(U&E)===(U&z)){var da=L[U&z][oa&C];var ca=a[U&z][oa&C];ca===m||ca===u?(da>=A&&(ca=q),da=e[ca]|0):ca===q||ca===r?(da<A&&(ca=m),da=e[ca]|
0):da=e[da]|0;g[ma]=da}else g[ma]=0<=oa+k&&oa+k<w&&0<=U+l&&U+l<w?N:J;ma+=1;oa+=F;U-=G;0<=oa&&(oa&H)===(oa&C)&&0<=U&&(U&E)===(U&z)?(da=L[U&z][oa&C],ca=a[U&z][oa&C],ca===m||ca===u?(da>=A&&(ca=q),da=e[ca]|0):ca===q||ca===r?(da<A&&(ca=m),da=e[ca]|0):da=e[da]|0,g[ma]=da):g[ma]=0<=oa+k&&oa+k<w&&0<=U+l&&U+l<w?N:J;ma+=1;oa+=F;U-=G;0<=oa&&(oa&H)===(oa&C)&&0<=U&&(U&E)===(U&z)?(da=L[U&z][oa&C],ca=a[U&z][oa&C],ca===m||ca===u?(da>=A&&(ca=q),da=e[ca]|0):ca===q||ca===r?(da<A&&(ca=m),da=e[ca]|0):da=e[da]|0,g[ma]=
da):g[ma]=0<=oa+k&&oa+k<w&&0<=U+l&&U+l<w?N:J;ma+=1;oa+=F;U-=G;0<=oa&&(oa&H)===(oa&C)&&0<=U&&(U&E)===(U&z)?(da=L[U&z][oa&C],ca=a[U&z][oa&C],ca===m||ca===u?(da>=A&&(ca=q),da=e[ca]|0):ca===q||ca===r?(da<A&&(ca=m),da=e[ca]|0):da=e[da]|0,g[ma]=da):g[ma]=0<=oa+k&&oa+k<w&&0<=U+l&&U+l<w?N:J;ma+=1;oa+=F;U-=G;0<=oa&&(oa&H)===(oa&C)&&0<=U&&(U&E)===(U&z)?(da=L[U&z][oa&C],ca=a[U&z][oa&C],ca===m||ca===u?(da>=A&&(ca=q),da=e[ca]|0):ca===q||ca===r?(da<A&&(ca=m),da=e[ca]|0):da=e[da]|0,g[ma]=da):g[ma]=0<=oa+k&&oa+k<
w&&0<=U+l&&U+l<w?N:J;ma+=1;oa+=F;U-=G;0<=oa&&(oa&H)===(oa&C)&&0<=U&&(U&E)===(U&z)?(da=L[U&z][oa&C],ca=a[U&z][oa&C],ca===m||ca===u?(da>=A&&(ca=q),da=e[ca]|0):ca===q||ca===r?(da<A&&(ca=m),da=e[ca]|0):da=e[da]|0,g[ma]=da):g[ma]=0<=oa+k&&oa+k<w&&0<=U+l&&U+l<w?N:J;ma+=1;oa+=F;U-=G;0<=oa&&(oa&H)===(oa&C)&&0<=U&&(U&E)===(U&z)?(da=L[U&z][oa&C],ca=a[U&z][oa&C],ca===m||ca===u?(da>=A&&(ca=q),da=e[ca]|0):ca===q||ca===r?(da<A&&(ca=m),da=e[ca]|0):da=e[da]|0,g[ma]=da):g[ma]=0<=oa+k&&oa+k<w&&0<=U+l&&U+l<w?N:J;ma+=
1;oa+=F;U-=G;0<=oa&&(oa&H)===(oa&C)&&0<=U&&(U&E)===(U&z)?(da=L[U&z][oa&C],ca=a[U&z][oa&C],ca===m||ca===u?(da>=A&&(ca=q),da=e[ca]|0):ca===q||ca===r?(da<A&&(ca=m),da=e[ca]|0):da=e[da]|0,g[ma]=da):g[ma]=0<=oa+k&&oa+k<w&&0<=U+l&&U+l<w?N:J;ma+=1;oa+=F;U-=G}va+=G;U=W+=F}d&&this.kd();(this.Ba||this.Ra)&&this.xc()&&this.hd();L=c;for(a=1;a<t;a+=1)for(c=2<this.h?0===this.s?this.h/this.oa*a|0:a<t/2?this.s/this.oa*a*2|0:this.s+this.h/this.oa*a|0:this.Ma?1:(this.Ie+1)/this.oa*a|0,v+=x,this.ab(v),G/=this.ua,F/=
this.ua,D*=this.ua,W=b,.125>D?b=15:.25>D?b=7:.5>D?b=3:1>D?b=1:(L=this.l,b=0),b!==W&&(L=this.l),C=this.sa&~b,z=this.qa&~b,H=~b,E=~b,W=-(this.da/2*-G+this.ba/2*F)+this.tb,va=-(this.da/2*F+this.ba/2*G)+this.sb,ma=0,U=W,p=0;p<this.ba;p+=1){oa=va;for(n=0;n<f;n+=1)0<=oa&&(oa&H)===(oa&C)&&0<=U&&(U&E)===(U&z)&&(da=L[U&z][oa&C]|0,da>=c&&(g[ma]=e[da])),ma+=1,oa+=F,U-=G,0<=oa&&(oa&H)===(oa&C)&&0<=U&&(U&E)===(U&z)&&(da=L[U&z][oa&C]|0,da>=c&&(g[ma]=e[da])),ma+=1,oa+=F,U-=G,0<=oa&&(oa&H)===(oa&C)&&0<=U&&(U&E)===
(U&z)&&(da=L[U&z][oa&C]|0,da>=c&&(g[ma]=e[da])),ma+=1,oa+=F,U-=G,0<=oa&&(oa&H)===(oa&C)&&0<=U&&(U&E)===(U&z)&&(da=L[U&z][oa&C]|0,da>=c&&(g[ma]=e[da])),ma+=1,oa+=F,U-=G,0<=oa&&(oa&H)===(oa&C)&&0<=U&&(U&E)===(U&z)&&(da=L[U&z][oa&C]|0,da>=c&&(g[ma]=e[da])),ma+=1,oa+=F,U-=G,0<=oa&&(oa&H)===(oa&C)&&0<=U&&(U&E)===(U&z)&&(da=L[U&z][oa&C]|0,da>=c&&(g[ma]=e[da])),ma+=1,oa+=F,U-=G,0<=oa&&(oa&H)===(oa&C)&&0<=U&&(U&E)===(U&z)&&(da=L[U&z][oa&C]|0,da>=c&&(g[ma]=e[da])),ma+=1,oa+=F,U-=G,0<=oa&&(oa&H)===(oa&C)&&
0<=U&&(U&E)===(U&z)&&(da=L[U&z][oa&C]|0,da>=c&&(g[ma]=e[da])),ma+=1,oa+=F,U-=G;va+=G;U=W+=F}};qa.prototype.Rm=function(a,c,b,d){var f=this.da>>3,e=this.Sa,g=this.Gc,k,l,p=B.nb[3]+128,n=B.nb[4]+128,q=B.nb[5]+128,m=B.nb[6]+128,r=1,u=1,t=0,v=this.Ta,x=this.sa&~b,w=this.qa&~b,A=c,C=this.V;1<this.ua&&(r=this.oa);var z=Math.sin(this.ma/180*Math.PI)/this.V;var H=Math.cos(this.ma/180*Math.PI)/this.V;var E=-(this.da/2*-z+this.ba/2*H)+this.tb;var J=-(this.da/2*H+this.ba/2*z)+this.sb;1<this.oa&&1<this.ua&&(t=
.4/(this.oa-1),u=.6);this.ab(u);var N=0;var L=E;for(k=0;k<this.ba;k+=1){var D=J;for(l=0;l<f;l+=1){var G=A[L&w][D&x];var F=a[L&w][D&x];F===n||F===m?(G>=v&&(F=p),G=e[F]|0):F===p||F===q?(G<v&&(F=n),G=e[F]|0):G=e[G]|0;g[N]=G;N+=1;D+=H;L-=z;G=A[L&w][D&x];F=a[L&w][D&x];F===n||F===m?(G>=v&&(F=p),G=e[F]|0):F===p||F===q?(G<v&&(F=n),G=e[F]|0):G=e[G]|0;g[N]=G;N+=1;D+=H;L-=z;G=A[L&w][D&x];F=a[L&w][D&x];F===n||F===m?(G>=v&&(F=p),G=e[F]|0):F===p||F===q?(G<v&&(F=n),G=e[F]|0):G=e[G]|0;g[N]=G;N+=1;D+=H;L-=z;G=A[L&
w][D&x];F=a[L&w][D&x];F===n||F===m?(G>=v&&(F=p),G=e[F]|0):F===p||F===q?(G<v&&(F=n),G=e[F]|0):G=e[G]|0;g[N]=G;N+=1;D+=H;L-=z;G=A[L&w][D&x];F=a[L&w][D&x];F===n||F===m?(G>=v&&(F=p),G=e[F]|0):F===p||F===q?(G<v&&(F=n),G=e[F]|0):G=e[G]|0;g[N]=G;N+=1;D+=H;L-=z;G=A[L&w][D&x];F=a[L&w][D&x];F===n||F===m?(G>=v&&(F=p),G=e[F]|0):F===p||F===q?(G<v&&(F=n),G=e[F]|0):G=e[G]|0;g[N]=G;N+=1;D+=H;L-=z;G=A[L&w][D&x];F=a[L&w][D&x];F===n||F===m?(G>=v&&(F=p),G=e[F]|0):F===p||F===q?(G<v&&(F=n),G=e[F]|0):G=e[G]|0;g[N]=G;N+=
1;D+=H;L-=z;G=A[L&w][D&x];F=a[L&w][D&x];F===n||F===m?(G>=v&&(F=p),G=e[F]|0):F===p||F===q?(G<v&&(F=n),G=e[F]|0):G=e[G]|0;g[N]=G;N+=1;D+=H;L-=z}J+=z;L=E+=H}d&&this.kd();(this.Ba||this.Ra)&&this.xc()&&this.hd();A=c;for(a=1;a<r;a+=1)for(c=2<this.h?0===this.s?this.h/this.oa*a|0:a<r/2?this.s/this.oa*a*2|0:this.s+this.h/this.oa*a|0:this.Ma?1:(this.Ie+1)/this.oa*a|0,u+=t,this.ab(u),z/=this.ua,H/=this.ua,C*=this.ua,k=b,.125>C?b=15:.25>C?b=7:.5>C?b=3:1>C?b=1:(A=this.l,b=0),b!==k&&(A=this.l),x=this.sa&~b,w=
this.qa&~b,E=-(this.da/2*-z+this.ba/2*H)+this.tb,J=-(this.da/2*H+this.ba/2*z)+this.sb,N=0,L=E,k=0;k<this.ba;k+=1){D=J;for(l=0;l<f;l+=1)G=A[L&w][D&x]|0,G>=c&&(g[N]=e[G]),N+=1,D+=H,L-=z,G=A[L&w][D&x]|0,G>=c&&(g[N]=e[G]),N+=1,D+=H,L-=z,G=A[L&w][D&x]|0,G>=c&&(g[N]=e[G]),N+=1,D+=H,L-=z,G=A[L&w][D&x]|0,G>=c&&(g[N]=e[G]),N+=1,D+=H,L-=z,G=A[L&w][D&x]|0,G>=c&&(g[N]=e[G]),N+=1,D+=H,L-=z,G=A[L&w][D&x]|0,G>=c&&(g[N]=e[G]),N+=1,D+=H,L-=z,G=A[L&w][D&x]|0,G>=c&&(g[N]=e[G]),N+=1,D+=H,L-=z,G=A[L&w][D&x]|0,G>=c&&(g[N]=
e[G]),N+=1,D+=H,L-=z;J+=z;L=E+=H}};qa.prototype.Wm=function(a,c,b,d){var f=this.da>>3,e=this.Sa,g=this.Gc,k,l=B.nb[3]+128,p=B.nb[4]+128,n=B.nb[5]+128,q=B.nb[6]+128,m=1,r=1,u=0,t=this.Ta,v=this.sa&~b,x=this.qa&~b,w=c,A=this.V;1<this.ua&&(m=this.oa);var C=1/this.V;this.A&&(C/=B.Rd);var z=1/this.V;var H=-(this.ba/2*C)+this.tb;var E=-(this.da/2*z)+this.sb;1<this.oa&&1<this.ua&&(u=.4/(this.oa-1),r=.6);this.ab(r);var J=0;var N=H;for(k=0;k<this.ba;k+=1){var L=w[N&x];var D=a[N&x];var G=E;this.ga&&(G+=.5*
(N|0));for(N=0;N<f;N+=1){var F=L[G&v];var W=D[G&v];W===p||W===q?(F>=t&&(W=l),F=e[W]|0):W===l||W===n?(F<t&&(W=p),F=e[W]|0):F=e[F]|0;g[J]=F;J+=1;G+=z;F=L[G&v];W=D[G&v];W===p||W===q?(F>=t&&(W=l),F=e[W]|0):W===l||W===n?(F<t&&(W=p),F=e[W]|0):F=e[F]|0;g[J]=F;J+=1;G+=z;F=L[G&v];W=D[G&v];W===p||W===q?(F>=t&&(W=l),F=e[W]|0):W===l||W===n?(F<t&&(W=p),F=e[W]|0):F=e[F]|0;g[J]=F;J+=1;G+=z;F=L[G&v];W=D[G&v];W===p||W===q?(F>=t&&(W=l),F=e[W]|0):W===l||W===n?(F<t&&(W=p),F=e[W]|0):F=e[F]|0;g[J]=F;J+=1;G+=z;F=L[G&v];
W=D[G&v];W===p||W===q?(F>=t&&(W=l),F=e[W]|0):W===l||W===n?(F<t&&(W=p),F=e[W]|0):F=e[F]|0;g[J]=F;J+=1;G+=z;F=L[G&v];W=D[G&v];W===p||W===q?(F>=t&&(W=l),F=e[W]|0):W===l||W===n?(F<t&&(W=p),F=e[W]|0):F=e[F]|0;g[J]=F;J+=1;G+=z;F=L[G&v];W=D[G&v];W===p||W===q?(F>=t&&(W=l),F=e[W]|0):W===l||W===n?(F<t&&(W=p),F=e[W]|0):F=e[F]|0;g[J]=F;J+=1;G+=z;F=L[G&v];W=D[G&v];W===p||W===q?(F>=t&&(W=l),F=e[W]|0):W===l||W===n?(F<t&&(W=p),F=e[W]|0):F=e[F]|0;g[J]=F;J+=1;G+=z}N=H+=C}d&&this.kd();(this.Ba||this.Ra)&&this.xc()&&
this.hd();w=c;for(a=1;a<m;a+=1)for(c=2<this.h?0===this.s?this.h/this.oa*a|0:a<m/2?this.s/this.oa*a*2|0:this.s+this.h/this.oa*a|0:this.Ma?1:(this.Ie+1)/this.oa*a|0,r+=u,this.ab(r),C/=this.ua,z/=this.ua,A*=this.ua,k=b,.125>A?b=15:.25>A?b=7:.5>A?b=3:1>A?b=1:(w=this.l,b=0),b!==k&&(w=this.l),v=this.sa&~b,x=this.qa&~b,H=-(this.ba/2*C)+this.tb,E=-(this.da/2*z)+this.sb,J=0,N=H,k=0;k<this.ba;k+=1){L=w[N&x];G=E;this.ga&&(G+=.5*(N|0));for(N=0;N<f;N+=1)F=L[G&v]|0,F>=c&&(g[J]=e[F]),J+=1,G+=z,F=L[G&v]|0,F>=c&&
(g[J]=e[F]),J+=1,G+=z,F=L[G&v]|0,F>=c&&(g[J]=e[F]),J+=1,G+=z,F=L[G&v]|0,F>=c&&(g[J]=e[F]),J+=1,G+=z,F=L[G&v]|0,F>=c&&(g[J]=e[F]),J+=1,G+=z,F=L[G&v]|0,F>=c&&(g[J]=e[F]),J+=1,G+=z,F=L[G&v]|0,F>=c&&(g[J]=e[F]),J+=1,G+=z,F=L[G&v]|0,F>=c&&(g[J]=e[F]),J+=1,G+=z;N=H+=C}};qa.prototype.Mm=function(a,c,b,d){var f=this.da>>3,e=this.Sa,g=this.Gc,k=0,l=0;var p=this.width;var n=this.height;var q=B.nb[3]+128,m=B.nb[4]+128,r=B.nb[5]+128,u=B.nb[6]+128,t=1,v=1,x=0,w=this.L,A=this.zd,C,z=this.Ta,H=this.sa&~b,E=this.qa&
~b,J=~b,N=~b,L=c,D=this.V;1<this.ua&&(t=this.oa);var G=1/this.V;this.A&&(G/=B.Rd);var F=1/this.V;var W=-(this.ba/2*G)+this.tb;var va=-(this.da/2*F)+this.sb;1<this.oa&&1<this.ua&&(x=.4/(this.oa-1),v=.6);this.ab(v);for(C=this.Sa[0];p<w;)k+=p>>1,p<<=1;for(;n<w;)l+=n>>1,n<<=1;var ma=0;var U=W;for(p=0;p<this.ba;p+=1){if(0<=U&&(U&N)===(U&E)){var oa=L[U&E];var da=a[U&E];n=va;this.ga&&(n+=.5*(U|0));for(U=0;U<f;U+=1){if(0<=n&&(n&J)===(n&H)){var ca=oa[n&H];var ta=da[n&H];ta===m||ta===u?(ca>=z&&(ta=q),ca=e[ta]|
0):ta===q||ta===r?(ca<z&&(ta=m),ca=e[ta]|0):ca=e[ca]|0}else ca=0<=n+k&&n+k<w?C:A;g[ma]=ca;ma+=1;n+=F;0<=n&&(n&J)===(n&H)?(ca=oa[n&H],ta=da[n&H],ta===m||ta===u?(ca>=z&&(ta=q),ca=e[ta]|0):ta===q||ta===r?(ca<z&&(ta=m),ca=e[ta]|0):ca=e[ca]|0):ca=0<=n+k&&n+k<w?C:A;g[ma]=ca;ma+=1;n+=F;0<=n&&(n&J)===(n&H)?(ca=oa[n&H],ta=da[n&H],ta===m||ta===u?(ca>=z&&(ta=q),ca=e[ta]|0):ta===q||ta===r?(ca<z&&(ta=m),ca=e[ta]|0):ca=e[ca]|0):ca=0<=n+k&&n+k<w?C:A;g[ma]=ca;ma+=1;n+=F;0<=n&&(n&J)===(n&H)?(ca=oa[n&H],ta=da[n&H],
ta===m||ta===u?(ca>=z&&(ta=q),ca=e[ta]|0):ta===q||ta===r?(ca<z&&(ta=m),ca=e[ta]|0):ca=e[ca]|0):ca=0<=n+k&&n+k<w?C:A;g[ma]=ca;ma+=1;n+=F;0<=n&&(n&J)===(n&H)?(ca=oa[n&H],ta=da[n&H],ta===m||ta===u?(ca>=z&&(ta=q),ca=e[ta]|0):ta===q||ta===r?(ca<z&&(ta=m),ca=e[ta]|0):ca=e[ca]|0):ca=0<=n+k&&n+k<w?C:A;g[ma]=ca;ma+=1;n+=F;0<=n&&(n&J)===(n&H)?(ca=oa[n&H],ta=da[n&H],ta===m||ta===u?(ca>=z&&(ta=q),ca=e[ta]|0):ta===q||ta===r?(ca<z&&(ta=m),ca=e[ta]|0):ca=e[ca]|0):ca=0<=n+k&&n+k<w?C:A;g[ma]=ca;ma+=1;n+=F;0<=n&&(n&
J)===(n&H)?(ca=oa[n&H],ta=da[n&H],ta===m||ta===u?(ca>=z&&(ta=q),ca=e[ta]|0):ta===q||ta===r?(ca<z&&(ta=m),ca=e[ta]|0):ca=e[ca]|0):ca=0<=n+k&&n+k<w?C:A;g[ma]=ca;ma+=1;n+=F;0<=n&&(n&J)===(n&H)?(ca=oa[n&H],ta=da[n&H],ta===m||ta===u?(ca>=z&&(ta=q),ca=e[ta]|0):ta===q||ta===r?(ca<z&&(ta=m),ca=e[ta]|0):ca=e[ca]|0):ca=0<=n+k&&n+k<w?C:A;g[ma]=ca;ma+=1;n+=F}}else if(0<=U+l&&U+l<w)for(n=va,this.ga&&(n+=.5*(U|0)),U=0;U<this.da;U+=1)g[ma]=0<=n+k&&n+k<w?C:A,ma+=1,n+=F;else g.fill(A,ma,ma+this.da+1),ma+=this.da;
U=W+=G}d&&this.kd();(this.Ba||this.Ra)&&this.xc()&&this.hd();L=c;for(a=1;a<t;a+=1)for(c=2<this.h?0===this.s?this.h/this.oa*a|0:a<t/2?this.s/this.oa*a*2|0:this.s+this.h/this.oa*a|0:this.Ma?1:(this.Ie+1)/this.oa*a|0,v+=x,this.ab(v),G/=this.ua,F/=this.ua,D*=this.ua,W=b,.125>D?b=15:.25>D?b=7:.5>D?b=3:1>D?b=1:(L=this.l,b=0),b!==W&&(L=this.l),H=this.sa&~b,E=this.qa&~b,J=~b,N=~b,W=-(this.ba/2*G)+this.tb,va=-(this.da/2*F)+this.sb,ma=0,U=W,p=0;p<this.ba;p+=1){if(0<=U&&(U&N)===(U&E))for(oa=L[U&E],n=va,this.ga&&
(n+=.5*(U|0)),U=0;U<f;U+=1)0<=n&&(n&J)===(n&H)&&(ca=oa[n&H]|0,ca>=c&&(g[ma]=e[ca])),ma+=1,n+=F,0<=n&&(n&J)===(n&H)&&(ca=oa[n&H]|0,ca>=c&&(g[ma]=e[ca])),ma+=1,n+=F,0<=n&&(n&J)===(n&H)&&(ca=oa[n&H]|0,ca>=c&&(g[ma]=e[ca])),ma+=1,n+=F,0<=n&&(n&J)===(n&H)&&(ca=oa[n&H]|0,ca>=c&&(g[ma]=e[ca])),ma+=1,n+=F,0<=n&&(n&J)===(n&H)&&(ca=oa[n&H]|0,ca>=c&&(g[ma]=e[ca])),ma+=1,n+=F,0<=n&&(n&J)===(n&H)&&(ca=oa[n&H]|0,ca>=c&&(g[ma]=e[ca])),ma+=1,n+=F,0<=n&&(n&J)===(n&H)&&(ca=oa[n&H]|0,ca>=c&&(g[ma]=e[ca])),ma+=1,n+=
F,0<=n&&(n&J)===(n&H)&&(ca=oa[n&H]|0,ca>=c&&(g[ma]=e[ca])),ma+=1,n+=F;else ma+=f<<3;U=W+=G}};qa.prototype.lf=function(a,c,b,d,f){var e=Math.sin(this.ma/180*Math.PI)/this.V,g=Math.cos(this.ma/180*Math.PI)/this.V,k=this.da,l=this.ba,p=-(this.da/2*-e+this.ba/2*g)+this.tb,n=-(this.da/2*g+this.ba/2*e)+this.sb,q=p+k*-e,m=n+k*g,r=p+l*g;l=n+l*e;e=r+k*-e;g=l+k*g;k=r;var u=l;g<u&&(u=g);n<u&&(u=n);m<u&&(u=n);g>l&&(l=g);n>l&&(l=n);m>l&&(l=m);e>k&&(k=e);p>k&&(k=p);q>k&&(k=q);e<r&&(r=e);p<r&&(r=p);q<r&&(r=q);0>
(u|0)||(l|0)>=this.width||0>(r|0)||(k|0)>=this.height?0===this.ma?this.nc&&1<=this.V&&1===this.oa&&(this.V|0)!==this.V?(this.ab(1),this.width!==this.L?this.gh(a,c,u,r,l,k,this.Sa[0],d,f):this.gh(a,c,u,r,l,k,this.zd,d,f)):this.Mm(a,c,b,d):this.Hm(a,c,b,d):0===this.ma?this.nc&&1<=this.V&&1===this.oa&&(this.V|0)!==this.V?(this.ab(1),this.gh(a,c,u,r,l,k,this.Sa[0],d,f)):this.Wm(a,c,b,d):this.Rm(a,c,b,d)};qa.prototype.Mj=function(a,c){a.set(c)};qa.prototype.Sf=function(){var a;if(this.Uf){if(!this.Ic.data.buffer){var c=
this.Ic.data;var b=this.lm;var d=b.length;for(a=0;a<d;)c[a]=b[a],a+=1,c[a]=b[a],a+=1,c[a]=b[a],a+=1,c[a]=b[a],a+=1}if(0!==this.lb){var f;a=this.ha.canvas.width;d=this.ha.canvas.height;c=this.Gc;b=this.zf;var e=a>>1,g=d>>1;var k=this.lb-1;var l=this.zd,p=(2*k+2)/d;null===this.zf&&(b=this.zf=this.N.h(na.Ub,a*d,"Life.tiltBuffer"));var n=-k;for(k=0;k<d;k+=1){var q=k-g;var m=0>=n?d:q/n+g|0;q=k*a;if(0>m||m>=d)for(f=0;f<a;f+=1)b[q+f]=l;else{var r=m*a;m=-e/n+e;f=e/n+e;var u=(f-m)/a;for(f=0;f<a;f+=1){var t=
m|0;b[q+f]=0>t||t>=a?l:c[r+t];m+=u}}n+=p}this.Mj(c,b)}this.ha.putImageData(this.Ic,0,0)}};qa.prototype.gl=function(a){this.Gc.fill(a)};Xa.prototype.Y=function(a,c){return 0>a||a>=this.o.length||0>c||c>=this.o.length||a>c?"":this.source.substring(this.o[a],this.o[c]+this.A[c])};Xa.prototype.V=function(){0<this.current&&--this.current};Xa.prototype.s=function(){for(;this.current<this.o.length&&10!==this.source.charCodeAt(this.o[this.current]);)this.current+=1;this.current<this.o.length&&(this.current+=
1)};Xa.prototype.I=function(){for(;this.current<this.o.length&&10===this.source.charCodeAt(this.o[this.current]);)this.current+=1};Xa.prototype.Z=function(){var a=!1;this.current<this.o.length&&10!==this.source.charCodeAt(this.o[this.current])&&(a=!0);return a};Xa.prototype.C=function(){var a=!1;this.current<this.o.length&&10===this.source.charCodeAt(this.o[this.current])&&(a=!0);return a};Xa.prototype.l=function(){var a="";this.current<this.o.length&&(a=this.source.substring(this.o[this.current],
this.o[this.current]+this.A[this.current]),this.current+=1);return a};Xa.prototype.U=function(){var a;for(a=this.l();"\n"===a;)a=this.l();return a};Xa.prototype.m=function(){var a="";this.current<this.o.length&&(a=this.source.substring(this.o[this.current],this.o[this.current]+this.A[this.current]));return a};Xa.prototype.P=function(a){return this.T(a,-1,!1)};Xa.prototype.v=function(a,c){return this.T(a,c,!0)};Xa.prototype.T=function(a,c,b){var d=-1,f=this.current;for(-1!==c&&0<=c&&c<this.o.length&&
(f=c);f<this.o.length&&-1===d;){if(a.length===this.A[f]){var e=0;for(c=!0;c&&e<a.length;)a[e]!==this.source[this.o[f]+e]?c=!1:e+=1}else c=!1;c&&(b&&0!==f&&10!==this.source.charCodeAt(this.o[f-1])&&(c=!1),c&&(d=f));f+=1}-1!==d&&(this.current=f);return d};Xa.prototype.u=function(a){return!isNaN(parseFloat(a))&&isFinite(Number(a))};Xa.prototype.M=function(a){var c=!1,b=a.indexOf("/");-1!==b&&(c=a.substring(0,b),a=a.substring(b+1),c=this.u(c)&&this.u(a));return c};Xa.prototype.L=function(a){var c=0;if(this.M(a)){var b=
a.indexOf("/");var d=a.substring(0,b);a=a.substring(b+1);0!==Number(a)&&(c=Number(d)/Number(a))}else this.u(a)&&(c=parseFloat(a));return c};Xa.prototype.i=function(){var a=0;this.current<this.o.length&&(0!==this.D[this.current]?(a=this.D[this.current]>>1,this.current+=1):(a=this.l(),a=this.L(a)));return a};Xa.prototype.h=function(){var a=!1;this.current<this.o.length&&(this.D[this.current]?a=!0:(a=this.source.substring(this.o[this.current],this.o[this.current]+this.A[this.current]),a=this.M(a)?!0:
this.u(a)));return a};Xa.prototype.X=function(){var a=!1,c=this.current+1;c<this.o.length&&(this.D[c]?a=!0:(a=this.source.substring(this.o[c],this.o[c]+this.A[c]),a=this.M(a)?!0:this.u(a)));return a};Xa.prototype.W=function(){this.current=this.o.length};var Ya={lt:0,play:1,stop:2,Hn:12,Ty:0,Sy:200};kb.prototype.set=function(a){this.vm=a.vm;this.rg=a.rg;this.l=a.l;this.h=a.h;this.i=a.i;this.Pb=a.Pb;this.ob=a.ob;this.x=a.x;this.y=a.y;this.yg=a.yg;this.zg=a.zg;this.Ag=a.Ag;this.te=a.te;this.angle=a.angle;
this.lb=a.lb;this.zoom=a.zoom;this.oa=a.oa;this.depth=a.depth;this.sc=a.sc;this.Hc=a.Hc;this.step=a.step;this.dc=a.dc;this.ed=a.ed;this.ce=a.ce;this.Dj=a.Dj;this.grid=a.grid};kb.prototype.o=function(){var a="";switch(this.h){case Ya.play:a=y.Nm;break;case Ya.stop:a=y.Om}return a};kb.prototype.zE=function(a){this.rg?(this.h!==Ya.lt&&(a[a.length]=[y.Nm,"overwrites "+this.o()]),this.h=Ya.play):a[a.length]=[y.Nm,"only valid at POI"]};kb.prototype.BE=function(a){this.rg?(this.h!==Ya.lt&&(a[a.length]=[y.Om,
"overwrites "+this.o()]),this.h=Ya.stop):a[a.length]=[y.Om,"only valid at POI"]};kb.prototype.AE=function(a){this.rg?(this.l&&(a[a.length]=[y.In,"already defined"]),this.l=!0):a[a.length]=[y.In,"only valid at POI"]};kb.prototype.CE=function(a,c){this.rg?(this.i!==Ya.Hn&&(c[c.length]=[y.Jn+" "+a,"overwrites "+this.i]),this.i=a):c[c.length]=[y.Jn,"only valid at POI"]};kb.prototype.s=function(a,c,b){var d=a.ed,f=c.ed,e=a.angle,g=c.angle,k=1,l=1;b>f&&(b=f);f-d===B.EE&&(d=f);f!==d&&(k=Math.round((b-d)/
(f-d)*1E6)/1E6,l=this.S.X(k));d=c.yg||c.te?k:l;f=c.zg||c.te?k:l;var p=c.Ag||c.te?k:l;this.x=a.x+d*(c.x-a.x);this.y=a.y+f*(c.y-a.y);this.zoom=a.zoom*Math.pow(c.zoom/a.zoom,p);180<g-e?e+=360:-180>g-e&&(g+=360);this.angle=(e+l*(g-e))%360;this.lb=a.lb+l*(c.lb-a.lb);this.oa=a.oa+k*(c.oa-a.oa)|0;this.depth=a.depth+k*(c.depth-a.depth);this.sc=c.sc;this.Hc=c.Hc;this.step=c.step;this.dc=a.dc+k*(c.dc-a.dc)|0;this.ed=b;this.ce=c.ce;this.te=c.te;this.vm=c.vm};Ia.prototype.ra=function(a,c,b,d,f,e,g,k,l,p,n,q,
m,r,u,t,v,x){return new oc(a,c,b,d,f,e,g,k,l,p,n,q,m,r,u,t,v,x)};Ia.prototype.na=function(){this.s=[]};Ia.prototype.ea=function(a){this.s[this.s.length]=a};Ia.prototype.pa=function(a,c,b,d,f,e,g,k,l,p,n,q,m,r,u,t,v,x,w,A,C){return new pc(a,c,b,d,f,e,g,k,l,p,n,q,m,r,u,t,v,x,w,A,C)};Ia.prototype.ka=function(){this.o=[]};Ia.prototype.ca=function(a){this.o[this.o.length]=a};Ia.prototype.qa=function(a,c,b,d,f,e,g,k,l,p,n,q,m,r,u,t,v,x,w){return new qc(a,c,b,d,f,e,g,k,l,p,n,q,m,r,u,t,v,x,w)};Ia.prototype.la=
function(){this.m=[]};Ia.prototype.V=function(a){a.s=a.message.indexOf("#P");a.A=a.message.indexOf("#G");a.m=a.message.indexOf("#H");a.l=a.message.indexOf("#I");a.h=a.message.indexOf("#J");this.m[this.m.length]=a};Ia.prototype.A=function(){return this.m.length+this.o.length+this.s.length};Ia.prototype.ja=function(){this.la();this.ka();this.na()};Ia.prototype.Ma=function(a){var c="",b="";0<=a&&a<this.s.length&&(a=this.s[a],a.C&&(b="*"),c=a.s?"FILL\t":"LINE\t",c+="X1"+b+" "+a.coords[0]+"\tY1"+b+" "+
a.coords[1]);return c};Ia.prototype.Qa=function(a){var c="",b="";0<=a&&a<this.s.length&&(c=this.s[a],a=c.zoom,0<=a&&1>a&&(a=-1/a),c.u&&(b="*"),c="Z "+a.toFixed(1)+"\tA"+b+" "+c.angle.toFixed(1));return c};Ia.prototype.Ra=function(a){var c="";0<=a&&a<this.s.length&&(a=this.s[a],c="Alpha "+a.alpha.toFixed(1),-1!==a.h&&(c+="\tT1 "+a.h+"\tT2 "+a.m,0<a.i&&(c+="\tFade "+a.i)));return c};Ia.prototype.Sa=function(a){var c="";0<=a&&a<this.s.length&&(c=this.s[a].o);return c};Ia.prototype.fa=function(a){var c=
"",b="";0<=a&&a<this.o.length&&(a=this.o[a],a.A&&(b="*"),c="X1"+b+" "+a.C+"\tY1"+b+" "+a.I,c+="\tX2"+b+" "+a.D+"\tY2"+b+" "+a.L);return c};Ia.prototype.ha=function(a){var c="",b="";0<=a&&a<this.o.length&&(c=this.o[a],a=c.zoom,0<=a&&1>a&&(a=-1/a),c.o&&(b="*"),c="Z "+a.toFixed(1)+"\tA"+b+" "+c.angle.toFixed(1));return c};Ia.prototype.ia=function(a){var c="";0<=a&&a<this.o.length&&(a=this.o[a],c="Alpha "+a.alpha.toFixed(1),-1!==a.h&&(c+="\tT1 "+a.h+"\tT2 "+a.m,0<a.i&&(c+="\tFade "+a.i)));return c};Ia.prototype.ro=
function(a){var c="";0<=a&&a<this.o.length&&(c=this.o[a].s);return c};Ia.prototype.ya=function(a){var c="",b="",d="";if(0<=a&&a<this.m.length){var f=this.m[a];a=f.zoom;0<=a&&1>a&&(a=-1/a);f.M&&(b="*");f.D&&(d="*");c="X"+b+" "+f.x+"\tY"+b+" "+f.y;c+="\tZ "+a.toFixed(1)+"\tA"+d+" "+f.angle.toFixed(1)}return c};Ia.prototype.za=function(a){var c="";0<=a&&a<this.m.length&&(a=this.m[a],c="Alpha "+a.alpha.toFixed(1),-1!==a.i&&(c+="\tT1 "+a.i+"\tT2 "+a.v,0<a.o&&(c+="\tFade "+a.o)));return c};Ia.prototype.Ba=
function(a){var c="";0<=a&&a<this.m.length&&(a=this.m[a],c="Size "+a.size+'\t"'+a.message+'"');return c};Ia.prototype.Ca=function(a){var c="";0<=a&&a<this.m.length&&(c=this.m[a].C);return c};Ia.prototype.Ya=function(){this.m.sort(function(a,c){return a.zoom-c.zoom})};Ia.prototype.Xa=function(){this.o.sort(function(a,c){return a.zoom-c.zoom})};Ia.prototype.Za=function(){this.s.sort(function(a,c){return a.zoom-c.zoom})};Ia.prototype.Wa=function(){this.Ya();this.Xa();this.Za()};Ia.prototype.Y=function(a,
c){var b,d=a.g,f=d.ha,e=d.width/2-d.ca-d.ya,g=d.height/2-d.Z-d.wa,k=d.zoom*d.Ja,l=d.zoom*d.Ja*(d.A?B.Rd:1),p=d.da/2,n=d.ba/2,q=a.g.counter,m=d.ga?-(d.height>>2):0,r=0,u=d.lb,t=u-1,v=1,x=0,w=0,A=0,C=0,z=a.ha/a.L;d.ga&&(e+=g/2);c&&(f.strokeStyle=B.GB);for(b=0;b<this.o.length;b+=1){var H=this.o[b];var E=H.C;var J=H.I;var N=H.D;var L=H.L;-1!==a.g.C&&(E+=a.A>>1,J+=a.C>>1,N+=a.A>>1,L+=a.C>>1);if(!c||H.P){var D=!0;-1!==H.h&&(q<H.h||q>H.m)&&(D=!1);if(D){var G=H.size*k/H.zoom;c&&(r=1,24<=G&&(r=2,48<=G&&(r=
3)));if(k>=H.rb&&k<=H.Mb){var F=Math.log(k/H.rb)/Math.log(H.Mb/H.rb);F=.25>=F?4*F:.75<=F?4*(1-F):1;var W=1;-1!==H.h&&0<H.i&&(q-H.h<H.i?W=(q-H.h+1)/H.i:H.m-q<H.i&&(W=(H.m-q+1)/H.i));D=!0;var va=1;if(-1!==H.l){var ma=a.rs(E,J);ma>H.l?D=!1:0<H.l&&.75<ma/H.l&&(va=4*(1-ma/H.l))}D&&(f.globalAlpha=F*H.alpha*W*va,F=J+g-(a.C>>1)+.5,W=E+e+m-(a.A>>1)+.5,H.A||(W+=d.ya,F+=d.wa),-1!==H.h?(W+=H.u*(z-H.h),F+=H.v*(z-H.h)):(W+=H.u*z,F+=H.v*z),0!==d.ma&&(va=Math.sqrt(W*W+F*F),F=180/Math.PI*Math.atan2(F,W),F+=d.ma,W=
va*Math.cos(Math.PI/180*F),F=va*Math.sin(Math.PI/180*F)),d.ga&&(W-=F/2),F=F*l+n,W=W*k+p,E=(N-E)*k,J=(L-J)*l,d.ga&&(E-=J/2),L=0===H.M?0:Math.sqrt(E*E+J*J)*H.M,0!==u&&(v=-t+(2*t+2)/d.ba*(d.ba-F),F=(F-n)/v+n,W=(W-p)/v+p),0<=v&&(f.save(),f.translate(W,F),f.scale(1/v,1/v),F=H.angle,H.o||(F+=d.ma),f.rotate(F/180*Math.PI),f.lineWidth=G,c||(f.strokeStyle=H.s),f.lineCap="round",f.lineJoin="round",0<L&&(H=Math.atan2(J,E),x=Math.cos(.85*Math.PI+H),w=Math.sin(.85*Math.PI+H),A=Math.cos(.85*-Math.PI+H),C=Math.sin(.85*
-Math.PI+H)),0<r&&f.translate(r,r),f.beginPath(),f.moveTo(0,0),f.lineTo(E,J),0<L&&(f.moveTo(E,J),f.lineTo(E+L*x,J+L*w),f.moveTo(E,J),f.lineTo(E+L*A,J+L*C)),f.stroke(),f.restore()))}}}}f.globalAlpha=1};Ia.prototype.ta=function(a){this.Y(a,!0);this.Y(a,!1)};Ia.prototype.Z=function(a,c){var b,d=a.g,f=d.ha,e=d.width/2-d.ca-d.ya,g=d.height/2-d.Z-d.wa,k=d.zoom*d.Ja,l=d.zoom*d.Ja*(d.A?B.Rd:1),p=d.da/2,n=d.ba/2,q=a.g.counter,m=d.ga?-(d.height>>2):0,r=d.lb,u=r-1,t=1,v=0,x=0,w=0,A=a.ha/a.L;c&&(f.strokeStyle=
B.Vy,f.fillStyle=B.Vy);d.ga&&(e+=g/2);-1!==a.g.C&&(x=a.A>>1,w=a.C>>1);for(b=0;b<this.s.length;b+=1){var C=this.s[b];var z=C.coords;var H=z.length;if(!c||C.D){var E=!0;-1!==C.h&&(q<C.h||q>C.m)&&(E=!1);if(E){var J=C.size*k/C.zoom;c&&(v=1,24<=J&&(v=2,48<=J&&(v=3)));if(k>=C.rb&&k<=C.Mb){var N=Math.log(k/C.rb)/Math.log(C.Mb/C.rb);N=.25>=N?4*N:.75<=N?4*(1-N):1;var L=1;-1!==C.h&&0<C.i&&(q-C.h<C.i?L=(q-C.h+1)/C.i:C.m-q<C.i&&(L=(C.m-q+1)/C.i));E=!0;var D=1;if(-1!==C.l){var G=a.rs(C.coords[0]+x,C.coords[1]+
w);G>C.l?E=!1:0<C.l&&.75<G/C.l&&(D=4*(1-G/C.l))}if(E&&(f.globalAlpha=N*C.alpha*L*D,N=0,D=z[N]+x+e+m-(a.A>>1)+.5,L=z[N+1]+w+g-(a.C>>1)+.5,N+=2,C.C||(D+=d.ya,L+=d.wa),-1!==C.h?(D+=C.v*(A-C.h),L+=C.A*(A-C.h)):(D+=C.v*A,L+=C.A*A),0!==d.ma&&(E=Math.sqrt(D*D+L*L),L=180/Math.PI*Math.atan2(L,D),L+=d.ma,D=E*Math.cos(Math.PI/180*L),L=E*Math.sin(Math.PI/180*L)),d.ga&&(D-=L/2),L=L*l+n,G=D*k+p,0!==r&&(t=-u+(2*u+2)/d.ba*(d.ba-L),L=(L-n)/t+n,G=(G-p)/t+p),0<=t)){D=(z[N]-z[0])*k/t;E=(z[N+1]-z[1])*l/t;d.ga&&(D-=E/
2);N+=2;f.save();f.translate(G,L);f.scale(1/t,1/t);L=C.angle;C.u||(L+=d.ma);f.rotate(L/180*Math.PI);f.lineWidth=J;c||(C.s?f.fillStyle=C.o:f.strokeStyle=C.o);f.lineCap="round";f.lineJoin="round";0<v&&f.translate(v,v);f.beginPath();f.moveTo(0,0);for(f.lineTo(D,E);N<H;)D=(z[N]-z[0])*k/t,E=(z[N+1]-z[1])*l/t,d.ga&&(D-=E/2),N+=2,f.lineTo(D,E);C.s?f.fill():f.stroke();f.restore()}}}}}f.globalAlpha=1};Ia.prototype.va=function(a){this.Z(a,!0);this.Z(a,!1)};Ia.prototype.ua=function(a){var c,b=a.g,d=b.ha,f=b.width/
2-b.ca-b.ya,e=b.height/2-b.Z-b.wa,g=b.zoom*b.Ja,k=b.zoom*b.Ja*(b.A?B.Rd:1),l=b.da/2,p=b.ba/2,n=B.$C,q="px "+B.YC,m=a.g.counter,r=b.lb,u=r-1,t=1,v=b.ga?-(b.height>>2):0,x=a.ha/a.L;b.ga&&(f+=e/2);for(c=0;c<this.m.length;c+=1){var w=this.m[c];var A=w.x;var C=w.y;-1!==a.g.C&&(A+=a.A>>1,C+=a.C>>1);var z=!0;-1!==w.i&&(m<w.i||m>w.v)&&(z=!1);if(z){var H=w.T?w.size:w.size*g/w.zoom;var E=1;24<=H&&(E=2,48<=H&&(E=3));if(g>=w.rb&&g<=w.Mb){var J=Math.log(g/w.rb)/Math.log(w.Mb/w.rb);d.font=H+q;J=.25>=J?4*J:.75<=
J?4*(1-J):1;var N=1;-1!==w.i&&0<w.o&&(m-w.i<w.o?N=(m-w.i+1)/w.o:w.v-m<w.o&&(N=(w.v-m+1)/w.o));z=!0;var L=1;if(-1!==w.u){var D=a.rs(A,C);D>w.u?z=!1:0<w.u&&.75<D/w.u&&(L=4*(1-D/w.u))}if(z&&(d.globalAlpha=J*w.alpha*N*L,A=A+f+v-(a.A>>1)+.5,N=C+e-(a.C>>1)+.5,w.M||(A+=b.ya,N+=b.wa),-1!==w.i?(A+=w.I*(x-w.i),N+=w.L*(x-w.i)):(A+=w.I*x,N+=w.L*x),0!==b.ma&&(C=Math.sqrt(A*A+N*N),N=180/Math.PI*Math.atan2(N,A),N+=b.ma,A=C*Math.cos(Math.PI/180*N),N=C*Math.sin(Math.PI/180*N)),b.ga&&(A-=N/2),C=w.message,-1!==w.A&&
(C=C.substring(0,w.A)+a.g.counter+C.substring(w.A+2),-1!==w.s&&(w.s=C.indexOf("#P")),-1!==w.m&&(w.m=C.indexOf("#H")),-1!==w.l&&(w.l=C.indexOf("#I")),-1!==w.h&&(w.h=C.indexOf("#J"))),-1!==w.s&&(C=C.substring(0,w.s)+a.g.u+C.substring(w.s+2),-1!==w.m&&(w.m=C.indexOf("#H")),-1!==w.l&&(w.l=C.indexOf("#I")),-1!==w.h&&(w.h=C.indexOf("#J"))),-1!==w.m&&(C=a.g.T||a.g.i?C.substring(0,w.m)+a.g.gb+C.substring(w.m+2):C.substring(0,w.m)+a.g.counter+C.substring(w.m+2),-1!==w.l&&(w.l=C.indexOf("#I")),-1!==w.h&&(w.h=
C.indexOf("#J"))),-1!==w.l&&(C=C.substring(0,w.l)+(a.g.counter+a.Ca)+C.substring(w.l+2),-1!==w.h&&(w.h=C.indexOf("#J"))),-1!==w.h&&(C=a.g.T||a.g.i?C.substring(0,w.h)+(a.g.gb+a.Ca)+C.substring(w.h+2):C.substring(0,w.h)+(a.g.counter+a.Ca)+C.substring(w.h+2)),J=C.indexOf("\\n"),N=N*k+p,A=A*g+l,0!==r&&(t=-u+(2*u+2)/b.ba*(b.ba-N),N=(N-p)/t+p,A=(A-l)/t+l),0<=t)){d.save();d.translate(A,N);d.scale(1/t,1/t);N=w.angle;w.D||(N+=b.ma);d.rotate(N/180*Math.PI);for(N=0;-1!==J;)A=C.substring(0,J),C=C.substring(J+
2),J=d.measureText(A).width>>1,w.P&&(d.fillStyle=n,d.fillText(A,-J+E,N+E)),d.fillStyle=w.C,d.fillText(A,-J,N),N+=H,J=C.indexOf("\\n");J=d.measureText(C).width>>1;w.P&&(d.fillStyle=n,d.fillText(C,-J+E,N+E));d.fillStyle=w.C;d.fillText(C,-J,N);d.restore()}}}}d.globalAlpha=1};Ia.prototype.P=function(a){this.va(a);this.ta(a);this.ua(a)};Ia.prototype.$a=function(a){var c;for(c=this.h.length-1;0<=c;--c){var b=this.h[c];b.ed>a&&b.m&&(this.u=c,b.m=!1)}};Ia.prototype.Va=function(){var a;for(a=0;a<this.h.length;a+=
1)this.h[a].m=!1;this.u=0;this.T=!1};Ia.prototype.C=function(){return new kb(this)};Ia.prototype.X=function(a){return-2*Math.pow(a,3)+3*Math.pow(a,2)+0*a};Ia.prototype.reset=function(){this.h=[];this.i=[];this.M=!1;this.u=0};Ia.prototype.Da=function(){return this.h[this.h.length-1]};Ia.prototype.wa=function(a){var c=this.$(a),b=this.h[c];a>b.dc?a=b.ed+1E3*(a-b.dc)/(b.Hc*b.step):0<c?(c=this.h[c-1],a=c.ed+1E3*(a-c.dc)/(b.Hc*b.step)):a=1E3*a/(b.Hc*b.step);return a};Ia.prototype.sa=function(a,c,b,d,f,
e,g,k,l,p,n,q){var m=this.aa;m.x=a;m.y=c;m.zoom=b;m.angle=d;m.lb=f;m.Hc=l;m.step=p;m.oa=e;m.depth=g;m.sc=k;m.dc=n;this.M&&(q=this.I.ed);m.ed=q-1E3;this.U(null,q,n);this.I.set(this.current);this.I.te=!1;this.I.ed=q;this.M=!0;return m.ed};Ia.prototype.D=function(){return this.h[0]};Ia.prototype.add=function(a,c){if(a.rg)this.i[this.i.length]=a;else{this.h[this.h.length]=a;if(a.Oe||a.xe||a.Td||a.gg||a.xg||a.te)this.L=!0;if(a.Ke||a.re)a.Ke&&!a.re&&(a.step=B.tg),a.re&&(a.Hc=c.L)}};Ia.prototype.W=function(a){var c=
!1;this.u>=this.h.length-1&&a>=this.h[this.u].ed&&(c=!0);return c};Ia.prototype.v=function(a){return a===(a|0)?String(a|0):String(a.toFixed(1))};Ia.prototype.Fa=function(a){var c="";0<=a&&a<this.i.length&&(a=this.i[a],a.Oe&&(c+=" X "+-a.x),a.xe&&(c+=" Y "+-a.y),a.Td&&(c+=" ZOOM "+this.v(a.zoom)),a.gg&&(c+=" ANGLE "+a.angle),a.xg&&0!==a.lb&&(c+=" TILT "+a.lb));return c.substring(1)};Ia.prototype.Ha=function(a){var c="";0<=a&&a<this.i.length&&(a=this.i[a],a.th&&(c+=" LOOP "+(-1===a.ob?"OFF":a.ob)),
a.Fh&&(c+=" STOP "+(-1===a.Pb?"OFF":a.Pb)),a.Ke&&(c+=" GPS "+a.Hc),a.re&&(c+=" STEP "+a.step));return c.substring(1)};Ia.prototype.Ea=function(a){var c="";0<=a&&a<this.i.length&&(a=this.i[a],a.l&&(c+=" POIRESET"),a.h===Ya.play?c+=" POIPLAY":a.h===Ya.stop&&(c+=" POISTOP"),a.i!==Ya.Hn&&(c+=" POITRANS "+a.i));return c.substring(1)};Ia.prototype.Ka=function(a){var c="";0<=a&&a<this.i.length&&(a=this.i[a],a.ve&&(c+=" THEME "+a.sc),a.Dg&&(c+=" DEPTH "+this.v(a.depth)),a.Gg&&(c+=" LAYERS "+a.oa));return c.substring(1)};
Ia.prototype.Ja=function(a){var c="";0<=a&&a<this.i.length&&(a=this.i[a],a.Qn&&(c+=" POIT "+a.dc));return c.substring(1)};Ia.prototype.Ia=function(a,c){var b="";0<=a&&a<this.i.length&&(a=this.i[a],""!==a.ce&&(b+=" "+c+a.ce+c));return b.substring(1)};Ia.prototype.ab=function(a,c){var b="";if(0<=a&&a<this.h.length){var d=this.h[a];0<a?(a=this.h[a-1],b=d.dc===a.dc?"P "+this.v((d.ed-a.ed|0)/1E3):"T "+d.dc,d.te?b+=" F":(d.x!==a.x&&(b+=" X "+-d.x),d.y!==a.y&&(b+=" Y "+-d.y),d.zoom!==a.zoom&&(b+=" Z "+this.v(d.zoom))),
d.angle!==a.angle&&(b+=" A "+d.angle),d.oa!==a.oa&&(b+=" L "+d.oa),d.depth!==a.depth&&(b+=" D "+this.v(d.depth)),d.sc!==a.sc&&(b+=" C "+d.sc),d.Hc!==a.Hc&&(b+=" G "+d.Hc),d.step!==a.step&&(b+=" S "+d.step),""!==d.ce&&(b+=" "+c+d.ce+c)):b="T "+d.dc+" X "+-d.x+" Y "+-d.y+" Z "+this.v(d.zoom)+" A "+d.angle+" L "+d.oa+" D "+this.v(d.depth)+" C "+d.sc+" G "+d.Hc+" S "+d.step}return b};Ia.prototype.U=function(a,c,b){var d=this.h.length,f=!1,e=this.u,g=e,k=!1;if(this.M)this.current.s(this.aa,this.I,c),c>=
this.I.ed&&(this.M=!1);else{for(;e<d&&!f;){var l=this.h[e];l.ed>=c||!l.m?f=!0:e+=1}f?(this.h[e].m=!0,0<e?(this.h[e].te&&(this.h[e].x=this.current.x,this.h[e].y=this.current.y,this.h[e].zoom=this.current.zoom),this.current.s(this.h[e-1],this.h[e],c)):(e=0,this.current.set(this.h[e]))):(e=d-1,this.current.set(this.h[e]),b>=this.current.dc&&this.T&&(k=!0),this.T=!0);this.u=e}this.u!==g&&this.current.vm&&a&&a.B.Eb();return k};Ia.prototype.$=function(a){for(var c=0,b=!1,d=this.h,f=this.h.length;c<f&&!b;)d[c].dc>=
a?b=!0:c+=1;b||(c=f-1);return c};Ia.prototype.xa=function(a){var c=0;this.u=this.$(a);if(0<this.u){var b=this.h[this.u];var d=this.h[this.u-1];c=b.ed-d.ed;b=b.dc-d.dc;c=c*(a-d.dc)/b+d.ed}return c};Ia.prototype.l=function(a,c,b,d){if(0===this.h.length)b[b.length]=[a+" "+y.cc,"no initial waypoint defined"];else switch(a){case y.we:c.Oe&&(b[b.length]=[a+" "+y.cc,d?"already defined":"overwrites "+-c.x]);c.x=this.h[0].x;c.Oe=!0;break;case y.ye:c.xe&&(b[b.length]=[a+" "+y.cc,d?"already defined":"overwrites "+
-c.y]);c.y=this.h[0].y;c.xe=!0;break;case y.Ud:c.Td&&(b[b.length]=[a+" "+y.cc,d?"already defined":"overwrites "+this.v(1>c.zoom?-(1/c.zoom):c.zoom)]);c.zoom=this.h[0].zoom;c.Td=!0;break;case y.ij:c.gg&&(b[b.length]=[a+" "+y.cc,d?"already defined":"overwrites "+c.angle]);c.angle=this.h[0].angle;c.gg=!0;break;case y.Ej:c.xg&&(b[b.length]=[a+" "+y.cc,d?"already defined":"overwrites "+c.lb]);c.lb=this.h[0].lb;c.xg=!0;break;case y.Jk:c.Dg&&(b[b.length]=[a+" "+y.cc,d?"already defined":"overwrites "+this.v(c.depth)]);
c.depth=this.h[0].depth;c.Dg=!0;break;case y.Wk:c.Gg&&(b[b.length]=[a+" "+y.cc,d?"already defined":"overwrites "+c.oa]);c.oa=this.h[0].oa;c.Gg=!0;break;case y.Xi:c.ve&&(b[b.length]=[a+" "+y.cc,d?"already defined":"overwrites "+c.sc]);c.sc=this.h[0].sc;c.ve=!0;break;case y.Pk:c.Ke&&(b[b.length]=[a+" "+y.cc,d?"already defined":"overwrites "+c.Hc]);c.Hc=this.h[0].Hc;c.Ke=!0;break;case y.sl:c.re&&(b[b.length]=[a+" "+y.cc,d?"already defined":"overwrites "+c.step]);c.step=this.h[0].step;c.re=!0;break;case y.Gh:c.Fh&&
(b[b.length]=[a+" "+y.cc,d?"already defined":"overwrites "+(-1===c.Pb?"OFF":c.Pb)]);c.Pb=this.h[0].Pb;c.Fh=!0;break;case y.uh:c.th&&(b[b.length]=[a+" "+y.cc,d?"already defined":"overwrites "+(-1===c.ob?"OFF":c.ob)]);c.ob=this.h[0].ob;c.th=!0;break;default:b[b.length]=[a+" "+y.cc,"illegal command before "+y.cc]}};Ia.prototype.ma=function(a,c){this.l(y.we,a,c,!1);this.l(y.ye,a,c,!1);this.l(y.Ud,a,c,!1);this.l(y.ij,a,c,!1);this.l(y.Ej,a,c,!1);this.l(y.Wk,a,c,!1);this.l(y.Jk,a,c,!1);this.l(y.Xi,a,c,!1);
this.l(y.Pk,a,c,!1);this.l(y.sl,a,c,!1);this.l(y.uh,a,c,!1);this.l(y.Gh,a,c,!1)};Ia.prototype.Ua=function(a,c){var b,d=this.h,f=this.h.length;for(b=1;b<f;b+=1){var e=d[b-1];var g=d[b];g.Oe||(g.x=e.x);g.xe||(g.y=e.y);g.aj||(g.yg=e.yg);g.cj||(g.zg=e.zg);g.ej||(g.Ag=e.Ag);g.gg||(g.angle=e.angle);g.xg||(g.lb=e.lb);g.Td||(g.zoom=e.zoom);g.Gg||(g.oa=e.oa);g.Dg||(g.depth=e.depth);g.ve||(g.sc=e.sc);g.Ke||(g.Hc=e.Hc);g.re||(g.step=e.step);if(g.Ke||g.re)g.Ke&&!g.re&&(g.step=B.tg),g.re&&(g.Hc=c.L);g.Qn?g.dc<=
e.dc&&(a[a.length]=[y.Pn+" "+g.dc,"target generation must be later than previous ("+e.dc+")"]):g.dc=e.dc;g.ed=g.mz?1E3*g.ed+e.ed:e.ed+1E3*(g.dc-e.dc)/(g.Hc*g.step);g.Pp||(g.Dj=e.Dj);g.rj||(g.grid=e.grid)}};gb.prototype.D=function(a,c){for(var b=null,d=0;null===b&&d<a.length;)a[d].identifier===c?b=a[d]:d+=1;return b};gb.prototype.reset=function(){this.i=!1;this.h=-1};gb.prototype.A=function(a,c){var b=c.changedTouches;this.s=!0;switch(c.type){case "touchstart":-1===a.h&&(b=b[0],a.h=b.identifier,a.I(a,
b.pageX,b.pageY));break;case "touchend":b=a.D(b,a.h);null!==b&&(a.M(a,b.pageX,b.pageY),a.h=-1);break;case "touchmove":b=a.D(b,a.h),null!==b&&a.L(a,b.pageX,b.pageY)}c.stopPropagation&&c.stopPropagation();c.cancelable&&c.preventDefault()};gb.prototype.T=function(a){var c=this.view;c.da=c.zf;c.ba=c.yf;c.Ez();c.nn.style.transform="scale("+c.se+","+c.se+")";c.nn.style.transformOrigin="top left";c.lo&&(this.B.Ne(!0),c.resize());a.U(a.left+a.C,a.top);a.C=0};gb.prototype.Y=function(a,c){this.U(this.left+
a,this.top+c)};gb.prototype.U=function(a,c){var b=window.innerWidth-this.l.clientWidth*this.o,d=window.innerHeight-this.l.clientHeight*this.o;b-=(window.innerWidth-document.body.clientWidth)*this.o;a>b&&(a=b);c>d&&(c=d);0>a&&(a=0);0>c&&(c=0);this.l.style.left=a+"px";this.l.style.top=c+"px";this.l.style.position="fixed";this.left=a;this.top=c};gb.prototype.I=function(a,c,b){a.P(a,c,b);a.i=!0;a.B.M=!0};gb.prototype.M=function(a,c,b){a.P(a,c,b);a.i=!1;a.B.M=!1};gb.prototype.L=function(a,c,b){a.i&&a.Y(c-
a.u,b-a.v);a.u=c;a.v=b};gb.prototype.V=function(a,c){if(!a.s){if(c.pageX||c.pageY){var b=c.pageX;var d=c.pageY}else b=c.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=c.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.I(a,b,d)}c.stopPropagation&&c.stopPropagation();c.preventDefault()};gb.prototype.X=function(a,c){if(!a.s&&a.m&&a.i){if(c.pageX||c.pageY){var b=c.pageX;var d=c.pageY}else b=c.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,
d=c.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.M(a,b,d)}c.stopPropagation&&c.stopPropagation();c.preventDefault()};gb.prototype.W=function(a,c){if(!a.s&&a.m&&a.i){if(c.pageX||c.pageY){var b=c.pageX;c=c.pageY}else b=c.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,c=c.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.L(a,b,c)}};gb.prototype.P=function(a,c,b){a.u=c|0;a.v=b|0};xb.prototype.ke=function(a){var c,b,d=this.key;for(c=0;256>
c;c+=1)d[c]=c;for(c=b=0;256>c;c+=1){b=b+d[c]+a.charCodeAt(c%a.length)&255;var f=d[c];d[c]=d[b];d[b]=f}this.i=this.h=0};xb.prototype.random=function(){var a,c=0,b=1,d=this.key,f=this.h,e=this.i;for(a=0;8>a;a+=1){f=f+1&255;e=e+d[f]&255;var g=d[f];d[f]=d[e];d[e]=g;c+=d[d[f]+d[e]&255]*b;b*=256}this.h=f;this.i=e;return c/1.8446744073709552E19};Kb.prototype.ke=function(a,c,b){var d,f=this.rp,e=a*a+c*c;this.x=this.N.h(na.fd,f,"Stars.x");this.y=this.N.h(na.fd,f,"Stars.y");this.z=this.N.h(na.fd,f,"Stars.z");
for(d=0;d<f;d+=1){var g=d/f*(d/f)*(d/f)*(d/f)*b+1;do{var k=3*(this.i.random()*a-a/2);var l=3*(this.i.random()*c-c/2)}while(k*k+l*l>e);this.x[d]=k;this.y[d]=l;this.z[d]=g}this.sin=this.N.h(na.fd,2880,"Stars.sin");this.cos=this.N.h(na.fd,2880,"Stars.cos");for(d=0;2880>d;)this.sin[d]=Math.sin(d/8*this.l),this.cos[d]=Math.cos(d/8*this.l),d+=1};Kb.prototype.o=function(a,c,b,d,f,e,g,k){var l=f>>1,p=e>>1,n=f-1,q=e-1;this.m||(this.ke(8192,8192,1024),this.m=!0);if(Ta.pc){var m=k>>16&255;var r=k>>8&255;var u=
k&255}else u=k>>24&255,r=k>>16&255,m=k>>8&255;var t=this.h.h-u;var v=this.h.l-r;var x=this.h.i-m;for(e=0;e<this.rp;e+=1){var w=this.x[e]+a;var A=this.y[e]+c;if(0!==d){var C=Math.sqrt(w*w+A*A);A=Math.atan2(A,w)*this.s;A+=d;0>A?A+=360:360<=A&&(A-=360);A*=8;A|=0;w=C*this.cos[A];A=C*this.sin[A]}C=this.z[e]/b*2;w=l+w/C|0;A=p+A/C|0;if(0<w&&w<n&&0<A&&A<q){w+=A*f;C=1536/C|0;255<C&&(C=255);C/=255;if(g[w]===k){A=u+t*C;var z=r+v*C;var H=m+x*C;A=Ta.pc?-16777216|H<<16|z<<8|A:A<<24|H<<16|z<<8|255;g[w]=A}C/=2;A=
u+t*C;z=r+v*C;H=m+x*C;A=Ta.pc?-16777216|H<<16|z<<8|A:A<<24|H<<16|z<<8|255;--w;g[w]===k&&(g[w]=A);w+=2;g[w]===k&&(g[w]=A);--w;w-=f;g[w]===k&&(g[w]=A);w+=f+f;g[w]===k&&(g[w]=A)}}};var Ib={Iv:"",mq:0,Tk:function(a){switch(a){case y.Xr:case y.Wt:case y.ts:case y.kt:case y.tu:case y.Ku:case y.Vr:case y.ls:case y.zu:case y.Bu:case y.Yr:case y.Au:case y.jt:case y.sg:case y.lh:case y.mv:case y.ms:case y.Np:case y.zr:case y.Kg:case y.ru:case y.qu:case y.nu:case y.pu:case y.lu:case y.ku:case y.mu:case y.ou:case y.Ep:case y.Dp:case y.Fp:case y.Pr:case y.zp:case y.bn:case y.$t:case y.Ap:case y.Yt:case y.bu:case y.cu:case y.Zt:case y.fu:case y.du:case y.eu:case y.au:case y.ln:case y.mr:case y.qr:case y.rr:case y.nr:case y.ur:case y.sr:case y.tr:case y.pr:case y.xn:case y.Ds:case y.Gs:case y.Hs:case y.Es:case y.Ks:case y.Is:case y.Js:case y.Fs:case y.gt:case y.it:case y.ht:case y.ps:case y.Tn:case y.ks:case y.In:case y.Om:case y.Nm:case y.yp:case y.Jn:case y.Xt:case y.cc:case y.hf:case y.yb:case y.Fu:case y.yl:case y.Sn:case y.Ro:case y.qp:case y.fs:case y.gs:case y.Nn:case y.Os:case y.so:case y.qs:case y.tm:case y.kn:case y.Pn:case y.sl:case y.Tt:case y.un:case y.tn:case y.zy:case y.iu:case y.Ju:case y.jb:case y.Gr:case y.we:case y.ye:case y.bq:case y.eq:case y.Ud:case y.hr:case y.uh:case y.Vn:case y.Ej:case y.ft:case y.et:case y.Tu:case y.Qu:case y.Pu:case y.Ru:case y.Su:case y.to:case y.Qp:case y.Cj:case y.Vm:case y.ij:case y.Xi:case y.Pk:case y.Gh:case y.Wk:case y.Jk:case y.fn:case y.rm:case y.Ln:case y.Kn:case y.As:case y.Qm:case y.ol:case y.Pi:case y.on:case y.Gn:case y.nt:case y.Jt:case y.St:case y.wt:case y.pt:case y.Nt:case y.rt:case y.Qt:case y.Ot:case y.It:case y.Bt:case y.Mt:case y.Ft:case y.tt:case y.Dt:case y.vt:case y.zt:case y.Ht:case y.xt:a=
!0;break;default:a=!1}return a},px:function(a){var c=[],b=1,d=!0,f=0;if(7===a.length&&"#"===a.charAt(0)){for(a=a.toLowerCase();d&&6>=b;){var e=a.charAt(b);"0"<=e&&"9">=e?(f=16*f+(e.charCodeAt(0)-48),b+=1):"a"<=e&&"f">=e?(f=16*f+(e.charCodeAt(0)-97+10),b+=1):d=!1}d&&(c=[f>>16,f>>8&255,f&255])}return c},dl:function(a,c,b,d,f){var e=a.m();""===e||this.Tk(e)?c[c.length]=[b,d+" missing"]:(c[c.length]=[b+" "+e,d+" must be "+f],a.l())},$b:function(a,c,b,d,f){var e=!0,g=0,k=0,l=0,p=c.l();if(c.h()){g=c.i()|
0;if(0>g||255<g)b[b.length]=[f+" "+p+" "+g,"RED out of range"];if(c.h()){k=c.i();if(0>k||255<k)b[b.length]=[f+" "+p+" "+g+" "+k,"GREEN out of range"];c.h()?(l=c.i(),0>l||255<l?b[b.length]=[f+" "+p+" "+g+" "+k+" "+l,"BLUE out of range"]:e=!1):this.dl(c,b,f+" "+p+" "+g+" "+k,"BLUE","numeric")}else this.dl(c,b,f+" "+p+" "+g,"GREEN","numeric")}else{var n=c.m();var q=this.px(n);3===q.length?(c.l(),g=q[0],k=q[1],l=q[2],e=!1):(q=lb.Gf[n.toLowerCase()],void 0!==q?(c.l(),g=q[1],k=q[2],l=q[3],e=!1):""===n||
this.Tk(n)?b[b.length]=[f+" "+p,"name missing"]:(b[b.length]="#"===n.charAt(0)?[f+" "+p+" "+n,"bad hex definition"]:[f+" "+p+" "+n,"name not known"],c.l()))}if(!e)switch(-1!==a.na[d]&&d!==B.Lr&&d!==B.Jr&&d!==B.Mr&&(b[b.length]=[f+" "+p+" "+g+" "+k+" "+l,"overwrites "+(a.na[d]>>16)+" "+(a.na[d]>>8&255)+" "+(a.na[d]&255)]),a.na[d]=g<<16|k<<8|l,d){case B.zo:a.Pq=a.na[d];break;case B.Kr:a.Rq=a.na[d];break;case B.mx:a.Fd.h.h=g;a.Fd.h.l=k;a.Fd.h.i=l;break;case B.nx:a.Ic=[g,k,l];break;case B.$w:a.Mc=[g,
k,l];a.nh="rgb("+g+","+k+","+l+")";break;case B.ix:a.Ae=[g,k,l];a.sh="rgb("+g+","+k+","+l+")";break;case B.Lr:a.Tq="rgb("+g+","+k+","+l+")";break;case B.Jr:a.Nq="rgb("+g+","+k+","+l+")";break;case B.Mr:a.Vq="rgb("+g+","+k+","+l+")";break;case B.Ww:a.nf=[g,k,l];a.g.zd=a.g.pc?-16777216|l<<16|k<<8|g:g<<24|k<<16|l<<8|255;break;case B.Xw:a.pf=[g,k,l];a.g.ge=a.g.pc?-16777216|l<<16|k<<8|g:g<<24|k<<16|l<<8|255;break;case B.kx:a.Mf=[g,k,l];a.g.jh="rgb("+g+","+k+","+l+")";break;case B.lx:a.Nf=[g,k,l];a.g.kh=
"rgb("+g+","+k+","+l+")";break;case B.jx:a.Jf=[g,k,l];a.g.bh="rgb("+g+","+k+","+l+")";break;case B.Uw:a.mf=[g,k,l];a.g.ag="rgb("+g+","+k+","+l+")";break;case B.ex:a.g.Wc=[g,k,l];break;case B.bx:a.g.Vc=[g,k,l];break;case B.ax:a.g.Uc=[g,k,l];break;case B.gx:a.g.Xc=[g,k,l];break;case B.hx:a.g.Yc=[g,k,l];break;case B.Co:case B.Ao:case B.Do:case B.Fo:case B.Eo:case B.Bo:break;default:a.Wc=!0}},zF:function(a){var c=a&255,b=a>>8&255;a>>=16;var d=255-c,f=255-b,e=255-a;64>Math.abs(c-d)&&(d=d+64&255);64>Math.abs(b-
f)&&(f=f+64&255);64>Math.abs(a-e)&&(e=e+64&255);return e<<16|f<<8|d},DE:function(a,c){var b=a.g.na[a.g.fb],d=a.na;-1===c&&(c=2>=a.g.h?a.g.D?10:a.g.T?17:1:a.g.i?18:11);b.set(a.g.na[c]);a.qf&&(b.A=a.g.Fb);!a.I||a.g.v||a.g.o||a.g.ea||(0<a.I.length&&-1!==a.I[0]&&(d[B.Ai]=a.I[0],a.I[0]=-1),1<a.I.length&&-1!==a.I[1]&&!a.g.i&&(d[B.km]=a.I[1],a.I[1]=-1),2<a.I.length&&-1!==a.I[2]&&!a.g.i&&a.g.D&&(d[B.yo]=a.I[2],a.I[2]=-1));c=d[B.Ai];-1!==c&&(a.g.o?(a.I||(a.I=a.g.N.h(na.ze,256,"View.customColours"),a.I.fill(-1)),
-1===a.I[0]&&(a.I[0]=c)):(b.u.h=c>>16,b.u.l=c>>8&255,b.u.i=c&255));c=d[B.km];-1!==c&&(b.i.h.h=c>>16,b.i.h.l=c>>8&255,b.i.h.i=c&255);c=d[B.Vw];-1!==c&&(b.i.i.h=c>>16,b.i.i.l=c>>8&255,b.i.i.i=c&255);c=d[B.xo];-1!==c&&(b.h.i.h=c>>16,b.h.i.l=c>>8&255,b.h.i.i=c&255);c=d[B.yo];-1!==c&&(b.h.h.h=c>>16,b.h.h.l=c>>8&255,b.h.h.i=c&255);c=d[B.Ai];-1!==c&&(b.D.h=c>>16,b.D.l=c>>8&255,b.D.i=c&255);c=d[B.km];-1!==c&&(b.v.h=c>>16,b.v.l=c>>8&255,b.v.i=c&255);c=d[B.xo];-1!==c&&(b.l.i.h=c>>16,b.l.i.l=c>>8&255,b.l.i.i=
c&255);c=d[B.yo];-1!==c&&(b.l.h.h=c>>16,b.l.h.l=c>>8&255,b.l.h.i=c&255);c=d[B.Yw];-1===c?b.I=!0:(b.I=!1,b.m.i.h=c>>16,b.m.i.l=c>>8&255,b.m.i.i=c&255);c=d[B.Zw];-1!==c&&(b.m.h.h=c>>16,b.m.h.l=c>>8&255,b.m.h.i=c&255);b.P(d[B.zo],d[B.Kr]);if(a.g.i)for(d=1;16>d;d+=1)a.I&&a.I.length>d&&(c=a.I[d],-1!==c&&(b.C[d-1].h=c>>16,b.C[d-1].l=c>>8&255,b.C[d-1].i=c&255,a.I[d]=-1))},Jp:function(a,c){var b=a;a.length>c&&(b=a.substring(0,c-1)+"...");return b},yz:function(a,c,b,d){var f=a.indexOf("\\n");-1!==f&&(b?c[c.length]=
[y.bn+" "+y.pd+this.Jp(a,23)+y.pd,"only one line allowed"]:(f=a.substring(f+2).indexOf("\\n"),-1===f||d||(c[c.length]=[y.pd+this.Jp(a,23),"only two lines allowed"])))},ju:function(a,c,b,d){var f=y.Xi+" ",e="overwrites ";f=b>=a.g.fb?f+y.$m:f+a.g.na[b].name;e=d>=a.g.fb?e+y.$m:e+a.g.na[d].name;c[c.length]=[f,e]},mm:function(a,c,b,d,f,e,g){var k=0,l=0,p=0;if(c.h())if(k=c.i()|0,0>k||255<k)b[b.length]=[f+" "+g+" "+k,"RED out of range"],e=!0;else if(c.h())if(l=c.i()|0,0>l||255<l)b[b.length]=[f+" "+g+" "+
k+" "+l,"GREEN out of range"],e=!0;else if(c.h()){if(p=c.i()|0,0>p||255<p)b[b.length]=[f+" "+g+" "+k+" "+l+" "+p,"BLUE out of range"],e=!0}else this.dl(c,b,f+" "+g+" "+k+" "+l,"BLUE","numeric"),e=!0;else this.dl(c,b,f+" "+g+" "+k,"GREEN","numeric"),e=!0;else{var n=c.m();var q=this.px(n);3===q.length?(c.l(),k=q[0],l=q[1],p=q[2]):(q=lb.Gf[n.toLowerCase()],void 0!==q?(c.l(),k=q[1],l=q[2],p=q[3]):(e=!0,""===n||this.Tk(n)?b[b.length]=[f+" "+g,"name missing"]:(b[b.length]="#"===n.charAt(0)?[f+" "+g+" "+
n,"bad hex definition"]:[f+" "+g+" "+n,"name not known"],c.l())))}e||(-1!==a.I[d]&&(b[b.length]=[f+" "+g+" "+k+" "+l+" "+p,"overwrites "+(a.I[d]>>16)+" "+(a.I[d]>>8&255)+" "+(a.I[d]&255)]),a.I[d]=k<<16|l<<8|p)},Zh:function(a,c){var b=y.Kd+String(c);a=a.B.Nb(c);-1!==a&&(b=a.toFixed(1));return b},tl:function(a,c){var b="",d=c.indexOf(y.Kd);if(-1===d)b=c;else{for(;-1!==d;)if(b+=c.substring(0,d),d+1<c.length){var f=c[d+1];c=c.substring(d+2);switch(f){case "B":b+=B.Zp;break;case "N":b+=a.pi;break;case "R":b+=
a.U;break;case "A":b=""===a.ta?b+a.U:b+a.ta;break;case "O":b+=a.Al;break;case "S":b+=a.xi;break;case "T":b+=B.pn;break;case "D":b+=a.us();break;case "0":b+=this.Zh(a,0);break;case "1":b+=this.Zh(a,1);break;case "2":b+=this.Zh(a,2);break;case "3":b+=this.Zh(a,3);break;case "4":b+=this.Zh(a,4);break;case "5":b+=this.Zh(a,5);break;case "6":b+=this.Zh(a,6);break;case "7":b+=this.Zh(a,7);break;case "8":b+=this.Zh(a,8);break;case "9":b+=this.Zh(a,9);break;case y.Kd:b+=y.Kd;break;default:b+=y.Kd+f}d=c.indexOf(y.Kd)}else c=
c.substring(d+1),d=-1;b+=c}return b},Jg:function(a,c,b,d){d[d.length]=a?c===y.sg?[c+" "+b,"already defined"]:[c+" "+b,"overwrites "+y.sg]:c===y.sg?[c+" "+b,"overwrites "+y.lh]:[c+" "+b,"already defined"]},de:function(a,c){return a===(a|0)?String(a):a.toFixed(c)},$E:function(a){var c=a.charAt(0);a=a.substring(1);var b=!1;if("B"===c||"S"===c){this.Iv=c;c=0;for(b=!0;b&&c<a.length;)"0"<=a[c]&&"9">=a[c]?c+=1:b=!1;b&&(this.mq=Number(a))}return b},xE:function(a,c){if("B"===this.Iv){var b=a.Pc.length;a.Pc[b]=
this.mq;a.Pc[b+1]=c}else b=a.Cd.length,a.Cd[b]=this.mq,a.Cd[b+1]=c},KD:function(a,c,b){var d=new Xa(c,!1),f=!1,e=!1,g="",k="",l="",p="",n=!1,q="",m=0,r=!1,u=!1,t=a.Ma,v=null,x=0,w=0,A="",C=!1,z=a.l.C(),H=null,E=!1,J=!1,N=null,L=!0,D=1,G=B.Lw,F=-1,W=-1,va=0,ma=0,U=!1,oa=!1,da=-1,ca=-1E3,ta=-1E3,ha=0,pa=0,fa=null,la=!0,Aa=1,ra=B.Lw,ka=B.FB,Z=-1,ea=-1,V=0,ya=0,R=!1,M=!1,O=-1,ia=0,T=0,P=-1E3,sa=-1E3,za=null,Ba=!0,aa=1,ja=B.ZC,X=!1,ba=-1,Y=-1,wa=0,xa=0,Ca=!1,ua=!1,Ea=-1,Qa=0,Ma=0,cb=-1E3,db=-1E3,eb=!1,
Wa=!1,fb="numeric",sb=-1,nb=-1,ob=-1,ub=-1,pb=-1,yb=-1,Ab=0,Bb=0,Cb=0,Db=0,Ga=0,Ha=0,Na=0,ic=0,jc=0,vb=[],Ua=0,tb=0,Eb=!1,kc=new mb("decode",a.S),Ob=!1,Pb=!1,Qb=!1,Rb=!1,Sb=!1,Tb=!1,Ub=!1,Fb=!1,Vb=!1,Wb=!1,Gb=!1,Hb=!1,Xb=!1,Yb=!1,Zb=!1,$b=!1;a.l.L=!1;a.Xg=0;a.qq=0;a.qf=!1;a.Wc=!1;a.na.fill(-1);a.I=null;if(-1!==d.P(y.Cj)){a.I=a.g.N.h(na.ze,256,"View.customColours");a.I.fill(-1);for(g=d.l();""!==g;){fb="numeric";if(n)g[g.length-1]===y.pd?(q=q+" "+g.substring(0,g.length-1),n=!1,this.yz(q,t,e,eb),e?(""!==
a.nd&&(t[t.length]=[y.bn+" "+y.pd+this.Jp(q,20)+y.pd,"overwrites "+y.pd+a.nd+y.pd]),a.nd=q,e=!1):eb?(za.message=this.tl(a,q),eb=!1,a.l.V(za)):(z.ce=this.tl(a,q),z.Rp=!0)):q=q+" "+g;else if(g[0]===y.pd)q=g.substring(1),n=!0,g[g.length-1]===y.pd&&(n=!1,q=q.substring(0,q.length-1),this.yz(q,t,e,eb),e?(""!==a.nd&&(t[t.length]=[y.bn+" "+y.pd+this.Jp(q,20)+y.pd,"overwrites "+y.pd+a.nd+y.pd]),a.nd=q,e=!1):eb?(za.message=this.tl(a,q),eb=!1,a.l.V(za)):(z.ce=this.tl(a,q),z.Rp=!0));else{r=u=!1;a.Xg+=1;switch(g){case y.bn:e=
!0;k=d.m();k[0]!==y.pd&&(t[t.length]=[g,"argument must be a quoted string"],e=!1);r=!0;break;case y.bu:d.h()&&(u=!0,m=d.i(),m>=B.ip&&m<=B.$o&&(G=m,r=!0));break;case y.du:d.h()?(u=!0,m=d.i(),m>=B.If&&m<=B.Hf&&(Ga=m,u=!1,d.h()&&(u=!0,m=d.i(),m>=B.If&&m<=B.Hf&&(ha=Ga,pa=m,r=!0)))):(k=d.m(),k===y.Bd&&(k=d.l(),pa=ha=0,r=!0));break;case y.eu:d.h()?(u=!0,m=d.i(),0<=m&&m<=a.g.L/2&&(da=m,r=!0)):(k=d.m(),k===y.yb&&(k=d.l(),da=-1,r=!0));break;case y.Zt:d.h()&&(u=!0,m=d.i(),0<=m&&360>m&&(ma=m,U=!1,k=d.m(),k===
y.Bd&&(k=d.l(),U=!0),r=!0));break;case y.cu:d.h()?(u=!0,m=d.i()|0,0<=m&&(Ga=m,d.h()?(m=d.i()|0,m>=Ga?(Ha=m,d.h()?(m=d.i()|0,0<=m&&m<=Ha-Ga>>1?(F=Ga,W=Ha,va=m,r=!0):(r=!0,t[t.length]=[g+" "+Ga+" "+Ha+" "+m,"third argument must from 0 to "+(Ha-Ga>>1)])):u=!1):(r=!0,t[t.length]=[g+" "+Ga+" "+m,"second argument must be >= first"])):u=!1)):(k=d.m(),k===y.hf?(k=d.l(),W=F=-1,va=0,r=!0):u=!1);break;case y.Yt:d.h()&&(u=!0,m=d.i(),0<=m&&1>=m&&(D=m,r=!0));break;case y.$t:case y.Ap:vb=[];r=!0;for(Na=-1E3;r&&
d.h();)Ga=d.i(),d.h()?(Ha=d.i(),Ga>=-a.g.L&&Ga<2*a.g.L&&Ha>=-a.g.L&&Ha<2*a.g.L?(vb[vb.length]=Ga,vb[vb.length]=Ha):(t[t.length]=[g+" "+Ga+" "+Ha,"coordinate out of range"],Na=0,r=!1)):Ga>=B.rb&&Ga<=B.Mb?Na=Ga:Ga>=B.Bn&&Ga<=B.zn?Na=-(1/Ga):(t[t.length]=[g+" "+Ga,"zoom out of range"],Na=0,r=!1);r&&4>vb.length&&(t[t.length]=[g,"requires at least 2 coordinate pairs"],r=!1);r&&-1E3===Na&&(r=!1);r&&(k=d.m(),oa=!1,k===y.Bd&&(k=d.l(),oa=!0,k=d.m()),N=a.l.ra(vb,g===y.Ap,Na,ca,ta,a.Vq,D,G,F,W,va,ma,U,oa,da,
ha,pa,L),a.l.ea(N));break;case y.au:k=d.m();k===y.yb?(k=d.l(),L=!1):L=!0;r=!0;break;case y.qr:d.h()&&(u=!0,m=d.i(),m>=B.ip&&m<=B.$o&&(Ga=m,u=!1,d.h()&&(u=!0,m=d.i(),0<=m&&1>=m&&(ka=m,ra=Ga,r=!0))));break;case y.sr:d.h()?(u=!0,m=d.i(),m>=B.If&&m<=B.Hf&&(Ga=m,u=!1,d.h()&&(u=!0,m=d.i(),m>=B.If&&m<=B.Hf&&(ia=Ga,T=m,r=!0)))):(k=d.m(),k===y.Bd&&(k=d.l(),T=ia=0,r=!0));break;case y.tr:d.h()?(u=!0,m=d.i(),0<=m&&m<=a.g.L/2&&(O=m,r=!0)):(k=d.m(),k===y.yb&&(k=d.l(),O=-1,r=!0));break;case y.nr:d.h()&&(u=!0,m=
d.i(),0<=m&&360>m&&(ya=m,R=!1,k=d.m(),k===y.Bd&&(k=d.l(),R=!0),r=!0));break;case y.rr:d.h()?(u=!0,m=d.i()|0,0<=m&&(Ga=m,d.h()?(m=d.i()|0,m>=Ga?(Ha=m,d.h()?(m=d.i()|0,0<=m&&m<=Ha-Ga>>1?(Z=Ga,ea=Ha,V=m,r=!0):(r=!0,t[t.length]=[g+" "+Ga+" "+Ha+" "+m,"third argument must from 0 to "+(Ha-Ga>>1)])):u=!1):(r=!0,t[t.length]=[g+" "+Ga+" "+m,"second argument must be >= first"])):u=!1)):(k=d.m(),k===y.hf?(k=d.l(),ea=Z=-1,V=0,r=!0):u=!1);break;case y.mr:d.h()&&(u=!0,m=d.i(),0<=m&&1>=m&&(Aa=m,r=!0));break;case y.pr:k=
d.m();k===y.yb?(k=d.l(),la=!1):la=!0;r=!0;break;case y.ln:d.h()&&(u=!0,m=d.i(),m>=-a.g.L&&m<2*a.g.L&&(u=!1,Ga=m,d.h()&&(u=!0,m=d.i(),m>=-a.g.L&&m<2*a.g.L&&(u=!1,Ha=m,d.h()&&(u=!0,m=d.i(),m>=-a.g.L&&m<2*a.g.L&&(u=!1,ic=m,d.h()&&(u=!0,m=d.i(),m>=-a.g.L&&m<2*a.g.L&&(u=!1,jc=m,d.h()&&(u=!0,m=d.i(),Na=-1E3,m>=B.rb&&m<=B.Mb?Na=m:m>=B.Bn&&m<=B.zn&&(Na=-(1/m)),-1E3!==Na&&(k=d.m(),M=!1,k===y.Bd&&(k=d.l(),M=!0,k=d.m()),fa=a.l.pa(Ga,Ha,ic,jc,Na,P,sa,a.Nq,Aa,ra,ka,Z,ea,V,ya,R,M,O,ia,T,la),a.l.ca(fa),r=!0))))))))));
break;case y.Gs:d.h()&&(u=!0,m=d.i(),m>=B.py&&m<=B.ky&&(ja=m,r=!0,k=d.m(),k===y.Bd?(k=d.l(),X=!0):X=!1));break;case y.Is:d.h()?(u=!0,m=d.i(),m>=B.If&&m<=B.Hf&&(Ga=m,u=!1,d.h()&&(u=!0,m=d.i(),m>=B.If&&m<=B.Hf&&(Qa=Ga,Ma=m,r=!0)))):(k=d.m(),k===y.Bd&&(k=d.l(),Ma=Qa=0,r=!0));break;case y.Js:d.h()?(u=!0,m=d.i(),0<=m&&m<=a.g.L/2&&(Ea=m,r=!0)):(k=d.m(),k===y.yb&&(k=d.l(),Ea=-1,r=!0));break;case y.Es:d.h()&&(u=!0,m=d.i(),0<=m&&360>m&&(xa=m,Ca=!1,k=d.m(),k===y.Bd&&(k=d.l(),Ca=!0),r=!0));break;case y.Hs:d.h()?
(u=!0,m=d.i()|0,0<=m&&(Ga=m,d.h()?(m=d.i()|0,m>=Ga?(Ha=m,d.h()?(m=d.i()|0,0<=m&&m<=Ha-Ga>>1?(ba=Ga,Y=Ha,wa=m,r=!0):(r=!0,t[t.length]=[g+" "+Ga+" "+Ha+" "+m,"third argument must from 0 to "+(Ha-Ga>>1)])):u=!1):(r=!0,t[t.length]=[g+" "+Ga+" "+m,"second argument must be >= first"])):u=!1)):(k=d.m(),k===y.hf?(k=d.l(),Y=ba=-1,wa=0,r=!0):u=!1);break;case y.Ds:d.h()&&(u=!0,m=d.i(),0<=m&&1>=m&&(aa=m,r=!0));break;case y.fu:d.h()?(u=!0,m=d.i(),Ga=-1E3,m>=B.Dm&&m<=B.Am?Ga=m:m>=B.Cm&&m<=B.zm&&(Ga=-(1/m)),-1E3!==
Ga&&d.h()&&(u=!0,m=d.i(),Ha=-1E3,m>=B.Dm&&m<=B.Am?Ha=m:m>=B.Cm&&m<=B.zm&&(Ha=-(1/m)),-1E3!==Ha&&Ha<Ga&&(Ha=-1E3),-1E3!==Ha&&(ca=Ga,ta=Ha,r=!0))):(k=d.m(),k===y.yb&&(k=d.l(),ta=ca=-1E3,r=!0));break;case y.ur:d.h()?(u=!0,m=d.i(),Ga=-1E3,m>=B.Dm&&m<=B.Am?Ga=m:m>=B.Cm&&m<=B.zm&&(Ga=-(1/m)),-1E3!==Ga&&d.h()&&(u=!0,m=d.i(),Ha=-1E3,m>=B.Dm&&m<=B.Am?Ha=m:m>=B.Cm&&m<=B.zm&&(Ha=-(1/m)),-1E3!==Ha&&Ha<Ga&&(Ha=-1E3),-1E3!==Ha&&(P=Ga,sa=Ha,r=!0))):(k=d.m(),k===y.yb&&(k=d.l(),sa=P=-1E3,r=!0));break;case y.Ks:d.h()?
(u=!0,m=d.i(),Ga=-1E3,m>=B.Dm&&m<=B.Am?Ga=m:m>=B.Cm&&m<=B.zm&&(Ga=-(1/m)),-1E3!==Ga&&d.h()&&(u=!0,m=d.i(),Ha=-1E3,m>=B.Dm&&m<=B.Am?Ha=m:m>=B.Cm&&m<=B.zm&&(Ha=-(1/m)),-1E3!==Ha&&Ha<Ga&&(Ha=-1E3),-1E3!==Ha&&(cb=Ga,db=Ha,r=!0))):(k=d.m(),k===y.yb&&(k=d.l(),db=cb=-1E3,r=!0));break;case y.Fs:k=d.m();k===y.yb?(k=d.l(),Ba=!1):Ba=!0;r=!0;break;case y.xn:d.h()&&(u=!0,m=d.i(),m>=-a.g.L&&m<2*a.g.L&&(u=!1,Ga=m,d.h()&&(u=!0,m=d.i(),m>=-a.g.L&&m<2*a.g.L&&(u=!1,Ha=m,d.h()&&(u=!0,m=d.i(),Na=-1E3,m>=B.rb&&m<=B.Mb?
Na=m:m>=B.Bn&&m<=B.zn&&(Na=-(1/m)),-1E3!==Na&&(u=!1,k=d.m(),ua=!1,k===y.Bd&&(k=d.l(),ua=!0,k=d.m()),k[0]===y.pd?(za=a.l.qa(Ga,Ha,Na,cb,db,a.Tq,aa,ja,X,ba,Y,wa,xa,Ca,ua,Ea,Qa,Ma,Ba),r=eb=!0):fb="a string"))))));break;case y.zy:r=a.$q=!0;break;case y.iu:r=a.g.nc=!0;break;case y.As:r=a.g.Tc=!0;break;case y.Qm:r=!1;k=d.l();if(""!==k){for(a.zi=[];d.h();)m=d.i(),a.zi[a.zi.length]=m;a.QC(t,k,a.zi);a.zi=[];r=!0}break;case y.ol:r=!1;k=d.l();if(""!==k&&(l=d.m(),""!==l)){d.l();if(l===y.Kg)Ha=Ga=-1,d.h()&&(Ga=
d.i()),d.h()&&(Ha=d.i()),Ga<B.Cn||Ha<B.Ts||Ga>B.ep||Ha>B.cp?(t[t.length]=[y.Pi+" "+y.Kg,"invalid random box size"],Ga=-1):l+=Ga+","+Ha;else for(p=d.m();""!==p&&!this.Tk(p)&&!d.h()&&-1!==a.S.na(kc,p,!1,a.g.N);)d.l(),l+=p,p=d.m();if(-1!==Ga){Ha=Ga=0;d.h()&&(u=!0,Ga=d.i());d.h()&&(u=!0,Ha=d.i());Na=-1;p=d.m();if(""!==p){switch(p){case y.gv:Na=B.Un;break;case y.dv:Na=B.Xu;break;case y.ev:Na=B.Yu;break;case y.fv:Na=B.Zu;break;case y.kv:Na=B.bv;break;case y.lv:Na=B.cv;break;case y.jv:Na=B.av;break;case y.hv:Na=
B.$u}-1!==Na&&d.l()}-1===Na&&(Na=B.Un);a.HC(t,k,l,Ga,Ha,Na);r=!0}}break;case y.Pi:l=d.m();if(""!==l){d.l();Ga=-99999;if(l===y.Kg)Ha=Ga=-1,d.h()&&(Ga=d.i()),d.h()&&(Ha=d.i()),Ga<B.Cn||Ha<B.Cn||Ga>B.ep||Ha>B.cp?(t[t.length]=[y.Pi+" "+y.Kg,"invalid random box size"],Ga=-1):l+=Ga+","+Ha;else for(p=d.m();""!==p&&!this.Tk(p)&&!d.h()&&-1!==a.S.na(kc,p,!1,a.g.N);)d.l(),l+=p,p=d.m();if(-1!==Ga){Ha=Ga=0;d.h()&&(u=!0,Ga=d.i());d.h()&&(u=!0,Ha=d.i());Na=-1;p=d.m();if(""!==p){switch(p){case y.gv:Na=B.Un;break;
case y.dv:Na=B.Xu;break;case y.ev:Na=B.Yu;break;case y.fv:Na=B.Zu;break;case y.kv:Na=B.bv;break;case y.lv:Na=B.cv;break;case y.jv:Na=B.av;break;case y.hv:Na=B.$u}-1!==Na&&d.l()}-1===Na&&(Na=B.Un);a.UC(a.oi,a.ql,a.ni,a.Re,a.Ha,a.sq,a.uq,l,Ga,Ha,Na)||(t[t.length]=[y.Pi+" "+l,"invalid name or rle"]);r=!0}}break;case y.nt:d.h()&&(u=!0,m=d.i(),-4096<=m&&4096>=m&&(a.sq=m,u=!1,d.h()&&(u=!0,m=d.i(),-4096<=m&&4096>=m&&(a.uq=m,r=!0))));break;case y.Gn:if(d.h()){if(u=!0,m=d.i(),0<=m){a.oi=m;a.Re=0;a.ql=-1;a.ni=
[];for(f=!0;f;)d.h()?(m=d.i(),a.ni[a.ni.length]=m):(k=d.m(),a.bD(k,a.ni)?d.l():f=!1);r=!0}}else k=d.m(),k===y.on&&(k=d.l(),d.h()&&(u=!0,m=d.i(),1<=m&&(a.Re=m,a.oi=0,a.ql=-1,d.h()?(m=d.i(),0<=m&&(a.oi=m,d.h()?(m=d.i(),m>=a.oi+a.Re&&(a.ql=m,r=!0)):r=!0)):r=!0)));break;case y.nz:r=z.vm=!0;break;case y.Wt:r=a.Cp=!0;break;case y.Jt:r=!0;u=!1;fb="paste mode";k=d.m();switch(k){case y.St:a.Ha=B.Rt;break;case y.wt:a.Ha=B.tp;break;case y.pt:a.Ha=B.ot;break;case y.Nt:a.Ha=B.Kt;break;case y.rt:a.Ha=B.qt;break;
case y.Qt:a.Ha=B.Pt;break;case y.Ot:a.Ha=B.vp;break;case y.It:a.Ha=B.Jm;break;case y.Bt:a.Ha=B.At;break;case y.Mt:a.Ha=B.Lt;break;case y.Ft:a.Ha=B.Et;break;case y.tt:a.Ha=B.st;break;case y.Dt:a.Ha=B.Ct;break;case y.vt:a.Ha=B.ut;break;case y.zt:a.Ha=B.yt;break;case y.Ht:a.Ha=B.Gt;break;case y.xt:a.Ha=B.up;break;default:if(4===k.length){for(Ua=m=0;4>Ua&&r;){m<<=1;switch(k.substring(Ua,Ua+1)){case "1":m|=1;break;case "0":break;default:r=!1}Ua+=1}r&&(a.Ha=m)}else d.h()?(u=!0,m=d.i()|0,0<=m&&15>=m?a.Ha=
m:r=!1):r=!1}r&&!u&&d.l();break;case y.ps:r=a.ad=!0;break;case y.ht:a.zd=!1;r=!0;break;case y.gt:r=a.vc=!0;break;case y.it:a.Xc=!1;r=!0;break;case y.Os:d.h()&&(u=!0,m=d.i()|0,m>=B.oy&&m<=B.jy&&(a.g.L=1<<m,r=!0));break;case y.Nn:k=d.m();k===y.yb?(k=d.l(),z.Dj=!1):z.Dj=!0;r=z.Pp=!0;break;case y.so:k=d.m();k===y.yb?(k=d.l(),z.te=!1):z.te=!0;r=!0;break;case y.tm:d.h()&&(u=!0,m=d.i()|0,0<=m&&m<=a.Vk&&(a.wa=m,r=!0));break;case y.kn:d.h()&&(u=!0,m=d.i()|0,0<=m&&m<=a.Vk&&(a.Eg=m,r=!0));break;case y.qs:k=
d.m();k===y.yb?(k=d.l(),a.bd=!1):a.bd=!0;r=!0;break;case y.un:k=d.m();k===y.yb?(k=d.l(),z.grid=!1):z.grid=!0;r=z.rj=!0;break;case y.tn:d.h()&&(u=!0,m=d.i()|0,m>=B.jD&&m<=B.fD&&(a.g.Fb=m,r=a.qf=!0));break;case y.jb:case y.Gr:A=g;Wa=!1;if(d.h()){w=d.i()|0;if(0>w||255<w)t[t.length]=[g+" "+w,"STATE out of range"],Wa=!0;this.mm(a,d,t,w,g,Wa,w);a.Wc=!0}else switch(k=d.m(),k){case y.Dy:this.$b(a,d,t,B.Ai,A);break;case y.Fy:this.$b(a,d,t,B.km,A);break;case y.Mx:this.$b(a,d,t,B.xo,A);break;case y.Yx:k=d.l();
this.mm(a,d,t,B.Zx,g,!1,k);break;case y.by:k=d.l();this.mm(a,d,t,B.ey,g,!1,k);break;case y.$x:k=d.l();this.mm(a,d,t,B.ay,g,!1,k);break;case y.Sx:k=d.l();this.mm(a,d,t,B.Tx,g,!1,k);break;case y.Tp:this.$b(a,d,t,B.Ai,A);break;case y.Sp:this.$b(a,d,t,B.km,A);break;case y.Lu:this.$b(a,d,t,B.Vw,A);break;case y.Vp:this.$b(a,d,t,B.xo,A);break;case y.Up:this.$b(a,d,t,B.yo,A);break;case y.Nu:this.$b(a,d,t,B.Yw,A);break;case y.Mu:this.$b(a,d,t,B.Zw,A);break;case y.un:this.$b(a,d,t,B.zo,A);break;case y.tn:this.$b(a,
d,t,B.Kr,A);break;case y.Nn:this.$b(a,d,t,B.mx,A);break;case y.Ku:this.$b(a,d,t,B.nx,A);break;case y.Vr:this.$b(a,d,t,B.$w,A);break;case y.ls:this.$b(a,d,t,B.ix,A);break;case y.xn:this.$b(a,d,t,B.Lr,A);break;case y.ln:this.$b(a,d,t,B.Jr,A);break;case y.Wy:this.$b(a,d,t,B.Mr,A);break;case y.Pw:this.$b(a,d,t,B.Ww,A);break;case y.Qw:this.$b(a,d,t,B.Xw,A);break;case y.ez:this.$b(a,d,t,B.kx,A);break;case y.Pi:this.$b(a,d,t,B.jx,A);break;case y.Iw:this.$b(a,d,t,B.Uw,A);break;case y.fz:this.$b(a,d,t,B.lx,
A);break;case y.Gx:this.$b(a,d,t,B.ex,A);break;case y.Fx:this.$b(a,d,t,B.bx,A);break;case y.Ex:this.$b(a,d,t,B.ax,A);break;case y.Hx:this.$b(a,d,t,B.gx,A);break;case y.Ix:this.$b(a,d,t,B.hx,A);break;case y.rz:this.$b(a,d,t,B.Co,A);break;case y.pz:this.$b(a,d,t,B.Ao,A);break;case y.sz:this.$b(a,d,t,B.Do,A);break;case y.vz:this.$b(a,d,t,B.Fo,A);break;case y.uz:this.$b(a,d,t,B.Eo,A);break;case y.qz:this.$b(a,d,t,B.Bo,A);break;default:if('"'===k.charAt(0)&&'"'!==k.charAt(k.length-1)){k=d.l();do l=d.l(),
k+=" "+l;while(""!==l&&'"'!==l.charAt(l.length-1))}else k=d.l();w=a.Oz(k);0<=w&&(this.mm(a,d,t,w,g,Wa,k),a.Wc=!0);0>w&&(t[t.length]=[g+" "+k,"illegal element"],k=d.l())}r=!0;break;case y.Vm:-1===d.P(y.Cj)&&d.W();r=!0;--a.Xg;break;case y.Vn:r=a.D=!0;break;case y.jt:r=a.pq=!0;break;case y.tu:r=a.Qo=!0;break;case y.kt:a.jf=!1;r=!0;break;case y.Xr:r=a.an=!0;break;case y.ts:r=a.wn=!0;break;case y.ft:a.Va=!0;r=a.ho=!0;break;case y.et:r=a.Oh=!0;break;case y.Ju:r=$b=Zb=Yb=Xb=Hb=Gb=Wb=Vb=Fb=Ub=Tb=Sb=Rb=Qb=
Pb=Ob=!0;break;case y.yb:t[t.length]=[y.yb,"must follow LOOP or STOP"];r=!0;break;case y.hf:k=d.m();k===y.cc?(k=d.l(),z.rg?(a.l.ma(z,t),a.eA()):t[t.length]=[y.hf+" "+y.cc,"only valid at a POI"]):t[t.length]=[y.hf,"must be followed by INITIAL"];r=!0;break;case y.cc:t[t.length]=[y.cc,"must follow POI, ALL or a POI setting"];r=!0;break;case y.Qp:d.h()&&(u=!0,m=d.i()|0,0<=m&&m<=B.ly&&(a.vb=m,r=!0));break;case y.to:k=d.m();k===y.yb?(k=d.l(),a.Ab=!1):a.Oa&&(a.Ab=!0);r=!0;break;case y.yp:d.h()&&(u=!0,m=
d.i()|0,0<=m&&(z.rg?(z.dc=m,z.Qn=!0):t[t.length]=[y.yp+" "+m,"only valid at a POI"],r=!0));break;case y.Nm:z.zE(t);r=!0;break;case y.Om:z.BE(t);r=!0;break;case y.In:z.AE(t);r=!0;break;case y.Jn:d.h()&&(u=!0,m=d.i(),m>=Ya.Ty&&m<=Ya.Sy&&(z.CE(m,t),r=!0));break;case y.Xt:r=C=!0;break;case y.ks:r=a.en=!0;break;case y.Fu:k=d.m();k===y.yb?(k=d.l(),a.ld=!1):a.ld=!0;r=!0;break;case y.Tn:d.h()&&(u=!0,m=d.i(),m>=B.If&&m<=B.Hf&&(pb=m,u=!1,g+=" "+m,d.h()&&(u=!0,m=d.i(),m>=B.If&&m<=B.Hf&&(yb=m,r=!0,a.gb&&(t[t.length]=
[y.Tn+" "+pb+" "+yb,"overwrites "+nb+" "+ob]),nb=pb,ob=yb,a.gb=!0))));break;case y.Sn:d.h()&&(u=!0,m=d.i()|0,0<m&&(ub=m,u=!1,g+=" "+m,d.h()&&(u=!0,m=d.i(),m>=B.If&&m<=B.Hf&&(pb=m,u=!1,g+=" "+m,d.h()&&(u=!0,m=d.i(),m>=B.If&&m<=B.Hf&&(yb=m,r=!0,a.kh&&(t[t.length]=[y.Sn+" "+ub+" "+pb+" "+yb,"overwrites "+sb+" "+nb+" "+ob]),sb=ub,nb=pb,ob=yb,a.kh=!0,a.gb=!0))))));break;case y.yl:d.h()&&(u=!0,m=d.i(),m>=B.If&&m<=B.Hf&&(Cb=m,u=!1,g+=" "+m,d.h()&&(u=!0,m=d.i(),m>=B.If&&m<=B.Hf&&(Bb=m,u=!1,g+=" "+m,d.h()&&
(u=!0,m=d.i(),m>=B.If&&m<=B.Hf&&(Db=m,u=!1,g+=" "+m,d.h()&&(u=!0,m=d.i(),m>=B.If&&m<=B.Hf&&(Ab=m,r=!0,Db>Cb?t[t.length]=[y.yl+" W "+this.de(Db,2)+" E "+this.de(Cb,2),"W is greater than E"]:Ab>Bb?t[t.length]=[y.yl+" N "+this.de(Ab,2)+" S "+this.de(Bb,2),"N is greater than S"]:(a.hh&&(t[t.length]=[y.yl+" "+this.de(Cb,2)+" "+this.de(Bb,2)+" "+this.de(Db,2)+" "+this.de(Ab,2),"overwrites "+this.de(a.mg,2)+" "+this.de(a.ng,2)+" "+this.de(a.jh,2)+" "+this.de(a.ih,2)]),a.hh=!0,a.gb=!0,a.ih=Ab,a.mg=Cb,a.ng=
Bb,a.jh=Db)))))))));break;case y.Gh:H=z;!z.rg&&0<a.l.h.length&&(z=a.l.D());d.h()?(u=!0,m=d.i()|0,0<m&&(!z.Fh||a.sf||Hb||(t[t.length]=-1===z.Pb?[y.Gh+" "+m,"overwrites "+y.yb]:[y.Gh+" "+m,"overwrites "+z.Pb]),z.Pb=m,z.Fh=!0,Hb=a.sf=!1,r=!0)):(k=d.m(),k===y.yb?(k=d.l(),!z.Fh||a.sf||Hb||(t[t.length]=-1!==z.Pb||a.sf?[y.Gh+" "+y.yb,"overwrites "+z.Pb]:[y.Gh+" "+y.yb,"overwrites "+y.yb]),z.Pb=-1,z.Fh=!0,Hb=a.sf=!1,r=!0):k===y.cc&&(k=d.l(),a.l.l(y.Gh,z,t,a.sf),r=a.sf=!0));z=H;break;case y.uh:H=z;!z.rg&&
0<a.l.h.length&&(z=a.l.D());d.h()?(u=!0,m=d.i()|0,0<m&&(!z.th||a.Pg||Gb||(t[t.length]=-1===z.ob?[y.uh+" "+m,"overwrites "+y.yb]:[y.uh+" "+m,"overwrites "+z.ob]),z.ob=m,z.th=!0,Gb=a.Pg=!1,r=!0)):(k=d.m(),k===y.yb?(k=d.l(),!z.th||a.Pg||Gb||(t[t.length]=-1===z.ob?[y.uh+" "+y.yb,"overwrites "+y.yb]:[y.uh+" "+y.yb,"overwrites "+z.ob]),z.ob=-1,z.th=!0,Gb=a.Pg=!1,r=!0):k===y.cc&&(k=d.l(),a.l.l(y.uh,z,t,a.Pg),r=a.Pg=!0));z=H;break;case y.Ej:d.h()?(u=!0,m=d.i(),m>=B.Dn&&m<=B.Ps&&(!z.xg||a.Kk||Sb||(t[t.length]=
[y.Ej+" "+m,"overwrites "+z.lb]),z.lb=m,z.xg=!0,Sb=a.Kk=!1,r=!0)):(k=d.m(),k===y.cc&&(k=d.l(),a.l.l(y.Ej,z,t,a.Kk),r=a.Kk=!0));break;case y.ij:d.h()?(u=!0,m=d.i()|0,0<=m&&359>=m&&(!z.gg||a.Dk||Rb||(t[t.length]=[y.ij+" "+m,"overwrites "+z.angle]),z.angle=m,z.gg=!0,Rb=a.Dk=!1,r=!0)):(k=d.m(),k===y.cc&&(k=d.l(),a.l.l(y.ij,z,t,a.Dk),r=a.Dk=!0));break;case y.Wk:d.h()?(u=!0,m=d.i()|0,m>=B.hp&&m<=B.Zo&&(!z.Gg||a.Fk||Tb||(t[t.length]=[y.Wk+" "+m,"overwrites "+z.oa]),z.oa=m,z.Gg=!0,Tb=a.Fk=!1,r=!0)):(k=d.m(),
k===y.cc&&(k=d.l(),a.l.l(y.Wk,z,t,a.Fk),r=a.Fk=!0));break;case y.Jk:d.h()?(u=!0,m=d.i(),m>=B.gp&&m<=B.iy&&(!z.Dg||a.Ek||Ub||(t[t.length]=[y.Jk+" "+m,"overwrites "+z.depth]),z.depth=m,z.Dg=!0,Ub=a.Ek=!1,r=!0)):(k=d.m(),k===y.cc&&(k=d.l(),a.l.l(y.Jk,z,t,a.Ek),r=a.Ek=!0));break;case y.bq:d.h()&&(u=!0,m=d.i(),m>=-a.g.L/2&&m<=a.g.L/2&&(a.V=m,r=!0));break;case y.eq:d.h()&&(u=!0,m=d.i(),m>=-a.g.L/2&&m<=a.g.L/2&&(a.W=m,r=!0));break;case y.we:d.h()?(u=!0,m=d.i(),m>=-a.g.L/2&&m<=a.g.L/2&&(!z.Oe||a.Mk||Ob||
(t[t.length]=[y.we+" "+m,"overwrites "+-z.x]),z.x=-m,z.Oe=!0,Ob=a.Mk=!1,r=!0)):(k=d.m(),k===y.cc&&(k=d.l(),a.l.l(y.we,z,t,a.Mk),r=a.Mk=!0));break;case y.ye:d.h()?(u=!0,m=d.i(),m>=-a.g.L/2&&m<=a.g.L/2&&(!z.xe||a.Nk||Pb||(t[t.length]=[y.ye+" "+m,"overwrites "+-z.y]),z.y=-m,z.xe=!0,Pb=a.Nk=!1,r=!0)):(k=d.m(),k===y.cc&&(k=d.l(),a.l.l(y.ye,z,t,a.Nk),r=a.Nk=!0));break;case y.Su:d.h()&&(u=!0,m=d.i(),m>=B.rb&&m<=B.Mb?(a.gq=!0,a.bs=m,r=!0):m>=B.Bn&&m<=B.zn&&(a.gq=!0,a.bs=-(1/m),r=!0));break;case y.hr:case y.Ud:d.h()?
(u=!0,m=d.i(),m>=B.rb&&m<=B.Mb?(!z.Td||a.Qg||Qb||(t[t.length]=1>z.zoom?[y.Ud+" "+m,"overwrites "+-(1/z.zoom)]:[y.Ud+" "+m,"overwrites "+z.zoom]),z.zoom=m,z.Td=!0,Qb=a.Qg=!1,r=!0):m>=B.Bn&&m<=B.zn&&(z.Td&&!a.Qg&&(t[t.length]=1>z.zoom?[y.Ud+" "+m,"overwrites "+-(1/z.zoom)]:[y.Ud+" "+m,"overwrites "+z.zoom]),z.zoom=-(1/m),z.Td=!0,a.Qg=!1,r=!0)):(k=d.m(),k===y.cc&&(k=d.l(),a.l.l(y.Ud,z,t,a.Qg),r=a.Qg=!0));break;case y.Pk:d.h()?(u=!0,m=d.i()|0,m>=B.Ig&&(!z.Ke||a.Gj||Vb||(t[t.length]=[y.Pk+" "+m,"overwrites "+
z.Hc]),m>a.L&&(m=a.L),z.Hc=m,z.Ke=!0,Vb=a.Gj=!1,a.br=!1,r=!0)):(k=d.m(),k===y.cc&&(k=d.l(),a.l.l(y.Pk,z,t,a.Gj),r=a.Gj=!0));break;case y.Tu:k=d.m();k===y.yb?(k=d.l(),a.Ed||(a.Z=!1,a.bf=!1)):a.Ed||(a.Z=!0,a.bf=!0);r=!0;break;case y.Ru:r=a.Ur=!0;break;case y.Pu:k=d.m();k===y.yb?(k=d.l(),a.Ed||(a.Z=!1,a.bf=!1,a.Ph=!1,a.B.la=!1)):a.Ed||(a.Z=!0,a.bf=!0,a.Ph=!0,a.B.la=!0);r=!0;break;case y.Qu:d.h()&&(u=!0,m=d.i()|0,m>=B.sy&&m<=B.my&&(a.Eb=m,r=!0));break;case y.Xi:d.h()?(u=!0,m=d.i()|0,0<=m&&m<a.g.fb&&(!z.ve||
a.Fe||Fb||this.ju(a,t,m,z.sc),z.sc=m,z.ve=!0,Fb=a.Fe=!1,r=!0)):(k=d.m(),k===y.$m?(k=d.l(),a.Wc?(z.ve&&!a.Fe&&this.ju(a,t,a.g.fb,z.sc),z.sc=a.g.fb,z.ve=!0,a.Fe=!1):t[t.length]=[y.Xi+" "+y.$m,"no custom THEME defined"],r=!0):(m=a.PA(k),-1!==m?(k=d.l(),!z.ve||a.Fe||Fb||this.ju(a,t,m,z.sc),z.sc=m,z.ve=!0,Fb=a.Fe=!1,r=!0):k===y.cc&&(k=d.l(),a.l.l(y.Xi,z,t,a.Fe),r=a.Fe=!0)),r||(r=!0,t[t.length]=[g,"invalid specification"]));break;case y.Zy:2<a.g.h||a.g.Ga||a.g.i||a.g.D||a.g.o||a.g.v||(a.g.Ma=!0,a.ar=!0);
r=!0;break;case y.Cj:t[t.length]=[g,"already in a script block"];r=!0;break;case y.Au:a.Da=!a.Da;r=!0;break;case y.Bu:a.Yi.current=a.qg([!0],!0,a);r=!0;break;case y.Yr:a.xk.current=a.Bv([!0],!0,a);r=!0;break;case y.zu:r=a.Aq=!0;break;case y.Pr:d.h()&&(u=!0,m=d.i()|0,m>=B.ny&&m<=B.hy&&(r=!0,a.g.kf=m));break;case y.qp:r=a.Gb=!0;break;case y.Ro:r=a.ya=!0;break;case y.fs:d.h()&&(u=!0,m=d.i(),0<=m&&1>=m&&(r=!0,a.Ka=m));break;case y.gs:a.wc=!1;r=!0;break;case y.mv:a.g.A&&(a.g.va=!1);r=!0;break;case y.ms:a.g.ga&&
(a.g.va=!1);r=!0;break;case y.Np:r=a.g.va=!0;break;case y.zr:r=a.g.Ra=!0;break;case y.pu:d.h()&&(u=!0,m=d.i()|0,m>=B.Cn&&m<=B.ep&&(a.uo=m,r=!0));break;case y.lu:d.h()&&(u=!0,m=d.i()|0,m>=B.Ts&&m<=B.cp&&(a.oo=m,r=!0));break;case y.ku:d.h()&&(u=!0,m=d.i()|0,m>=B.jp&&m<=B.bp&&(a.wi=m,r=!0));break;case y.mu:r=a.Xn=!0;break;case y.ou:r=a.po=!0;break;case y.Ep:u=!1;fb="a valid item";k=d.m();switch(k){case y.Bd:k=d.l();r=!0;a.Oj=!0;break;case y.hf:k=d.l();d.h()&&(u=!0,m=d.i()|0,0<=m&&100>=m&&(a.Ue=m,r=!0));
break;case y.Dp:k=d.l();d.h()&&(u=!0,m=d.i()|0,0<=m&&100>=m&&(a.Ve=m,r=!0));break;case y.Fp:k=d.l();d.h()&&(u=!0,m=d.i()|0,0<=m&&100>=m&&(a.Zf=m,r=!0));break;default:this.$E(k)&&(k=d.l(),d.h()&&(u=!0,m=d.i()|0,0<=m&&100>=m&&(this.xE(a,m),r=!0)))}break;case y.Kg:t[t.length]=[g,"only valid after "+y.Pi];r=!0;break;case y.ru:a.Uj=!0;a.Qj=!1;r=!0;break;case y.qu:a.Uj=!0;r=a.Qj=!0;break;case y.nu:a.xi=d.l();r=a.Eq=!0;break;case y.sg:k=d.m();switch(k){case y.we:z.aj&&this.Jg(z.yg,y.sg,y.we,t);z.yg=!0;z.aj=
!0;k=d.l();break;case y.ye:z.cj&&this.Jg(z.zg,y.sg,y.ye,t);z.zg=!0;z.cj=!0;k=d.l();break;case y.Ud:z.ej&&this.Jg(z.Ag,y.sg,y.Ud,t);z.Ag=!0;z.ej=!0;k=d.l();break;case y.hf:z.aj&&this.Jg(z.yg,y.sg,y.we,t);z.cj&&this.Jg(z.zg,y.sg,y.ye,t);z.ej&&this.Jg(z.Ag,y.sg,y.Ud,t);z.yg=!0;z.aj=!0;z.zg=!0;z.cj=!0;z.Ag=!0;z.ej=!0;k=d.l();break;default:this.dl(d,t,y.sg,"argument",y.hf+", "+y.we+", "+y.ye+" or "+y.Ud)}r=!0;break;case y.lh:k=d.m();switch(k){case y.we:z.aj&&this.Jg(z.yg,y.lh,y.we,t);z.yg=!1;z.aj=!0;k=
d.l();break;case y.ye:z.cj&&this.Jg(z.zg,y.lh,y.ye,t);z.zg=!1;z.cj=!0;k=d.l();break;case y.Ud:z.ej&&this.Jg(z.Ag,y.lh,y.Ud,t);z.Ag=!1;z.ej=!0;k=d.l();break;case y.hf:z.aj&&this.Jg(z.yg,y.lh,y.we,t);z.cj&&this.Jg(z.zg,y.lh,y.ye,t);z.ej&&this.Jg(z.Ag,y.lh,y.Ud,t);z.yg=!1;z.aj=!0;z.zg=!1;z.cj=!0;z.Ag=!1;z.ej=!0;k=d.l();break;default:this.dl(d,t,y.lh,"argument",y.hf+", "+y.we+", "+y.ye+" or "+y.Ud)}r=!0;break;case y.zp:J=!0;a.l.add(z,a);z=a.l.C();z.rg=!0;k=d.m();k===y.cc&&(k=d.l(),-1!==a.zh&&(t[t.length]=
[y.zp+" "+y.cc,"overrides previous initial POI"]),a.zh=a.l.i.length);a.bF();r=!0;break;case y.Pn:d.h()&&(u=!0,m=d.i()|0,0<=m&&(E=!0,0<m&&(a.l.add(z,a),z=a.l.C()),z.dc=m,r=z.Qn=!0));break;case y.sl:d.h()?(u=!0,m=d.i()|0,m>=B.tg&&m<=B.ff&&(!z.re||a.Gk||Wb||(t[t.length]=[y.sl+" "+m,"overwrites "+z.step]),z.step=m,z.re=!0,Wb=a.Gk=!1,a.dr=!1,r=!0)):(k=d.m(),k===y.cc&&(k=d.l(),a.l.l(y.sl,z,t,a.Gk),r=a.Gk=!0));break;case y.Tt:d.h()&&(u=!0,m=d.i(),0<=m&&(E=!0,a.l.add(z,a),z=a.l.C(),m<B.hz&&(m=B.hz),z.ed=
m,r=z.mz=!0));break;case y.fn:d.h()&&(u=!0,m=d.i()|0,a.Ed||(-1===a.eb||Xb||(t[t.length]=[y.fn+" "+m,"overwrites "+a.eb]),a.eb=m),Xb=!1,r=!0);break;case y.rm:d.h()&&(u=!0,m=d.i()|0,a.Ed||(-1===a.Sb||Yb||(t[t.length]=[y.rm+" "+m,"overwrites "+a.Sb]),a.Sb=m),Yb=!1,r=!0);break;case y.Ln:d.h()&&(u=!0,m=d.i()|0,-1===a.Lb||Zb||(t[t.length]=[y.Ln+" "+m,"overwrites "+a.Lb]),a.Lb=m,Zb=!1,r=!0);break;case y.Kn:d.h()&&(u=!0,m=d.i()|0,-1===a.hd||$b||(t[t.length]=[y.Kn+" "+m,"overwrites "+a.hd]),a.hd=m,$b=!1,r=
!0);break;default:t[t.length]=[g,"unknown or misspelt command"],r=!0}r||(u?t[t.length]=[g+" "+m,"argument out of range"]:this.dl(d,t,g,"argument",fb))}""!==g&&(g=d.l())}n&&(t[t.length]=[y.pd+q,"unterminated string"]);E&&a.gb&&(v=a.hh?y.yl:a.kh?y.Sn:y.Tn,t[t.length]=[v,"can not be used with Waypoints"],a.gb=!1,a.hh=!1,a.kh=!1);a.hh||!a.gb&&!a.kh||(a.kh&&(0<a.g.Fb&&(sb*=a.g.Fb),z.ob=sb),a.ih=ob,a.mg=nb,a.ng=ob,a.jh=nb);if(E||J){a.l.add(z,a);z=a.l.D();E?a.qa=!0:-1!==a.zh&&(a.qc=a.zh,H=a.l.i[a.zh],H.Oe&&
(z.Oe=H.Oe,z.x=H.x),H.xe&&(z.xe=H.xe,z.y=H.y),H.Td&&(z.Td=H.Td,z.zoom=H.zoom),H.gg&&(z.gg=H.gg,z.angle=H.angle),H.xg&&(z.xg=H.xg,z.lb=H.lb),H.Dg&&(z.Dg=H.Dg,z.depth=H.depth),H.Gg&&(z.Gg=H.Gg,z.oa=H.oa),H.ve&&(z.ve=H.ve,z.sc=H.sc),H.Ke&&(z.Ke=H.Ke,z.Hc=H.Hc),H.re&&(z.re=H.re,z.step=H.step),H.Fh&&(z.Fh=H.Fh,z.Pb=H.Pb),H.th&&(z.th=H.th,z.ob=H.ob));if(E){for(Ua=0;Ua<a.l.h.length;Ua+=1)z=a.l.h[Ua],z.te&&(z.Oe||z.xe||z.Td)&&(q="",z.Oe?(q="X "+z.x,z.xe?q=z.Td?q+(", Y "+z.y+" and ZOOM "+z.zoom):q+(" and Y "+
z.y):z.Td&&(q+=" and ZOOM "+z.zoom)):z.xe?(q="Y "+z.y,z.Td&&(q+=" and ZOOM "+z.zoom)):z.Td&&(q="ZOOM "+z.zoom),t[t.length]=[y.so,"overwrites "+q]);z=a.l.D()}J&&z.h===Ya.play&&a.Oa&&(a.Ab=!0)}z.te&&(a.ja=!0);z.xe&&(a.g.Z=a.g.height/2-z.y);z.Oe&&(a.g.ca=a.g.width/2-z.x,a.g.ga&&(a.g.ca-=a.g.Z/2));z.Td&&(a.g.zoom=z.zoom);a.g.A||a.g.ga||a.g.ea||(z.gg&&(a.g.angle=z.angle),z.xg&&(a.g.lb=z.lb),z.Dg&&(a.g.vb=z.depth/B.Ik+B.gp),z.Gg&&(a.g.oa=z.oa));z.ve&&(a.aq=z.sc);z.Ke&&(a.ca=z.Hc,a.X=B.tg);z.re&&(a.X=z.step,
1<a.X&&(a.ca=a.L));z.Rp&&(a.B.notification.notify(z.ce,15,1E3,15,!1),a.He=z.ce);a.Pb=z.Pb;a.ob=z.ob;z.Td&&(a.er=!0);z.Oe&&(a.cr=!0);z.xe&&(a.jq=!0);z.rj&&(a.g.Ba=z.grid);z.Pp&&(a.kd=z.Dj);for(Ua=0;Ua<b;Ua+=1)-1!==a.I[Ua]&&(x+=1);if(0<x){a.zq=!0;for(Ua=0;Ua<b;Ua+=1)a.S.ha[Ua]?-1===a.I[Ua]?(a.zq=!1,a.Mm[Ua]=B.kz):a.Mm[Ua]=B.ME:a.Mm[Ua]=B.jz;a.nm=a.zq?"(custom)":a.nm+" (custom*)"}else a.I=null;if(a.Wc||a.qf||-1!==a.Pq||-1!==a.Rq)Ua=-1,z.ve&&(Ua=z.sc),this.DE(a,Ua),z.ve=!0,z.sc=a.g.fb,a.aq=z.sc;a.D&&
(v="not possible due to "+y.Vn,a.Ab&&(t[t.length]=[y.to,v],a.Ab=!1),-1!==a.vb&&(t[t.length]=[y.Qp+" "+a.vb,v],a.vb=-1),-1!==a.Pb&&(t[t.length]=[y.Gh+" "+a.Pb,v]),-1!==a.ob&&(t[t.length]=[y.uh+" "+a.ob,v]));0!==a.V&&a.A+B.ff+2*Math.abs(a.V)>=a.g.L&&(t[t.length]=[y.bq+" "+a.V,"pattern does not fit on grid at view offset"],a.V=0);0!==a.W&&a.C+B.ff+2*Math.abs(a.W)>=a.g.L&&(t[t.length]=[y.eq+" "+a.W,"pattern does not fit on grid at view offset"],a.W=0);a.qq=t.length}""!==a.nd&&(a.nd=this.tl(a,a.nd));a.ja&&
(a.dm=!0);a.ya&&a.Gb&&(t[t.length]=[y.Ro,"not valid with "+y.qp],a.ya=!1);-1!==a.eb&&(tb=B.Kc,a.eb>=B.qy&&a.eb<tb&&(a.eb=tb),a.Va&&(tb=B.lD),a.eb<tb||a.eb>a.dd)&&(t[t.length]=[y.fn+" "+a.eb,"argument out of range"],Eb=!0);-1!==a.Sb&&(tb=B.wh,a.Va&&(tb=B.kD),a.Sb<tb||a.Sb>B.An)&&(t[t.length]=[y.rm+" "+a.Sb,"argument out of range"],Eb=!0);a.Ed&&(-1!==a.Lb&&(a.Lb>=B.qy&&a.Lb<B.Kc&&(a.Lb=B.Kc),a.Lb<B.Kc||a.Lb>a.dd)&&(t[t.length]=[y.Ln+" "+a.Lb,"argument out of range"],a.Lb=-1,Eb=!0),-1!==a.hd&&(a.hd<
B.wh||a.hd>B.An)&&(t[t.length]=[y.Kn+" "+a.hd,"argument out of range"],a.hd=-1,Eb=!0));if(Eb||t.length)-1!==a.eb&&(a.eb<B.Kc?a.eb=B.Kc:a.eb>a.dd&&(a.eb=a.dd)),-1!==a.Sb&&(a.Sb<B.yj?a.Sb=B.yj:a.Sb>B.An&&(a.Sb=-1)),a.Va=!1;a.h.H=a.Va;a.B.V=a.Va;a.B.Sa=a.Oh;a.Va&&(a.Ab=!1,a.Z=!1,a.Ph=!1,a.ya=!1,a.qg([!1],!0,a),a.Bv([!1],!0,a),a.co([!1],!0,a),a.Da=!1,a.ad=!1);a.pq&&(a.element.style="display:none",a.element.parentNode&&a.element.parentNode.parentNode&&a.element.parentNode.parentNode.className===Ja.Io&&
(a.element.parentNode.parentNode.style="display:none;"));C&&a.vB();a.l.Wa()}},Ja={tagName:"LifeViewer",dC:"fullscreen",DC:"hide",wD:"multi",aD:"limit",Ho:"rle",Lm:"code",wp:37,os:!0,fullScreen:!1,yn:!1,pb:!1,Io:"codebox",su:"",dz:"",le:[]},B={AB:"0123456789rtyopasghjklxcbn",xx:"workaround",Rs:18,Qs:10,ly:4194304,Ei:0,Oo:1,Zr:2,Pm:64,Cn:1,ep:4096,Ts:1,cp:4096,jp:1,bp:100,QE:[0,0,0,0,0,1,1,1,1,1,2,2,2,2,2,3,3,3,3,3,3],Rn:[1,10,11,17,18,2,3,4,5,7,12,13,14,15,16,0,6,8,9,19,20],Km:0,Jy:1,Ky:2,Hy:3,My:4,
Ly:5,Ny:6,Oy:7,Iy:8,Cy:9,LD:"Top Left;Top;Top Right;Right;Bottom Right;Bottom;Bottom Left;Left;Middle".split(";"),Mo:15,DD:5,Rh:1E8,Un:0,Xu:1,Yu:2,Zu:3,bv:4,cv:5,av:6,$u:7,Rt:0,tp:1,ot:2,Kt:3,qt:4,Pt:5,vp:6,Jm:7,At:8,Lt:9,Et:10,st:11,Ct:12,ut:13,yt:14,Gt:15,up:3,nv:[1,3,7,6],JE:[0,1],KE:[0,1],FC:[0,1,0,1,0,1,0],GC:[0,1,2,3,4,5,6],PE:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1],OE:[0,1,2,3,4,5,6,3,4,1,0,1,0,1,2,1,2,1,2,1,2,1,2,1,2,1],Rd:Math.sqrt(3),OB:65536,PB:500,QB:17,zC:13750737,AC:15066597,
hs:7368816,js:5263440,hz:.016,EE:16,By:16384,sx:.7,rp:16384,yE:"Script errors",If:-8,Hf:8,sy:2,my:4,tx:4,xz:16.7,oy:9,jy:14,TB:13,vn:null,ny:1,hy:16,qx:3,Ai:0,km:1,Vw:2,xo:3,yo:4,zo:5,Kr:6,mx:7,nx:8,Ww:9,ex:10,bx:11,ax:12,gx:13,hx:14,$w:15,Lr:16,Yw:17,Zw:18,Co:19,Ao:20,Do:21,Fo:22,Eo:23,Bo:24,Jr:25,Mr:26,Xw:27,kx:28,jx:29,Uw:30,lx:31,ix:32,ED:0,GD:1,EC:2,Zx:3,ey:4,ay:5,Tx:6,nb:[0,6,2,5,3,4,1],wg:"dead alive history mark1 markOff mark2 kill".split(" "),GF:"OFF ON HISTORY MARK1 MARKOFF MARK2 KILL".split(" "),
Qy:0,Py:16,xF:!1,Wr:1800,pn:"LifeViewer",Zp:964,zz:"Chris Rowett",hp:1,Zo:10,bt:0,Em:1,be:2,Yh:3,zj:0,Bj:1,Aj:2,hq:1.25,MC:.99,gp:0,iy:10,Ik:10,gy:32,rb:.03125,Mb:64,Dn:-5,Ps:5,Bn:-32,zn:-1,Cm:-2048,zm:-1,Dm:1/2048,Am:2048,Ig:1,tg:1,ff:64,ox:.1,lj:.05,Ax:"Courier",rv:"Arial",Lf:"18px Arial",Kf:"14px Arial",Lp:"9px Arial",ro:"rgb(240,255,255)",GB:"rgb(0,0,0)",Uy:"rgb(240,255,255)",Vy:"rgb(0,0,0)",Lw:2,ip:1,$o:64,FB:.2,Vx:"rgb(240,255,255)",$C:"rgb(0,0,0)",ZC:18,py:4,ky:128,YC:"Arial",sh:"rgb(32,255,255)",
nh:"rgb(255,48,48)",lD:64,kD:64,qy:480,Kc:600,iD:4096,BC:80,wh:240,An:4096,yj:480,Xy:560,Wn:172,iq:292,jz:0,ME:1,kz:2,jD:0,fD:16,Qf:0,zs:1,xu:2,Vo:3,Ou:4,Hr:5,gr:6,Ss:7,jr:8},Ka={N:new jb,Ld:[],Eu:-1,Bp:null,le:[],Op:function(){var a=null;-1!==this.Eu&&(a=this.Ld[this.Eu]);return a},fC:function(a){var c=null;0<=a&&a<this.Ld.length&&(c=this.Ld[a][1]);return c},DF:function(){return this.Ld.length},aF:function(){var a=0,c;for(c=0;c<this.Ld.length;c+=1){var b=this.Ld[c][1];b.Bb&&(a+=1)}return a},bz:function(){var a,
c=0;for(a=0;a<this.Ld.length;a+=1){var b=this.Ld[a][1];b.Kb.current=b.qd(B.bt,!0,b);b.B.Ne(!0);c+=1}return c},lz:function(){var a,c=0;for(a=0;a<this.Ld.length;a+=1){var b=this.Ld[a][1];b.Bb&&!b.wn&&(b.Kb.current=b.qd(B.be,!0,b),c+=1)}return c},Iu:function(a){var c,b=0;for(c=0;c<this.Ld.length;c+=1){var d=this.Ld[c][1];d!==a&&d.Bb&&!d.wn&&(d.Kb.current=d.qd(B.be,!0,d),b+=1)}return b}};S.prototype.xm=function(){var a,c=this.Hb,b=this.ac,d=[];for(a=0;10>a;a+=1){var f=a===b?"current ":"activate ";f+=
"clipboard";null!==c[a]?(f+=" ("+c[a].width+" x "+c[a].height+", "+c[a].count+" cell",1!==c[a].count&&(f+="s"),f+=")"):f+=" (empty)";d[a]=f+" [Alt "+a+"]"}this.Hl.R=d};S.prototype.vx=function(a){window.confirm("Open last saved pattern?")&&Mb(a.element)};S.prototype.Sh=function(){var a=1<<B.Mo,c=this.Ia>>B.Mo;c===this.yh.length&&(this.yh[c]=this.g.N.h(na.Zj,a,"View.currentEdit"+c));return this.yh[c]};S.prototype.pa=function(a,c,b){var d=this.g.Ha(a,c,!1),f=this.Ia,e=B.Mo;var g=f>>e;var k=1<<e,l=k-
1,p=this.yh,n=(this.g.width>>1)-(this.A>>1),q=(this.g.height>>1)-(this.C>>1);var m=this.g.h;var r=2<m&&!(this.g.ea||this.g.i||this.g.v||this.g.o),u=!1;0<d&&r&&(d=m-d);-1===m&&(m=this.g.D?7:2);0>b?b=0:b>=m&&(b=m-1);if(b!==d){if(!this.vc){g>=p.length&&this.Sh();m=p[g];f&=l;r=b<<8|d;if(0<f)if(4<=f){var t=m[f-1];16384<=t?m[f-3]===r&&m[f-2]===c-q&&m[f-4]===a-n-(t-16384)-2&&(m[f-1]+=1,u=!0):m[f-2]===r&&m[f-1]===c-q&&m[f-3]===a-n-1&&(m[f]=16384,f+=1,this.Ia+=1,f===k&&this.Sh(),u=!0)}else g=this.Ia,t=p[g-
1>>e][g-1&l],16384<=t?m[g-3>>e][g-3&l]===r&&m[g-2>>e][g-2&l]===c-q&&m[g-4>>e][g-4&l]===a-n-(t-16384)-2&&(m[g-1>>e][g-1&l]+=1,u=!0):p[g-2>>e][g-2&l]===r&&p[g-1>>e][g-1&l]===c-q&&p[g-3>>e][g-3&l]===a-n-1&&(m[f]=16384,f+=1,this.Ia+=1,f===k&&(m=this.Sh()),u=!0);u||(m[f]=a-n,f+=1,this.Ia+=1,f===k&&(m=this.Sh(),f=0),m[f]=b<<8|d,f+=1,this.Ia+=1,f===k&&(m=this.Sh(),f=0),m[f]=c-q,this.Ia+=1,f+1===k&&this.Sh())}this.Gb||0!==this.g.counter||this.g.Eg();this.sb=-1;return this.g.qc(a,c,b,!0)}return 0};S.prototype.wq=
function(a,c){var b=0,d=(this.g.width>>1)-(this.A>>1),f=(this.g.height>>1)-(this.C>>1),e=0;if(a)if(c)for(b=a.length;0<b;){var g=a[b-1];16384<=g&&--b;b-=3;c=a[b]+d;var k=a[b+1]&255;var l=a[b+2]+f;e|=this.g.qc(c,l,k,!0);if(16384<=g)for(g-=16384;0<=g;)c+=1,e|=this.g.qc(c,l,k,!0),--g}else for(;b<a.length;)if(c=a[b]+d,k=(a[b+1]&65280)>>8,l=a[b+2]+f,e|=this.g.qc(c,l,k,!0),b+=3,g=a[b],16384<=g)for(b+=1,g-=16384;0<=g;)c+=1,e|=this.g.qc(c,l,k,!0),--g;this.g.D&&e&&this.g.Wa();this.Gb||0!==this.g.counter||this.g.Eg()};
S.prototype.xp=function(a){for(var c=this.ia-1,b=this.Y,d=!1;0<=c&&!d;)this.Qb[c].og<=a?("advance outside"===this.Qb[c].action&&--c,d=!0):--c;d&&(this.ia=c+1,a=this.ia>=this.Wg?this.Qb[this.ia-1]:this.Qb[this.ia],a.selection?(b.F=a.selection.F,b.G=a.selection.G,b.J=a.selection.J,b.K=a.selection.K,this.P=!0):this.P=!1,this.Bc=!1,this.ao())};S.prototype.ao=function(){var a=this.ia,c=this.Wg,b=this.Qb;if(1<a){var d="undo ";var f=b[a-1];if(null===f.Lk){var e=f.og;1<a&&(e=b[a-2].og);this.g.counter===e?
d+=f.action:(d=1<this.g.counter-e?d+"play":d+"step",d+=" from "+e)}else d=""===f.action?d+"edit":d+f.action;"undo "===d&&(d="undo");this.Id.R=d+" [Ctrl Z]"}a<c&&(d="redo ",f=b[a],null===f.Lk?(e=f.og,e===this.g.counter?d+=f.action:(d=1<e-this.g.counter?d+"play":d+"step",d+=" to "+e)):d=""===f.action?d+"edit":d+f.action,"redo "===d&&(d="redo"),this.ah.R=d+" [Ctrl Y]")};S.prototype.gA=function(a){var c=this.P?this.Y:null;return null===a&&null===c?!0:null===a&&null!==c||null!==a&&null===c?!1:a.F===c.F&&
a.G===c.G&&a.J===c.J&&a.K===c.K?!0:!1};S.prototype.Gv=function(a,c,b,d){var f=!1;if(0<this.ia){var e=this.Qb[this.ia-1];e.og===a&&null===c&&""===b&&this.gA(e.selection)&&(f=!0)}f||(this.Qb[this.ia]={og:a,Lk:c,action:b,selection:d},this.ia+=1)};S.prototype.M=function(a){var c=this.g.counter,b=null,d=null,f=this.Y,e=null,g=B.Mo,k=1<<g,l=k-1;g=this.Ia>>g;if(!this.vc){this.Bb&&(0<this.ia&&(e=this.Qb[this.ia-1]),e&&e.selection&&(d=new Va(e.selection.F,e.selection.G,e.selection.J,e.selection.K)),this.Gv(c,
b,"",d),d=null);this.P&&(d=new Va(f.F,f.G,f.J,f.K));if(0<this.Ia){b=this.g.N.h(na.Zj,this.Ia,"View.editCells"+this.ia);for(e=f=0;f<g;)b.set(this.yh[f].slice(),e),f+=1,e+=k;this.Ia&l&&b.set(this.yh[f].slice(0,this.Ia&l),e);this.Ia=0}this.Gv(c,b,a,d);this.Wg=this.ia;this.ao()}};S.prototype.Ms=function(a){var c=a.g.counter,b=a.ia,d=a.Y,f=1,e=!1;if(!a.vc){a.sb=-1;a.Bb&&(a.Kb.current=a.qd(B.be,!0,a),b=a.ia);if(0<b)for(;0<f;){var g=a.Qb[b-1];var k=g.og;var l=g.selection;e||"advance outside"!==g.action||
(e=!0,f=3);null===g.Lk&&1<b&&(k=a.Qb[b-2].og);1<b&&(l=a.Qb[b-2].selection);k<c?(0===k?a.reset(a):a.vq(k),c=a.g.counter):a.wq(g.Lk,!0);l?(d.F=l.F,d.G=l.G,d.J=l.J,d.K=l.K,a.P=!0):a.P=!1;a.Bc=!1;"reverse playback"===g.action&&(a.g.Ya=!0);--b;a.ia=b;--f}else 0<c&&a.reset(a);a.ao();a.g.Sb();a.g.D&&a.g.Wa()}};S.prototype.Gq=function(a){var c=a.g.counter,b=a.Y,d=1,f=!1;if(!a.vc){for(;0<d&&a.ia<a.Wg;){var e=a.Qb[a.ia];f||"advance outside"!==e.action||(f=!0,d=3);e.og===c&&null===e.Lk&&""===e.action&&(a.ia+=
1);e.og>c?(a.rF(e.og),c=a.g.counter):a.wq(e.Lk,!1);e.selection?(b.F=e.selection.F,b.G=e.selection.G,b.J=e.selection.J,b.K=e.selection.K,a.P=!0):a.P=!1;a.Bc=!1;"reverse playback"===e.action&&(a.g.Ya=!0);a.ia+=1;--d}a.ao();a.g.Sb();a.g.D&&a.g.Wa()}};S.prototype.us=function(){var a="";if(this.g.T)a="Margolus";else if(-1!==this.g.vd)a="1D";else if(this.g.mg){a="Hexagonal";if(this.g.Wf===this.S.ca||this.g.Ga&&this.g.P.type===this.S.u)a="Tripod";this.g.Ga&&this.g.P.type===this.S.o&&(a="Asterisk");1<this.g.P.s&&
(a+=" range "+this.g.P.s)}else if(this.g.Ga){switch(this.g.P.type){case this.S.m:a="Corner/Edge";break;case this.S.h:a="Moore";break;case this.S.l:a="von Neumann";break;case this.S.W:a="Circular";break;case this.S.M:a="Cross";break;case this.S.U:a="Saltire";break;case this.S.V:a="Star";break;case this.S.X:a="L2";break;case this.S.C:a="Hexagonal";break;case this.S.L:a="Checkerboard";break;case this.S.I:a="Aligned Checkerboard";break;case this.S.P:a="Hash";break;case 10:a="Custom";break;case this.S.u:a=
"Tripod";break;case this.S.o:a="Asterisk";break;case this.S.D:a="Triangular";break;case this.S.A:a="Gaussian";break;case 15:a="Weighted"}this.g.P.type===this.S.m?a+=" range "+this.g.P.X+"/"+this.g.P.Y:1<this.g.P.s&&(a+=" range "+this.g.P.s);this.g.P.P&&(a+=" (non-deterministic)")}else if(this.g.A)switch(a="Triangular",this.g.$f){case this.S.ia:a+=" Edges";break;case this.S.ja:a+=" Vertices";break;case this.S.ra:a+=" Inner";break;case this.S.sa:a+=" Outer";break;case this.S.qa:a+=" Biohazard";break;
case this.S.ta:a+=" Radiation"}else if(this.g.v)if(null===this.g.Nc)a=4===this.g.Nf?"von Neumann":"Moore";else switch(this.g.Yf){case Oa.Um:a="von Neumann";break;case Oa.Sm:a="Moore";break;case Oa.Ti:a="Hexagonal";break;case Oa.Tm:a="1D";break;default:a="unknown"}else a=this.g.kc||this.g.i?"von Neumann":"Moore";this.g.ea&&(a="none");return a};S.prototype.Ry=function(a,c,b,d){var f=[];d=this.oe[d];var e=d[0],g=d[1],k=d[2],l=d[3],p=new mb("rleToCellList",this.S),n=y.Kg.length;d=2>=this.g.h?2:this.g.h;
var q=2<d&&!(this.g.ea||this.g.i||this.g.v||this.g.o);var m=this.wi/100;var r=!1;if(a.substring(0,n)===y.Kg){a=a.substring(n);c=parseInt(a.substring(0,a.indexOf(",")),10);b=parseInt(a.substring(a.indexOf(",")+1),10);for(g=a=0;g<b;g+=1)for(e=0;e<c;e+=1)this.g.i?(n=0,this.v.random()<=m&&(n|=1),this.v.random()<=m&&(n|=2),this.v.random()<=m&&(n|=4),this.v.random()<=m&&(n|=8),f[a]=e,f[a+1]=g,f[a+2]=n,a+=3):2===d?this.v.random()<=m&&(f[a]=e,f[a+1]=g,f[a+2]=1,a+=3):this.v.random()<=m&&(f[a]=e,f[a+1]=g,n=
(this.v.random()*(d-1)|0)+1,q&&(n=d-n),f[a+2]=n,a+=3);r=!0}else if(a+=" ",-1!==this.S.na(p,a,!1,this.g.N)&&-1!==this.S.na(p,a,!0,this.g.N)){for(m=0;m<p.height;m+=1)for(r=p.ia[m],a=0;a<p.width;a+=1)n=r[a],q&&0<n&&(n=d-n),f[f.length]=c+a*e+m*g,f[f.length]=b+a*k+m*l,f[f.length]=n;r=!0}r||(f[0]="error");return f};S.prototype.Kz=function(a){var c=0,b=a.indexOf("["),d=a.indexOf("]");if(-1!==b&&-1!==d&&b<d&&d===a.length-1){for(b+=1;b<d&&0<=c;){var f=a.charCodeAt(b)-48;0>f||9<f?c=-1:(c=10*c+f,b+=1)}0<c&&
(this.Yl=!0)}return c};S.prototype.sA=function(a){var c=0>this.Bf?-this.Bf:this.Bf,b=0>this.Ff?-this.Ff:this.Ff;c=2*(c<b?b:c);a<c&&(a=c);return a};S.prototype.oA=function(a){var c=0>this.Af?-this.Af:this.Af,b=0>this.Vf?-this.Vf:this.Vf;c=2*(c<b?b:c);a<c&&(a=c);return a};S.prototype.bD=function(a,c){var b,d=!1;for(b=0;!d&&b<this.Xd.length;)a===this.Xd[b].name?d=!0:b+=1;if(d)for(a=this.Xd[b].UB,b=0;b<a.length;b+=1)c[c.length]=a[b];return d};S.prototype.QC=function(a,c,b){var d,f=!1;if(Ib.Tk(c))a[a.length]=
[y.Qm+" "+c,"name is reserved word"];else{for(d=0;!f&&d<this.Xd.length;)c===this.Xd[d].name?f=!0:d+=1;if(f)a[a.length]=[y.Qm+" "+c,"name already defined"];else{f=!1;for(d=0;!f&&d<b.length;)1>b[d]?f=!0:d+=1;f?a[a.length]=[y.Qm+" "+c+" "+b[d],"invalid delta"]:(a=b.slice(),this.Xd[this.Xd.length]={name:c,UB:a})}}};S.prototype.HC=function(a,c,b,d,f,e){var g,k=!1;if(Ib.Tk(c))a[a.length]=[y.ol+" "+c,"name is reserved word"];else if(-1!==c.indexOf("["))a[a.length]=[y.ol+" "+c,"name can not contain ["];else{for(g=
0;!k&&g<this.Dd.length;)c===this.Dd[g].name?k=!0:g+=1;k?a[a.length]=[y.ol+" "+c,"name already defined"]:(b=this.Ry(b,d,f,e),"error"!==b[0]?this.Dd[this.Dd.length]={name:c,cells:b}:a[a.length]=[y.ol+" "+c,"invalid RLE"])}};S.prototype.UC=function(a,c,b,d,f,e,g,k,l,p,n){var q=0,m=!1,r=[],u=this.oe[n],t=u[0],v=u[1],x=u[2],w=u[3];u=B.Rh;var A=-B.Rh,C=B.Rh,z=-B.Rh,H=k.indexOf("["),E=k,J=0,N=[],L=y.Kg.length,D=2>=this.g.h?2:this.g.h,G=2<D&&!(this.g.ea||this.g.i||this.g.v||this.g.o),F=this.wi/100;-1!==H&&
(E=k.substring(0,H),J=this.Kz(k));if(E.substring(0,L)===y.Kg){E=E.substring(L);m=parseInt(E.substring(0,E.indexOf(",")),10);E=parseInt(E.substring(E.indexOf(",")+1),10);for(L=q=0;L<E;L+=1)for(H=0;H<m;H+=1)if(2===D)this.v.random()<=F&&(r[q]=H,r[q+1]=L,r[q+2]=1,q+=3);else if(this.v.random()<=F){r[q]=H;r[q+1]=L;var W=(this.v.random()*(D-1)|0)+1;G&&(W=D-W);r[q+2]=W;q+=3}m=!0}else for(;q<this.Dd.length&&!m;)this.Dd[q].name===E?(m=!0,r=this.Dd[q].cells.slice()):q+=1;if(m)for(q=0;q<r.length;)k=r[q],n=r[q+
1],r[q]=l+k*t+n*v,r[q+1]=p+k*x+n*w,q+=3;else r=this.Ry(k,l,p,n),"error"!==r[0]&&(m=!0);-1===J&&(m=!1);if(m&&0<r.length){for(q=0;q<r.length;)l=r[q],p=r[q+1],l<u&&(u=l),l>A&&(A=l),p<C&&(C=p),p>z&&(z=p),q+=3;l<this.Bf&&(this.Bf=l);l>this.Ff&&(this.Ff=l);p<this.Af&&(this.Af=p);p>this.Vf&&(this.Vf=p);t=Array.matrix(na.La,z-C+1,A-u+1,0,this.g.N,"View.rle"+this.Nc.length);for(q=0;q<r.length;)l=r[q],p=r[q+1],t[p-C][l-u]=r[q+2],q+=3;N[0]=a;for(q=0;q<b.length;q+=1)N[N.length]=N[N.length-1]+b[q];this.Nc[this.Nc.length]=
{Vh:N,end:c,every:d,mode:f,cells:r,map:t,F:u,G:C,width:A-u+1,height:z-C+1,$B:J,deltaX:e,deltaY:g};0<d&&(this.ei=!0);N[N.length-1]>this.ge&&(this.ge=N[N.length-1])}return m};S.prototype.JC=function(){var a,c,b=this.g.width,d,f=this.g.m;for(a=0;a<this.Nc.length;a+=1){var e=this.Nc[a];var g=e.$B;if(0<g){var k=e.cells;var l=(b>>1)-(e.width>>1);var p=(b>>1)-(e.height>>1);var n=0;f.F=l;f.J=l+e.width-1;f.G=p;f.K=p+e.height-1;for(this.g.counter=0;n<k.length;)this.g.qc(l+k[n]-e.F,p+k[n+1]-e.G,k[n+2],!0),n+=
3;for(;0<g;)this.g.$c(),this.g.Ac(),this.g.cd(this),--g;k=[];n=0;var q=d=B.Rh;for(c=f.G;c<=f.K;c+=1)for(g=f.F;g<=f.J;g+=1){var m=this.g.Ha(g,c,!1);0!==m&&(k[n]=g-l+e.F,k[n+1]=c-p+e.G,k[n+2]=m,k[n]<d&&(d=k[n]),k[n+1]<q&&(q=k[n+1]),n+=3)}e.cells=k.slice();e.width=f.J-f.F+1;e.height=f.K-f.G+1;e.G=q;e.F=d;e.map=Array.matrix(na.La,e.height,e.width,0,this.g.N,"View.rle"+a);for(n=0;n<k.length;)g=k[n],c=k[n+1],e.map[c-e.G][g-e.F]=k[n+2],n+=3;this.g.Dh()}}this.Yl&&this.g.Dh()};S.prototype.CB=function(a){var c=
!1,b=this.g.counter;var d=!1;if(this.g.T||this.g.i)b=this.g.gb;0!==a.every&&(this.g.T||this.g.i)&&null!==this.g.Ua&&b<this.g.ee&&(c=!1,d=!0);if(!d)if(0!==a.every&&b>=a.Vh[0]&&0===(b-a.Vh[0])%a.every)-1!==a.end&&b>a.end||(c=!0);else for(d=0;d<a.Vh.length&&!c;)b===a.Vh[d]?c=!0:d+=1;return c};S.prototype.he=function(){var a,c=this.g.counter,b=this.g.width,d=this.g.height;var f=0;var e=this.g.width,g=this.g.height,k=this.g.h-1,l=0;-2===k&&(k=this.g.D?6:1);for(a=0;a<this.Nc.length;a+=1){var p=this.Nc[a];
if(this.CB(p)){var n=p.mode;var q=(e>>1)-(this.A>>1);var m=(g>>1)-(this.C>>1);var r=p.map;if(0!==p.every&&(0!==p.deltaX||0!==p.deltaY)){var u=(c-p.Vh[0])/p.every;q+=p.deltaX*u;m+=p.deltaY*u}q+=p.F;m+=p.G;for(p=0;p<r.length;p+=1){var t=r[p];if(2<k&&!(this.g.D||this.g.ea||this.g.i||this.g.v||this.g.o))for(u=0;u<t.length;u+=1){var v=t[u];var x=this.g.Ha(q+u,m+p,!1);switch(n){case B.Rt:f=0;break;case B.tp:f=v&x;break;case B.ot:f=v&k-x;break;case B.Kt:f=v;break;case B.qt:f=k-v&x;break;case B.Pt:f=x;break;
case B.vp:f=v^x;break;case B.Jm:f=v|x;break;case B.At:f=k-(v|x);break;case B.Lt:f=k-(v^x);break;case B.Et:f=k-x;break;case B.st:f=v|k-x;break;case B.Ct:f=k-v;break;case B.ut:f=k-v|x;break;case B.yt:f=k-(v&x);break;case B.Gt:f=1}0>f?f=0:f>k&&(f=k);for(this.g.qc(q+u,m+p,f,!0);b!==this.g.width||d!==this.g.height;)b!==this.g.width&&(b<<=1,q+=b>>2,this.sa+=b>>2,this.ua+=b>>2,this.$+=b>>2),d!==this.g.height&&(d<<=1,m+=d>>2,this.qb+=d>>2,this.ub+=d>>2,this.aa+=d>>2)}else if(this.g.i||this.g.v)for(u=0;u<
t.length;u+=1){v=t[u];x=this.g.Ha(q+u,m+p,!1);switch(n){case B.Rt:f=0;break;case B.tp:f=v&x;break;case B.ot:f=v&k-x;break;case B.Kt:f=v;break;case B.qt:f=k-v&x;break;case B.Pt:f=x;break;case B.vp:f=v^x;break;case B.Jm:f=v|x;break;case B.At:f=k-(v|x);break;case B.Lt:f=k-(v^x);break;case B.Et:f=k-x;break;case B.st:f=v|k-x;break;case B.Ct:f=k-v;break;case B.ut:f=k-v|x;break;case B.yt:f=k-(v&x);break;case B.Gt:f=1}0>f?f=0:f>k&&(f=k);for(this.g.qc(q+u,m+p,f,!0);b!==this.g.width||d!==this.g.height;)b!==
this.g.width&&(b<<=1,q+=b>>2,this.sa+=b>>2,this.ua+=b>>2,this.$+=b>>2),d!==this.g.height&&(d<<=1,m+=d>>2,this.qb+=d>>2,this.ub+=d>>2,this.aa+=d>>2)}else if(this.g.D||this.g.o)for(u=0;u<t.length;u+=1)for(v=t[u],n===B.up?f=v:(f=v&1,x=this.g.Ha(q+u,m+p,!1),v=x&1,f=0===(n&8>>(f+f|v))?0:1),l|=this.g.qc(q+u,m+p,f,!0);b!==this.g.width||d!==this.g.height;)b!==this.g.width&&(b<<=1,q+=b>>2,this.sa+=b>>2,this.ua+=b>>2,this.$+=b>>2),d!==this.g.height&&(d<<=1,m+=d>>2,this.qb+=d>>2,this.ub+=d>>2,this.aa+=d>>2);
else for(u=0;u<t.length;u+=1)if(v=t[u],f=0===v?0:1,x=this.g.Ha(q+u,m+p,!1),v=0===x?0:1,f=0===(n&8>>(f+f|v))?0:1,f!==x)for(this.g.qc(q+u,m+p,f,!0);b!==this.g.width||d!==this.g.height;)b!==this.g.width&&(b<<=1,q+=b>>2,this.sa+=b>>2,this.ua+=b>>2,this.$+=b>>2),d!==this.g.height&&(d<<=1,m+=d>>2,this.qb+=d>>2,this.ub+=d>>2,this.aa+=d>>2)}}}this.g.D&&l&&this.g.Wa();this.Px()};S.prototype.Px=function(){var a,c=this.g.counter;for(a=0;a<this.ia;a+=1)this.Qb[a].og===c&&this.wq(this.Qb[a].Lk,!1);this.g.Sb()};
S.prototype.Ov=function(a){this.Pg=this.sf=this.Gj=this.Gk=this.Fe=this.Fk=this.Ek=this.Kk=this.Dk=this.Qg=this.Nk=this.Mk=a};S.prototype.bF=function(){this.Ov(!1)};S.prototype.eA=function(){this.Ov(!0)};S.prototype.Rv=function(){this.gn=[];this.hn=[]};S.prototype.FE=function(a){var c=document.createElement("a");a.hk(c);c.href=a.Ya.toDataURL("image/png");c.download="screenshot.png";c.click();c.remove();a.B.notification.notify("Image Saved",15,300,15,!0)};S.prototype.Aw=function(a){if("Oscillator"!==
a.hb)a.B.notification.notify("No Cell Map",15,300,15,!0);else{var c=document.createElement("a");a.hk(c);c.href=a.g.Qc.toDataURL("image/png");c.download="cellmap.png";c.click();c.remove();a.B.notification.notify("Cell Map Saved",15,300,15,!0)}};S.prototype.aB=function(a){var c=this.g.pa,b=this.g.l,d=this.g.$,f=this.g.ta,e=a.width,g=a.height,k=this.$,l=this.aa,p=null;var n=Math.round(-this.g.M/2);var q=Math.floor((this.g.M-1)/2);var m=Math.round(-this.g.I/2);var r=Math.floor((this.g.I-1)/2);var u=k-
(this.g.width>>1),t=u+e-1,v=l-(this.g.height>>1),x=v+g-1,w=this.g.h,A=2===w&&this.g.Ga;if(-1!==this.g.C){if(0!==this.g.M){if(u<n||t>q)this.eo=!0}else n=-this.g.width>>1,q=(this.g.width>>1)-1;if(0!==this.g.I){if(x>r||v<m)this.eo=!0}else m=-this.g.height>>1,r=(this.g.height>>1)-1}a.o&&(0!==(k&1)&&(k+=1),0!==(l&1)&&(l+=1),u=k-(this.g.width>>1),t=u+e-1,v=l-(this.g.height>>1),x=v+g-1);a.aa&&(0===(k&1)&&--k,0===(l&1)&&--l,u=k-(this.g.width>>1),t=u+e-1,v=l-(this.g.height>>1),x=v+g-1);-1!==this.g.C&&(u=n,
t=q,v=m,x=r);u+=this.g.width>>1;t+=this.g.width>>1;v+=this.g.height>>1;x+=this.g.height>>1;for(q=0;q<g;q+=1){var C=a.W[q];if(q+l>=v&&q+l<=x&&0<=q+l&&q+l<this.g.height){var z=c[q+l];if(this.Ja||this.g.i||this.g.v||this.g.o||!this.Oa)for(m=a.ia[q],p=b[q+l],n=0;n<e;n+=1)n+k>=u&&n+k<=t&&0<=n+k&&n+k<this.g.width&&(r=m[n],0<r&&(r+=this.wa),p[n+k]=r);else if(2<w)for(m=a.ia[q],p=b[q+l],n=0;n<e;n+=1)n+k>=u&&n+k<=t&&0<=n+k&&n+k<this.g.width&&(r=m[n],0<r&&!this.g.ea&&(r=w+this.wa-r),p[n+k]=r);A&&(p=b[q+l]);
for(n=0;n<e;n+=1)n+k>=u&&n+k<=t&&0<=n+k&&n+k<this.g.width&&0!==(C[n>>4]&1<<(~n&15))&&(z[n+k>>4]|=1<<(~(n+k)&15),A&&(p[n+k]=I.Ta))}}if(f)for(q=0;q<g;q+=1)if(q+l>=v&&q+l<=x&&0<=q+l&&q+l<this.g.height)for(m=a.ia[q],c=f[q+l],n=0;n<e;n+=1)n+k>=u&&n+k<=t&&0<=n+k&&n+k<this.g.width&&(r=m[n])&&(c[n+k]=B.nb[r]+128);(this.g.i||this.g.v||this.g.o)&&d.cb.set(b.cb)};S.prototype.cn=function(){var a=!1;-1!==this.g.C&&0!==this.g.M&&0!==this.g.I&&(a=!0);return a};S.prototype.lA=function(){var a=!1;-1===this.g.C||0!==
this.g.M&&0!==this.g.I||(a=!0);return a};S.prototype.bo=function(a,c,b){a=a[0];c&&(b.Ka=a);return[a,100*a]};S.prototype.pv=function(a,c,b){c&&(b.fc=a[0]);return[b.fc,B.LD[b.fc+.5|0]]};S.prototype.Gz=function(a){a.D||(a.fc=(a.fc+.5|0)+1,a.fc>=B.Cy&&(a.fc=0),a.Yg.current=a.pv([a.fc,a.fc],!0,a))};S.prototype.wx=function(a,c,b){c&&(b.tb=a[0],b.tb<B.jp&&(b.tb=B.jp),b.tb>B.bp&&(b.tb=B.bp));return[b.tb,b.tb]};S.prototype.zv=function(a,c,b){c&&(b.Nb=(b.g.h-b.ec)*a[0]|0);a[1]="";0<b.Nb&&(a[1]="<");a[1]+=b.Nb+
"-"+(b.Nb+b.ec-1);b.Nb+b.ec<b.g.h&&(a[1]+=">");return a};S.prototype.qe=function(a,c,b){var d=a[0];c?(b.Rb=!0,b.g.zoom=B.rb*Math.pow(B.Mb/B.rb,a[0])/b.g.Ja):(d=Math.log(b.g.zoom*b.g.Ja/B.rb)/Math.log(B.Mb/B.rb),0>d?d=0:1<d&&(d=1));a=this.gb&&!this.xb?b.g.zoom*b.g.Ja:b.g.zoom;a<B.rb?a=B.rb:a>B.Mb&&(a=B.Mb);1>a&&(a=-1/a);return[d,a]};S.prototype.FD=function(a){var c=a/6E4|0;a=a%6E4/1E3;var b="";0<c&&(b=c+":",10>a&&(b+="0"));return b+=a.toFixed(2)};S.prototype.Tc=function(a,c,b){var d=this.g.zoom,f=
this.g.ca,e=this.g.Z,g=6,k=this.Sa,l=this.Y;var p=(this.g.width>>1)-(this.A>>1)+(this.V<<1);var n=(this.g.height>>1)-(this.C>>1)+(this.W<<1);b===B.Oo&&(k.F=l.F+p,k.J=l.J+p,k.F>k.J&&(p=k.J,k.J=k.F,k.F=p),k.G=l.G+n,k.K=l.K+n,k.G>k.K&&(p=k.K,k.K=k.G,k.G=p));this.Z?(b=this.g.Gi(b,k,this.da*this.Eb,this.ba*this.Eb,B.rb,B.Mb,B.hq,this.A,this.C,this.D&&this.Ja,this.bd,this.ld,this.ja),b[0]/=this.Eb):(l=B.BC,this.Va&&(l=0),b=this.g.Gi(b,k,this.da,this.ba-l,B.rb,B.Mb,B.hq,this.A,this.C,this.D&&this.Ja,this.bd,
this.ld,this.ja));this.ja&&!a?(24<this.g.zoom&&(g=3),1<this.X&&(g=1),this.g.zoom=(this.g.zoom*(g-1)+b[0])/g,this.g.ca=(this.g.ca*(g-1)+b[1])/g,this.g.Z=(this.g.Z*(g-1)+b[2])/g,a=this.g.zoom>d?this.g.zoom/d-1:d/this.g.zoom-1,f=this.g.ca>f?this.g.ca-f:f-this.g.ca,e=this.g.Z>e?this.g.Z-e:e-this.g.Z,this.Fg=a,f>this.Fg&&(this.Fg=f),e>this.Fg&&(this.Fg=e),.001>=this.Fg&&(this.g.zoom=b[0],this.g.ca=b[1],this.g.Z=b[2])):(this.Uf=this.g.width/2-this.g.ca,this.fg=this.g.height/2-this.g.Z,this.eh=this.g.zoom,
this.cg=this.g.angle,this.eg=this.g.lb,this.Pf=this.g.width/2-b[1],this.Si=this.g.height/2-b[2],this.Ui=b[0],this.Rj=this.cg,this.Ri=this.eg,this.tk=Ya.Hn,c?this.yc=0:(this.yc=Ya.Hn,this.Vs()));this.Ec&&(this.Ec.current=this.qe([this.g.zoom,this.g.zoom],!1,this));this.la&&(this.la.current=this.pg([this.g.angle,this.g.angle],!1,this));this.Xa&&(this.Xa.current=this.wj([this.Jl(this.g.lb),this.g.lb],!1,this))};S.prototype.wA=function(a,c,b,d){-1!==this.g.C?this.Sc?(this.$=Math.round(this.g.width/2)+
this.V,this.aa=Math.round(this.g.height/2)+this.W):(this.$=Math.round((this.g.width-b)/2),this.aa=Math.round((this.g.height-d)/2)):(this.$=Math.round((this.g.width-a)/2)+this.V,this.aa=Math.round((this.g.height-c)/2)+this.W);!this.D&&this.g.D||!this.S.Ci||-1===this.g.h||(this.D=this.Ja=!0)};S.prototype.ek=function(a){var c=a;0>a&&(a=-a);var b=a+String();1E9<=a?b="1B+":1E8<=a?b=(a/1E6|0)+"M":1E7<=a?b=(Math.floor(Number(a/1E5))/10).toFixed(1)+"M":1E6<=a?b=(Math.floor(Number(a/1E4))/100).toFixed(2)+
"M":1E5<=a&&(b=(a/1E3|0)+"K");0>c&&(b="-"+b);return b};S.prototype.el=function(a,c){var b=this.B.D,d=this.B.I;c=a+c;var f=-this.g.angle,e=Math.sin(f/180*Math.PI);f=Math.cos(f/180*Math.PI);0>c?c=0:1<c&&(c=1);a=B.rb*Math.pow(B.Mb/B.rb,a);c=B.rb*Math.pow(B.Mb/B.rb,c);c<B.rb?c=B.rb:c>B.Mb&&(c=B.Mb);b-=this.da/2;d-=this.ba/2;b=(b-c/a*b)/c;a=(d-c/a*d)/c;this.g.ca-=b*f+a*-e;this.g.Z-=b*e+a*f;c=Math.log(c/B.rb)/Math.log(B.Mb/B.rb);this.Ec.current=this.qe([c,c],!0,this)};S.prototype.Gi=function(a,c){var b=
B.ff;a.g.Ga&&(b=4*a.g.P.u+1,-1!==a.g.C&&(b+=2*a.g.P.u),a.g.P.type===this.S.l&&(b=-1!==a.g.C?b+a.g.I/2:b+a.g.P.l/2),b<B.ff&&(b=B.ff));a.g.nj(a,c,b)};S.prototype.Pv=function(a){var c=!1,b=a.Y,d=a.Sa,f=(a.g.width>>1)-(a.A>>1)+(a.V<<1),e=(a.g.height>>1)-(a.C>>1)+(a.W<<1);d.F=b.F+f;d.G=b.G+e;d.J=b.J+f;d.K=b.K+e;a.Gi(a,d);f=(a.g.width>>1)-(a.A>>1)+(a.V<<1);e=(a.g.height>>1)-(a.C>>1)+(a.W<<1);0>b.F+f&&(b.F=-f,c=!0);b.F+f>=a.g.width&&(b.F=a.g.width-1-f,c=!0);0>b.J+f&&(b.J=-f,c=!0);b.J+f>=a.g.width&&(b.J=
a.g.width-1-f,c=!0);0>b.G+e&&(b.G=-e,c=!0);b.G+e>=a.g.height&&(b.G=a.g.height-1-e,c=!0);0>b.K+e&&(b.K=-e,c=!0);b.K+e>=a.g.height&&(b.K=a.g.height-1-e,c=!0);return c};S.prototype.sF=function(a){a.Me.current=100*(1-(a.vb-a.g.counter)/a.Ip);a.Me.H=!1;a.$a.v=0};S.prototype.iF=function(a){a.Me.current=a.Hd/a.gh*100;a.Me.H=!1;a.$a.v=0};S.prototype.nF=function(a,c){a.Me.current=a.g.counter/c*100;a.Me.H=!1;a.$a.v=0};S.prototype.eF=function(a){var c=!1,b=!1,d=0;a.ma||-1===a.ob||(c=!0);!a.ib&&a.qa&&(b=!0);
if(c||b){var f=!1;if(b&&c)d=a.ra/a.l.wa(a.ob);else if(b){if(c=a.l.Da().ed)d=a.ra/c,1<d&&(f=!0)}else 0<a.ob&&(d=a.g.counter/a.ob);1<d&&(d=1);a.Me.current=100*d}else f=!0;a.Me.H=f;a.$a.v=f?a.h.$:0};S.prototype.mE=function(){this.Fd.o(this.g.width/2-this.g.sb,this.g.height/2-this.g.tb,this.g.V,this.g.ma,this.g.da,this.g.ba,this.g.Gc,this.g.Sa[0])};S.prototype.ty=function(){var a=this.h.v-this.da/2,c=this.h.C-this.ba/2,b=this.aa-this.g.Z,d=this.$-this.g.ca-(this.g.ga?this.g.Z/2:0),f=this.g.ya,e=this.g.wa,
g=this.g.zoom;var k=this.g.zoom*(this.g.A?B.Rd:1);var l=-1;-1!==this.h.v&&(0!==this.g.ma&&(l=Math.sqrt(a*a+c*c),c=180/Math.PI*Math.atan2(c,a),c-=this.g.ma,a=l*Math.cos(Math.PI/180*c),c=l*Math.sin(Math.PI/180*c)),e=c/k-b+e,k=e-Math.floor(e),e-=k,a=a/g+(this.g.ga?b/2+e/2:0)-d+f,this.g.A&&(a-=this.g.zoom/32*.2),b=a-Math.floor(a),a-=b,this.g.A&&(0===(a+this.$+e+this.aa&1)?1<b+k&&(a+=1):1>1-b+k&&(a+=1)),l=this.g.Ha(a+this.$,e+this.aa,this.Ja&&this.D));return l};S.prototype.$n=function(a,c){var b=a-this.da/
2,d=c-this.ba/2;c=this.aa-this.g.Z;var f=this.$-this.g.ca-(this.g.ga?this.g.Z/2:0),e=this.g.ya,g=this.g.wa,k=0,l=0,p=0,n=0,q=this.g.zoom,m=this.g.zoom*(this.g.A?B.Rd:1);-1!==a&&(0!==this.g.ma&&(a=Math.sqrt(b*b+d*d),d=180/Math.PI*Math.atan2(d,b),d-=this.g.ma,b=a*Math.cos(Math.PI/180*d),d=a*Math.sin(Math.PI/180*d)),k=d/m-c+g,p=k-Math.floor(k),k-=p,l=b/q+(this.g.ga?c/2+k/2:0)-f+e,this.g.A&&!this.g.va&&(l-=this.g.zoom/32*.2),n=l-Math.floor(l),l-=n,this.g.ga&&(.25>n?.1>p?(--k,--l):.9<=p&&(k+=1):.75<=n&&
(.1>p?--k:.9<=p&&(k+=1,l+=1))));this.g.A&&!this.g.va&&(0===(l+this.$+k+this.aa&1)?1<n+p&&(l+=1):1>1-n+p&&(l+=1));this.Sd=l+this.$;this.ee=k+this.aa};S.prototype.ND=function(a,c,b,d,f){var e=Math.abs(b-a),g=Math.abs(d-c),k=a<b?1:-1,l=c<d?1:-1,p=e-g,n=this.g.width,q=this.g.height,m;for(m=this.pa(a,c,f);n!==this.g.width||q!==this.g.height;)n!==this.g.width&&(n<<=1,a+=n>>2,b+=n>>2,this.sa+=n>>2,this.ua+=n>>2,this.g.ga&&(this.sa-=q>>3,this.ua-=q>>3),this.$+=n>>2),q!==this.g.height&&(q<<=1,c+=q>>2,d+=q>>
2,this.qb+=q>>2,this.ub+=q>>2,this.aa+=q>>2);for(;a!==b||c!==d;){var r=p+p;r>-g&&(p-=g,a+=k);r<e&&(p+=e,c+=l);for(m|=this.pa(a,c,f);n!==this.g.width||q!==this.g.height;)n!==this.g.width&&(n<<=1,a+=n>>2,b+=n>>2,this.sa+=n>>2,this.ua+=n>>2,this.g.ga&&(this.sa-=q>>3,this.ua-=q>>3),this.$+=n>>2),q!==this.g.height&&(q<<=1,c+=q>>2,d+=q>>2,this.qb+=q>>2,this.ub+=q>>2,this.aa+=q>>2)}return m};S.prototype.iA=function(){var a=170,c=this.lk.ma,b=this.lk.ja,d=this.ai.ja;this.Kh.setPosition(Q.Pa,0,a-48);this.Ml.u(a-
48);this.wd.u(a-48+45);this.qk.u(a-48+170);this.lk.setPosition(Q.Pa,b,a);this.ai.setPosition(Q.Pa,d,a);a+=c;"Oscillator"===this.hb&&(this.Bs.setPosition(Q.Pa,b,a),this.jk.setPosition(Q.Pa,d,a),a+=c);this.Ls.setPosition(Q.Pa,b,a);this.jn.setPosition(Q.Pa,d,a);a+=c;"Spaceship"!==this.hb||this.g.ga||this.g.A||(this.ct.setPosition(Q.Pa,b,a),this.Nl.setPosition(Q.Pa,d,a),a+=c);"Still Life"!==this.hb&&(this.gu.setPosition(Q.Pa,b,a),this.Ol.setPosition(Q.Pa,d,a),a+=c,this.g.ga||this.g.A||this.g.T||(this.bi.setPosition(Q.Pa,
b,a),this.ci.setPosition(Q.Pa,d,a),a+=c));"Spaceship"===this.hb&&(this.g.ga||this.g.A||(this.uu.setPosition(Q.Pa,b,a),this.Ql.setPosition(Q.Pa,d,a),a+=c),this.Cu.setPosition(Q.Pa,b,a),this.sk.setPosition(Q.Pa,d,a),a+=c);"Still Life"===this.hb||this.g.T||this.g.Va||-1!==this.g.C||(this.Ut.setPosition(Q.Pa,b,a),this.nk.setPosition(Q.Pa,d,a),a+=c);"Oscillator"===this.hb&&(-1===this.g.C&&(this.Vu.setPosition(Q.Pa,b,a),this.uk.setPosition(Q.Pa,d,a),a+=c),this.ov.setPosition(Q.Pa,b,a),this.Rl.setPosition(Q.Pa,
d,a),a+=c);"Still Life"===this.hb&&(this.bi.setPosition(Q.Pa,b,a),this.ci.setPosition(Q.Pa,d,a))};S.prototype.Mz=function(a){var c=0;this.tj[this.oj]=a;this.oj+=1;this.oj>=B.DD&&(this.oj=0);for(a=0;a<this.tj.length;a+=1)c+=this.tj[a];c/=this.tj.length;this.qj.Cb=String(Math.round(c));this.qj.H=!1};S.prototype.Wv=function(){var a;for(a=0;a<this.tj.length;a+=1)this.tj[a]=0;this.oj=0;this.qj.H=!0};S.prototype.rs=function(a,c){var b=0,d=0,f=this.aa-this.g.Z,e=this.$-this.g.ca-(this.g.ga?this.g.Z/2:0),
g=this.g.ya,k=this.g.wa,l=this.g.zoom,p=this.g.zoom*(this.g.A?B.Rd:1),n=0,q=0;if(0!==this.g.ma){var m=Math.sqrt(b*b+d*d);d=180/Math.PI*Math.atan2(d,b);d-=this.g.ma;b=m*Math.cos(Math.PI/180*d);d=m*Math.sin(Math.PI/180*d)}k=d/p-f+k;if(this.g.A&&!this.g.va||this.g.ga)n=k-Math.floor(k),k-=n;b=b/l+(this.g.ga?f/2+k/2:0)-e+g;this.g.A&&!this.g.va&&(b-=this.g.zoom/32*.2);if(this.g.A&&!this.g.va||this.g.ga)q=b-Math.floor(b),b-=q;this.g.ga&&(.25>q?.1>n?(--k,--b):.9<=n&&(k+=1):.75<=q&&(.1>n?--k:.9<=n&&(k+=1,
b+=1)));this.g.A&&!this.g.va&&(0===(b+this.$+k+this.aa&1)?1<q+n&&(b+=1):1>1-q+n&&(b+=1));return Math.sqrt((b-a)*(b-a)+(k-c)*(k-c))};S.prototype.qA=function(){var a=this.h.v-this.da/2,c=this.h.C-this.ba/2,b=this.aa-this.g.Z,d=this.$-this.g.ca-(this.g.ga?this.g.Z/2:0),f=this.g.ya,e=this.g.wa,g=this.g.zoom,k=this.g.zoom*(this.g.A?B.Rd:1);var l=9999<this.g.L?99999:9999;var p=this.g.T?-1:0,n=Math.round(-this.g.M/2)+p;p=Math.round(-this.g.I/2)+p;var q=n+this.g.M-1,m=p+this.g.I-1;if(-1===this.h.v)this.Qc.Cb=
"",this.Qc.H=!this.hg;else{if(0!==this.g.ma){var r=Math.sqrt(a*a+c*c);c=180/Math.PI*Math.atan2(c,a);c-=this.g.ma;a=r*Math.cos(Math.PI/180*c);c=r*Math.sin(Math.PI/180*c)}e=c/k-b+e;k=e-Math.floor(e);e-=k;a=a/g+(this.g.ga?b/2+e/2:0)-d+f;this.g.A&&(a-=this.g.zoom/32*.2);b=a-Math.floor(a);a-=b;this.g.A&&(0===(a+this.$+e+this.aa&1)?1<b+k&&(a+=1):1>1-b+k&&(a+=1));d=this.g.Ha(a+this.$,e+this.aa,this.Ja&&this.D);a+=this.V;e+=this.W;-1===this.g.C||this.Sc||(a-=Math.floor(this.A/2+(this.Nd-this.A)/2),e-=Math.floor(this.C/
2+(this.Md-this.C)/2));b=a<-l||a>l?Number(a/1E3).toFixed(1)+"K":String(a);l=e<-l||e>l?Number(e/1E3).toFixed(1)+"K":String(e);-1!==this.g.C?(0===this.g.M&&(n=-this.g.L,q=this.g.L),0===this.g.I&&(p=-this.g.L,m=this.g.L),this.Qc.Cb=a<n||a>q||e<p||e>m?(a===n-1||a===q+1)&&e>=p-1&&e<=m+1||(e===p-1||e===m+1)&&a>=n-1&&a<=q+1?b+","+l+"=[bounded]":b+","+l+"=[boundary]":b+","+l+"="+d+" ("+this.Ch(d)+")"):(n=-(this.g.L-this.A)>>1,q=n+this.g.L-1,p=-(this.g.L-this.C)>>1,m=p+this.g.L-1,this.Qc.Cb=a<n||a>q||e<p||
e>m?b+","+l+"=[boundary]":b+","+l+"="+d+" ("+this.Ch(d)+")");this.Qc.H=!1}this.Qc.C=this.hg||!this.Bb&&-1!==this.h.v?this.s||this.ea||0===this.A?!1:!0:!1;!this.P&&!this.fe||this.s&&!this.ea?this.Zd.C=!1:(this.Zd.C=!0,this.Zd.H=!1,a=this.Y.J>this.Y.F?this.Y.J-this.Y.F+1:this.Y.F-this.Y.J+1,e=this.Y.K>this.Y.G?this.Y.K-this.Y.G+1:this.Y.G-this.Y.K+1,this.Zd.Cb=a+" x "+e)};S.prototype.OC=function(a){if(!this.Va&&!this.Z)if(0<this.s)0<a?this.kp(this,a/125*3):this.Yo(this,-a/125*3);else if(0<this.ea)0<
a?this.Xo(this,a/125*3):this.Wo(this,-a/125*3);else if(!this.Wa){var c=this.Ec.current[0];this.el(c,a/125*.05)}};S.prototype.IE=function(a){var c=a.g.counter,b=" ";if(a.g.T||a.g.i)c=a.g.gb;a.Ee?(0>c&&(b=""),a.$a.i[0]="+"+b+a.ek(c),a.$a.R=["toggle generation statistics [G]\ngeneration +"+c]):(0>c+a.Ca&&(b=""),a.$a.i[0]="T"+b+a.ek(c+a.Ca),a.$a.R=["toggle generation statistics [G]\ngeneration "+(c+a.Ca)]);a.g.T||a.g.i?(a.rc.Cb=String(a.g.counter),a.rc.R="absolute generation "+a.g.counter):a.Ee?(a.rc.Cb=
1E9<=c?"1B+":String(c),a.rc.Cb=String(c),a.rc.R="generation "+c):(c+=a.Ca,a.rc.Cb=1E9<=c?"1B+":String(c),a.rc.R="absolute generation "+c);a.Sf.R=a.rc.R};S.prototype.vf=function(){return!(0<this.g.u||this.ei||this.g.counter<=this.ge)};S.prototype.rA=function(a,c){var b=c.l.current;var d=!1,f=!1,e=!1,g=!1,k=!1,l=c.g.counter;var p=0;var n=c.g.m,q=new Va(n.F,n.G,n.J,n.K),m=c.g.Xa,r=new Va(m.F,m.G,m.J,m.K);var u=1E3/c.L;var t;c.Wa=!1;c.yv&&(c.yv=!1,a=0);c.D||c.eF(c);c.Aq&&(c.$a.current=c.co([!0],!0,c),
c.Aq=!1,c.B.i=!0);c.Tv(c.Ob.current[0]);c.Bb?(a>u&&(a-.3>u&&(f=!0),a=u),!c.Bb||c.qa&&!c.ib||(c.ha+=c.ca*c.X,p=c.ha/c.L|0,p>l?c.gd=!0:c.ra+=a)):c.gd&&(k=!0,c.ha=c.Yq?c.ha+c.L:c.ha+c.X*c.L,p=c.ha/c.L|0);c.dt();c.qa&&!c.ib&&c.Bb?(c.l.L&&(c.Rb&&!c.l.W(c.ra+a)&&(c.Rb=!1,c.ra=c.l.sa(c.g.width/2-c.g.ca,c.g.height/2-c.g.Z,c.g.zoom,c.g.angle,c.g.lb,c.g.oa,c.g.vb*B.Ik,c.g.Eb,c.ca,c.X,c.g.counter,c.ra)),b.te&&(c.Tc(!0,!1,B.Ei),c.Rb=!1,b.x=c.g.width/2-c.g.ca,b.y=c.g.height/2-c.g.Z,c.Z&&(c.g.zoom*=c.Eb),b.zoom=
c.g.zoom)),(e=c.l.U(c,c.ra+a,c.g.counter))?(b.te&&(b.te=!1,c.Z&&(c.g.zoom=b.zoom/c.Eb),c.Ec&&(c.Ec.current=c.qe([c.g.zoom,c.g.zoom],!1,c))),c.ha+=c.ca*c.X,p=c.ha/c.L|0,p>l&&(c.gd=!0)):(c.l.L&&(c.Bb&&(c.Wa=!0),c.g.Z=c.g.height/2-b.y,c.g.ca=c.g.width/2-b.x,c.g.ga&&(c.g.ca-=c.g.Z/2),c.g.zoom=b.zoom,c.Z&&(c.g.zoom/=c.Eb),c.Ec&&(c.Ec.current=c.qe([c.g.zoom,c.g.zoom],!1,c)),c.g.ga||c.g.A||c.g.ea||(c.g.angle=b.angle,c.la&&(c.la.current=[c.g.angle,c.g.angle]),c.g.lb=b.lb,c.Xa&&(c.Xa.current=[c.Jl(c.g.lb),
c.g.lb]),c.g.oa=b.oa,c.ab&&(c.ab.current=[c.g.oa,c.g.oa]),c.g.vb=b.depth/B.Ik+B.gp,c.Ba&&(c.Ba.current=[Math.sqrt(c.g.vb),c.g.vb*B.Ik]))),c.ca=b.Hc,c.X=b.step,c.Ob.current=c.Jd([c.$e(),1],!0,c),b.dc>c.g.counter?(c.gd=!0,c.ha=b.dc*c.L,p=c.ha/c.L|0):c.gd=!1,b.ce!==c.He&&(""===b.ce?c.B.notification.clear(!1,!1):c.B.notification.notify(Ib.tl(c,b.ce),15,21600,15,!1),c.He=b.ce),b.sc!==c.lq&&(c.$f(b.sc,c.g.Xd,c),c.lq=b.sc)),c.gd||(c.ra+=a)):c.ja&&c.Bb&&(c.Wa=!0);c.Wa&&(c.yc=-1);b=0;if(c.gd){u=performance.now();
var v=p-l;var x=0;for(t=c.vf();!g&&c.g.counter<p;){b=performance.now()-u;if(c.g.counter===c.Pb-1&&!c.wb||b>B.xz&&!k)g=c.g.counter!==c.Pb-1||c.wb?c.jf:!0;c.g.Ya&&c.M("reverse playback");q.set(n);r.set(m);c.g.$c();x+=1;c.g.Ac();c.he();c.g.cd(c);c.g.se();0===c.g.u&&(n.set(q),m.set(r));if(-1!==c.ob&&c.g.counter>=c.ob&&!c.ma){for(p=1;p<=x;p+=1)c.To(l+p,a,x);c.ra=0;c.reset(c);p=l=0;c.Ab&&c.Wb&&(c.Kb.current=c.qd(B.be,!0,c),c.B.notification.notify("LOOP reached - Play to continue ",15,180,15,!0));e&&(c.Wa=
!0)}c.vf()&&!t&&(g=!0)}for(p=1;p<=x;p+=1)c.To(l+p,a,v);c.vf()&&-1===c.sb&&(c.sb=c.g.counter,!c.Xc||-1!==c.ob&&!c.ma||c.bc||(c.g.i||c.g.T?c.B.notification.notify("Life ended at generation "+(c.g.gb+c.Ca),15,600,15,!1):c.B.notification.notify("Life ended at generation "+(c.g.counter+c.Ca),15,600,15,!1)),t||-1!==c.ob&&!c.ma||(c.Kb.current=c.qd(B.be,!0,c)),c.bc=!1);c.ha-=(v-x)*c.L;0>c.ha&&(c.ha=0);x<v&&(c.g.counter!==c.Pb||c.wb)&&c.zd?c.Mz(x):c.Wv();c.g.counter!==c.Pb||c.wb||(c.Kb.current=c.qd(B.be,!0,
c),c.Xc&&c.B.notification.notify("STOP reached - Play to continue ",15,180,15,!0))}else c.Wv();c.gd&&!c.Bb&&c.M("");c.la.locked=c.Wa&&c.qa||c.g.ga||c.g.A||c.g.ea;c.Xa.locked=c.Wa&&c.qa||c.g.ga||c.g.A||c.g.ea;c.Pd.locked=c.Wa&&c.qa;c.Rf.locked=c.Wa||c.ja&&c.Bb;c.Ob.locked=c.Wa&&c.qa;c.kk.locked=c.Wa&&c.qa;c.md.locked=c.Wa&&c.qa;c.Ec.locked=c.Wa;c.ab.locked=c.Wa&&c.qa||c.g.ga||c.g.A||c.g.ea;c.Ba.locked=c.Wa&&c.qa||c.g.ga||c.g.A||c.g.ea;c.ik.locked=c.g.ga||c.g.A||c.g.ea;c.Qh&&(c.OC(c.Qh),c.Qh=0);c.Iq(c,
f,b,k);c.gd=!1;c.Yq=!1;if(c.Bb||c.ja&&.001<c.Fg||-1!==c.yc)d=!0;c.B.Ne(d)};S.prototype.Iq=function(a,c,b,d){a.ja&&(a.Bb||a.qa)&&a.Tc(!1,!1,B.Ei);a.g.Fm(a.Pj,a.kd);a.kd&&a.mE();a.Pj&&a.B.Ne(!0);a.g.Sf();!a.g.va&&a.g.ga&&4<=a.g.zoom?a.g.$h():!a.g.va&&a.g.A&&4<=a.g.zoom&&a.g.bi();a.bh&&(2===a.bh&&a.g.hg(a.wc,1,!0,a.Z,a),a.FE(a),2===a.bh&&(a.g.Sf(),!a.g.va&&a.g.ga&&4<=a.g.zoom?a.g.$h():!a.g.va&&a.g.A&&4<=a.g.zoom&&a.g.bi()),a.bh=0);a.g.Ck(a);a.g.counter&&0<a.g.u&&(a.Sa.F=a.g.m.F,a.Sa.G=a.g.m.G,a.Sa.J=
a.g.m.J,a.Sa.K=a.g.m.K,a.Gi(a,a.Sa));a.jd&&a.l.P(a);!a.ya||a.Za||a.mc||a.g.hg(a.wc,a.Ka,!1,a.Z,a);a.Tb&&0<a.Se&&null!==a.g.he&&0===a.s&&!1===a.fa.current[0]&&(1===a.Se?a.g.wk(a.Kh):a.g.uk(a.Kh));a.s?$a.Ko(a):a.Ma.length&&$a.Sr(a);a.IE(a);a.Of.Cb=a.FD(a.ra);a.Ad.Cb=a.ek(a.g.u);a.cn()?a.Vc.Cb=a.g.i?(25*a.g.u/(a.g.I*a.g.M)|0)+"%":(100*a.g.u/(a.g.I*a.g.M)|0)+"%":(a.Vc.Cb=a.ek(a.g.za),a.Ce.Cb=a.ek(a.g.ia));a.Ad.R="alive "+a.g.u;a.cn()?a.Vc.R=a.g.i?"density "+(25*a.g.u/(a.g.I*a.g.M)|0)+"%":"density "+(100*
a.g.u/(a.g.I*a.g.M)|0)+"%":(a.Vc.R="births "+a.g.za,a.Ce.R="deaths "+a.g.ia);a.zd?a.oE(b,c,d,a):a.Ob.Vb=a.Rf.Vb;a.qA();-1!==a.yc&&a.Vs();a.UE();a.Qz();a.ZE();a.sw(0!==(a.s||a.Ma.length));!a.fa.current[0]||a.ad&&a.Bb||(a.Qa.globalAlpha=.7,a.Qa.fillStyle=a.B.Vb,a.Qa.fillRect(0,0,a.Ya.width,a.Ya.height),a.Qa.globalAlpha=1)};S.prototype.oE=function(a,c,b,d){var f=255,e=48,g=48;(c||a>B.xz)&&!b?d.ui<B.Py&&(d.ui+=1):d.ui>B.Qy&&--d.ui;var k=d.ui/(B.Py-B.Qy);a=d.Zn>>16;c=d.Zn>>8&255;b=d.Zn&255;d.Mc&&(f=d.Mc[0],
e=d.Mc[1],g=d.Mc[2]);d.Ob.Vb="rgb("+(f*k+a*(1-k)|0)+","+(e*k+c*(1-k)|0)+","+(g*k+b*(1-k)|0)+")"};S.prototype.mA=function(){var a=this.Sf.U,c=this.Of.U,b=this.Qc.U;this.Cc.H&&this.Be.H?(this.Te.u(b),this.Ad.u(b)):this.Be.H?(this.Te.u(c),this.Ad.u(c),this.Cc.u(b),this.Vc.u(b)):(this.Te.u(a),this.Ad.u(a),this.Cc.u(c),this.Vc.u(c),this.Be.u(b),this.Ce.u(b))};S.prototype.dt=function(){var a=this.ha/this.L;if(this.gb&&!this.xb){this.g.ya=a*(this.mg+this.jh)/2;this.g.wa=a*(this.ih+this.ng)/2;var c=this.g.zi(0,
this.ih,this.mg,this.ng,this.jh,this.da,this.ba-80,B.rb,B.Mb,B.hq);a=this.g.zi(a,this.ih,this.mg,this.ng,this.jh,this.da,this.ba-80,B.rb,B.Mb,B.hq);this.g.Ja=a/c}else this.g.ya=0,this.g.wa=0,this.g.Ja=1;this.Ec.current=this.qe([this.g.zoom,this.g.zoom],!1,this)};S.prototype.sw=function(a){var c=!(this.s&&this.td===B.Qf),b,d=[],f=[],e=this.fa.current[0];this.Kb.m[1]=this.vc||0===this.g.counter&&(!this.g.T&&!this.g.i||null===this.g.Ua)?!0:!1;var g=a||!this.ae;for(b=0;b<=this.g.fb;b+=1)this.va[b].H=
g;this.aw.H=g;this.Xv.H=g;this.cw.H=g;this.Zv.H=g;for(b=0;b<B.Rn.length;b+=1)B.Rn[b]===this.g.fb&&(this.va[b].locked=!(this.Wc||this.qf));g=a||!this.Tb||"Empty"===this.hb||"none"===this.hb||e;this.Ml.H=a||!this.Tb||e;this.wd.H=a||!this.Tb||null===this.g.he||e;this.qk.H=a||!this.Tb||null===this.g.he||e;g=g||2===this.Se;g=(this.Kh.H=g)||0<this.Se;this.lk.H=g;this.Ls.H=g;this.ct.H=g||"Spaceship"!==this.hb||this.g.ga||this.g.A;this.gu.H=g||"Still Life"===this.hb;this.bi.H=g||this.g.ga||this.g.A||"Still Life"!==
this.hb&&this.g.T;this.Bs.H=g||"Oscillator"!==this.hb;this.uu.H=g||"Spaceship"!==this.hb||this.g.ga||this.g.A;this.Cu.H=g||"Spaceship"!==this.hb;this.Ut.H=g||"Still Life"===this.hb||this.g.T||this.g.Va||-1!==this.g.C;this.Vu.H=g||"Oscillator"!==this.hb||-1!==this.g.C;this.ov.H=g||"Oscillator"!==this.hb;this.ai.H=g;this.jn.H=g;this.Nl.H=g||"Spaceship"!==this.hb||this.g.ga||this.g.A;this.Ol.H=g||"Still Life"===this.hb;this.ci.H=g||this.g.ga||this.g.A||"Still Life"!==this.hb&&this.g.T;this.jk.H=g||"Oscillator"!==
this.hb;this.Ql.H=g||"Spaceship"!==this.hb||this.g.ga||this.g.A;this.sk.H=g||"Spaceship"!==this.hb;this.nk.H=g||"Still Life"===this.hb||this.g.T||this.g.Va||-1!==this.g.C;this.uk.H=g||"Oscillator"!==this.hb||-1!==this.g.C;this.Rl.H=g||"Oscillator"!==this.hb;this.ah.locked=this.ia===this.Wg;this.Id.locked=1>=this.ia||"undo [Ctrl Z]"===this.Id.R;this.Pd.H=a;this.Ec.H=a;this.Rf.H=a;this.Yc.H=a;this.vh.H=a;this.ig.H=a;this.Ac.H=a;this.wf.H=a;this.Fa.H=a;g=(this.Ii.H=a)||!this.ya||this.Za||this.mc||e;
this.mi.H=g;this.xs.H=g;this.ki.H=g;this.Fb.H=g||-1!==this.g.C;this.ul.H=!(this.kb||-1!==this.vb);this.ul.locked=!1;this.Sf.H=a;this.rc.H=a;this.uj.H=a;this.Of.H=a;this.Te.H=a;g=(this.Ad.H=a)||this.lA();this.Cc.H=g;g=(this.Vc.H=g)||this.cn();this.Be.H=g;this.Ce.H=g;this.Yd.H=a;this.mA();this.Rf.H=a;this.gk.H=a||!this.bf;this.Bh.H=!this.Ed;this.Xe||this.We||this.Ye||this.$d||this.Ze||this.ae||this.Pe?(this.rd.Cb="Back",this.rd.R="back to previous menu [Backspace]"):(this.rd.Cb="Close",this.rd.R="close menu [Backspace]");
this.Od.locked=!(this.g.T&&2===this.g.Fb);this.Od.current=this.Od.locked?[!1]:[this.g.yd];g=(this.rd.H=a)||this.ae;this.Ba.H=g;this.la.H=g;this.Xa.H=g;this.ab.H=g;g=a||this.ae||this.We||this.$d||this.Xe||this.Ye||this.Ze||this.$d||this.Pe;this.vl.H=g;this.jm.H=g;this.md.H=g;this.Ck.H=g;this.Nj.H=g;this.xq.H=g;this.ko.H=g;this.Tf.H=g;g=a||!this.We;this.rq.H=g;this.Lq.H=g;this.sm.H=g;this.qm.H=g;this.io.H=g;this.wm.H=g;g=a||!this.$d;this.Kq.H=g;this.ak.H=g;this.oq.H=g;this.nq.H=g;this.yi.H=g;this.vo.H=
g;this.$h.H=g;this.Sk.H=g;this.Qq.H=g;this.Oq.H=g;g=a||!this.Ye;this.Yi.H=g;this.xk.H=g;this.gj.H=g;this.gj.locked=!this.Zk;this.Kp.H=g;this.Wp.H=g;this.No.H=g;g=a||!this.Xe;this.vd.H=g;this.Fi.H=g;this.yd.H=g;this.mj.H=g;this.uf.H=g;this.Bi.H=g;this.Od.H=g;this.Zg.H=g;this.Kj.H=g;this.di.H=g;g=a||!this.Pe;this.Wl.H=g;this.fm.H=g;this.im.H=g;this.ik.H=g;this.Uo.H=g;this.Po.H=g;g=a||!this.Ze;this.dn.H=g;this.fj.H=g;this.kg.H=g;this.ag.H=g;this.Ge.H=g;this.Di.H=g;g=this.g.ea||!this.Oa;this.yi.locked=
g;this.vo.locked=g;this.$h.locked=g||this.D||this.g.P.P||-1!==this.g.C&&(0===this.g.M||0===this.g.I);this.Sk.locked=g||this.D||"Empty"===this.hb||"none"===this.hb||""===this.hb;this.sm.locked=g;this.qm.locked=g;this.wm.locked=g;this.io.locked=g;this.dn.locked=!this.Oa||this.D;this.Zg.locked=2<this.g.h||this.g.Ga||this.g.i||this.g.D||this.g.o||this.g.v;this.ak.locked=g;this.cq.H=a||!(this.Xe||this.We||this.Ye||this.Ze||this.$d||this.Pe);this.cq.Cb=this.Xe?"Display":this.Ye?"Advanced":this.Ze?"Playback":
this.$d?"Pattern":this.We?"Clipboard":this.Pe?"General":"";this.Ge.locked=-1!==this.g.vd||this.g.mg||this.g.Ga&&!(1===this.g.P.u&&this.g.P.type===this.S.h&&2===this.g.P.V)||this.g.A||this.g.kc||-1!==this.g.C;this.Ge.locked&&(this.Ge.current=[!1]);this.md.locked=this.Ja||this.g.ea||this.g.v||this.g.o;this.yd.locked=this.g.ga&&!this.g.va||this.g.A&&!this.g.va||0===this.g.Fb;this.vd.locked=!(this.g.ga||this.g.A);g=a||0===this.l.i.length||e;this.Yk.H=g;this.Il.H=g;g=a||!this.Da||this.Za||this.mc||this.ya;
this.yk.H=g;this.Ng.H=g;this.Ak.H=g;this.Og.H=g;this.wk.H=g;this.Lh.H=g;this.tv.H=g;this.Sl.H=g;this.Ul.H=g;this.Vl.H=g;this.Tl.H=g;this.Mh.H=g;this.Lg.H=g;this.Mg.H=g;this.Nh.H=g;this.Bq.H=0===this.Ma.length||0!==this.s;this.Qr.H=!(this.Ll&&this.s&&this.td===B.Qf);this.Yn.H=!(this.s&&this.td!==B.Qf);this.Zc.H=!(this.s&&this.td!==B.Qf)||!this.jj;this.bk.H=c;this.dk.H=c;this.$j.H=c;this.fk.H=c||this.g.ea||this.g.o||this.g.v;this.bj.H=c;this.Zi.H=c;this.Jh.H=c;this.$i.H=c||0===this.l.A();this.pp.H=
!(this.s&&this.td!==B.Qf)||this.jj;if(this.mt){this.mt=!1;c=this.Zc.y;for(b=0;b<this.u.length&&c<this.ba-66*this.h.D;)d[b]=this.u[b][1],f[b]="Top"===d[b]?"go to top of topic [Home]":"",c+=26*this.h.D,b+=1;this.Zc.i=d;this.Zc.R=f;this.Zc.ya(26*d.length);this.Zc.current=0}g=a||!this.mc||e;this.ck.H=g;this.Hg.H=g;this.gl.H=g;this.Qe.H=g;this.Hl.H=g;this.Yg.H=g;this.Df.H=g;this.Hj.H=g;this.Lj.H=g;this.nl.H=g;g=a||!this.mc||e;this.zl.H=g;this.fl.H=g;this.hl.H=g;this.jl.H=g;this.cl.H=g;this.Tj.H=g;this.Vj.H=
g;this.Yj.H=g;this.Wj.H=g;this.tf.H=g;this.Dl.H=g;this.Bl.H=g;this.kf.H=g||!(this.g.D||this.g.o);this.kc.H=g;this.Wd.H=g;g=a||!this.mc||e||2>=this.g.h||this.g.ea;this.$g.H=g||this.g.i;g=this.D;this.Yg.locked=g;this.Df.locked=g;g=!this.P;this.Hj.locked=g;this.gl.locked=g;g=!(this.P||this.Ea)||this.D;this.zl.o(g);this.kc.o(g);this.$g.o(g);this.Wd.o(g);this.fl.o(g);this.hl.o(g);this.jl.o(g);this.cl.o(g);this.Tj.o(g);this.Vj.o(g);this.Yj.o(g);this.Wj.o(g);this.tf.o(g);this.Dl.o(g);this.Bl.o(g);this.kf.o(g);
g=!this.P||this.D;this.Lj.locked=g;g=!this.pl||this.Ea||null===this.Hb[this.ac]||this.D;this.nl.locked=g;g=a||!this.Za||!this.bg||e;this.Ua.H=g;this.ka.H=g;if(2>=this.g.h&&!this.g.v)for(b=0;b<this.ka.i.length;b+=1)c=2>=b?0===b?b:1===b?I.Ta:I.Th:128+B.nb[b],this.ka.M[b]="rgb("+this.g.la[c]+","+this.g.ka[c]+","+this.g.ja[c]+")";else for(b=0;b<this.ka.i.length;b+=1)c=0===b+this.Nb?0:this.g.ea||this.g.i||this.g.v||this.g.o?b+this.Nb+this.wa:this.wa+this.g.h-(b+this.Nb),this.ka.M[b]="rgb("+this.g.la[c]+
","+this.g.ka[c]+","+this.g.ja[c]+")";g=a||!this.Za||e;this.Oc.H=g;this.Cl.H=g;this.kj.H=g;this.nj.H=g;this.mk.H=a||!this.Za||!this.bg||this.g.h<=this.ec||e;this.pk.H=a||!this.Za||!this.bg||this.g.h<=this.ec||e;this.g.h>this.ec&&this.qv();if(0<this.s){b=0;for(c=-1;b<this.u.length&&-1===c;)this.u[b][0]>this.s?c=this.u[b][0]:b+=1;b===this.u.length&&(c=b);-1!==c&&(this.Zc.current=b-1)}this.ad&&(this.h.H=this.Bb?!0:!1);g=this.ba<B.yj;this.fa.locked=g};S.prototype.ZE=function(){var a=-(this.g.width/2-
this.g.ca-this.g.ya|0),c=-(this.g.height/2-this.g.Z-this.g.wa|0),b=String(a),d=String(c);this.yk.H=!this.Da;this.Ng.H=!this.Da;this.Ak.H=!this.Da;this.Og.H=!this.Da;this.wk.H=!this.Da;this.Lh.H=!this.Da;this.tv.H=!this.Da;this.Sl.H=!this.Da;this.Ul.H=!this.Da;this.Vl.H=!this.Da;this.Tl.H=!this.Da;this.Mh.H=!this.Da;this.Lg.H=!this.Da;this.Nh.H=!this.Da;this.Mg.H=!this.Da;if(-99999>a||99999<a)b=(a/1E3|0)+"K";if(-99999>c||99999<c)d=(c/1E3|0)+"K";this.Ng.Cb=b;this.Og.Cb=d;this.Lh.Cb=this.g.angle.toFixed(0)+
"\u00b0";this.Mh.Cb=this.ym.toFixed(3);this.Lg.Cb=this.Fm.toFixed(3);this.Mg.Cb=this.Hm.toFixed(3);this.Nh.Cb=this.Bm.toFixed(3)};S.prototype.Qz=function(){0===this.g.counter?this.Hm=this.ym=this.Fm=this.Bm=0:(this.Fm=(this.g.m.K-this.g.Nb.K)/this.g.counter,this.Bm=(this.g.m.G-this.g.Nb.G)/this.g.counter,this.ym=(this.g.m.J-this.g.Nb.J)/this.g.counter,this.Hm=(this.g.m.F-this.g.Nb.F)/this.g.counter)};S.prototype.UE=function(){this.Pd.current=[this.ja];this.vh.current=[!this.Wb&&this.Ab];this.vh.locked=
!this.Ab;this.gb?(this.Ac.i[0]="TRACK",this.Ac.current=[!this.xb&&this.gb],this.Ac.locked=!this.gb,this.Ac.R=["toggle track mode [W]"]):(this.Ac.i[0]="WAYPT",this.Ac.current=[!this.ib&&this.qa],this.Ac.locked=!this.qa,this.Ac.R=["toggle waypoint mode [W]"]);this.wf.current=[!this.ma&&-1!==this.ob];this.wf.locked=-1===this.ob;this.wf.R=["loop at "+this.ob+" [Shift P]"];this.ig.current=[!this.wb&&-1!==this.Pb];this.ig.locked=-1===this.Pb;this.ig.R=["stop at "+this.Pb+" [Alt P]"]};S.prototype.To=function(a,
c,b){if(a>=this.De.length){var d=this.g.N.h(na.fd,this.De.length+B.By,"View.elapsedTimes");d.set(this.De);this.De=d}this.ra+=c/b;this.De[a]=this.ra};S.prototype.bA=function(a){var c=32768,b=a.gh-a.Hd;if(a.Hd<a.gh)if(0<a.Jq)--a.Jq;else if(a.Xl)a.af.innerHTML=a.vk,a.Hd=a.gh;else{b<c&&(c=b);var d=document.createElement("textarea");a.hk(d);if(c!==b)for(;"\n"!==a.vk[a.Hd+c];)--c;d.innerHTML=a.vk.substring(a.Hd,a.Hd+c);a.Hd+=c;a.af.appendChild(d)}else a.om||(a.B.notification.notify("Press Enter to complete copy",
15,1E4,15,!0),a.om=!0);a.iF(a);a.g.Sf();a.jd&&a.l.P(a);a.ya&&a.g.hg(a.wc,a.Ka,!1,a.Z,a);a.s?$a.Ko(a):a.Ma.length&&$a.Sr(a);a.B.Ne(!0)};S.prototype.rk=function(a,c,b){a.h.locked=!1;c?b&&a.B.notification.notify("Cancelled",15,80,15,!0):a.Xc&&(b||-1!==a.dg)&&(a.B.notification.notify("Arrived at generation "+a.g.counter,15,150,15,!0),-1!==a.dg&&(b=(performance.now()-a.dg)/1E3,c=a.Ip/b|0,a.B.notification.notify("Calculated "+a.Ip+" gens in "+b.toFixed(1)+"s = "+c+"gps",15,600,15,!1)));-1===a.dg&&(0!==
a.g.u||a.Re||a.g.counter<=a.ge)&&a.B.notification.clear(!1,!1);a.M("");a.vb=-1;a.dg=-1};S.prototype.vA=function(a){var c=performance.now();for(a.h.locked=!0;!a.vf()&&a.g.counter<a.vb&&(-1!==a.dg||13>performance.now()-c);)a.g.$c(),a.g.Ac(),a.he(),a.g.cd(a),a.g.se(),a.vf()&&-1===a.sb&&(a.sb=a.g.counter,!a.Xc||-1!==a.ob&&!a.ma||a.bc||(a.g.i||a.g.T?a.B.notification.notify("Life ended at generation "+(a.g.gb+a.Ca),15,600,15,!1):a.B.notification.notify("Life ended at generation "+(a.g.counter+a.Ca),15,
600,15,!1)),a.bc=!1),a.g.counter&&0<a.g.u&&(a.Sa.F=a.g.m.F,a.Sa.G=a.g.m.G,a.Sa.J=a.g.m.J,a.Sa.K=a.g.m.K,a.Gi(a,a.Sa)),a.To(a.g.counter,0,1);a.Iq(a,!1,0,!1);a.sF(a);a.ha=a.g.counter*a.L;a.B.Ne(!0);(a.g.counter>=a.vb||a.vf())&&a.rk(a,0===a.g.u&&!(a.Re||a.g.counter<=a.ge),!1)};S.prototype.jA=function(a){var c=performance.now();for(a.h.locked=!0;a.kb&&13>performance.now()-c&&(0<a.g.u||a.Re||a.g.counter<=a.ge);)if(a.g.$c(),a.g.Ac(),a.he(),a.g.se(),this.g.cd(a),0===a.g.u&&-1===a.sb&&(a.sb=a.g.counter,!a.Xc||
-1!==a.ob&&!a.ma||a.bc||a.ei||a.g.counter<=a.ge||(a.g.i||a.g.T?a.B.notification.notify("Life ended at generation "+(a.g.gb+a.Ca),15,600,15,!1):a.B.notification.notify("Life ended at generation "+(a.g.counter+a.Ca),15,600,15,!1)),a.bc=!1),a.g.counter&&0<a.g.u&&(a.Sa.F=a.g.m.F,a.Sa.G=a.g.m.G,a.Sa.J=a.g.m.J,a.Sa.K=a.g.m.K,a.Gi(a,a.Sa)),a.To(a.g.counter,0,1),0<a.g.u||a.Re||a.g.counter<=a.ge){var b=a.g.dm(a);0<b.length&&(b[0]===I.Ar?(b[0]="Nothing Identified",a.Av="none",a.hb="none",a.Rk="",a.ji="",a.Ok=
"",a.am="",a.fi="",a.Uk="",a.ii="",a.gi="",a.Tg="",a.Sg="",a.hi="",a.Zl="",a.bm="",a.$l=""):(a.Av=b[0],a.hb=b[1],"Empty"!==a.hb&&(a.Rk=b[2],a.ji=b[3],a.Ok=b[4],a.am=b[5],a.fi=b[6],a.Uk=b[7],a.ii=b[8],a.gi=b[9],a.Tg=b[10],a.Sg=b[11],a.hi=b[12],a.Zl=b[13],a.bm=b[14],a.$l=b[15],a.ai.Cb=a.fi,a.ai.R=-1===a.fi.indexOf("|")?"":"min | max | average",a.jn.Cb=a.Ok,a.Nl.Cb=a.Rk,a.Ol.Cb=a.ii,a.Ql.Cb=a.Uk,a.sk.Cb=a.ji,a.sk.R=-1===a.ji.indexOf("|")?"":"simplified | unsimplified",a.nk.Cb=a.gi,a.nk.R=-1===a.gi.indexOf("|")?
"":"min | max | average",a.Rl.Cb=""===a.Sg?a.Tg+" | N/A":a.Tg+" | "+a.Sg,a.Rl.R="normal | strict",a.ci.Cb=a.hi,a.jk.Cb=a.Zl,a.jk.R="rotor | stator | total",a.uk.Cb=a.bm,a.uk.R="active | rotor","Still Life"===a.hb?(a.ci.Cb=a.$l,a.bi.Cb="Density"):a.bi.Cb="Mod"),a.Tb=!0,a.iA()),a.kb=!1,a.Bb&&(a.Kb.current=a.qd(B.be,!0,a)),a.M(""),a.Kh.Cb=b[0],"Empty"===a.hb||"none"===a.hb||""===a.hb?(a.B.notification.notify(b[0],15,240,15,!1),a.Tb=!1):(a.B.notification.clear(!0,!1),a.B.notification.clear(!1,!1),a.Tc(!0,
!1,B.Ei)),a.g.vf(a.kb),a.h.locked=!1)}else a.kb=!1,a.Bb&&(a.Kb.current=a.qd(B.be,!0,a)),a.M(""),a.Tb=!1,a.g.vf(a.kb),a.h.locked=!1;a.Iq(a,!1,0,!1);a.ha=a.g.counter*a.L;a.B.Ne(!0)};S.prototype.fA=function(a){for(var c=a.Fq,b=performance.now();a.g.counter<c&&13>performance.now()-b;)a.g.$c(),a.g.Ac(),a.he(),a.g.se(),a.g.cd(a);a.g.counter===c?(a.xh=!1,a.Dq&&a.B.notification.clear(!0,!1),a.ha=a.g.counter*a.L,a.h.locked=!1):a.h.locked=!0;a.nF(a,c);a.g.Sf();a.jd&&a.l.P(a);a.ya&&a.g.hg(a.wc,a.Ka,!1,a.Z,a);
a.s?$a.Ko(a):a.Ma.length&&$a.Sr(a);a.B.Ne(!0)};S.prototype.nA=function(a){var c=a.g.pc?4278190080:255;this.Me.H=!0;a.Vg===B.Rs&&(a.h.locked=!0,a.Qc.C=!1,a.Zd.C=!1,a.sw(!1),a.B.Ne(!0),a.g.Gc&&a.g.Gc.fill(c));a.Vg===B.Qs&&(a.cs=performance.now());--a.Vg;0===a.Vg&&(a.tq=performance.now(),a.L=Math.round(1E3/((a.tq-a.cs)/(B.Qs-1))),62>=a.L&&(a.L=60),a.B.ka=a.L,a.dr&&(a.X=1),a.br&&(a.ca=a.L),a.Ob.current=a.Jd([a.$e(),1],!0,a),a.h.locked=!1);c=a.g.lb;a.g.lb=0;a.g.Sf();a.g.lb=c};S.prototype.Yz=function(a,
c){0<c.Vg?c.nA(c):c.xh?c.fA(c):c.kb?c.jA(c):c.Fl?c.bA(c):-1!==c.vb?c.vA(c):c.rA(a,c)};S.prototype.sv=function(a){a.g.counter=0;a.g.gb=0;a.g.ee=0;a.ha=0;a.ra=0;a.g.ca=a.g.width>>1;a.g.Z=a.g.height>>1;a.g.ca&=a.g.width-1;a.g.Z&=a.g.height-1;a.yv=!0;a.sb=-1;a.Vg=B.Rs};S.prototype.Cx=function(a,c,b){c&&(b.kd=a[0]);return[b.kd]};S.prototype.Hw=function(a,c,b){c&&(b.bd=a[0]);return[b.bd]};S.prototype.Ow=function(a,c,b){c&&(b.g.nd=a[0]);return[b.g.nd]};S.prototype.Fv=function(a,c,b){c&&(b.Da=a[0]);return[b.Da]};
S.prototype.zk=function(a,c,b){c&&(b.Ih=a[0],b.Dh=a[1],b.Hh=a[2]);return[b.Ih,b.Dh,b.Hh]};S.prototype.vu=function(a,c,b){c&&(b.ya=a[0],b.ya&&b.Fa.current!==B.Aj&&(b.Fa.current=b.pe(B.Aj,!0,b)),b.fa.current[0]&&(b.fa.current=b.df([!1],!0,b)));return[b.ya]};S.prototype.IA=function(a,c,b){c&&(b.g.Tc=a[0]);return[b.g.Tc]};S.prototype.Kw=function(a,c,b){c&&(b.jd=a[0]);return[b.jd]};S.prototype.Bw=function(a,c,b){c&&(b.g.Ra=a[0]);return[b.g.Ra]};S.prototype.xw=function(a,c,b){c&&(b.Uc=a[0],b.Uc&&!b.g.Ba&&
(b.Za||b.mc)&&(b.Yc.current=b.vj([!0],!0,b)));return[b.Uc]};S.prototype.uv=function(a,c,b){c&&(b.g.Ma=a[0],b.g.Ji(),b.g.Hh(),0===(b.g.counter&1)?b.g.nf(b.g.pa):b.g.nf(b.g.Fa));return[b.g.Ma]};S.prototype.uw=function(a,c,b){c&&(b.g.yd=a[0]);return[b.g.yd]};S.prototype.zw=function(a,c,b){c&&(b.ad=a[0]);return[b.ad]};S.prototype.Du=function(a,c,b){c&&(b.g.va=a[0],b.ow());return[b.g.va]};S.prototype.Bv=function(a,c,b){c&&(b.B.A=a[0]);b.B.Ne(!0);return[b.B.A]};S.prototype.qg=function(a,c,b){c&&(b.B.v=
a[0]);b.B.Ne(!0);return[b.B.v]};S.prototype.$f=function(a,c,b){if(b.g.Eb!==a){b.g.Rl(a,c,b);1<b.g.Xd&&(b.B.C=b.g.Xd);for(c=0;c<=this.g.fb;c+=1)this.va[c].current=a!==B.Rn[c]?[!1]:[!0];b.m.o=!0;b.m.I=b.g.ae;b.yd.current=[b.g.nd&&0<b.g.Fb]}};S.prototype.$e=function(){var a=B.ox;this.ca>this.L&&(this.ca=this.L);var c=Math.sqrt((this.ca-B.Ig)/(this.L-B.Ig));var b=(this.X-B.tg)/(B.ff-B.tg);return 0===b?c*(1-a):b*(1-a)+1+a};S.prototype.Tv=function(a){var c=B.ox;this.ca>this.L&&(this.ca=this.L);a<=1-c?(a/=
1-c,this.ca=Math.round(B.Ig+a*a*(this.L-B.Ig)),this.X=1):(a<1+c?a=0:(a-=1+c,a/=1-c),this.ca=this.L,this.X=Math.round(B.tg+a*(B.ff-B.tg)))};S.prototype.Jd=function(a,c,b){var d=b.$e();c&&(d=a[0],b.Tv(d));b.ca>b.L&&(b.ca=b.L);return[d,Math.round(b.ca)<b.L?String(Math.round(b.ca))+"/s":String(Math.round(b.X))+"x"]};S.prototype.Mq=function(a){a.hj=a.g.zoom;a.Z&&(a.hj*=a.Eb);a.Sq=a.g.angle;a.Dz=a.g.lb;a.ua=a.g.ca;a.ub=a.g.Z};S.prototype.Ey=function(a){a.Uf=a.g.width/2-a.g.ca;a.fg=a.g.height/2-a.g.Z;a.eh=
a.g.zoom;a.cg=a.g.angle;a.eg=a.g.lb;a.Pf=a.g.width/2-a.ua;a.Si=a.g.height/2-a.ub;a.Rj=a.Sq;a.Ri=a.Dz;a.Ui=a.Z?a.hj/a.Eb:a.hj;a.yc=0};S.prototype.TE=function(a,c){a.g.zoom=a.ww;a.Z&&(a.g.zoom/=a.Eb);a.Ec&&(a.Ec.current=a.qe([a.g.zoom,a.g.zoom],!1,a));a.g.angle=a.Ji;a.la&&(a.la.current=[a.Ji,a.Ji]);a.g.lb=a.Oi;a.Xa&&(a.Xa.current=[a.Jl(a.Oi),a.Oi]);a.g.ca=a.sa;a.g.Z=a.qb;c&&(a.$f(a.Rm,1,a),a.Ja&&(a.g.Wd=0),a.ca=a.rw,a.X=a.tw,a.Ob.current=a.Jd([a.$e(),1],!0,a),a.g.oa=a.Ki,a.ab.current=[a.Ki,a.Ki],c=
Math.sqrt(a.Zq),a.Ba.current=a.ef([c,c],!0,a),a.Zg.current=this.uv([this.ar],!0,a))};S.prototype.Jv=function(a){a?(this.g.ca+=this.g.ya,this.g.Z+=this.g.wa,this.g.zoom*=this.g.Ja):(this.dt(),this.g.ca-=this.g.ya,this.g.Z-=this.g.wa,this.g.zoom/=this.g.Ja,this.dt());this.g.zoom<B.rb?this.g.zoom=B.rb:this.g.zoom>B.Mb&&(this.g.zoom=B.Mb)};S.prototype.yy=function(a){a.ra=0;a.Ja||(a.g.Df(a,a.vc),a.g.qg())};S.prototype.reset=function(a){var c=!1,b=!1,d=a.l.D();this.Pj&&this.g.ii();0===a.g.counter&&a.B.ib();
if(0===a.ra||a.en)c=!0;a.ma||-1===a.ob||a.g.counter>=a.ob&&(b=!0);a.g.gb=0;a.g.ee=0;b||c||(a.qa&&(a.ib=!0),a.gb&&(a.xb=!0),-1!==a.ob&&(a.ma=!0),-1!==a.Pb&&(a.wb=!0),a.dm&&(a.ja=!1));a.ra=0;a.g.ya=0;a.g.wa=0;a.g.Ja=1;if(c){(this.g.T||this.g.i)&&null!==this.g.Ua&&a.Qo&&(a.g.Ya=!0);a.qa&&(a.ib=!1);a.gb&&(a.xb=!1);a.dm&&(a.ja=!0);if(!b||a.qa&&a.l.L||a.ja)a.TE(a,c),a.ja&&a.Tc(!0,!1,B.Ei);a.ma=!1;b||(a.wb=!1)}a.Ja||(a.g.Df(a,a.vc),a.g.D||(-1===a.g.h?a.g.nf(a.g.pa):a.g.Ac()));a.Gb||a.g.Eg();a.g.qg();a.lq=
-1;a.Rb=!1;a.l.Va();a.kb&&(a.kb=!1,a.B.notification.clear(!0,!1));a.g.vf(a.kb);c?d&&d.Rp?d.ce!==a.He&&(a.B.notification.notify(Ib.tl(a,d.ce),15,21600,15,!1),a.He=d.ce):(a.B.notification.clear(!1,!1),a.He=""):(a.B.notification.clear(!1,!1),a.He="");a.sb=-1;a.g.Af=0;a.xp(a.g.counter);a.Tb=!1;a.Px()};S.prototype.sp=function(a){var c=this.g.xb;if(a){var b="pause";a="pause [Enter]"}else a="play [Enter]",this.g.T||this.g.i?(this.g.Ya&&(c=!c),b=c?"reverse":"play"):b="play";if(this.g.T||this.g.i)if(c=this.g.xb,
this.g.Ya&&(c=!c),c){var d="stepback";c="stepforward";var f="step back [Shift Tab]";var e="step forward [Tab]"}else d="stepforward",c="stepback",f="step forward [Tab]",e="step back [Shift Tab]";else d="stepforward",c="stepback",f="step forward [Tab]",e="step back [Shift Tab]";this.Kb.h[B.be]=this.m.h(d);d=this.Kb.R;d[B.be]=f;this.Kb.R=d;this.Kb.h[B.Em]=this.m.h(c);d=this.Kb.R;d[B.Em]=e;this.Kb.R=d;this.Kb.h[B.Yh]=this.m.h(b);this.Kb.R[B.Yh]=a};S.prototype.aC=function(a){localStorage.setItem(B.xx,
"y");a.Nv()};S.prototype.xc=function(a,c){c.td=a;c.s=1;c.jj=!0;c.gn=[];c.hn=[];this.mt=!0};S.prototype.OA=function(a){a.xc(B.zs,a)};S.prototype.Tz=function(a){a.xc(B.xu,a)};S.prototype.tA=function(a){a.xc(B.Vo,a)};S.prototype.XA=function(a){a.xc(B.Ou,a)};S.prototype.cA=function(a){a.xc(B.Hr,a)};S.prototype.mD=function(a){a.xc(B.gr,a)};S.prototype.bB=function(a){a.xc(B.Ss,a)};S.prototype.yD=function(a){a.xc(B.jr,a)};S.prototype.EA=function(a,c,b){c&&(b.s=b.u[a][0],b.jj=!1);return a};S.prototype.Vt=
function(a,c,b){c&&(b.Qd=a[0],b.Qd&&b.il(b));return[b.Qd]};S.prototype.yA=function(a){a.il(a)};S.prototype.hu=function(a,c,b){c&&(b.Lc=a[0],b.Lc&&(b.Yp=!0));return[b.Lc]};S.prototype.pe=function(a,c,b){var d=a;if(c){switch(a){case B.zj:b.vi=!1;b.D||b.g.ea?d=b.Fa.current:(b.Za=!0,b.Oc.current=b.ne([!1],!0,b),b.mc=!1);b.em(b);b.Uc&&(b.Yc.current=b.vj([!0],!0,b));break;case B.Bj:b.Za=!1;b.Oc.current=b.ne([!1],!0,b);b.mc=!0;b.Uc&&(b.Yc.current=b.vj([!0],!0,b));break;case B.Aj:b.Za=!1,b.mc=!1,b.Oc.current=
b.ne([!1],!0,b),b.em(b),b.Uc&&(b.Yc.current=b.vj([!1],!0,b))}b.gn=[];b.hn=[];b.fa.current[0]&&(b.fa.current=b.df([!1],!0,b),b.B.i=!0)}b.Wq(d);return d};S.prototype.Wq=function(a){if(this.s||this.ea)this.h.Z("grab");else switch(a){case B.zj:this.h.Z("auto");break;case B.Aj:this.h.Z("grab");break;case B.Bj:this.h.Z("crosshair")}};S.prototype.Dw=function(a,c,b){c&&(b.ac=a,b.xm(),b.Qe.current=[!1],b.B.i=!0,b.Ea?b.yq(b,a):b.B.notification.notify("Clipboard "+a+" active",15,80,15,!0));return b.ac};S.prototype.Sz=
function(){return B.nv[this.Df.current]};S.prototype.Wu=function(a,c,b){c&&(b.Cf=a,b.Ha=B.nv[a]);return b.Cf};S.prototype.BB=function(a){a.D||(a.Cf+=1,3<a.Cf&&(a.Cf=0),a.Df.current=a.Wu(a.Cf,!0,a))};S.prototype.Oz=function(a){var c=-1,b,d=0,f=0,e=0,g=0;'"'===a.charAt(0)&&(a=a.substring(1,a.length-1));if(this.g.v)for(b=0;b<this.wg.length&&-1===c;)void 0!==this.wg[b]&&this.wg[b]===a&&(c=b),b+=1;else if(2>=this.g.h)if(this.g.D)for(b=0;b<B.wg.length&&-1===c;)B.wg[b]===a&&(c=b),b+=1;else"alive"===a?c=
1:"dead"===a&&(c=0);else if("dead"===a)c=0;else if(this.g.i){for(b=0;b<a.length&&-1===c;){switch(a.charAt(b)){case "N":d+=1;break;case "S":f+=1;break;case "E":e+=1;break;case "W":g+=1;break;default:c=-2}b+=1}if(1<d||1<f||1<e||1<g)c=-2;-2!==c&&(c=d|e<<1|f<<2|g<<3)}else if(this.g.o)for(b=0;b<I.np.length&&-1===c;)I.np[b]===a&&(c=b),b+=1;else"alive"===a?c=1:"dying "===a.substring(0,6)&&(c=Number(a.substring(6))+1,c>=this.g.h&&(c=-1));return c};S.prototype.Ch=function(a){var c="";if(this.g.v)c=void 0===
this.wg[a]?"state "+String(a):this.wg[a];else if(2>=this.g.h)if(this.g.D)c=B.wg[a];else switch(a){case 0:c="dead";break;case 1:c="alive";break;default:c="state "+String(a)}else 0===a?c="dead":this.g.i?(0!==(a&1)&&(c+="N"),0!==(a&2)&&(c+="E"),0!==(a&4)&&(c+="S"),0!==(a&8)&&(c+="W")):c=this.g.o?I.np[a]:this.g.ea?"state "+String(a):1===a?"alive":"dying "+String(a-1);return c};S.prototype.xv=function(a,c,b){var d=a;c&&(2>=b.g.h?b.Je=a:(a+=b.Nb,b.Je=0===a?0:b.g.ea||b.g.i||b.g.v||b.g.o?a:b.g.h-a),b.Oc.current=
b.ne([!1],!0,b),b.B.notification.notify("Drawing with state "+a+" ("+b.Ch(a)+")",15,120,15,!0));return d};S.prototype.Gd=function(a){var c=this.g.h,b=this.ec;-1===c&&(b=c=2);this.g.D&&(b=c=7);a<c&&(a>=b?(this.Nb=a-b+1,a=b-1):a>=this.Nb?a-=this.Nb:(this.Nb=a,a=0),this.Ua.current=this.xv(a,!0,this),this.mk.current=this.zv([this.Nb/(this.g.h-this.ec),0],!0,this))};S.prototype.MA=function(a,c,b){var d=0;if(c)for(;d<a.length;)a[d]&&(a[d]=!1,b.Ua.current=b.xv(d,!0,b)),d+=1;return a};S.prototype.nE=function(a){var c=
0,b=this.Je,d=this.g.Xa;var f=this.Y;var e=d.F,g=d.J;var k=d.G;d=d.K;var l=(this.g.width>>1)-(this.A>>1)+(this.V<<1);var p=(this.g.height>>1)-(this.C>>1)+(this.W<<1);2<this.g.h&&!(this.g.ea||this.g.i||this.g.v||this.g.o)&&0<a&&(a=this.g.h-a);this.P&&(e=f.F+l,g=f.J+l,e>g&&(l=g,g=e,e=l),k=f.G+p,d=f.K+p,k>d&&(l=d,d=k,k=l));if(b!==a){for(;k<=d;k+=1)for(f=e;f<=g;f+=1)p=this.g.Ha(f,k,!1),2<this.g.h&&!(this.g.o||this.g.i||this.g.v)&&0<p&&(p=this.g.h-p),p===a&&(this.pa(f,k,b),c+=1);0<c&&(!this.g.D||6!==a&&
6!==b||this.g.Wa(),this.M("replace states"))}else this.B.notification.notify("Cell and drawing state are the same",15,120,15,!0)};S.prototype.hm=function(a,c,b){var d=a.Je,f=a.g.Xa,e=0,g=0;if(0<d)if(2<a.g.h&&!(a.g.ea||a.g.i||a.g.v||a.g.o)&&(d=a.g.h-d),a.g.D&&1<d&&(g=d&1),a.g.D&&c)if(b){for(b=f.G;b<=f.K;b+=1)for(c=f.F;c<=f.J;c+=1){var k=a.g.Ha(c,b,!1);3<=k&&5>=k&&(a.pa(c,b,k&1),e+=1)}0<e&&(a.g.o?a.M("clear [R]Super marked cells"):a.M("clear [R]History marked cells"))}else{for(b=f.G;b<=f.K;b+=1)for(c=
f.F;c<=f.J;c+=1)k=a.g.Ha(c,b,!1),1<k&&(a.pa(c,b,k&1),e+=1);0<e&&(a.g.o?a.M("clear Super cells"):(this.g.Wa(),a.M("clear History cells")))}else{for(b=f.G;b<=f.K;b+=1)for(c=f.F;c<=f.J;c+=1)k=a.g.Ha(c,b,!1),k===d&&(a.pa(c,b,g),e+=1);0<e&&(a.g.D&&6===d&&this.g.Wa(),a.M("clear state "+d+" cells"))}return e};S.prototype.qd=function(a,c,b){var d=a,f=b.wb,e=b.ma,g=b.ib,k=b.Wb,l=b.ja,p=b.xb,n=40,q=0,m=0,r=0,u=0,t=0,v=0,x=0;if(c){b.vi=!1;switch(a){case B.bt:b.Wb=b.en||b.Ab&&0===b.g.counter&&0===b.ra?!1:!0;
b.Ab&&!b.Wb?(a=B.Yh,b.Bb=!0,b.bc=0===b.g.u&&0===b.g.counter?!0:!1):(a=B.be,b.Bb=!1);b.M("");b.reset(b);c="Reset";!b.ma&&e&&-1!==b.ob&&(m=1);b.ma&&!e&&-1!==b.ob&&(m=-1);!b.wb&&f&&-1!==b.Pb&&(r=1);b.wb&&!f&&-1!==b.Pb&&(r=-1);!l&&b.ja&&(x=1);l&&!b.ja&&(x=-1);!b.ib&&g&&(u=1);b.ib&&!g&&(u=-1);!b.xb&&p&&(t=1);b.xb&&!p&&(t=-1);!b.Wb&&k&&b.Ab&&(v=1);b.Wb&&!k&&b.Ab&&(v=-1);if(0!==m||0!==r||0!==u||0!==t||0!==v||0!==x)c="",0!==m&&(q+=1,c+="Loop"),0!==r&&(0<q&&(c=0<Math.abs(u)+Math.abs(t)+Math.abs(v)+Math.abs(x)?
c+", ":c+" and "),q+=1,c+="Stop"),0!==u&&(0<q&&(c=0<Math.abs(t)+Math.abs(v)+Math.abs(x)?c+", ":c+" and "),q+=1,c+="Waypoints"),0!==t&&(0<q&&(c=0<Math.abs(v)+Math.abs(x)?c+", ":c+" and "),q+=1,c+="Track"),0!==v&&(0<q&&(c=0!==x?c+", ":c+" and "),q+=1,c+="AutoStart"),0!==x&&(0<q&&(c+=" and "),c+="AutoFit"),c=0<r||0<m||0<u||0<t||0<v||0<x?c+" On":c+" Off",n=120;b.B.notification.notify(c,15,n,15,!0);break;case B.Yh:b.Bb?(b.Bb=!1,b.M(""),(b.g.counter!==b.Pb||b.wb||b.Xc)&&b.B.notification.notify("Pause",
15,40,15,!0),b.Ug=performance.now()-b.Ug,b.Cp&&b.B.notification.notify("Playback time "+(b.Ug/1E3).toFixed(2),15,300,15,!1)):(b.qa&&!b.ib&&(b.g.T||b.g.i)&&(b.g.xb||!b.g.xb&&b.g.Ya)&&b.xr(b),b.Bb=!0,b.M(""),b.bc=0===b.g.u&&0===b.g.counter?!0:!1,b.an&&Ka.Iu(b),b.B.notification.notify("Play",15,40,15,!0),b.Ug=performance.now());break;case B.Em:if(b.Bb)b.Bb=!1,b.M(""),b.B.notification.notify("Pause",15,40,15,!0);else if((b.g.T||b.g.i)&&null!==b.g.Ua){b.g.Ya=!b.g.Ya;b.g.Ya&&b.M("reverse playback");b.M("");
for(f=0;f<b.X;f+=1)b.g.$c(),b.g.Ac(),b.he(),b.g.cd(b),b.g.se(),b.ha=b.g.counter*b.L,b.vf()&&-1===b.sb&&(b.sb=b.g.counter,!b.Xc||-1!==b.ob&&!b.ma||b.bc||(b.g.i||b.g.T?b.B.notification.notify("Life ended at generation "+(b.g.gb+b.Ca),15,600,15,!1):b.B.notification.notify("Life ended at generation "+(b.g.counter+b.Ca),15,600,15,!1)),b.bc=!1);b.g.Ya=!0}else 0<b.g.counter&&(b.xp(b.g.counter-b.X),q=b.g.u,b.vq(b.g.counter-b.X),0===q&&0<b.g.u&&(b.sb=-1),0===b.g.counter&&(b.g.D||(-1===b.g.h?b.g.nf(b.g.pa):
b.g.Ac())));break;case B.be:b.Bb?(b.Bb=!1,b.M(""),(b.g.counter!==b.Pb||b.wb||b.Xc)&&b.B.notification.notify("Pause",15,40,15,!0),b.Ug=performance.now()-b.Ug,b.Cp&&b.B.notification.notify("Playback time "+(b.Ug/1E3).toFixed(2),15,300,15,!1)):(b.gd=!0,b.M(""),b.bc=0===b.g.u&&0===b.g.counter?!0:!1)}d=a;b.sp(b.Bb)}return d};S.prototype.pg=function(a,c,b){c&&(b.Rb=!0,b.g.angle=a[0]);return[b.g.angle,b.g.angle]};S.prototype.Jl=function(a){var c=.5/(.5-B.lj/2);a=(a-B.Dn)/(B.Ps-B.Dn);a<.5-B.lj/2?a*=c:a>.5+
B.lj/2?(a-=.5+B.lj/2,a=a*c+.5):a=.5;return a};S.prototype.NA=function(a){var c=.5/(.5-B.lj/2);a<.5-B.lj/2?a*=c:a>.5+B.lj/2?(a-=.5+B.lj/2,a=a*c+.5):a=.5;return(B.Ps-B.Dn)*a+B.Dn};S.prototype.wj=function(a,c,b){c&&(b.Rb=!0,b.g.lb=b.NA(a[0]));return[a[0],b.g.lb]};S.prototype.Bk=function(a,c,b){c?(b.Rb=!0,b.g.oa=a[0]+.5|0,a=a[0]):a=b.g.oa;return[a,b.g.oa]};S.prototype.ef=function(a,c,b){return c?(b.Rb=!0,b.g.vb=a[0]*a[0],[a[0],b.g.vb*B.Ik]):[Math.sqrt(b.g.vb),b.g.vb*B.Ik]};S.prototype.WD=function(a,c,
b,d){var f=this.Je;-1===b&&-1===d?(this.El=this.ty(),2<this.g.h&&!(this.g.ea||this.g.i||this.g.v||this.g.o)&&(f=this.g.h-f),this.El=this.dh&&this.El===f?0:this.Je):(this.$n(b,d),b=this.Sd,d=this.ee,this.$n(a,c),a=this.Sd,c=this.ee,this.ND(b,d,a,c,this.El)&&this.g.Wa());0<this.g.u&&(this.sb=-1)};S.prototype.QA=function(a,c,b,d){d.ad&&!b&&(d.Kb.current=d.qd(B.be,!0,d))};S.prototype.zA=function(a,c,b,d){d.Va||d.Fw(a,c,b,d,!1)};S.prototype.nD=function(a,c){c=(a.cd-c)/a.Xj;-1!==a.cd&&(0<c?a.Yo(a,c):0>
c&&a.kp(a,-c))};S.prototype.cD=function(a,c){c=(a.cd-c)/a.Xj;-1!==a.cd&&(0<c?a.Wo(a,c):0>c&&a.Xo(a,-c))};S.prototype.zD=function(a,c,b){c=(a.Rg-c)/a.g.V;b=(a.cd-b)/a.g.V/(a.g.A?B.Rd:1);if(-1!==a.cd){var d=a.g.ga||a.g.A?0:-a.g.angle;if(a.Wa)a.qa&&!a.ib&&(a.Kb.current=a.qd(B.be,!0,a));else{var f=Math.sin(d/180*Math.PI);d=Math.cos(d/180*Math.PI);a.Rb=!0;a.g.ca+=c*d+b*-f;a.g.Z+=c*f+b*d}}};S.prototype.IC=function(a,c,b){var d=a.Bb,f=a.Ia;a.Vd||(a.Bb&&a.ti&&(a.Bb=!1,a.vi=!0),d&&(a.Ia=0,a.M(""),a.Ia=f),
a.WD(c,b,a.Rg,a.cd),d&&a.M(""))};S.prototype.HD=function(a,c,b){a.Ea||a.XB(a,c,b)};S.prototype.Ev=function(a,c){var b=this.g.width>>1,d=this.g.height>>1;this.Sc?(b-=Math.floor(this.Nd/2)-this.V-this.V,d-=Math.floor(this.Md/2)-this.W-this.W):(b-=Math.floor(this.Nd/2),d-=Math.floor(this.Md/2));0===this.g.M?(a.F=0,a.J=this.g.width-1):(a.F=Math.round((this.g.width-this.g.M)/2)+c,this.Sc||(a.F+=Math.floor((this.Nd-this.A)/2)),a.J=a.F+this.g.M-1);0===this.g.I?(a.G=0,a.K=this.g.height-1):(a.G=Math.round((this.g.height-
this.g.I)/2)+c,this.Sc||(a.G+=Math.floor((this.Md-this.C)/2)),a.K=a.G+this.g.I-1);return[b,d]};S.prototype.XB=function(a,c,b){var d=a.Y,f=new Va(0,0,0,0),e=(a.g.width>>1)-(a.A>>1)+(a.V<<1),g=(a.g.height>>1)-(a.C>>1)+(a.W<<1),k=a.g.T?-1:0;-1!==a.g.C&&(g=a.Ev(f,k),e=g[0],g=g[1]);if(-1!==c&&-1!==b)if(this.$n(c,b),-1===a.cd)a.Kv=c,a.Mv=b,a.P=!1,a.Bc=!1;else{if(a.fe)d.J=a.Sd-e,d.K=a.ee-g;else if(c!==a.Kv||b!==a.Mv)c=!1,-1!==a.g.C&&(a.Sd<f.F||a.Sd>f.J||a.ee<f.G||a.ee>f.K)&&(c=!0),c||(a.fe=!0,d.F=a.Sd-e,
d.J=d.F,d.G=a.ee-g,d.K=d.G);a.fe&&(a.Pv(a),-1!==a.g.C?(g=a.Ev(f,k),e=g[0],g=g[1]):(e=(a.g.width>>1)-(a.A>>1)+(a.V<<1),g=(a.g.height>>1)-(a.C>>1)+(a.W<<1)));a.fe&&-1!==a.g.C&&(f.F-=e,f.J-=e,f.G-=g,f.K-=g,d.F<d.J?(d.F<f.F&&(d.F=f.F),d.J>f.J&&(d.J=f.J)):(d.J<f.F&&(d.J=f.F),d.F>f.J&&(d.F=f.J)),d.G<d.K?(d.G<f.G&&(d.G=f.G),d.K>f.K&&(d.K=f.K)):(d.K<f.G&&(d.K=f.G),d.G>f.K&&(d.G=f.K)))}};S.prototype.Jo=function(a){a.P=!1;a.Bc=!1;a.M("cancel selection");a.fe=!1};S.prototype.VC=function(a){a.Ea?a.Cq(a,a.Sd,
a.ee,!0):a.MB(a)};S.prototype.il=function(a){var c=a.Y,b=a.g.m,d=c.F,f=c.G,e=c.J,g=c.K,k,l=0,p=(a.g.width>>1)-(a.A>>1)+(a.V<<1),n=(a.g.height>>1)-(a.C>>1)+(a.W<<1);a.g.Jb=!0;a.g.Sb();if(d>e){var q=d;d=e;e=q}f>g&&(q=f,f=g,g=q);d<b.F-p&&(d=b.F-p);f<b.G-n&&(f=b.G-n);e>b.J-p&&(e=b.J-p);g>b.K-n&&(g=b.K-n);b=e+1;q=d-1;var m=g+1;var r=f-1;for(k=f;k<=g;k+=1)for(f=d;f<=e;f+=1){var u=a.g.Ha(f+p,k+n,!1);0<u&&(k<m&&(m=k),k>r&&(r=k),f<b&&(b=f),f>q&&(q=f),l+=1)}0<l&&(c.F=b,c.G=m,c.J=q,c.K=r)};S.prototype.MB=function(a){var c=
a.Y;if(a.fe)if(a.P=!0,a.fe=!1,a.Bc=!1,a.Qd&&a.il(a),a.P){var b=c.J<c.F?c.F-c.J+1:c.J-c.F+1;c=c.K<c.G?c.G-c.K+1:c.K-c.G+1;a.M("selection ("+b+" x "+c+")")}else a.Jo(a)};S.prototype.RC=function(a,c,b){-1!==c&&-1!==b&&(a.wv=!0,c=a.ty(),a.Gl?(a.nE(c),a.Gl=!1,a.Oc.current=a.ne([!1],!0,a)):(a.El=c,a.Gd(c)))};S.prototype.NC=function(a){a.vi&&(a.Bb=!0,a.vi=!1,a.B.Ne(!0));0<a.Ia&&(a.g.Sb(),a.M(""))};S.prototype.Fw=function(a,c,b,d,f){-1!==a&&-1!==c&&d.B.l&&(b?(d.fa.current[0]||(d.s?d.nD(d,c):d.ea?d.cD(d,c):
!d.Za&&!d.mc||f?d.zD(d,a,c):d.Za?d.IC(d,a,c):d.mc&&d.HD(d,a,c)),d.Rg=a,d.cd=c):-1!==d.Rg?(d.s||d.fa.current[0]||(d.Za?d.Vd?d.RC(d,a,c):d.NC(d):d.mc&&d.VC(d)),d.Rg=-1,d.cd=-1):d.s||d.fa.current[0]||(d.Vd?d.B.notification.notify("Now click on a cell",15,180,15,!0):d.Ea&&d.B.notification.notify("Now click to paste",15,180,15,!0)))};S.prototype.xf=function(a,c){8>this.g.zoom&&(0>a?a=-8:0<a&&(a=8),0>c?c=-8:0<c&&(c=8));this.cd=this.Rg=0;this.Fw(a,c,!0,this,!0);this.cd=this.Rg=-1};S.prototype.pB=function(a){var c=
B.vn;null===c&&(c=new Image,c.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABzAAAAAoCAIAAAAe3vulAAAABnRSTlMAAAAAAABupgeRAAAUBElEQVR4nO2dS5LlqA6GfW70TnpTvYwa17zntWN64JsEBwEWQhIP/9/ghBMwEi8BMnZeFwAAAAAAAAAAAAAAAAAAAJDx69cv0/A3Y123qPMXcjc6bXrr8CxNI4FdLAAAAAAAAAA0OHWv/ddsBQDQJ4SQhXw+H4ecZ8mdRQjBRw03QQBM4c+fP79+/frz549buGyNMhKbco9on1+mSmB3MB8BACyQDXkYCgCALljnnAocsuBYLExJ2/06V64/1OWhYsEt8jwA1ANQhDptb3cqDdeKjcAbCyzAfAQAENM10jl2AIYCAKDLxHVOdD5YWDbTzLfgf7MVAMCE22bZ5V+zgLPkzuJt5QXgSIrnao1i3byx6zy7Aj5gPgLXdYVvZqsD9iAb2qkxoaMedgAAMIXp6xx16ZimLzhkwcHY2ay2tZoldxZvKy8Ap3J/2cAoNl5nJ1iNfmE93gnmo14v5HZ7ofDEdV2fH5jpAcjoGu/FjoSuBQCwYPo6R1E67OQNPlkATsZiW87JcJbcWbytvACchOfx2MvFW5r5fMEsikfM0vV3VzizNTEfXZ3bKnHpxFupwcqs3U4LEn2yjVtGNAGnwuk5aRqfjrSdIQIAWOC/zsmsnIr0zGxuatxqa9cucEIWHI7uOolvgGbJncXbygtqLHjmaEGVMm7HJT1hah1+k/pMaTJxbM1Xm21fi+fUaufXHsPvP0eWqlPO000RejAT56N1GutRExVVP/2MCwUwC6aE+kOgWPMxKn0tI02THtD2UVuAxfy7slwAjsF/nZMlGB+/jczfxtAHyy2o9a3eh9tdyqeZjJRavdK0FBOLjkJV6pmTTyZXC5WmEWTiIJf/n821yN4+zmLVn5ip5NmQxcx8bj1fZjZZN9uJJqvIFvN96rh0u6YXRZXUY2/SXlfc+tY60mN4dmSp3eI0AXN1azfR84X2jtxi1VkPWOaErlXt0+cjowVML8xmLQ69XkGCewcnncbtjY70eM7RB601Ybx+NHHMlL1y+Swul98ixfli0Cz36jMSW7vlvlCcf1eWq4L6KG4zfUIBS7HIOoem7Bq/zN2Z89a78cJfA9uF9KznTqGCVvrHTAbVlt3+qJVzW1CJKvXMyce/sEdSM2Fa4WcwPrg869liUKjbPVqlE4ezismypnia1TR8buz105PVewjtipz0nGnOtCPJhArUaOejWCIBbrXtwCLaPtaeSt22M++9a1DoCrlxxI0Xnz86dAfR4zg1Gryz5BY1odfFwCykSx+Z8uK7FNtofbkq4sYlrtCZ38mU+jyvKQf758jtC/o3VNr3+ZMFJ3UgCxTrh5+VaaMs0tyLqAEOJnuC98IuF1+1E9wbmpuQLHzKAqgrfBb0eez94r9deBrb0Moo9iLfE9B6iznNJ3R+1I8O/8dXrcctxhSh4CXUzqfUQoAn4vov3ojWHKRoV0PJkRqnlTQ8HWt03hGssromr6itbBq1mH9XlitGd7PvcAugTNySHIbs3bJiYhwAv+H+U6+wxntYS6E7njlmIosST8AcNVbAooAAXIlBEyx8T+LUIfbmNmUSfaZt56libHQNB973BEboyp+/Ovz8fA8hvXf8eYZAqEAieBuf749aFvuY0Rg8clqJqAxAgelo7w7OrnNT6Dowel2zBxvR/fe4dBxsEXpve8rQav10dub/qoheFky4Z+DgQnkVH9H/+II3tgbXIXsDt+yNunUeeVqu2BwLzjpvs5gnmare7uRf2HR5vWDnXxzZZNyVUsBjO249phSJ51hrR2jtYh12ceK9Iie9uOcrCvUkysXYOQOjFSw9k4sO06bXdMTEteOZnrTl2hkrC7l0vij6Q6MRLh56jbcLjsQ+qlcUpyvlgjeW4DDnzhpHb6P2bsFhHThbraVWgl5fwwakdzF8kotDnT6H7M2bV1oHG8dli3aexXwP/Ibz7H7RgsVXkNxeeloKFUeS4MU6FdGNzAEHlX/b1c65xmonZNO7uvLv1+v/yPwps3yyUa5g7ae1XNxl2Vk7WDeS5+A5u8YhWev6bJ/orEVp9RZB+vU7GLCg4X7NXLTUJ97w4arQPtuuO40KvLGnbtCwmDyJV71bkBanfa3Syfk+WXhj2zx/Q7ZG9GW8BNPyivulVodevCkXVw9sB11bo485YFrJnMyxAoiIPappbPE/iTVib7JdnNboS/NJTzN15cBPLPa4iU+3+dsoU8NYzHn3Efr5oRgoY1yleJ02qK4fp+jq9S9sptIU0V1K+gsFNWhzFBsofYr/Kc0Cijbz0Vv0GX5KV5w3u35pPr1ytfRXAdsBAB5prCWKw6fmjcVwi8gdsjdvqMqJZfRZLG7RglsoCdYHz+huLB4LZ3XrPGYfi8Mpb2iim+am5tO0C8/w/+9eQeQt7eIjPbnTpVVxN87Pv0u9iTNgSD7tophnLeq1NtkOtyqN9u3sBZvA20tX8ujnK/P5OUEW+3O8rk1e8ZZ44aqxBgJv7I7FrEGXZ69FvSrm1m3RkeLgXfGnqziKZW/7ZAP23QwknyygxFlKJbd1mGs+iiHqKm00/cg22MdTc4jYhbffR16ZEUuFei6yzoq8rQa/0Wsp6ZJCZXNyey3TU6X3tXV4jZHPETxmfiP2lvIJ5PwOk2WnGP+BlnofdH2yjwVZx6ocQ6zS6XU7cb+wzlZlBR0Ah0/pNGi8yKaY7Hnb4DTHvF1xPhV4Y8/oyZhuiij2q/FMwOJkS4vao6kzLIYrzfM9LYzkaqV/zKSdrUXxx8srEMos5mNKLYkClUADa+8hh67GcmjZWhfq7Vf+ntkbppKcZIO1TWvscdhaD+Q0zxFZjcRp/rXfhg5tfe5GL55yNQ3PEtTSqMRG0kq7zF5dVO9jbblMcUb934JQmpdVsmWOUDtzYcfKCkfFFDXkGMyaGr0Z8tPYiR5HfRBppXyt3C4Nmf0nSyarBKMi0Hup5r2/NJ9euVr6y24XMK6z/zjioyh3VhGWUsZNbu8YHBFUvL131AjqZAX/RoZK+45+soCyyKgT46x/UVbjAUIxSqbwps20qdoXsVPiNGcwq3TtFyt2J3wvke1EWEvpInyfe3J4ABu0j4pk51jdwjPsjsemSx962kilydJ8wnFvUzoz2J8b2fITb3eSIvycI165701XbOJboiu8oDpdAVOKa1fxglY3txrprJFe1HZntdjGW4zMRh8vmiCH4rwpOCHbO7gs5v0ujt9kRUI/2e0johU1AYMo1mdt3PX6r1aYlBdB55MFlPC9QwarsbWZC6e8JvNmlmrBpZRRoTFGFIePOCvFCn+caywat7Y5URfkhueXZOleTp2T3qb0p9aTUZ9tVq4f2qbUatm54Olr3T6PzWaJfi2NeVBQ7bq5ccRdyaqm6KaM4VniTOdaLEeB8SKM3F5c2DB9sruw9VJtCrJWRj37024maqyMdKBNv52VaNDu2OKyWzlkAQAgI53UnZdxxZ3YYduzrEp9SidoR2tvbAy062ONzYmFuMNw2MXtu1c8m64xsuloWnBaybyu8U86ZSylNtgR3d249d4+nbhrvlS6wGhPLjFW5padyBu8sQC8ion7bhWYX0LTCuf/G4zHZDExM6WVQ3a7Jn8bW/sO0Ls2JW246d7Ywyie1KDh4/MxNR2zLMmjk93hAOYx3tj7gwONVYtiLE7I7oisMukgTUdKuk+ohdTyWZPFe100jEU9LUZNUYpi/muKfjnZbKi75LDonzXfK015Q0/RpoHpxYjCzPGoOGZfckI2bR1PihLp3LcgMt12XxXvSG0nSK+LibV04CjGhHpIa59H0wrnwOzbXUXW/4ZsfCq4Kc76F2U1mrkYJbaVgrums6naIBLsv3NKxfHDd+TxsIZuna8wBuceeT5jW0Ix/XBBvM6qK/bPQdJ8DnCRT+Guw2wV5OCko2ooinNjNSMQfpityHUlw9NfJTvRi9TtgnBcnLNyo9B2bDwZyqJip0qVjCFLGYQixXlT4I3tHVwW834X/q3DdPdbyO1FSzea1YgmQIz6vrs27nr9V+ssUXp57Jy9vVfTIXvS4PEsy4isQT23a6/tFE7hTDNvmIo+xqcXG0IjWzyUZvLoBbj7ku6cN7fe5npjL4MTsrVDptbhaWxbN8VYB2/px8tFLi7FLmtQIz0bTbNLzRQJCcVAAWI1srXEJ3GdNFYgW9e/J6ioNrqLWNMlcZozbdbUl5EOIqZiI/3kcTzqTnO1hU37V0v6FJy3WkVZK29DxnVbuXTn0ZjZaax602TWgA6u3c1FRqMCBXWrsyZWbNSa3JqI3vSPmdAbfaqiKKW9ShgR9yg6y1+lnjn5cJQ5Bmq8aMhjJo1TaUYwD/l3rRSNvCc1x6vAeTe9nmkV9ZZCt5JlM+u4AsVSCxq0kXmND+NNN36aSOq19LwuKmD6ZySQc0a6HSOQ8ztGtBcP4+mdyWqsZj+7MuTczjQmC9bYgtS6fQxvjwutiVs2+jh3PaaxE50mvi+m9Em+GdE1OIubr0ukYbRR2ayUDRY6p3jOMu0RPZj5VZo3+b80n165WvqrZMVkROKs8ctHsVaNMhxR48a/Pv3l2kEbtOG+eIzq3YxP/2RBCrUbyk1Mn9IX0RTZlKuV/jGTXkFaFcLMX0scUzo/wWqCtoCWUavUdl+85tOlv1ETF2tSsVN51rNdKcTURmsDFYmcwF0onmY1DWcqYBF7E21d/FOl+bJ8HLqErGMrDgddaqbSTbSd3XgVtepKR5zg9t7Eslbj3PWYxk50TKmCQEmqgFZKXbmzkGkYvpffxVhOIM2QrwNHQ74CXTkHMm/2/tJ8euVq6a+Vod3gTaV0KTMoEVzz6tNNrsDuiQVldqNdxloCQZ2s4N/IUGlf+ScLnM/5T8e0vOIm1Brbizfl4uqB9aGGcvdOVXwDZYoObgTLs7GzoE9o728L2IXfqHwrtia0FnuTnazRmlvTfIL925Rp5l36P774sggr6wZqhPqhOaMRYeSwWJaDi/Za4pT0uLoIP15IzmjawtQX503BCdneedxi3lfBx7nxNhfKOynOhmdMkZndyKKK6dM/4y1nDITUDIoz+WtE8AuJr3XMVkQf6+2rmDf3t91ZrUelc8BcTVRYoRRddmNc4cO8sROJntOi29Qu9nJ509M6f0XLZqqnALGjGVzHTTGPNIq52uwPQIP2jjpa6fgbvt/Wz+6imQwaBLrQsrAwAm/savOXFgdv9sHZpNuibEFSjFIRF2lYg8yIHWY6xsvS55A9qe5GULfUYmeo+oPB1aYfdLl9Qdu9BKbdGOwPVAS8sSPEc6zt13YUY6N/1mEXZ7pXHN8Yn70wfS1tH806NIbGymovwoLrZEpRQ92nBVSEf8+xa4jH1UUaFbeE7ecT4z7Zkds5wBubAbcsGKExWRgNnPaTIWq1BuldDGPp24DrkEWVUXQtdeymtUPgNMruAal6tjKO73XqT9EBB1SyOv52A97YQR7PsdrF7ntCVtEHQRemI7lZoLheH89qwfqhLK4e0CIdvGs2ur8jYHey+eLxcQX1Sxaj2hn2apj+abQBFPweD9yyQEzRFJ8xcGQWCT7ZGs/fkE2nGUBRrB9+VqaNskhzL6IGOAz0qx3JXrTJ9j9AQPsfjNrFXqX3PVW2Omk+cUs8nm3MWX1VTftwTdDuZCUKCXcIrYpPgp+iGkQDNVuRFvfoyPZF66u9DutXVFHD9dWeQuz5cVBko4Ma6hhOR80///zz+/fvLMNxPt+o5HnN++das+SK2XEyAitA1zazNFFk5PlQzZy+nJZDFtaHj0VdTRzD09tdXQGtiX8XuW4Egn+eNH0gp1c23duDlOgyOKkd6Vv/t0PTLjyF//+7FGNDyVv66LN7DE//LO6TFdF9EKuSTxcNa7m1qVxhPrprb9as3RAdyJG96JY9z646sH51HekIsODz/YZibThk68ksMPL333//+++/NOUg6pYty7wmixm+l1wxsJNAQMNcCJi+zgkVbyx//G7tk6V11YaZLcwKOJDwvfEIejvzds5T5LYdLhY03kS+Jr2dSk2e+pppej0rdiewFOmRUs9rjj4jsY2U4fuE7H2Rmbh43RWe7qi1hkxt9amIg4i34T8fBfJG86BoGTXRzirJxHHuekxjJ3pHtAbCqwjf/tmLUYFZsnQOWrlrWcy/K8sF4CSmrHPSP1XGL42KOG+9H/dHV7/7GNYJvJd0tKg/eGlkPksupWbCtMIp4ec9L2Z6n6wssK7bxrlChnZgS+5GL55yNQ1PY+m1bmzEZ4BjvLyZWfNR8UxE73mKDJnO2YLBfzjYlfcxjWdVg9eS9pla59HtVOioAIBIcF/nqM+Yggz9/RsZRuuK52/IArAvweC5NOdtxFlyZ/G28gKgy/2CP302ax2exrZ1U4x1ODEUVL8hC/Zi4nxU/ODDZwyZtp/ZnyMwLa/K/oeq2l9K8DpiB4uj7PI6A4WOCgC48V/nZFEq0rNMtli0WyxpLjhkwcHY7fkfbdYUubN4W3kn0vtcrpfZ5QOTMf1PX/E6JN5So9/P2m+JAjswH0VOdd/0boe09kvgbJij+5N8x+DxXvQuAIA609c5itJhJG/+mq0AACZY78ZrNmuW3Fn4lBf2+sKkBSzxPCT7+f6ynvWvrELAjmA+AgDIoOO6PdgD/hUeAMCdzC6pm6DHdY6RRN08twMOWXAs6fDWMh8ckzFLrj/UZKuUl+aJPTAAusg+qzQSG4E3FliA+QgAoEg8DEvHewwJ+J9pAAAvjJYfnHWO9dNuu8y3AA5ZcCB2A7ud8yy5s3DTas3iA7Av9PMCtzu19tmB8djIPZx9fsF7wHwEAFBn1rIfAAAysM4BAAAAAAAAAAAAAAAAAIb4DxDOEKro7HQqAAAAAElFTkSuQmCC",
B.vn=c);this.m=new wb(c,a);this.m.add("play",40,40);this.m.add("pause",40,40);this.m.add("tostart",40,40);this.m.add("menu",40,40);this.m.add("stepback",40,40);this.m.add("stepforward",40,40);this.m.add("autofit",40,40);this.m.add("fit",40,40);this.m.add("grid",40,40);this.m.add("shrink",40,40);this.m.add("draw",40,40);this.m.add("hexgrid",40,40);this.m.add("lines",40,40);this.m.add("pan",40,40);this.m.add("pick",40,40);this.m.add("states",40,40);this.m.add("hexagongrid",40,40);this.m.add("trianglegrid",
40,40);this.m.add("inside",40,40);this.m.add("undo",40,40);this.m.add("redo",40,40);this.m.add("drawpause",40,40);this.m.add("invertselection",40,40);this.m.add("autoshrink",40,40);this.m.add("selectlibrary",40,40);this.m.add("cut",40,40);this.m.add("copy",40,40);this.m.add("paste",40,40);this.m.add("flipx",40,40);this.m.add("flipy",40,40);this.m.add("rotatecw",40,40);this.m.add("rotateccw",40,40);this.m.add("random",40,40);this.m.add("smart",40,40);this.m.add("outside",40,40);this.m.add("select",
40,40);this.m.add("reverse",40,40);this.m.add("uturn",40,40);this.m.add("nudgeright",40,40);this.m.add("nudgeleft",40,40);this.m.add("nudgeup",40,40);this.m.add("nudgedown",40,40);this.m.add("shrinksel",40,40);this.m.add("cancelsel",40,40);this.m.add("trirectgrid",40,40);this.m.add("download",40,40)};S.prototype.wz=function(a){var c=!1,b=null;""===a&&(a="Life");try{b=this.S.create("","x = 1, y = 1, rule = "+(a+"\nb!"),this.g.N,null,null,[],this)}catch(d){b=null}b&&b.W&&(c=!0);return c};S.prototype.Lv=
function(a){var c=window.prompt("Change rule",(""===a.ta?a.U:a.ta)+a.Wf);if(null!==c)if(a.wz(c)){""===c&&(c="Life");var b=c.indexOf(":");-1!==b?(a.U=c.substring(0,b),a.Wf=c.substring(b)):(a.U=c,a.Wf="");a.ta="";b=a.g.bg(a,a.g,!0,a.g.h,a.g.h,[],!0);a.Ed&&(a.da=a.zf,a.ba=a.yf);a.vg(b,!1)}else a.B.notification.notify("Invalid rule",15,180,15,!0)};S.prototype.Hq=function(a,c,b,d,f){var e=this.U;""!==a&&(e=e.substring(0,e.length-a.length));this.ta=this.U=e+=c;a=this.g.bg(this,this.g,!0,b,d,f,!0);this.Ed&&
(this.da=this.zf,this.ba=this.yf);this.vg(a,!1)};S.prototype.JA=function(a){a.Hq(a.g.D?"History":"","Super",a.g.D?7:2,26,a.g.D?B.GC:B.KE)};S.prototype.BA=function(a){a.Hq(a.g.o?"Super":"","History",a.g.o?26:2,7,a.g.o?B.OE:B.JE)};S.prototype.FA=function(a){a.Hq(a.g.D?"History":"Super","",a.g.D?7:26,2,a.g.D?B.FC:B.PE)};S.prototype.fw=function(){var a=this.g.P.s;var c="",b,d;var f="R"+a+",C"+(this.g.P.V+",");a=this.S.pa(a,this.g.P.type,this.g.P.ia);switch(this.g.P.type){case this.S.m:c="FC"+this.g.P.X+
"E"+this.g.P.Y;break;case this.S.h:c="";break;case this.S.l:c="N";break;case this.S.W:c="C";break;case this.S.X:c="2";break;case this.S.M:c="+";break;case this.S.U:c="X";break;case this.S.V:c="*";break;case this.S.C:c="H";break;case this.S.L:c="B";break;case this.S.I:c="D";break;case this.S.P:c="#";break;case 10:c="@"+this.g.P.I;this.g.ga?c+="H":this.g.A&&(c+="L");break;case this.S.u:c="3";break;case this.S.o:c="A";break;case this.S.D:c="L";break;case this.S.A:c="G";break;case 15:c="W"+this.g.P.I,
this.g.ga?c+="H":this.g.A&&(c+="L")}var e=this.v.random()*a/a;f+="S";var g=-1;for(b=d=0;d<a;)this.v.random()<e?-1===g&&(0<b&&(f+=","),f+=String(d),g=d,b+=1):-1!==g&&(g!==d-1&&(f+="-"+String(d-1)),g=-1),d+=1;-1!==g&&g!==d-1&&(f+="-"+String(d-1));0===b&&(g=this.v.random()*a|0,f+=String(g));f+=",B";e=this.v.random()*(a-1)/(a-1);g=-1;d=1;for(b=0;d<a;)this.v.random()<e?-1===g&&(0<b&&(f+=","),f+=String(d),g=d,b+=1):-1!==g&&(g!==d-1&&(f+="-"+String(d-1)),g=-1),d+=1;-1!==g&&g!==d-1&&(f+="-"+String(d-1));
0===b&&(g=this.v.random()*(a-1)|1,f+=String(g));""!==c&&(f+=",N"+c);this.g.P.P&&(f+=",P");return f};S.prototype.hw=function(){var a=this.g.P.s;var c="";var b="R"+a+",C"+(this.g.P.V+",");b+="M1,";a=this.S.pa(a,this.g.P.type,this.g.P.ia);a+=1;switch(this.g.P.type){case this.S.m:c="FC"+this.g.P.X+"E"+this.g.P.Y;break;case this.S.h:c="M";break;case this.S.l:c="N";break;case this.S.W:c="C";break;case this.S.X:c="2";break;case this.S.M:c="+";break;case this.S.U:c="X";break;case this.S.V:c="*";break;case this.S.C:c=
"H";break;case this.S.L:c="B";break;case this.S.I:c="D";break;case this.S.P:c="#";break;case 10:c="@"+this.g.P.I;this.g.ga?c+="H":this.g.A&&(c+="L");break;case this.S.u:c="3";break;case this.S.o:c="A";break;case this.S.D:c="L";break;case this.S.A:c="G";break;case 15:c="W"+this.g.P.I,this.g.ga?c+="H":this.g.A&&(c+="L")}var d=this.v.random()*a|0;b+="S"+String(d);d=(this.v.random()*(a-d)|0)+d;b+=".."+String(d);d=(this.v.random()*(a-1)|0)+1;b+=",B"+String(d);d=(this.v.random()*(a-d)|0)+d;b+=".."+String(d);
return b+(",N"+c)};S.prototype.nw=function(){var a="W";var c=2*(127*this.v.random()|0);return a+=String(c)};S.prototype.jw=function(a){var c="B",b,d,f=8,e="";if(this.g.ga)switch(this.g.Wf){case this.S.ma:f=6;e=this.S.Ja;break;case this.S.ca:f=3,e=this.S.vb}else if(this.g.A)switch(this.g.$f){case this.S.ia:f=3;e=this.S.Ba;break;case this.S.ra:f=6;e=this.S.Za;break;case this.S.sa:f=6;e=this.S.$a;break;case this.S.ja:f=9;e=this.S.Da;break;case this.S.aa:f=12;e=this.S.Ca;break;case this.S.qa:f=9;e=this.S.Ya;
break;case this.S.ta:f=3,e=this.S.ab}else this.g.kc&&(f=4,e=this.S.gb);var g=new Uint8Array(f+1);var k=new Uint8Array(f+1);var l=d=50;-1!==this.Ue&&(l=d=this.Ue);-1!==this.Ve&&(d=this.Ve);-1!==this.Zf&&(l=this.Zf);for(b=0;b<=f;b+=1)g[b]=d,k[b]=l;-1===this.Ue&&-1===this.Ve&&(g[0]=25);for(b=0;b<this.Pc.length;b+=2)this.Pc[b]<=f&&(g[this.Pc[b]]=this.Pc[b+1]);for(b=0;b<this.Cd.length;b+=2)this.Cd[b]<=f&&(k[this.Cd[b]]=this.Cd[b+1]);for(b=2<this.g.h||a?1:0;b<=f;)100*this.v.random()<=g[b]&&(c+=String(b)),
b+=1;c+="/S";for(b=0;b<=f;b+=1)100*this.v.random()<=k[b]&&(c+=String(b));2<this.g.h&&!this.g.o&&(c+="/"+this.g.h);return c+=e.toUpperCase()};S.prototype.lw=function(a){var c=a?"2PCA4,":"M",b,d=!1;var f=0;var e=[];var g=this.g.Lb;if(this.po){d=new Uint8Array(16);a=new Uint8Array(16);for(b=0;16>b;b+=1)d[b]=b,a[b]=g[b];for(b=0;16>b;b+=1){var k=g[b];for(f=a=0;16>f;f+=1)k===g[f]&&(a+=1);var l=new Uint8Array(a);for(f=a=0;16>f;f+=1)k===g[f]&&(l[a]=f,a+=1);e[b]=l}for(b=1;16>b;b+=1).5>=this.v.random()&&(l=
e[b],a=this.v.random()*l.length|0,a=l[a],g=d[b],d[b]=d[a],d[a]=g);for(b=0;15>b;b+=1)c+=d[b]+",";c+=d[b]}else if(this.Xn){b=16;a?(a=0,f|=1):(a=16*this.v.random()|0,15===a?(d=!0,f|=32769,--b):(a=0,f|=1));c+=String(a);for(--b;65535!==f;){a=this.v.random()*b|0;for(k=0;0<=a;)0===(f&1<<k)&&--a,k+=1;c+=","+String(k-1);f|=1<<k-1;--b}d&&(c+=",0")}else{a?a=0:(a=16*this.v.random()|0,15===a?d=!0:a=0);c+=String(a)+",";for(b=1;15>b;b+=1)a=16*this.v.random()|0,c+=String(a)+",";a=d?0:16*this.v.random()|0;c+=String(a)}return c};
S.prototype.Mj=function(a,c){var b="",d,f,e=0,g,k=[],l=a.oo,p=a.uo,n=a.wi/100,q=!1;-1!==a.U.indexOf("|")&&(q=!0);if(2>=a.g.h||a.Qj){k[0]="b";k[1]="o";var m=2}else for(m=a.g.h,k[0]=".",f=0;f<m-1;f+=1)k[f+1]=24<=f?String.fromCharCode(112+(f/24|0)-1)+String.fromCharCode(65+f%24):String.fromCharCode(65+f);-1!==a.g.vd&&(l=1);for(d=0;d<l;d+=1){if(this.g.i){var r=0;this.v.random()<=n&&(r|=1);this.v.random()<=n&&(r|=2);this.v.random()<=n&&(r|=4);this.v.random()<=n&&(r|=8)}else r=this.v.random()<=n?(this.v.random()*
(m-1)|0)+1:0;for(f=g=1;f<p;f+=1)this.g.i?(e=0,this.v.random()<=n&&(e|=1),this.v.random()<=n&&(e|=2),this.v.random()<=n&&(e|=4),this.v.random()<=n&&(e|=8)):e=this.v.random()<=n?(this.v.random()*(m-1)|0)+1:0,e!==r&&(1<g&&(b+=g),b+=k[r],g=0,r=e),g+=1;0!==e&&(1<g&&(b+=g),b+=k[e]);d<l-1&&(b+="$\n")}b+="!\n";a.Oj||c||(a.g.v||(a.g.T||a.g.i?(a.U=a.lw(a.g.i),q&&(a.U+="|"+a.lw(a.g.i))):a.g.Ga?a.Dv?(a.U=a.hw(),q&&(a.U+="|"+a.hw())):(a.U=a.fw(),q&&(a.U+="|"+a.fw())):-1!==a.g.vd?(a.U=a.nw(),q&&(a.U+="|"+a.nw())):
(a.U=a.jw(q),q&&(a.U+="|"+a.jw(q)))),a.g.D&&(a.U+="History"),a.g.o&&(a.U+="Super"),c=hb.rn(a.U),a.ta=null!==c?c:"");c=a.g.xh;c+="x = "+B.Pm+", y = "+B.Pm+", rule = ";c+=(""===a.ta?a.U:a.ta)+a.Wf+"\n";c=c+b+a.g.vh;if(a.Id.locked||a.Sj||window.confirm("Create new random pattern?"))a.Ed&&(a.da=a.zf,a.ba=a.yf),a.vg(c,!1),a.Az(a)};S.prototype.Bx=function(a){var c=window.prompt("Create new pattern with rule",(""===a.ta?a.U:a.ta)+a.Wf);null!==c&&(a.wz(c)?(""===c&&(c="Life"),a.Ed&&(a.da=a.zf,a.ba=a.yf),a.vg("x = 1, y = 1, rule = "+
(c+"\nb!"),!1)):a.B.notification.notify("Invalid rule",15,180,15,!0))};S.prototype.ow=function(){this.Yc.h=this.g.ga?this.g.va?[this.m.h("hexgrid")]:[this.m.h("hexagongrid")]:this.g.A?this.g.va?[this.m.h("trirectgrid")]:[this.m.h("trianglegrid")]:[this.m.h("grid")]};S.prototype.UA=function(a,c){a.B.l&&(a.xh||(a.Qh=-c.deltaY,1===c.deltaMode&&(a.Qh*=45),a.B.Ne(!0)),c.preventDefault())};S.prototype.Vs=function(){var a=this.l.X(0===this.tk?0:this.yc/this.tk),c=this.cg,b=this.Rj,d=this.eg,f=this.Ri;this.g.ca=
this.g.width/2-(this.Uf+a*(this.Pf-this.Uf));this.g.Z=this.g.height/2-(this.fg+a*(this.Si-this.fg));this.g.zoom=this.eh*Math.pow(this.Ui/this.eh,a);180<b-c?c+=360:-180>b-c&&(b+=360);this.g.angle=(c+a*(b-c))%360;this.g.lb=d+a*(f-d);this.Wm&&(this.g.vb=this.kq+a*(this.Tr-this.kq),this.Ba.current=this.ef([this.g.vb,this.g.vb],!1,this));this.cm&&(this.g.oa=this.fr+a*(this.$r-this.fr),this.ab.current=this.Bk([this.g.oa,this.g.oa],!1,this));this.yc+=1;this.yc>this.tk&&(this.yc=-1,this.g.zoom=this.Ui,this.g.angle=
b%360,this.g.lb=this.Ri,this.g.ca=this.g.width/2-this.Pf,this.g.Z=this.g.height/2-this.Si,this.Wm&&(this.g.vb=this.Tr,this.Ba.current=this.ef([this.g.vb,this.g.vb],!1,this)),this.cm&&(this.g.oa=this.$r,this.ab.current=this.Bk([this.g.oa,this.g.oa],!1,this)));this.Ec&&(this.Ec.current=this.qe([this.g.zoom,this.g.zoom],!1,this));this.la&&(this.la.current=this.pg([this.g.angle,this.g.angle],!1,this));this.Xa&&(this.Xa.current=this.wj([this.Jl(this.g.lb),this.g.lb],!1,this))};S.prototype.vB=function(){var a=
this.l,c=a.m.length,b,d=this.A,f=this.C,e=a.C();for(b=0;b<c;b+=1){var g=a.m[b];e.rg=!0;e.x=-g.x+d/2;e.Oe=!0;e.y=-g.y+f/2;e.xe=!0;e.zoom=g.zoom;e.Td=!0;a.add(e,this);b<c-1&&(e=a.C())}};S.prototype.Uq=function(a,c){var b=a.l.i[c];a.Uf=a.g.width/2-a.g.ca;a.fg=a.g.height/2-a.g.Z;a.eh=a.g.zoom;a.cg=a.g.angle;a.eg=a.g.lb;a.Pf=b.Oe?b.x:a.Uf;a.Si=b.xe?b.y:a.fg;a.Ui=b.Td?b.zoom:a.eh;a.Rj=b.gg?b.angle:a.cg;a.Ri=b.xg?b.lb:a.eg;a.g.ga&&(a.Pf+=a.g.Z/2);a.Wm=b.Dg;a.Wm&&(a.kq=a.g.vb,a.Tr=b.depth/B.Ik);a.cm=b.Gg;
a.cm&&(a.fr=a.g.oa,a.$r=b.oa);a.yc=0;a.tk=b.i;a.Vs();b.l&&a.yy(a);b.h===Ya.play?a.Kb.current=a.qd(B.Yh,!0,a):b.h===Ya.stop&&a.Bb&&(a.Kb.current=a.qd(B.be,!0,a));b.ve&&a.$f(b.sc,a.g.Xd,a);a.B.notification.notify("POI "+(c+1),15,60,15,!0);""!==b.ce?a.B.notification.notify(b.ce,15,180,15,!1):a.B.notification.clear(!1,!0);b.Fh&&(a.Pb=b.Pb);b.th&&(a.ob=b.ob);b.Ke&&(a.ca=Math.sqrt((b.Hc-B.Ig)/(a.L-B.Ig)));b.re&&(a.X=b.step);if(b.Ke||b.re)a.Ob.current=a.Jd([a.$e(),1],!0,a);b.Qn&&(a.g.counter>b.dc&&a.yy(a),
a.g.counter<b.dc&&(a.xh=!0,a.Fq=b.dc,a.Dq=!1));b.rj&&(a.g.Ba=b.grid);b.Pp&&(this.kd=b.Dj)};S.prototype.Dc=function(a,c,b){var d=c/a.g.Ja;b&&(c=1<=c?Math.round(c):1/Math.round(1/c),d=c/a.g.Ja);a.Wa||(a.Uf=a.g.width/2-a.g.ca,a.fg=a.g.height/2-a.g.Z,a.eh=a.g.zoom,a.cg=a.g.angle,a.eg=a.g.lb,a.Pf=a.Uf,a.Si=a.fg,a.Ui=d,a.Rj=a.cg,a.Ri=a.eg,a.yc=0)};S.prototype.DA=function(a){a.Ob.current=a.Jd([1,1],!0,a)};S.prototype.YD=function(a){a.Ms(a)};S.prototype.XD=function(a){a.Gq(a)};S.prototype.VD=function(a){a.kb&&
a.Pl(a);-1!==a.vb&&a.rk(a,!0,!0)};S.prototype.ml=function(a){a.Xe||a.Ye||a.We||a.$d||a.Ze||a.ae||a.Pe?(a.Xe=!1,a.Ye=!1,a.$d=!1,a.We=!1,a.Ze=!1,a.Pe=!1,a.ae=!1):a.fa.current=[!1]};S.prototype.Rz=function(a){a.We=!0};S.prototype.RB=function(a){a.$d=!0};S.prototype.JB=function(a){a.Xe=!0};S.prototype.wC=function(a){a.Pe=!0};S.prototype.YB=function(a){a.Ze=!0};S.prototype.pA=function(a){a.Ye=!0};S.prototype.eB=function(a){a.Bx(a)};S.prototype.ID=function(a){a.Mj(a,!1)};S.prototype.BD=function(a){a.Mj(a,
!0)};S.prototype.Cz=function(a){a.Az(a);a.P?a.B.notification.notify("Selection Saved",15,120,15,!0):a.B.notification.notify("Pattern Saved",15,120,15,!0)};S.prototype.WA=function(a){a.vx(a)};S.prototype.mF=function(a){a.Lv(a)};S.prototype.TA=function(a){a.ae=!0};S.prototype.fb=function(a,c,b){b&&(c[0]?(this.$f(B.Rn[a],1,this),this.fa.current[0]&&(this.fa.current=this.df([!1],!0,this))):(this.fa.current[0]&&(this.fa.current=this.df([!1],!0,this)),c[0]=!0));return c};S.prototype.iB=function(a,c,b){return b.fb(0,
a,c)};S.prototype.lB=function(a,c,b){return b.fb(1,a,c)};S.prototype.yC=function(a,c,b){return b.fb(2,a,c)};S.prototype.PC=function(a,c,b){return b.fb(3,a,c)};S.prototype.TC=function(a,c,b){return b.fb(4,a,c)};S.prototype.XC=function(a,c,b){return b.fb(5,a,c)};S.prototype.eD=function(a,c,b){return b.fb(6,a,c)};S.prototype.vD=function(a,c,b){return b.fb(7,a,c)};S.prototype.CD=function(a,c,b){return b.fb(8,a,c)};S.prototype.JD=function(a,c,b){return b.fb(9,a,c)};S.prototype.oB=function(a,c,b){return b.fb(10,
a,c)};S.prototype.rB=function(a,c,b){return b.fb(11,a,c)};S.prototype.uB=function(a,c,b){return b.fb(12,a,c)};S.prototype.xB=function(a,c,b){return b.fb(13,a,c)};S.prototype.Iz=function(a,c,b){return b.fb(14,a,c)};S.prototype.DB=function(a,c,b){return b.fb(15,a,c)};S.prototype.LB=function(a,c,b){return b.fb(16,a,c)};S.prototype.SB=function(a,c,b){return b.fb(17,a,c)};S.prototype.ZB=function(a,c,b){return b.fb(18,a,c)};S.prototype.cC=function(a,c,b){return b.fb(19,a,c)};S.prototype.KC=function(a,c,
b){return b.fb(20,a,c)};S.prototype.Us=function(a){a.Tb=!1};S.prototype.hA=function(a){a.Aw(a)};S.prototype.yw=function(a){"Empty"===a.hb||"none"===a.hb||""===a.hb?a.B.notification.notify("No Identify Results",15,120,15,!1):(0!==a.s&&(a.s=0,a.$c.current=a.cf([0!==a.s],!0,a)),a.fa.current[0]&&(a.fa.current=a.df([!1],!0,a),a.B.i=!0),a.wd.current=a.lg(0,!0,a),a.Tb=!0)};S.prototype.$z=function(a){a.ya=!1;a.Tf.current=a.vu([a.ya],!0,a)};S.prototype.GE=function(){Lb()};S.prototype.Vz=function(a){a.Ma=[];
a.ea=0;a.Wq(a.Fa.current)};S.prototype.Ux=function(a){--a.qc;0>a.qc&&(a.qc=a.l.i.length-1);a.Uq(a,a.qc)};S.prototype.Dx=function(a){a.qc+=1;a.qc>=a.l.i.length&&(a.qc=0);a.Uq(a,a.qc)};S.prototype.kB=function(a){a.za+=1;a.za>=Ka.le.length&&(a.za=0);a.vg(Ka.le[a.za].pattern,!1)};S.prototype.bC=function(a){--a.za;0>a.za&&(a.za=Ka.le.length-1);a.vg(Ka.le[a.za].pattern,!1)};S.prototype.uA=function(a){a.Er();a.s&&(a.s=0);a.fa.current[0]=!1;a.B.i=!0};S.prototype.Xz=function(a){a.jj=!0};S.prototype.PD=function(a){a.xc(B.Qf,
a)};S.prototype.kF=function(a,c){var b=0;if((a.g.D||a.g.o)&&c)for(;b<a.T.length;)1<a.T[b]&&(a.T[b]&=1),b+=1;else for(;b<a.T.length;)a.T[b]=0,b+=1};S.prototype.Uv=function(a){var c=a.Y,b=c.F,d=c.J,f=c.G;c=c.K;var e=a.g.m,g;var k=(a.g.width>>1)-(a.A>>1)+(a.V<<1);var l=(a.g.height>>1)-(a.C>>1)+(a.W<<1);var p=0;if(!a.D&&a.P){if(b>d){var n=d;d=b;b=n}f>c&&(n=c,c=f,f=n);b+=k;d+=k;f+=l;c+=l;a.g.Jb=!0;a.g.Sb();n=e.F;l=e.G;k=e.J;e=e.K;for(g=l;g<=e;g+=1)for(l=n;l<=k;l+=1)if(!(g>=f&&g<=c&&l>=b&&l<=d)){var q=
a.g.Ha(l,g,!1);0!==q&&(p|=a.pa(l,g,0))}a.g.D&&p&&this.g.Wa();a.g.Jb=!0;a.g.Sb();a.M("clear cells outside selection")}};S.prototype.Jz=function(a,c){var b=a.Y,d=b.F,f=b.J,e=b.G;b=b.K;var g=(a.g.width>>1)-(a.A>>1)+(a.V<<1),k=(a.g.height>>1)-(a.C>>1)+(a.W<<1);if(!a.D&&a.P){if(d>f){var l=f;f=d;d=l}e>b&&(l=b,b=e,e=l);if((a.g.D||a.g.o)&&c)for(l=e;l<=b;l+=1)for(e=d;e<=f;e+=1){var p=a.g.Ha(e+g,l+k,!1);1<p&&a.pa(e+g,l+k,p&1)}else for(l=e;l<=b;l+=1)for(e=d;e<=f;e+=1)p=a.g.Ha(e+g,l+k,!1),0!==p&&a.pa(e+g,l+k,
0);a.g.D&&this.g.Wa();a.g.Jb=!0;a.g.Sb();a.Bc=!1;(a.g.D||a.g.o)&&c?a.g.D?a.M("clear History cells in selection"):a.M("clear Super cells in selection"):a.M("clear cells in selection")}};S.prototype.xA=function(a){a.Dc(a,a.g.zoom*a.g.Ja,!0)};S.prototype.RE=function(a){a.Tc(!0,!0,B.Zr)};S.prototype.Dr=function(a,c){a.D||(a.Ea?a.kF(a,c):a.Jz(a,c))};S.prototype.Nz=function(a){a.Dr(a,!1)};S.prototype.fF=function(a){a.Uv(a)};S.prototype.tF=function(a){a.Dr(a,!0)};S.prototype.Hv=function(a){var c=a.Y,b=a.g.m,
d=(a.g.width>>1)-(a.A>>1)+(a.V<<1),f=(a.g.height>>1)-(a.C>>1)+(a.W<<1);0<a.g.u?(a.g.Jb=!0,a.g.Sb(),a.g.o||a.g.v||!(a.g.i||a.g.Ga&&2===a.g.h||2<a.g.h)?(c.F=b.F-d,c.G=b.G-f,c.J=b.J-d,c.K=b.K-f):(a.g.Gk(c),c.F-=d,c.J-=d,c.G-=f,c.K-=f),a.P=!0,a.Bc=!1,b=c.J<c.F?c.F-c.J+1:c.J-c.F+1,c=c.K<c.G?c.G-c.K+1:c.K-c.G+1,a.M("select all ("+b+" x "+c+")")):(a.B.notification.notify("No live cells to Select",15,120,15,!1),a.P&&a.Jo(a))};S.prototype.Wx=function(a,c,b){a.D||(!a.Oh&&a.Lc&&(c?a.Jj(a,!0):a.D?a.Jj(a,!0):
b?a.pm(a,!0):a.pm(a,!1)),a.Xq(a,a.ac,!1,!1))};S.prototype.pw=function(a){a.Wx(a,!1,!1)};S.prototype.Xq=function(a,c,b,d){var f=a.Y,e=f.F,g=f.J,k=f.G;f=f.K;var l,p=0,n=a.g.h,q=2<n&&!(this.g.ea||this.g.i||this.g.v||this.g.o),m=(a.g.width>>1)-(a.A>>1)+(a.V<<1),r=(a.g.height>>1)-(a.C>>1)+(a.W<<1),u=0;if(a.P){if(e>g){var t=g;g=e;e=t}k>f&&(t=f,f=k,k=t);var v=g-e+1;var x=f-k+1;var w=a.g.N.h(na.La,v*x,"View.pasteBuffer"+c);t=0;for(l=k;l<=f;l+=1)for(k=e;k<=g;k+=1){var A=a.g.Ha(k+m,l+r,!1);0<A&&q&&(A=n-A);
w[t]=A;0<A&&(p+=1);u|=a.pa(k+m,l+r,0);t+=1}a.g.D&&u&&this.g.Wa();a.Hb[c]={buffer:w,width:v,height:x,count:p};a.T=w;a.Jb=v;a.Ib=x;a.xm();a.g.Jb=!0;a.g.Sb();a.pl=!0;a.Ra=!1;a.Bc=!0;d||(b?a.M("advance outside"):a.M("cut"))}};S.prototype.mo=function(a,c,b){0!==a.s?($a.Ir=!0,$a.Hk="",$a.Ko(a),a.lf(a,$a.Hk,!1),$a.Ir=!1,$a.Hk=""):(a.Oh||!a.Lc&&a.P||(c?a.Jj(a,!0):a.D?a.Jj(a,!0):b?a.pm(a,!0):a.pm(a,!1)),a.P&&(a.gB(a,a.ac),a.Yp||(a.Yp=!0,a.B.notification.notify("Disable Sync for faster internal clipboard",
15,360,15,!1))))};S.prototype.KB=function(a){a.Ij(a,!0,!1)};S.prototype.mB=function(a){a.mo(a,!1,!0)};S.prototype.YA=function(a){a.mo(a,!0,!1)};S.prototype.VA=function(a){a.$v(a)};S.prototype.Nx=function(a){navigator.clipboard.readText().then(c=>a.ZA(a,c))};S.prototype.dB=function(a){a.mo(a,!1,!1)};S.prototype.jB=function(a){var c=a.Y,b=c.F,d=c.G,f=c.J,e=c.K,g,k,l=(a.g.width>>1)-(a.A>>1)+(a.V<<1),p=(a.g.height>>1)-(a.C>>1)+(a.W<<1),n=!0;c=[];if(a.P){if(b>f){var q=b;b=f;f=q}d>e&&(q=d,d=e,e=q);q=f-
b+1;if(q!==e-d+1)a.B.notification.notify("Weighted needs a square selection",15,180,15,!0),n=!1;else if(0===(q&1))a.B.notification.notify("Weighted size must be odd",15,180,15,!0),n=!1;else if(3>q||99<q)a.B.notification.notify("Weighted size must be >= 3 and <= 99",15,180,15,!0),n=!1;if(n){n="";var m=0;for(k=d;k<=e;k+=1)for(g=b;g<=f;g+=1)d=a.g.Ha(g+l,k+p,!1),c[c.length]=d,d>m&&(m=d);if(7>=m)for(b=0;b<c.length;b+=1)d=c[b],n+="0123456789abcdef"[d];else for(b=0;b<c.length;b+=1)d=c[b],n+="0123456789abcdef"[d>>
4],n+="0123456789abcdef"[d&15];a.g.ga?n+="H":a.g.A&&(n+="L");a.lf(a,n,!1);a.B.notification.notify("Weighted R"+(q-1>>1)+" copied to clipboard",15,180,15,!0)}}else a.B.notification.notify("Weighted needs a selection",15,180,15,!0)};S.prototype.RA=function(a){var c=a.Y,b=c.F,d=c.G,f=c.J;c=c.K;var e=0,g,k=(a.g.width>>1)-(a.A>>1)+(a.V<<1),l=(a.g.height>>1)-(a.C>>1)+(a.W<<1);var p=!0;if(a.P){if(b>f){var n=b;b=f;f=n}d>c&&(n=d,d=c,c=n);n=f-b+1;if(n!==c-d+1)a.B.notification.notify("CoordCA needs a square selection",
15,180,15,!0),p=!1;else if(0===(n&1))a.B.notification.notify("CoordCA size must be odd",15,180,15,!0),p=!1;else if(3>n||99<n)a.B.notification.notify("CoordCA size must be >= 3 and <= 99",15,180,15,!0),p=!1;if(p){var q="";var m=d+(c-d+1>>1);p=b+(f-b+1>>1);var r=3;for(g=d;g<=c;g+=1)for(d=b;d<=f;d+=1)if(g!==m||d!==p){var u=a.g.Ha(d+k,g+l,!1);0<u&&(e|=1<<r);--r;0>r&&(q+="0123456789abcdef"[e],r=3,e=0)}a.g.ga?q+="H":a.g.A&&(q+="L");a.lf(a,q,!1);a.B.notification.notify("CoordCA R"+(n-1>>1)+" copied to clipboard",
15,180,15,!0)}}else a.B.notification.notify("CoordCA needs a selection",15,180,15,!0)};S.prototype.$v=function(a){2<a.g.h?a.jB(a):a.RA(a)};S.prototype.gB=function(a,c){var b=a.Y,d=b.F,f=b.G,e=b.J;b=b.K;var g,k=0,l=a.g.h,p=2<l&&!(this.g.ea||this.g.i||this.g.v||this.g.o),n=(a.g.width>>1)-(a.A>>1)+(a.V<<1),q=(a.g.height>>1)-(a.C>>1)+(a.W<<1);if(a.P){if(d>e){var m=d;d=e;e=m}f>b&&(m=f,f=b,b=m);var r=e-d+1;var u=b-f+1;var t=a.g.N.h(na.La,r*u,"View.pasteBuffer"+c);m=0;for(g=f;g<=b;g+=1)for(f=d;f<=e;f+=1){var v=
a.g.Ha(f+n,g+q,!1);0<v&&p&&(v=l-v);t[m]=v;0<v&&(k+=1);m+=1}a.Hb[c]={buffer:t,width:r,height:u,count:k};a.T=t;a.Jb=r;a.Ib=u;a.xm();a.pl=!0;a.Ra=!1;a.Bc=!0}};S.prototype.em=function(a){a.Ea=!1;a.B.notification.clear(!0,!1);a.Ra&&a.Ms(a);a.Ra=!1};S.prototype.SE=function(a,c){var b=this.Ha,d=this.Lc;c?a.P?(a.Xq(a,a.ac,!0,!1),a.g.$c(),a.g.Ac(),a.g.cd(a),a.M(""),this.Ha=B.up,a.Ij(a,!0,!0),this.Ha=b):a.B.notification.notify("Advance Outside needs a selection",15,180,15,!0):a.Ra?(a.Cw(a),a.Ra||a.B.notification.notify("Advance Selection all cells died",
15,180,15,!0)):a.P?(a.Bc||(this.Lc=!1,a.pw(a),this.Lc=d),a.pl&&(a.Cw(a),a.Ra||a.B.notification.notify("Advance Selection no live cells",15,180,15,!0))):a.B.notification.notify("Advance Selection needs a selection",15,180,15,!0)};S.prototype.Cw=function(a){var c,b,d,f=a.Jb,e=a.Ib,g=a.T,k=a.Y,l=a.g.m,p=a.g.Xa,n=a.Wi,q=a.g.grid,m=a.g.mc,r=a.g.l,u=a.g.Gd,t=a.g.Za,v=a.g.ra,x=a.g.$,w=a.g.X,A=a.g.aa,C=a.g.fa,z=a.g.Y,H=a.g.width,E=a.g.height,J=a.g.pa,N=a.g.Fa,L=a.g.Te,D=a.g.Oc,G=a.g.ib,F=a.g.Ia,W=a.g.W,va=
a.g.U,ma=a.g.sa,U=a.g.qa,oa=a.g.counter,da=new Va(l.F,l.G,l.J,l.K),ca=new Va(p.F,p.G,p.J,p.K),ta=a.g.Ab,ha=a.g.Dc,pa=a.g.dd,fa=a.g.bc,la=a.g.ta,Aa=a.g.Qa,ra=a.g.Ge,ka=a.g.sd,Z=null,ea=null,V=a.g.u,ya=a.g.za,R=a.g.ia;a.g.Ga&&(Z=a.g.P.h,ea=a.g.P.ha,a.g.P.resize(1024,1024));a.g.mj();var M=Math.round((a.g.width-a.A)/2);var O=Math.round((a.g.height-a.C)/2);for(d=c=0;d<e;d+=1)for(b=0;b<f;b+=1){var ia=g[c];0<ia&&a.g.qc(b+M,d+O,ia,!0);c+=1}a.g.$c();a.g.Ac();a.g.cd(a);if(0<a.g.u){a.Jb=l.J-l.F+1;a.Ib=l.K-l.G+
1;a.T=a.g.N.h(na.La,a.Jb*a.Ib,"View.pasteBuffer");c=0;for(d=l.G;d<=l.K;d+=1)for(b=l.F;b<=l.J;b+=1)ia=a.g.Ha(b,d,!1),0<ia&&2<a.g.h&&!(a.g.o||a.g.i||a.g.v)&&(ia=a.g.h-ia),a.T[c]=ia,c+=1;a.Ra?(n.F+=l.F-M,n.G+=l.G-O):(n.F=k.F<k.J?k.F+l.F-M:k.J+l.F-M,n.G=k.G<k.K?k.G+l.G-O:k.K+l.G-O);n.J=n.F+a.Jb-1;n.K=n.G+a.Ib-1;a.Ra=!0}else a.Ra=!1;a.g.grid=q;a.g.mc=m;a.g.l=r;a.g.Gd=u;a.g.Za=t;a.g.ra=v;a.g.$=x;a.g.X=w;a.g.aa=A;a.g.fa=C;a.g.Y=z;a.g.width=H;a.g.height=E;a.g.pa=J;a.g.Fa=N;a.g.m.F=da.F;a.g.Te=L;a.g.Oc=D;
a.g.ib=G;a.g.Ia=F;a.g.W=W;a.g.U=va;a.g.sa=ma;a.g.qa=U;a.g.counter=oa;a.g.Ab=ta;a.g.Dc=ha;a.g.dd=pa;a.g.bc=fa;a.g.ta=la;a.g.Qa=Aa;a.g.Ge=ra;a.g.sd=ka;l.F=da.F;l.G=da.G;l.J=da.J;l.K=da.K;p.F=ca.F;p.G=ca.G;p.J=ca.J;p.K=ca.K;a.g.za=ya;a.g.ia=R;a.g.u=V;a.g.Ga&&(a.g.P.h=Z,a.g.P.ha=ea)};S.prototype.Cq=function(a,c,b,d){var f=a.Jb,e=a.Ib,g=a.T;var k=a.Sa;var l=a.g.width;var p=a.g.height;var n=0;switch(a.fc+.5|0){case B.Jy:c-=f>>1;break;case B.Ky:c-=f-1;break;case B.Oy:b-=e>>1;break;case B.Iy:c-=f>>1;b-=e>>
1;break;case B.Hy:c-=f-1;b-=e>>1;break;case B.Ny:b-=e-1;break;case B.Ly:c-=f>>1;b-=e-1;break;case B.My:c-=f-1,b-=e-1}k.F=c;k.G=b;k.J=c+f;k.K=b+e;for(a.Gi(a,k);l!==a.g.width;)c+=l>>1,l<<=1;for(;p!==a.g.height;)b+=p>>1,p<<=1;switch(this.Sz()){case B.Jm:for(p=k=0;p<e;p+=1)for(l=0;l<f;l+=1){var q=g[k];if(this.g.i){var m=this.g.Ha(c+l,b+p,!1);n|=a.pa(c+l,b+p,m|q)}else 0<q&&(n|=a.pa(c+l,b+p,q));k+=1}break;case B.up:for(p=k=0;p<e;p+=1)for(l=0;l<f;l+=1)q=g[k],n|=a.pa(c+l,b+p,q),k+=1;break;case B.vp:for(p=
k=0;p<e;p+=1)for(l=0;l<f;l+=1)q=g[k],m=this.g.Ha(c+l,b+p,!1),n|=a.pa(c+l,b+p,m^q),k+=1;break;case B.tp:for(p=k=0;p<e;p+=1)for(l=0;l<f;l+=1)q=g[k],m=this.g.Ha(c+l,b+p,!1),n|=a.pa(c+l,b+p,m&q),k+=1}a.g.D&&n&&this.g.Wa();a.Ea=!1;a.Ra=!1;a.B.notification.clear(!0,!1);d&&a.M("paste")};S.prototype.Ef=function(a,c,b){var d=(a.g.width>>1)-(a.A>>1)+(a.V<<1),f=(a.g.height>>1)-(a.C>>1)+(a.W<<1),e=a.Y,g=e.F,k=e.G,l=e.J,p=e.K;var n=0;var q=a.g.width-1;var m=0;var r=a.g.height-1,u=0;if(!a.D&&a.P){if(g>l){var t=
l;l=g;g=t}k>p&&(t=p,p=k,k=t);t=l-g+1;var v=p-k+1;-1!==a.g.C&&(0!==a.g.M?(n=Math.round((a.g.width-a.g.M)/2)-1,q=n+a.g.M-1+2):(n=0,q=a.g.width-1),0!==a.g.I?(m=Math.round((a.g.height-a.g.I)/2)-1,r=m+a.g.I-1+2):(m=0,r=a.g.height-1));if(g+d+c>n&&l+d+c<q&&k+f+b>m&&p+f+b<r){a.Xq(a,a.ac,!1,!0);d+=c;f+=b;n=0;l=a.Hb[a.ac].buffer;for(m=0;m<v;m+=1)for(q=0;q<t;q+=1)p=l[n],u|=a.pa(g+q+d,k+m+f,p),n+=1;a.g.D&&u&&this.g.Wa();e.F+=c;e.J+=c;e.G+=b;e.K+=b;a.M("nudge "+(0===c?-1===b?"up":"down":-1===c?"left":"right"))}else a.B.notification.notify("No room to nudge selection",
15,180,15,!0)}};S.prototype.Ij=function(a,c,b){var d=(a.g.width>>1)-(a.A>>1)+(a.V<<1),f=(a.g.height>>1)-(a.C>>1)+(a.W<<1),e=a.Y,g=a.Wi,k=e.F,l=e.G,p=e.J;e=e.K;var n;if(!a.D&&null!==a.Hb[a.ac])if(c)if(a.P||a.Ra)if(a.Ra&&(k=g.F,l=g.G,p=g.J,e=g.K),k>p&&(c=k,k=p,p=c),l>e&&(c=l,l=e,e=c),p=p-k+1,e=e-l+1,a.Jb>p||a.Ib>e)a.B.notification.notify("Paste does not fit in selection",15,180,15,!0);else{c=a.fc;a.fc=B.Km;for(n=l;n<=l+e-a.Ib;n+=a.Ib)for(g=k;g<=k+p-a.Jb;g+=a.Jb)a.Cq(a,g+d,n+f,!1);a.fc=c;a.Qd&&a.il(a);
b?a.M("advance outside"):a.M("paste to selection");a.Ra=!1}else a.B.notification.notify("Paste to Selection needs a selection",15,180,15,!0);else a.yq(a,a.ac),a.Ra=!1,a.B.notification.notify("Now click to paste",15,180,15,!0)};S.prototype.Hz=function(a){a.Ra?(a.Ij(a,!0,!1),a.Bc=!1):a.Cq(a,a.Sd,a.ee,!0)};S.prototype.Rx=function(a){a.Ij(a,!1,!1)};S.prototype.yq=function(a,c){0<=c&&c<a.Hb.length&&(null!==a.Hb[c]?(a.Ea=!0,a.Ra=!1,a.T=a.Hb[c].buffer,a.Jb=a.Hb[c].width,a.Ib=a.Hb[c].height,a.Fa.current!==
B.Bj&&(a.Fa.current=a.pe(B.Bj,!0,a))):(a.Ea=!1,a.Ra=!1,a.B.notification.notify("Clipboard empty",15,180,15,!0)))};S.prototype.WC=function(a,c){var b,d=a.g.h;-1===d&&(d=2);if(a.g.i)for(b=0;b<a.T.length;b+=1){var f=0;100*a.v.random()<=a.tb&&(f|=1);100*a.v.random()<=a.tb&&(f|=2);100*a.v.random()<=a.tb&&(f|=4);100*a.v.random()<=a.tb&&(f|=8);a.T[b]=f}else for(b=0;b<a.T.length;b+=1)f=100*a.v.random()<=a.tb?2===d||c?a.Je:(a.v.random()*(d-1)|0)+1:0,a.T[b]=f};S.prototype.uD=function(a,c){var b=a.Y,d=b.F,f=
b.J,e=b.G;b=b.K;var g=(a.g.width>>1)-(a.A>>1)+(a.V<<1),k=(a.g.height>>1)-(a.C>>1)+(a.W<<1),l=a.g.h,p=0;if(a.P){if(d>f){var n=f;f=d;d=n}e>b&&(n=b,b=e,e=n);-1===l&&(l=2);if(a.g.i)for(n=e;n<=b;n+=1)for(e=d;e<=f;e+=1){var q=0;100*a.v.random()<=a.tb&&(q|=1);100*a.v.random()<=a.tb&&(q|=2);100*a.v.random()<=a.tb&&(q|=4);100*a.v.random()<=a.tb&&(q|=8);p=a.pa(e+g,n+k,q)}else for(n=e;n<=b;n+=1)for(e=d;e<=f;e+=1)q=100*a.v.random()<=a.tb?2===l||c?a.Je:(a.v.random()*(l-1)|0)+1:0,p|=a.pa(e+g,n+k,q);a.g.D&&p&&this.g.Wa();
a.g.Jb=!0;a.g.Sb();a.M("random "+a.tb+"%")}};S.prototype.no=function(a,c){a.D||(a.Ea?a.WC(a,c):a.uD(a,c))};S.prototype.dD=function(a){a.D||a.no(a,!1)};S.prototype.SC=function(a){a.no(a,!0)};S.prototype.gF=function(a){var c=a.Jb,b=a.Ib,d=c>>1,f,e,g;for(e=g=0;e<b;e+=1){if(a.g.i)for(f=0;f<d;f+=1){var k=a.T[g+f];var l=a.T[g+c-f-1];a.T[g+f]=l&5|(l&2)<<2|(l&8)>>2;a.T[g+c-f-1]=k&5|(k&2)<<2|(k&8)>>2}else for(f=0;f<d;f+=1)k=a.T[g+f],a.T[g+f]=a.T[g+c-f-1],a.T[g+c-f-1]=k;g+=c}};S.prototype.lF=function(a){var c=
a.Y,b=c.F,d=c.J,f=c.G;c=c.K;var e,g=a.g.h,k=2<g&&!(this.g.ea||this.g.i||this.g.v||this.g.o),l=(a.g.width>>1)-(a.A>>1)+(a.V<<1),p=(a.g.height>>1)-(a.C>>1)+(a.W<<1),n=0;if(a.P){if(b>d){var q=d;d=b;b=q}f>c&&(q=c,c=f,f=q);q=a.g.N.h(na.La,d-b+1,"View.flipRow");for(e=f;e<=c;e+=1){for(f=b;f<=d;f+=1){var m=a.g.Ha(f+l,e+p,!1);k&&0<m&&(m=g-m);q[f-b]=m}if(a.g.i)for(f=b;f<=d;f+=1)m=q[d-f],a.pa(f+l,e+p,m&5|(m&2)<<2|(m&8)>>2);else for(f=b;f<=d;f+=1)n|=a.pa(f+l,e+p,q[d-f])}a.g.D&&n&&this.g.Wa();a.g.Jb=!0;a.g.Sb();
a.M("flip horizontally")}};S.prototype.qF=function(a){var c=a.Jb,b=a.Ib,d=b>>1,f,e,g;for(f=g=0;f<c;f+=1){if(a.g.i)for(e=0;e<d;e+=1){var k=a.T[g+e*c];var l=a.T[g+(b-e-1)*c];a.T[g+e*c]=l&10|(l&1)<<2|(l&4)>>2;a.T[g+(b-e-1)*c]=k&10|(k&1)<<2|(k&4)>>2}else for(e=0;e<d;e+=1)k=a.T[g+e*c],a.T[g+e*c]=a.T[g+(b-e-1)*c],a.T[g+(b-e-1)*c]=k;g+=1}};S.prototype.uF=function(a){var c=a.Y,b=c.F,d=c.J,f=c.G;c=c.K;var e,g=a.g.h,k=2<g&&!(this.g.ea||this.g.i||this.g.v||this.g.o),l=(a.g.width>>1)-(a.A>>1)+(a.V<<1),p=(a.g.height>>
1)-(a.C>>1)+(a.W<<1),n=0;if(a.P){if(b>d){var q=d;d=b;b=q}f>c&&(q=c,c=f,f=q);for(q=a.g.N.h(na.La,c-f+1,"View.flipColumn");b<=d;b+=1){for(e=f;e<=c;e+=1){var m=a.g.Ha(b+l,e+p,!1);k&&0<m&&(m=g-m);q[e-f]=m}if(a.g.i)for(e=f;e<=c;e+=1)m=q[c-e],a.pa(b+l,e+p,m&10|(m&1)<<2|(m&4)>>2);else for(e=f;e<=c;e+=1)n|=a.pa(b+l,e+p,q[c-e])}a.g.D&&n&&this.g.Wa();a.g.Jb=!0;a.g.Sb();a.M("flip vertically")}};S.prototype.iz=function(a,c){var b=a.Jb,d=a.Ib,f,e,g=a.g.N.h(na.La,b*d,"View.pasteBuffer");for(e=0;e<d;e+=1)for(f=
0;f<b;f+=1)if(a.g.i)if(c){var k=a.T[e*b+f];g[f*d+(d-e-1)]=k<<1&15|(k&8)>>3}else k=a.T[e*b+f],g[(b-f-1)*d+e]=k>>1&15|(k&1)<<3;else c?g[f*d+(d-e-1)]=a.T[e*b+f]:g[(b-f-1)*d+e]=a.T[e*b+f];a.T=g;a.Jb=d;a.Ib=b};S.prototype.oz=function(a,c,b){a.hF(a,c,b)};S.prototype.hF=function(a,c,b){var d=a.Y,f=d.F,e=d.J,g=d.G,k=d.K,l=0,p=a.g.h;var n=!0;var q=2<p&&!(this.g.ea||this.g.i||this.g.v||this.g.o),m=a.g.T?-1:0;var r=Math.round((a.g.width-a.g.M)/2)+m;var u=Math.round((a.g.height-a.g.I)/2)+m;var t=r+a.g.M-1;var v=
u+a.g.I-1;m=(a.g.width>>1)-(a.A>>1)+(a.V<<1);var x=(a.g.height>>1)-(a.C>>1)+(a.W<<1),w=0;if(a.P){if(f>e){var A=e;e=f;f=A}g>k&&(A=k,k=g,g=A);A=f+(e-f+1-1>>1);var C=g+(k-g+1-1>>1);var z=A+g-C;var H=C+f-A;var E=A+k-C;C=C+e-A;var J=d.F;var N=d.G;var L=d.J;var D=d.K;d.F=z;d.G=H;d.J=E;d.K=C;d.F>d.J&&(A=d.F,d.F=d.J,d.J=A);d.G>d.K&&(A=d.G,d.G=d.K,d.K=A);if(-1!==a.g.C){if(d.F+m<r||d.J+m>t||d.G+x<u||d.K+x>v)a.B.notification.notify("Rotation does not fit in bounded grid",15,180,15,!0),n=!1}else a.Pv(a)?(a.B.notification.notify("Rotation does not fit on grid",
15,180,15,!0),n=!1):(m=(a.g.width>>1)-(a.A>>1)+(a.V<<1),x=(a.g.height>>1)-(a.C>>1)+(a.W<<1));if(n){c?(n=H,v=E,t=1,u=-1):(n=C,v=z,t=-1,u=1);r=a.g.N.h(na.Zj,3*(e-f+1)*(k-g+1),"View.rotateCells");for(E=g;E<=k;E+=1){A=n;for(z=f;z<=e;z+=1)H=a.g.Ha(z+m,E+x,!1),q?0<H&&(H=p-H):a.g.i&&(H=c?H<<1&15|(H&8)>>3:H>>1&15|(H&1)<<3),r[l]=v,r[l+1]=A,r[l+2]=H,l+=3,A+=t;v+=u}m=(a.g.width>>1)-(a.A>>1)+(a.V<<1);x=(a.g.height>>1)-(a.C>>1)+(a.W<<1);for(l=0;l<r.length;)z=r[l],E=r[l+1],H=r[l+2],w|=a.pa(z+m,E+x,H),l+=3;for(z=
f;z<d.F;z+=1)for(E=g;E<=k;E+=1)w|=a.pa(z+m,E+x,0);for(z=d.J+1;z<=e;z+=1)for(E=g;E<=k;E+=1)w|=a.pa(z+m,E+x,0);for(E=g;E<d.G;E+=1)for(z=f;z<=e;z+=1)w|=a.pa(z+m,E+x,0);for(E=d.K+1;E<=k;E+=1)for(z=f;z<=e;z+=1)w|=a.pa(z+m,E+x,0);a.g.D&&w&&this.g.Wa();a.g.Jb=!0;a.g.Sb();a.M(b)}else d.F=J,d.G=N,d.J=L,d.K=D}};S.prototype.lE=function(a){a.Jo(a)};S.prototype.qB=function(a){a.D||a.Ef(a,-1,0)};S.prototype.tB=function(a){a.D||a.Ef(a,1,0)};S.prototype.wB=function(a){a.D||a.Ef(a,0,-1)};S.prototype.nB=function(a){a.D||
a.Ef(a,0,1)};S.prototype.Ew=function(a){a.D||(a.Ea?a.gF(a):a.lF(a))};S.prototype.Gw=function(a){a.D||(a.Ea?a.qF(a):a.uF(a))};S.prototype.cz=function(a){a.D||(a.Ea?a.iz(a,!0):a.oz(a,!0,"rotate clockwise"))};S.prototype.Yy=function(a){a.D||(a.Ea?a.iz(a,!1):a.oz(a,!1,"rotate counter-clockwise"))};S.prototype.CA=function(a){var c=0,b=a.g.h;if(!a.D)for(-1===b&&(b=2);c<a.T.length;){var d=a.T[c];a.T[c]=b-d-1;c+=1}};S.prototype.GA=function(a){var c=a.Y,b=c.F,d=c.J,f=c.G;c=c.K;var e=(a.g.width>>1)-(a.A>>1)+
(a.V<<1),g=(a.g.height>>1)-(a.C>>1)+(a.W<<1),k=a.g.h,l=0;if(!a.D&&a.P){if(b>d){var p=d;d=b;b=p}f>c&&(p=c,c=f,f=p);-1===k&&(k=2);for(p=f;p<=c;p+=1)for(f=b;f<=d;f+=1){var n=a.g.Ha(f+e,p+g,!1);!(a.g.o||a.g.i||a.g.v)&&2<k&&0<n&&(n=k-n);l|=a.pa(f+e,p+g,k-n-1)}a.g.D&&l&&this.g.Wa();a.g.Jb=!0;a.g.Sb();a.M("invert cells in selection")}};S.prototype.Nw=function(a){a.D||(a.Ea?a.CA(a):a.GA(a))};S.prototype.xr=function(a){a.g.Ya=a.g.Ya?!1:!0;a.sp(a.Bb);var c=a.g.xb;a.g.Ya&&(c=!c);a.B.notification.notify("Playback "+
(c?"Reverse":"Forward"),15,40,15,!0)};S.prototype.XE=function(a){a.Tc(!0,!0,B.Ei);a.Bb||(a.Rb=!0)};S.prototype.dw=function(a){var c=a.U;a.g.v&&(c=bb.eC(c),""===c&&(c=a.S.Wa));a.lf(a,c,!1)};S.prototype.dA=function(a){0!==a.s&&(a.s=0,a.$c.current=a.cf([0!==a.s],!0,a));0===a.g.u?(a.B.notification.notify("No live cells to Identify",15,120,15,!1),a.kb=!1,a.Tb=!1):(a.kb?(a.kb=!1,a.B.notification.notify("Identify Cancelled",15,120,15,!1)):(a.kb=!0,a.Tb=!1,a.B.notification.notify("Identifying...",15,216E3,
15,!1),a.g.ki.set(a.g.m)),a.M(""));a.g.vf(a.kb);a.s=0;a.ml(a);a.ml(a);a.B.i=!0;a.h.locked=!1;a.wd.current=a.lg(0,!0,a)};S.prototype.Lz=function(a){a.bh=1};S.prototype.vF=function(a){a.bh=2};S.prototype.Jw=function(a){var c=window.prompt("Enter generation",String(a.g.counter)),b=!1;a.dg=-1;if(null!==c){"b"===c.substring(c.length-1).toLowerCase()&&(c=c.substring(0,c.length-1),b=!0);if("+"===c.charAt(0)){var d=a.g.counter;d+=parseInt(c.substring(1),10)}else"-"===c.charAt(0)?(d=a.g.counter,d-=parseInt(c.substring(1),
10)):d=parseInt(c,10);0<=d&&d<=B.ly?d!==a.g.counter&&(a.vf()?a.B.notification.notify("No live cells",15,360,15,!1):(a.vb=d,a.fa.current=a.df([!1],!0,a),a.B.i=!0,a.Xc&&a.B.notification.notify("Going to generation "+d,15,1E4,15,!1),a.B.notification.clear(!0,!1),d<a.g.counter&&(a.g.Df(a,!1),a.xp(a.g.counter)),b&&(a.dg=performance.now()),a.Ip=d-a.g.counter)):a.B.notification.notify("Invalid generation specified",15,240,15,!0)}};S.prototype.Pl=function(a){a.dA(a)};S.prototype.vj=function(a,c,b){c&&(b.g.Ba=
a[0]);return[b.g.Ba]};S.prototype.kw=function(a,c,b){c&&(b.wc=a[0]);return[b.wc]};S.prototype.mw=function(a,c,b){c&&(b.ti=a[0]);return[b.ti]};S.prototype.ds=function(a,c,b){c&&(b.zd=a[0]);return[b.zd]};S.prototype.ys=function(a,c,b){c&&(b.jf=a[0]);return[b.jf]};S.prototype.df=function(a,c,b){c&&(0===b.s&&0===b.Ma.length||!a[0]||(b.s=0,b.$c.current=b.cf([0!==b.s],!0,b),b.Ma=[]),a[0]||b.ml(b),a[0]&&(b.B.notification.clear(!1,!1),b.B.notification.clear(!0,!1)));return a};S.prototype.ss=function(a,c,
b){c&&(b.dh=a[0]);return[b.dh]};S.prototype.vs=function(a,c,b){c&&(b.bg=a[0]);return[b.bg]};S.prototype.lg=function(a,c,b){c&&(b.Se=a);return b.Se};S.prototype.ne=function(a,c,b){c&&(b.Vd=a[0],b.Vd?b.Gl?b.B.notification.notify("Replace: Now click on a cell",15,180,15,!0):b.B.notification.notify("Pick: Now click on a cell",15,180,15,!0):(b.wv||b.B.notification.clear(!0,!1),b.wv=!1,b.Gl=!1));return[b.Vd]};S.prototype.iw=function(a,c,b){c&&(b.ja=a[0],b.ja&&!b.Bb&&b.Tc(!0,!0,B.Ei));return[b.ja]};S.prototype.cB=
function(a,c,b){c&&-1!==b.ob&&(b.ma=!a[0],b.qa?(b.ib=b.ma,b.B.notification.notify("Loop and Waypoints "+(b.ma?"Off":"On"),15,40,15,!0)):b.gb?(b.xb=b.ma,b.B.notification.notify("Loop and Track "+(b.ma?"Off":"On"),15,40,15,!0),b.Jv(b.xb)):b.B.notification.notify("Loop "+(b.ma?"Off":"On"),15,40,15,!0));return[b.ma]};S.prototype.$A=function(a,c,b){c&&b.Ab&&(b.Wb=!a[0]);return[b.Wb]};S.prototype.fB=function(a,c,b){c&&-1!==b.Pb&&(b.wb=!a[0]);return[b.wb]};S.prototype.Cs=function(a,c,b){c&&(b.gb?(b.xb=!a[0],
b.Jv(b.xb),-1!==b.ob&&(b.ma=b.xb)):b.qa&&(b.ib=!a[0],b.ib?(b.B.notification.clear(!1,!1),b.He=""):(b.Rb=!0,b.ra=b.l.xa(b.g.counter)),-1!==b.ob&&(b.ma=b.ib)));return b.gb?[b.xb]:[b.ib]};S.prototype.cf=function(a,c,b){c&&(b.s=a[0]?1:0,b.s?(b.fa.current[0]&&(b.fa.current=b.df([!1],!0,b)),b.B.notification.clear(!1,!1),b.B.notification.clear(!0,!1)):(b.xc(B.Qf,b),b.s=0));b.Wq(b.Fa.current);return[0!==b.s]};S.prototype.Pz=function(a){a.Mq(a)};S.prototype.dF=function(a){a.Ey(a)};S.prototype.SA=function(a){a.yw(a)};
S.prototype.Vv=function(a){var c=a.la.current[0];c=45*Math.floor((c+22.5)/45);360<=c&&(c=0);a.la.current=a.pg([c,c],!0,a)};S.prototype.HA=function(){Ka.lz()};S.prototype.LA=function(a){Ka.Iu(a)};S.prototype.HE=function(){Ka.bz()};S.prototype.WE=function(a){a.hm(a,!1,!1)};S.prototype.zx=function(a,c,b){c&&(b.Ee=a[0]);return[b.Ee]};S.prototype.Tw=function(a,c,b){c&&(b.g.nc=a[0],b.g.ah());return[b.g.nc]};S.prototype.co=function(a,c,b){c&&(b.hg=a[0]);b.B.Ne(!0);return[b.hg]};S.prototype.Xo=function(a,
c){1<a.ea&&(a.ea-=c,1>a.ea&&(a.ea=1))};S.prototype.Wo=function(a,c){a.ea<a.Ma.length-a.xa+1&&(a.ea+=c,a.ea>a.Ma.length-a.xa+1&&(a.ea=a.Ma.length-a.xa+1))};S.prototype.kp=function(a,c){1<a.s&&(a.s-=c,1>a.s&&(a.s=1))};S.prototype.Yo=function(a,c){a.s<a.li-a.xa&&(a.s+=c,a.s>a.li-a.xa&&(a.s=a.li-a.xa))};S.prototype.xC=function(a){for(var c=a.u.length-1,b=!1;0<=c&&!b;)a.s<=a.u[c][0]?--c:b=!0;b&&(a.s=a.u[c][0])};S.prototype.hB=function(a){for(var c=0,b=!1;c<a.u.length&&!b;)a.s>=a.u[c][0]?c+=1:b=!0;b&&(a.s=
a.u[c][0])};S.prototype.rF=function(a){for(this.g.i&&this.g.counter<a&&(1===(this.g.counter&1)?this.g.l.cb.fill(0):this.g.$.cb.fill(0));this.g.counter<a;)this.g.$c(),this.g.Ac(),this.he(),this.g.se(),this.g.cd(this);this.ra=this.De[a];this.ha=a*this.L};S.prototype.vq=function(a){var c=this.wa+(0<this.g.h?this.g.h:0);!this.vc&&this.B.Ka&&(this.B.Ka=!1,0>a&&(a=0),this.ra=this.De[a],this.ha=a*this.L,-1!==this.sb&&a>this.sb+c?this.g.counter=a:this.g.gj(a,this),this.ra=this.De[a],this.ha=a*this.L,this.l.$a(this.ra),
this.Rb=!0,a!==this.g.counter&&(this.xh=!0,this.Fq=a,this.g.Df(this,!1),this.B.notification.notify("Computing previous generations",15,1E4,15,!0),this.Dq=!0))};S.prototype.hk=function(a){a.style.width="2em";a.style.height="2em";a.style.padding=0;a.style.border="none";a.style.outline="none";a.style.boxShadow="none";a.style.background="transparent";a.style.position="fixed";a.style.left="-100px";a.style.top="0px"};S.prototype.lf=function(a,c,b){var d="textarea";a.Fz=document.documentElement.scrollTop||
document.body.scrollTop;a.vk=c;a.Hd=0;a.gh=c.length;if(b){var f=performance.now()-a.um;f<B.PB&&a.gh<B.OB?b=!1:a.Xl||(d="div")}a.fh=document.createElement("div");a.fh.contentEditable=!0;a.hk(a.fh);a.af=document.createElement(d);a.hk(a.af);a.af.contentEditable=!0;a.fh.appendChild(a.af);document.body.appendChild(a.fh);b?(a.Jq=B.QB,a.B.notification.notify("Copying...",15,1E4,15,!0),a.Fl=!0,a.om=!1,a.h.locked=!0):(a.af.innerHTML=c,a.Yv(a,b))};S.prototype.Yv=function(a,c){var b=null;if(a.Xl)var d=a.af;
else c?d=a.fh:(d=a.af,d.contentEditable="true",d.readOnly="false");d.focus();var f=document.createRange();f.selectNodeContents(d);try{c?document.execCommand("selectAll"):(b=window.getSelection(),b.removeAllRanges(),b.addRange(f),d.setSelectionRange(0,999999)),document.execCommand("copy")}catch(e){}document.body.removeChild(a.fh);a.vk="";a.B.o||a.Qa.canvas.focus();a.B.notification.notify("Copied to external clipboard",15,180,15,!0);c&&(a.Fl=!1,a.h.locked=!1);document.documentElement.scrollTop=document.body.scrollTop=
a.Fz;a.um=-1};S.prototype.sd=function(a){var c=lb.Gf,b=Object.keys(c),d=a.h,f=a.l;a=a.i;for(var e="",g=!1,k=null,l=0;l<b.length&&!g;)k=c[b[l]],k[1]===d&&k[2]===f&&k[3]===a?(g=!0,l=b.length):l+=1;g?e=k[0]:e=d+" "+f+" "+a;return e};S.prototype.Uh=function(a,c){return a.h===c.h&&a.l===c.l&&a.i===c.i};S.prototype.bw=function(a,c){var b="#C "+y.Cj+" ",d=String(-(a.g.width/2-a.g.ca-a.g.ya|0)),f=String(-(a.g.height/2-a.g.Z-a.g.wa|0)),e=a.g.zoom,g=String(a.g.angle|0),k=String(a.g.lb|0),l=a.g.na[a.g.Eb];0!==
a.g.counter&&(b+=y.Pn+" "+a.g.counter+" ");b+=y.we+" "+d+" "+y.ye+" "+f+" ";b+=y.Ud+" "+(e===(e|0)?String(e):String(e.toFixed(2)))+" ";b+=y.ij+" "+g+" ";0!==a.g.lb&&(b+=y.Ej+" "+k+" ");b+=y.Vm+"\n";if(c){b+="#C "+y.Cj+" ";if(a.Wc){if(2<a.g.h){if(b+=y.jb+" "+y.Tp+" "+a.sd(l.D),b+=" "+y.jb+" "+y.Sp+" "+a.sd(l.v),a.Uh(l.l.i,l.D)||(b+=" "+y.jb+" "+y.Vp+" "+a.sd(l.l.i)),a.Uh(l.l.h,l.l.i)||(b+=" "+y.jb+" "+y.Up+" "+a.sd(l.l.h)),l.I||(b+=" "+y.jb+" "+y.Nu+" "+a.sd(l.m.i)),l.I||!a.Uh(l.m.h,l.m.i))b+=" "+
y.jb+" "+y.Mu+" "+a.sd(l.m.h)}else b+=y.jb+" "+y.Tp+" "+a.sd(l.u),b+=" "+y.jb+" "+y.Sp+" "+a.sd(l.i.h),a.Uh(l.i.h,l.i.i)||(b+=" "+y.jb+" "+y.Lu+" "+a.sd(l.i.i)),a.Uh(l.h.i,l.u)||(b+=" "+y.jb+" "+y.Vp+" "+a.sd(l.h.i)),a.Uh(l.h.h,l.h.i)||(b+=" "+y.jb+" "+y.Up+" "+a.sd(l.h.h));b+=" "+y.Vm+"\n#C "+y.Cj+" "}b+=y.Xi+" "+l.name+" ";a.wa!==a.Vk&&(b+=y.tm+" "+a.wa+" ");a.Eg!==a.yx&&(b+=y.kn+" "+a.Eg+" ");b+=y.fn+" "+a.da+" ";b+=y.rm+" "+a.ba+" ";b+=y.Vm+"\n"}a.lf(a,b,!1)};S.prototype.Az=function(a){a.element.innerHTML=
a.g.bg(a,a.g,!0,a.g.h,a.g.h,[],!1);a.element.value=a.element.innerHTML};S.prototype.ZA=function(a,c){if(a.Id.locked||a.Sj||window.confirm("Open clipboard?"))a.element.innerHTML=c,a.element.value=a.element.innerHTML,Mb(a.element)};S.prototype.Jj=function(a,c){a.um=performance.now();Ja.pb?a.lf(a,Ka.le[a.za].pattern,c):a.lf(a,zb(a.element),c)};S.prototype.pm=function(a,c){a.um=performance.now();a.lf(a,a.g.bg(a,a.g,c,a.g.h,a.g.h,[],!1),!1)};S.prototype.KA=function(a,c){var b=c.charCode||c.keyCode;if(a.xh?
Jb.TD(a,b,c):a.kb?Jb.UD(a,b,c):a.Fl?Jb.RD(a,b,c):-1!==a.vb?Jb.SD(a,b,c):Jb.QD(a,b,c))a.B.Ne(!0),c.preventDefault()};S.prototype.wF=function(){this.g.D||this.g.o?(this.tf.setPosition(Q.zb,-85,-130),this.g.D?(this.kc.setPosition(Q.zb,-130,-130),this.kc.R="random fill [Shift 5]",this.Wd.setPosition(Q.zb,-235,-130)):(this.kc.setPosition(Q.zb,-175,-130),this.kc.R="random multi-state fill [Shift 5]",this.$g.setPosition(Q.zb,-130,-130),this.Wd.setPosition(Q.zb,-280,-130))):2>=this.g.h?(this.tf.setPosition(Q.zb,
-40,-130),this.kc.setPosition(Q.zb,-85,-130),this.kc.R="random fill [Shift 5]",this.Wd.setPosition(Q.zb,-190,-130)):(this.tf.setPosition(Q.zb,-40,-130),this.g.i?(this.kc.setPosition(Q.zb,-85,-130),this.kc.R="random multi-state fill [Shift 5]",this.Wd.setPosition(Q.zb,-190,-130)):(this.kc.setPosition(Q.zb,-130,-130),this.kc.R="random multi-state fill [Shift 5]",this.$g.setPosition(Q.zb,-85,-130),this.Wd.setPosition(Q.zb,-235,-130)))};S.prototype.qw=function(){var a=!(this.g.ea||this.g.o||this.g.v);
if(this.ba<B.yj){var c=50;this.bk.setPosition(Q.Rc,10,c);this.dk.setPosition(Q.Pa,0,c);this.$j.setPosition(Q.Zb,-160,c);c+=50;a?(this.fk.setPosition(Q.Rc,10,c),this.bj.setPosition(Q.Pa,0,c),this.Zi.setPosition(Q.Zb,-160,c),0<this.l.A()?(this.Jh.setPosition(Q.Rc,10,150),this.$i.setPosition(Q.Zb,-160,150)):this.Jh.setPosition(Q.Pa,0,150)):(this.bj.setPosition(Q.Rc,10,c),this.Zi.setPosition(Q.Pa,0,c),this.Jh.setPosition(Q.Zb,-160,c),0<this.l.A()&&this.$i.setPosition(Q.Pa,0,c+50))}else c=0<this.l.A()?
-175:-150,this.bk.setPosition(Q.bb,0,c),c+=50,this.dk.setPosition(Q.bb,0,c),c+=50,this.$j.setPosition(Q.bb,0,c),c+=50,a&&(this.fk.setPosition(Q.bb,0,c),c+=50),this.bj.setPosition(Q.bb,0,c),c+=50,this.Zi.setPosition(Q.bb,0,c),c+=50,this.Jh.setPosition(Q.bb,0,c),this.$i.setPosition(Q.bb,0,c+50)};S.prototype.Qv=function(){var a="white",c="black",b="rgb(0,240,32)",d="blue",f="grey",e="white";var g=this.na[B.Co];-1!==g?(a="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")",this.m.o=!0):(this.m.o=!0,g=16777215);
this.m.M=this.g.pc?-16777216|(g&255)<<16|(g>>8&255)<<8|g>>16:g>>16<<24|(g>>8&255)<<16|(g&255)<<8|255;g=this.na[B.zo];-1!==g?this.m.o=!0:(this.m.o=!0,g=7368816);this.m.I=this.g.pc?-16777216|(g&255)<<16|(g>>8&255)<<8|g>>16:g>>16<<24|(g>>8&255)<<16|(g&255)<<8|255;g=this.na[B.Ao];-1!==g?c="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")":g=0;this.Zn=g;this.m.P=this.g.pc?-16777216|(g&255)<<16|(g>>8&255)<<8|g>>16:g>>16<<24|(g>>8&255)<<16|(g&255)<<8|255;g=this.na[B.Do];-1!==g&&(b="rgb("+(g>>16)+","+(g>>8&255)+
","+(g&255)+")");g=this.na[B.Fo];-1!==g&&(d="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")");g=this.na[B.Eo];-1!==g?f="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")":g=8421504;this.m.L=this.g.pc?-16777216|(g&255)<<16|(g>>8&255)<<8|g>>16:g>>16<<24|(g>>8&255)<<16|(g&255)<<8|255;g=this.na[B.Bo];-1!==g&&(e="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")");this.B.xb(a,c,b,d,f,e,this.sh);this.Bh.Vb="red"};S.prototype.sB=function(){var a,c=0;this.Vg=10;this.h=this.B.Lb(this.Yz,this.sv,this);this.h.P=this.zA;this.h.ma=
this.QA;this.Kh=this.h.l(Q.Pa,0,52,480,48,"Banner");this.Kh.Db("32px Arial");this.lk=this.h.l(Q.Pa,-160,140,160,32,"Cells");this.Ls=this.h.l(Q.Pa,-160,180,160,32,"Bounding Box");this.ct=this.h.l(Q.Pa,-160,240,160,32,"Direction");this.gu=this.h.l(Q.Pa,-160,280,160,32,"Period");this.uu=this.h.l(Q.Pa,-160,320,160,32,"Slope");this.Cu=this.h.l(Q.Pa,-160,360,160,32,"Speed");this.Ut=this.h.l(Q.Pa,-160,400,160,32,"Heat");this.ov=this.h.l(Q.Pa,-160,440,160,32,"Volatility");this.bi=this.h.l(Q.Pa,-160,460,160,
32,"Mod");this.Bs=this.h.l(Q.Pa,-160,500,160,32,"Active Cells");this.Vu=this.h.l(Q.Pa,-160,540,160,32,"Temperature");this.ai=this.h.l(Q.Pa,80,140,320,32,"");this.jn=this.h.l(Q.Pa,80,180,320,32,"");this.Nl=this.h.l(Q.Pa,80,220,320,32,"");this.Ol=this.h.l(Q.Pa,80,260,320,32,"");this.Ql=this.h.l(Q.Pa,80,300,320,32,"");this.sk=this.h.l(Q.Pa,80,340,320,32,"");this.nk=this.h.l(Q.Pa,80,380,320,32,"");this.Rl=this.h.l(Q.Pa,80,420,320,32,"");this.ci=this.h.l(Q.Pa,80,460,320,32,"");this.jk=this.h.l(Q.Pa,80,
500,320,32,"");this.uk=this.h.l(Q.Pa,80,540,320,32,"");this.yk=this.h.l(Q.Rc,0,40,16,20,"X");this.yk.Db(B.Kf);this.yk.V=Q.je;this.Ak=this.h.l(Q.Rc,70,40,16,20,"Y");this.Ak.Db(B.Kf);this.Ak.V=Q.je;this.wk=this.h.l(Q.Rc,140,40,16,20,"A");this.wk.Db(B.Kf);this.wk.V=Q.je;this.Ng=this.h.l(Q.Rc,16,40,54,20,"");this.Ng.Db(B.Kf);this.Ng.l=Q.right;this.Ng.R="camera X position";this.Og=this.h.l(Q.Rc,86,40,54,20,"");this.Og.Db(B.Kf);this.Og.l=Q.right;this.Og.R="camera Y position";this.Lh=this.h.l(Q.Rc,156,40,
40,20,"");this.Lh.Db(B.Kf);this.Lh.l=Q.right;this.Lh.R="camera angle";this.tv=this.h.l(Q.Rc,196,40,4,20,"");this.Sl=this.h.l(Q.Zb,-280,40,20,20,"E");this.Sl.Db(B.Kf);this.Ul=this.h.l(Q.Zb,-210,40,20,20,"S");this.Ul.Db(B.Kf);this.Vl=this.h.l(Q.Zb,-140,40,20,20,"W");this.Vl.Db(B.Kf);this.Tl=this.h.l(Q.Zb,-70,40,20,20,"N");this.Tl.Db(B.Kf);this.Mh=this.h.l(Q.Zb,-260,40,50,20,"");this.Mh.Db(B.Kf);this.Mh.l=Q.right;this.Mh.R="bounding box east edge velocity";this.Lg=this.h.l(Q.Zb,-190,40,50,20,"");this.Lg.Db(B.Kf);
this.Lg.l=Q.right;this.Lg.R="bounding box south edge velocity";this.Mg=this.h.l(Q.Zb,-120,40,50,20,"");this.Mg.Db(B.Kf);this.Mg.l=Q.right;this.Mg.R="bounding box west edge velocity";this.Nh=this.h.l(Q.Zb,-50,40,50,20,"");this.Nh.Db(B.Kf);this.Nh.l=Q.right;this.Nh.R="bounding box north edge velocity";this.vh=this.h.m(this.$A,Q.Zb,-210,0,38,20,["START"],[!1],Q.pb);this.vh.Db(B.Lp);this.vh.R=["autostart [Alt O]"];this.ig=this.h.m(this.fB,Q.Zb,-210,20,38,20,["STOP"],[!1],Q.pb);this.ig.Db(B.Lp);this.ig.R=
["stop [Alt P]"];this.Ac=this.h.m(this.Cs,Q.Zb,-172,0,38,20,["WAYPT"],[!1],Q.pb);this.Ac.Db(B.Lp);this.Ac.R=["toggle waypoint mode [W]"];this.wf=this.h.m(this.cB,Q.Zb,-172,20,38,20,["LOOP"],[!1],Q.pb);this.wf.Db(B.Lp);this.wf.R=["toggle loop mode [Shift P]"];this.Fa=this.h.m(this.pe,Q.Rc,90,0,120,40,["","",""],B.Aj,Q.Vi);this.Fa.h=[this.m.h("draw"),this.m.h("select"),this.m.h("pan")];this.Fa.R=["draw [F2]","select [F4]","pan [F5]"];this.Zc=this.h.m(this.EA,Q.Zb,-80,100,80,60,["1","2"],0,Q.Vi);this.Zc.orientation=
Q.vertical;this.Zc.R=["",""];this.Zc.Db("14px Arial");this.Qr=this.h.i(this.aC,Q.Zb,-110,40,60,"OK");this.Qr.R="confirm setting disabled and hide warning";this.$c=this.h.m(this.cf,Q.Zb,-40,0,40,40,["Help"],[!1],Q.pb);this.$c.R=["toggle help display [H]"];this.$c.Db("16px Arial");this.Yn=this.h.i(this.PD,Q.Zb,-40,50,40,"^");this.Yn.R="show help topics [Backspace]";this.pp=this.h.i(this.Xz,Q.Zb,-40,100,40,"<");this.pp.R="show help sections [Ins]";this.bk=this.h.i(this.OA,Q.Pa,0,50,150,"Keys");this.bk.R=
"show keyboard shortcuts [K]";this.dk=this.h.i(this.Tz,Q.Pa,0,100,150,"Scripts");this.dk.R="show script commands [S]";this.$j=this.h.i(this.tA,Q.Pa,0,150,150,"Info");this.$j.R="show pattern and engine information [I]";this.fk=this.h.i(this.XA,Q.Pa,0,200,150,"Themes");this.fk.R="show colour Themes [T]";this.bj=this.h.i(this.cA,Q.Pa,0,250,150,"Colours");this.bj.R="show colour names [C]";this.Zi=this.h.i(this.mD,Q.Pa,0,300,150,"Aliases");this.Zi.R="show rule aliases [A]";this.Jh=this.h.i(this.bB,Q.Pa,
0,350,150,"Memory");this.Jh.R="show memory usage [Y]";this.$i=this.h.i(this.yD,Q.Pa,0,350,150,"Annotations");this.$i.R="show annotations [N]";this.Pd=this.h.m(this.iw,Q.Rc,0,0,40,40,["Auto"],[!1],Q.pb);this.Pd.h=[this.m.h("autofit")];this.Pd.R=["toggle autofit [Shift F]"];this.Pd.Db("16px Arial");this.Rf=this.h.i(this.XE,Q.Rc,45,0,40,"");this.Rf.h=this.m.h("fit");this.Rf.R="fit pattern to display [F]";this.Yc=this.h.m(this.vj,Q.Zb,-85,0,40,40,["Grid"],[!1],Q.pb);this.Yc.h=[this.m.h("grid")];this.Yc.R=
["toggle gridlines [X]"];this.Yc.Db("16px Arial");this.Me=this.h.Ca(Q.ug);this.Me.locked=!0;this.Sf=this.h.l(Q.ug,0,-130,42,30,"Gen");this.Sf.l=Q.left;this.Sf.Db(B.Lf);this.Sf.R="generation";this.rc=this.h.l(Q.ug,42,-130,98,30,"");this.rc.l=Q.right;this.rc.Db(B.Lf);this.rc.R="generation";this.uj=this.h.l(Q.ug,0,-100,70,30,"Time");this.uj.l=Q.left;this.uj.Db(B.Lf);this.uj.R="elapsed time";this.Of=this.h.l(Q.ug,70,-100,70,30,"");this.Of.l=Q.right;this.Of.Db(B.Lf);this.Of.R="elapsed time";this.Zd=this.h.l(Q.ug,
210,-70,130,30,"");this.Zd.l=Q.left;this.Zd.Db(B.Lf);this.Zd.R="selection size";this.Qc=this.h.l(Q.ug,0,-70,210,30,"");this.Qc.l=Q.left;this.Qc.Db(B.Lf);this.Qc.R="cell state at cursor position";this.$a=this.h.m(this.co,Q.ug,0,-40,100,40,["T 0"],[this.hg],Q.pb);this.$a.R=["toggle generation statistics [G]\ngeneration "+(this.g.counter+this.Ca)];this.lc=this.h.l(Q.ug,0,-40,this.da-40,40,"");this.lc.l=Q.left;this.lc.H=!0;this.Te=this.h.l(Q.zb,-70,-130,70,30,"Alive");this.Te.l=Q.left;this.Te.Db(B.Lf);
this.Te.R="current population";this.Ad=this.h.l(Q.zb,-140,-130,70,30,"");this.Ad.l=Q.right;this.Ad.Db(B.Lf);this.Ad.R="alive";this.Cc=this.h.l(Q.zb,-70,-100,70,30,"Births");this.Cc.l=Q.left;this.Cc.Db(B.Lf);this.Cc.R="cells born this generation";this.Vc=this.h.l(Q.zb,-140,-100,70,30,"");this.Vc.l=Q.right;this.Vc.Db(B.Lf);this.Vc.R="births";this.Be=this.h.l(Q.zb,-70,-70,70,30,"Deaths");this.Be.l=Q.left;this.Be.Db(B.Lf);this.Be.R="cells died this generation";this.Ce=this.h.l(Q.zb,-140,-70,70,30,"");
this.Ce.l=Q.right;this.Ce.Db(B.Lf);this.Ce.R="deaths";this.Yd=this.h.l(Q.ug,0,-160,140,30,this.U);this.Yd.Db(B.Lf);this.Ec=this.h.I(this.qe,Q.Pa,0,0,B.Wn,40,0,1,.1,"Zoom ","",1);this.Ec.R="camera zoom [[ / ]]";this.ab=this.h.I(this.Bk,Q.Lo,-84,0,40,292,B.Zo,B.hp,1,"Layers ","",0);this.ab.R="number of layers [Q / A]";this.Ba=this.h.I(this.ef,Q.Lo,-40,0,40,292,1,0,.1,"Depth ","",2);this.Ba.R="depth between layers [P / L]";this.Xa=this.h.I(this.wj,Q.vv,0,0,40,292,0,1,.5,"Tilt ","",1);this.Xa.R="camera tilt [' / /]";
this.la=this.h.I(this.pg,Q.Pa,0,50,390,40,0,359,0,"Angle ","\u00b0",0);this.la.R="camera angle [< / >]";this.gk=this.h.i(this.uA,Q.zb,-40,-90,40,"");this.gk.h=this.m.h("shrink");this.gk.R="shrink to thumbnail [N]";this.cq=this.h.l(Q.Pa,0,100,120,40,"");this.vd=this.h.m(this.Du,Q.bb,-100,-100,180,40,["Use Rectangles"],[this.g.va],Q.pb);this.vd.R=["toggle hexagonal cells [?]"];this.Fi=this.h.m(this.Bw,Q.bb,100,-100,180,40,["Cell Borders"],[this.g.Ra],Q.pb);this.Fi.R=["toggle cell borders [Alt B]"];
this.yd=this.h.m(this.Ow,Q.bb,-100,-50,180,40,["Major GridLines"],[this.g.nd],Q.pb);this.yd.R=["toggle major gridlines [Shift X]"];this.mj=this.h.m(this.Cx,Q.bb,100,-50,180,40,["Starfield"],[this.kd],Q.pb);this.mj.R=["toggle starfield display [S]"];this.uf=this.h.m(this.Kw,Q.bb,-100,0,180,40,["Annotations"],[this.jd],Q.pb);this.uf.R=["toggle annotations [Alt L]"];this.Zg=this.h.m(this.uv,Q.bb,100,0,180,40,["Rainbow"],[this.g.Ma],Q.pb);this.Zg.R=["toggle rainbow mode [Alt W]"];this.Bi=this.h.m(this.xw,
Q.bb,-100,50,180,40,["Auto GridLines"],[this.Uc],Q.pb);this.Bi.R=["automatically turn on gridlines for Draw and Select and off for Pan [Ctrl G]"];this.Od=this.h.m(this.uw,Q.bb,100,50,180,40,["Alt GridLines"],[this.g.yd],Q.pb);this.Od.R=["toggle alternating gridlines [Alt D]"];this.di=this.h.m(this.Fv,Q.bb,-100,100,180,40,["Info Bar"],[this.Da],Q.pb);this.di.R=["toggle Information Bar [Shift I]"];this.Kj=this.h.m(this.Tw,Q.bb,100,100,180,40,["Render Quality"],[this.g.nc],Q.pb);this.Kj.R=["toggle anti-aliased cell display [Ctrl Q]"];
this.dn=this.h.i(this.Jw,Q.bb,-100,-50,180,"Go To Gen");this.dn.R="go to specified generation [Shift N]";this.fj=this.h.m(this.Hw,Q.bb,100,-50,180,40,["AutoFit History"],[this.bd],Q.pb);this.fj.R=["toggle AutoFit History [Shift H]"];this.kg=this.h.m(this.ys,Q.bb,-100,0,180,40,["Throttle"],[this.jf],Q.pb);this.kg.R=["toggle playback throttling [Alt T]"];this.ag=this.h.m(this.ds,Q.bb,100,0,180,40,["Perf. Warning"],[this.zd],Q.pb);this.ag.R=["toggle performance warning display [Shift W]"];this.Ge=this.h.m(this.IA,
Q.bb,-100,50,180,40,["Kill Gliders"],[this.g.Tc],Q.pb);this.Ge.R=["toggle kill escaping gliders [Ctrl L]"];this.Di=this.h.m(this.zw,Q.bb,100,50,180,40,["AutoHide UI"],[this.ad],Q.pb);this.Di.R=["toggle hide UI on playback [Alt U]"];this.Kq=this.h.i(this.mF,Q.bb,-100,-100,180,"Change Rule");this.Kq.R="change rule [Alt R]";this.oq=this.h.i(this.eB,Q.bb,100,-100,180,"New Pattern");this.oq.R="new pattern [Alt N]";this.nq=this.h.i(this.WA,Q.bb,-100,-50,180,"Load Pattern");this.nq.R="load last saved pattern [Ctrl O]";
this.ak=this.h.i(this.Cz,Q.bb,100,-50,180,"Save Pattern");this.ak.R="save pattern [Ctrl S]";this.yi=this.h.i(this.ID,Q.bb,-100,0,180,"Rand All");this.yi.R="randomize pattern and rule [Alt Z]";this.vo=this.h.i(this.BD,Q.bb,100,0,180,"Rand Pattern");this.vo.R="randomize pattern and keep rule [Ctrl Alt Z]";this.$h=this.h.i(this.Pl,Q.bb,-100,50,180,"Identify");this.$h.R="identify oscillator or spaceship period [F6]";this.Sk=this.h.i(this.SA,Q.bb,100,50,180,"Last Identify");this.Sk.R="show last identify results [Shift F6]";
this.Qq=this.h.i(this.Lz,Q.bb,-100,100,180,"Save Image");this.Qq.R="save image [O]";this.Oq=this.h.i(this.vF,Q.bb,100,100,180,"Save Graph");this.Oq.R="save population graph image [Shift O]";this.rq=this.h.i(this.Nx,Q.bb,-100,-50,180,"Open Clipboard");this.rq.R="open clipboard as pattern [Ctrl Shift O]";this.Lq=this.h.i(this.YA,Q.bb,100,-50,180,"Copy Original");this.Lq.R="copy original pattern [Ctrl Shift C]";this.sm=this.h.i(this.dw,Q.bb,-100,0,180,"Copy Rule");this.sm.R="copy rule definition [Ctrl J]";
this.qm=this.h.i(this.VA,Q.bb,100,0,180,"Copy Nhood");this.qm.R="copy CoordCA neighbourhood definition [Ctrl B]";this.wm=this.h.i(this.mB,Q.bb,-100,50,180,"Copy All");this.wm.R="copy with comments [Ctrl Alt C]";this.io=this.h.i(this.KB,Q.bb,100,50,180,"Paste To Seln");this.io.R="paste to selection [Ctrl Shift V]";this.Kl=this.h.i(this.bC,Q.rl,-135,-100,120,"Prev");this.Kl.R="go to previous universe [Page Up]";this.$k=this.h.i(this.kB,Q.rl,135,-100,120,"Next");this.$k.R="go to next universe [Page Down]";
this.Bh=this.h.i(this.GE,Q.zb,-40,-85,40,"X");this.Bh.R="close window";this.Bh.Db("24px Arial");this.Bh.Vb="red";this.Bq=this.h.i(this.Vz,Q.zb,-40,-85,40,"X");this.Bq.R="close errors [Esc]";this.Il=this.h.i(this.Ux,Q.vv,10,0,40,"<");this.Il.R="go to previous POI [Shift J]";this.Yk=this.h.i(this.Dx,Q.Lo,-50,0,40,">");this.Yk.R="go to next POI [J]";this.mi=this.h.I(this.bo,Q.Pa,0,45,172,40,0,1,this.Ka,"Opacity ","%",0);this.mi.R="graph opacity [7 / 9]";this.Ml=this.h.i(this.Us,Q.Zb,-40,45,40,"X");this.Ml.R=
"close results [Esc]";this.wd=this.h.m(this.lg,Q.Zb,-40,45,40,120,["Res","Tbl","Map"],this.Se,Q.Vi);this.wd.R=["show Identify results [Shift F6]","toggle cell period table [E]","toggle cell period map [D]"];this.wd.Db("15px Arial");this.wd.V=Q.je;this.qk=this.h.i(this.hA,Q.Zb,-40,45,40,"");this.qk.R="download cell period map [Shift D]";this.qk.h=this.m.h("download");this.xs=this.h.i(this.$z,Q.Zb,-40,45,40,"X");this.xs.R="close graph [Y]";this.ki=this.h.m(this.kw,Q.Zb,-85,45,40,40,[""],[!1],Q.pb);
this.ki.h=[this.m.h("lines")];this.ki.R=["toggle graph lines/points [Shift Y]"];this.Fb=this.h.m(this.zk,Q.Zb,-210,45,120,40,["Pop","Bth","Dth"],[this.Ih,this.Dh,this.Hh],Q.pb);this.Fb.R=["toggle population [Shift F3]","toggle births [Shift F4]","toggle deaths [Shift F5]"];this.Fb.Db("15px Arial");this.Oc=this.h.m(this.ne,Q.Rc,0,45,40,40,[""],[this.Vd],Q.pb);this.Oc.h=[this.m.h("pick")];this.Oc.R=["pick state [F3]"];this.nj=this.h.m(this.vs,Q.Rc,45,45,40,40,[""],[this.bg],Q.pb);this.nj.h=[this.m.h("states")];
this.nj.R=["toggle states display [Ctrl D]"];this.Cl=this.h.m(this.mw,Q.Rc,90,45,40,40,[""],[this.ti],Q.pb);this.Cl.h=[this.m.h("drawpause")];this.Cl.R=["toggle pause playback while drawing [Ctrl P]"];this.kj=this.h.m(this.ss,Q.Rc,135,45,40,40,[""],[this.dh],Q.pb);this.kj.h=[this.m.h("smart")];this.kj.R=["toggle smart drawing [Shift F2]"];this.fa=this.h.m(this.df,Q.zb,-40,-40,40,40,[""],[!1],Q.pb);this.fa.h=[this.m.h("menu")];this.fa.R=["toggle settings menu [M]"];this.vl=this.h.i(this.RB,Q.bb,-100,
-75,150,"Pattern");this.vl.R="pattern actions";this.jm=this.h.i(this.Rz,Q.bb,100,-75,150,"Clipboard");this.jm.R="clipboard actions";this.md=this.h.i(this.TA,Q.bb,-100,75,150,"Theme");this.md.R="choose colour theme";this.Tf=this.h.m(this.vu,Q.bb,100,75,150,40,["Graph"],[this.ya],Q.pb);this.Tf.R=["toggle population graph display [Y]"];this.Nj=this.h.i(this.JB,Q.bb,-100,-25,150,"Display");this.Nj.R="display settings";this.ko=this.h.i(this.YB,Q.bb,100,-25,150,"Playback");this.ko.R="playback settings and actions";
this.xq=this.h.i(this.wC,Q.bb,-100,25,150,"General");this.xq.R="general actions";this.Wl=this.h.i(this.xA,Q.bb,-100,-50,180,"Integer Zoom");this.Wl.R="set zoom to nearest integer [Shift 1]";this.fm=this.h.i(this.RE,Q.bb,100,-50,180,"Center Pattern");this.fm.R="center pattern [Ctrl M]";this.im=this.h.i(this.WE,Q.bb,-100,0,180,"Clear Drawing");this.im.R="clear drawing state cells [Ctrl Alt K]";this.ik=this.h.i(this.Vv,Q.bb,100,0,180,"Snap Angle");this.ik.R="snap angle to nearest 45 degrees [Alt /]";
this.Uo=this.h.i(this.Pz,Q.bb,-100,50,180,"Save View");this.Uo.R="save current view [Shift V]";this.Po=this.h.i(this.dF,Q.bb,100,50,180,"Restore View");this.Po.R="restore saved view [V]";this.Ck=this.h.i(this.pA,Q.bb,100,25,150,"Advanced");this.Ck.R="advanced settings and actions";this.Yi=this.h.m(this.qg,Q.bb,-100,-50,180,40,["Frame Times"],[this.B.v],Q.pb);this.Yi.R=["toggle timing display [T]"];this.xk=this.h.m(this.Bv,Q.bb,100,-50,180,40,["Timing Details"],[this.B.A],Q.pb);this.xk.R=["toggle timing details [Shift T]"];
this.gj=this.h.m(this.zx,Q.bb,-100,0,180,40,["Relative Gen"],[this.Ee],Q.pb);this.gj.R=["toggle absolute/relative generation display [Shift G]"];this.No=this.h.i(this.HE,Q.bb,100,0,180,"Reset All");this.No.R="reset all Viewers [Shift R]";this.Kp=this.h.i(this.HA,Q.bb,-100,50,180,"Stop All");this.Kp.R="stop all Viewers [Shift Z]";this.Wp=this.h.i(this.LA,Q.bb,100,50,180,"Stop Others");this.Wp.R="stop other Viewers [Z]";this.rd=this.h.i(this.ml,Q.rl,0,-100,120,"Back");this.rd.R="back to previous menu [Backspace]";
this.ul=this.h.i(this.VD,Q.rl,0,-100,120,"Cancel");this.ul.R="cancel operation [Esc]";this.ul.L=!0;var b=-1;for(a=0;a<=this.g.fb;a+=1){var d=B.Rn[a];var f=B.QE[a];f!==b?(c=120,b=f):c+=60;this.va[a]=this.h.m(null,Q.Pa,140*f-210,c,120,40,[this.$p(d)],[!1],Q.pb);this.va[a].R=["select "+this.$p(d)+" theme"];this.va[a].Db("20px Arial")}this.va[0].Yb=this.iB;this.va[1].Yb=this.lB;this.va[2].Yb=this.yC;this.va[3].Yb=this.PC;this.va[4].Yb=this.TC;this.va[5].Yb=this.XC;this.va[6].Yb=this.eD;this.va[7].Yb=
this.vD;this.va[8].Yb=this.CD;this.va[9].Yb=this.JD;this.va[10].Yb=this.oB;this.va[11].Yb=this.rB;this.va[12].Yb=this.uB;this.va[13].Yb=this.xB;this.va[14].Yb=this.Iz;this.va[15].Yb=this.DB;this.va[16].Yb=this.LB;this.va[17].Yb=this.SB;this.va[18].Yb=this.ZB;this.va[19].Yb=this.cC;this.va[20].Yb=this.KC;this.aw=this.h.l(Q.Pa,-210,60,120,40,"Default");this.Xv=this.h.l(Q.Pa,-70,60,120,40,"Classic");this.cw=this.h.l(Q.Pa,70,60,120,40,"Program");this.Zv=this.h.l(Q.Pa,210,60,120,40,"Basic");this.kk=this.h.i(this.DA,
Q.zb,-405,-40,40,"1x");this.kk.R="set 1x playback speed [0]";this.Ob=this.h.I(this.Jd,Q.zb,-360,-40,105,40,0,2,1,"","",-1);this.Ob.R="playback speed [+ / -]";this.qj=this.h.l(Q.zb,-284,-30,27,20,"0");this.qj.Db(B.Lf);this.qj.H=!0;this.Id=this.h.i(this.YD,Q.zb,-495,-40,40,"");this.Id.h=this.m.h("undo");this.Id.R="undo [Ctrl Z]";this.ah=this.h.i(this.XD,Q.zb,-450,-40,40,"");this.ah.h=this.m.h("redo");this.ah.R="redo [Ctrl Y]";this.Ii=this.h.m(this.hu,Q.Zb,-130,0,40,40,["Sync"],[this.Lc],Q.pb);this.Ii.R=
["sync cut and copy with external clipboard [Alt S]"];this.Ii.Db("15px Arial");this.Kb=this.h.m(this.qd,Q.zb,-205,-40,160,40,["","","",""],B.be,Q.Vi);this.Kb.h=[this.m.h("tostart"),this.m.h("stepback"),this.m.h("stepforward"),this.m.h("play")];this.Kb.R=["reset [R]","previous generation [Shift Tab]","next generation [Tab]","play [Enter]"];this.Ua=this.h.m(this.xv,Q.Zb,-280,45,280,20,"0123456".split(""),this.Je,Q.Vi);this.Ua.R="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.Ua.Db("14px Arial");
this.ka=this.h.m(this.MA,Q.Zb,-280,65,280,20,"      ".split(" "),[!1,!1,!1,!1,!1,!1,!1],Q.pb);this.ka.R="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.ka.v=1;this.pk=this.h.i(null,Q.Rc,175,45,5,"");this.pk.v=0;this.pk.locked=!0;this.pk.border=0;this.mk=this.h.I(this.zv,Q.Rc,180,45,130,40,0,1,0,"","",-1);this.mk.R="select drawing states range";this.ck=this.h.i(this.Hv,Q.Rc,0,45,40,"All");this.ck.h=this.m.h("select");this.ck.R="select all cells [Ctrl A]";this.ck.Db("16px Arial");this.Hg=
this.h.m(this.Vt,Q.Rc,45,45,40,40,["Auto"],[this.Qd],Q.pb);this.Hg.h=[this.m.h("autoshrink")];this.Hg.R=["toggle auto shrink selection [Alt A]"];this.Hg.Db("16px Arial");this.gl=this.h.i(this.yA,Q.Rc,90,45,40,"");this.gl.h=this.m.h("shrinksel");this.gl.R="shrink selection [Shift A]";this.Qe=this.h.m(null,Q.Rc,135,45,40,40,[""],[!1],Q.pb);this.Qe.h=[this.m.h("selectlibrary")];this.Qe.R=["toggle clipboard library [Shift B]"];this.Hl=this.h.m(this.Dw,Q.Pa,0,90,400,40,"0123456789".split(""),this.ac,Q.Vi);
this.xm();this.Df=this.h.m(this.Wu,Q.Zb,-160,45,160,40,["AND","CPY","OR","XOR"],B.nv[this.Cf],Q.Vi);this.Df.R=["paste mode [Shift M]","paste mode [Shift M]","paste mode [Shift M]","paste mode [Shift M]"];this.Df.Db("16px Arial");this.Lj=this.h.i(this.pw,Q.Rc,180,45,40,"");this.Lj.h=this.m.h("cut");this.Lj.R="cut [Ctrl X]";this.Hj=this.h.i(this.dB,Q.Rc,225,45,40,"");this.Hj.h=this.m.h("copy");this.Hj.R="copy [Ctrl C]";this.nl=this.h.i(this.Rx,Q.Rc,270,45,40,"");this.nl.h=this.m.h("paste");this.nl.R=
"paste [Ctrl V]";this.zl=this.h.i(this.lE,Q.zb,-220,-175,40,"");this.zl.h=this.m.h("cancelsel");this.zl.R="cancel selection [Ctrl K]";this.fl=this.h.i(this.qB,Q.zb,-175,-175,40,"");this.fl.h=this.m.h("nudgeleft");this.fl.R="nudge left [Alt Left]";this.hl=this.h.i(this.tB,Q.zb,-130,-175,40,"");this.hl.h=this.m.h("nudgeright");this.hl.R="nudge right [Alt Right]";this.jl=this.h.i(this.wB,Q.zb,-85,-175,40,"");this.jl.h=this.m.h("nudgeup");this.jl.R="nudge up [Alt Up]";this.cl=this.h.i(this.nB,Q.zb,-40,
-175,40,"");this.cl.h=this.m.h("nudgedown");this.cl.R="nudge down [Alt Down]";this.Tj=this.h.i(this.Ew,Q.zb,-265,-85,40,"");this.Tj.h=this.m.h("flipx");this.Tj.R="flip horizontally [Alt X]";this.Vj=this.h.i(this.Gw,Q.zb,-220,-85,40,"");this.Vj.h=this.m.h("flipy");this.Vj.R="flip vertically [Alt Y]";this.Yj=this.h.i(this.cz,Q.zb,-175,-85,40,"");this.Yj.h=this.m.h("rotatecw");this.Yj.R="rotate clockwise [>]";this.Wj=this.h.i(this.Yy,Q.zb,-130,-85,40,"");this.Wj.h=this.m.h("rotateccw");this.Wj.R="rotate counter-clockwise [<]";
this.Dl=this.h.i(this.Nz,Q.zb,-85,-85,40,"");this.Dl.h=this.m.h("inside");this.Dl.R="clear cells in selection [Del]";this.Bl=this.h.i(this.fF,Q.zb,-40,-85,40,"");this.Bl.h=this.m.h("outside");this.Bl.R="clear cells outside selection [Shift Del]";this.kf=this.h.i(this.tF,Q.zb,-40,-130,40,"R");this.kf.h=this.m.h("select");this.kf.R="clear History cells [Ctrl Del]";this.kf.Db("16px Arial");this.tf=this.h.i(this.Nw,Q.zb,-85,-130,40,"");this.tf.h=this.m.h("invertselection");this.tf.R="invert cells in selection [Ctrl I]";
this.kc=this.h.i(this.dD,Q.zb,-130,-130,40,"");this.kc.h=this.m.h("random");this.kc.R="random fill [Shift 5]";this.$g=this.h.i(this.SC,Q.zb,-175,-130,40,"2");this.$g.h=this.m.h("random");this.$g.R="random 2-state fill [Ctrl Shift 5]";this.Wd=this.h.I(this.wx,Q.zb,-275,-130,100,40,1,100,this.tb,"","%",0);this.Wd.R="random fill density";this.Yg=this.h.I(this.pv,Q.Zb,-265,45,100,40,0,B.Cy-1,this.fc,"","",-1);this.Yg.R="paste location [Shift L]";this.Yg.Db("16px Arial");this.Qi=this.h.i(this.xr,Q.zb,
-250,-40,40,"");this.Qi.h=this.m.h("uturn");this.Qi.R="reverse playback direction [U]";this.Qe.ea([this.Hl]);this.fa.ea([this.cq,this.ab,this.Ba,this.la,this.Xa,this.rd,this.md,this.vl,this.jm,this.Ck,this.Nj,this.ko,this.kg,this.ag,this.gk,this.Bh,this.Di,this.Bi,this.Od,this.Wl,this.fm,this.vd,this.Fi,this.uf,this.Ge,this.Tf,this.Yi,this.im,this.xk,this.di,this.mj,this.No,this.Kp,this.Wp,this.ik,this.fj,this.yd,this.Kl,this.$k,this.xq,this.Uo,this.Po,this.Sk]);this.$a.ea([this.Te,this.Ad,this.Cc,
this.Vc,this.Be,this.Ce,this.Sf,this.rc,this.uj,this.Of,this.Yd]);this.$c.ea([this.Zc,this.Yn,this.pp])};S.prototype.MD=function(a){var c=this,b=0,d=0;this.Ya=a;this.Ya.getContext&&(b=this.Ya.width,d=this.Ya.height,b!==this.dd&&Ja.yn&&(b=this.dd),b<B.Kc&&(b=B.Kc),d<B.wh&&(d=B.wh),b&=-8,this.Ya.width!==b&&(this.Ya.width=b),this.Ya.height!==d&&(this.Ya.height=d),this.Qa=this.Ya.getContext("2d",{alpha:!1}),this.Qa.globalAlpha=1,this.Qa.fillStyle="black",this.Qa.imageSmoothingEnabled=!1,this.Qa.imageSmoothingQuality=
"low",this.Qa.fillRect(0,0,this.Ya.width,this.Ya.height),this.Qa.textAlign="left",this.Qa.textBaseline="middle",this.da=this.Ya.width,this.ba=this.Ya.height,this.g=new qa(this.Qa,this.da,this.ba,512,256,this.S,this),this.g.Kl(this.Qa,this.da,this.ba),this.De=this.g.N.h(na.fd,B.By,"View.elapsedTimes"),this.Fd=new Kb(B.rp,this.g.N),this.pB(this.Qa),this.B=new Pa(this.Ya,this.Qa,"24px Arial",this.m,this,this.Wz),this.B.v=!1,this.g.$j(),this.sB(),Ra(this.Ya,"wheel",function(f){c.UA(c,f)},!1),this.B.notification.U=
!0,this.B.Ab(this.h),Ra(this.Ya,"keydown",function(f){c.KA(c,f)},!1))};S.prototype.$p=function(a){var c=this.g.na,b="";a|=0;a<c.length&&(b=c[a].name);return b};S.prototype.PA=function(a){var c=!1,b=this.g.na,d=0;for(a=a.toLowerCase();d<b.length-1&&!c;)b[d].name.toLowerCase()===a?c=!0:d+=1;c||(d=-1);return d};S.prototype.Uz=function(a){var c=this.l.D();c.Oe||(c.x=this.g.width/2-this.g.ca);c.xe||(c.y=this.g.height/2-this.g.Z);c.Td||(c.zoom=this.g.zoom);c.gg||(c.angle=this.g.angle);c.xg||(c.lb=this.g.lb);
c.Gg||(c.oa=this.g.oa);c.Dg||(c.depth=this.g.vb);c.Ke||(c.Hc=this.ca);c.re||(c.step=this.X);c.ve||(c.sc=this.g.Eb);this.l.Ua(a,this)};S.prototype.cF=function(a){var c=a,b=this.Qa,d=a.length;b.font=(18*this.h.D|0)+"px "+B.rv;var f=b.measureText(a).width;if(500<f){--d;for(f=b.measureText(a.substring(0,d)+"...").width;500<f;)--d,f=b.measureText(a.substring(0,d)+"...").width;c=c.substring(0,d)+"..."}return c};S.prototype.OD=function(a,c){Ib.KD(this,a,c)};S.prototype.YE=function(){this.$q=this.Cp=!1;this.ar=
this.g.Ma=!1;this.vb=-1;this.wn=this.an=!1;this.g.L=1<<B.TB;this.zh=this.aq=-1;this.Va=!1;this.Qj=this.Uj=this.Eq=this.Oh=this.pq=this.ho=this.B.V=!1;this.g.ya=0;this.g.wa=0;this.g.Ja=1;this.Da=this.dm=this.ja=!1;this.Mc=this.Ic=this.I=null;this.nh=B.nh;this.Ae=null;this.sh=B.sh;this.g.Wc=this.g.vl;this.g.Vc=this.g.ql;this.g.Uc=this.g.nl;this.g.Xc=this.g.Al;this.g.Yc=this.g.Cl;this.Wb=this.Ab=this.en=!1;this.Pb=-1;this.wb=!1;this.ob=-1;this.hg=this.xb=this.kh=this.gb=this.hh=this.qa=this.ib=this.ma=
!1;this.wa=this.Vk=2<this.g.h?63<256-this.g.h?63:256-this.g.h:63;this.Eg=this.yx;this.Za=!1;this.g.Tc=!1;this.g.Af=0};S.prototype.yr=function(){this.Ph?(Nb(this.element),this.B.l=!1):(this.da=this.fq,this.ba=this.Rr,this.ja?(this.Z=!1,this.Tc(!0,!1,B.Ei)):this.g.zoom=this.gw,this.Ec&&(this.Ec.current=this.qe([this.g.zoom,this.g.zoom],!1,this)),this.s=this.ew,this.Z=!1,this.B.L=!1,this.h.H=!1,this.B.o||this.B.notification.notify("Shrink with hotkey N",15,100,15,!0),this.resize())};S.prototype.Wz=function(a){a.Z?
(a.yr(),a.Ur&&!a.Bb&&(a.Kb.current=a.qd(B.Yh,!0,a))):a.Va&&(a.Oh||a.Jj(a,!1));a.om=!1};S.prototype.resize=function(){this.lo&&(Ka.Bp.C=this.Cv-this.da,this.Cv=this.da,this.lo=!1);this.Ya.width=this.da;this.Ya.height=this.ba;this.Qa.textBaseline="middle";this.g.si(this.da,this.ba);"Empty"!==this.hb&&"none"!==this.hb&&""!==this.hb&&null!==this.g.Ka&&this.g.Yi()};S.prototype.Er=function(){this.fq=this.da;this.Rr=this.ba;this.gw=this.g.zoom;this.ew=this.s;this.da=this.da/this.Eb|0;this.ba=this.ba/this.Eb|
0;this.g.zoom/=this.Eb;this.da&=-8;this.h.H=!0;this.B.L=!0;this.B.Ua=this.Eb;this.B.l=!1;this.Z=!0;this.resize()};S.prototype.qv=function(){var a=this.g.h,c;a>this.ec&&(a=this.ec);this.Ua.i=[];this.Ua.R=[];this.Ua.gf(40*a);this.ka.i=[];this.ka.R=[];this.ka.current=[];this.ka.gf(40*a);this.ka.v=1;for(c=0;c<a;c+=1){var b=c+this.Nb;this.Ua.i[c]=String(b);var d=this.Ch(b);10>b&&(d+=" [Ctrl "+b+"]");this.Ua.R[c]=d;this.ka.i[c]="";this.ka.R[c]=d;this.ka.current[c]=!1}b=this.Je;0<b&&(this.g.ea||this.g.i||
this.g.v||this.g.o||(b=this.g.h-b));this.Ua.current=b-this.Nb};S.prototype.gz=function(){var a=this.g.h,c=this.h.s;this.Je=1;this.Nb=0;this.nj.current=[this.vs([!0],!0,this)];this.ec=7+((this.da/c-B.Kc)/(40*c)|0);this.ec>a&&(this.ec=a);this.g.D?(this.Ua.i="0123456".split(""),this.Ua.gf(280),this.Ua.R="dead [Ctrl 0];alive [Ctrl 1];history [Ctrl 2];mark 1 [Ctrl 3];mark off [Ctrl 4];mark 2 [Ctrl 5];kill [Ctrl 6]".split(";"),this.Ua.current=this.Je,this.ka.i="      ".split(" "),this.ka.gf(280),this.ka.R=
"dead [Ctrl 0];alive [Ctrl 1];history [Ctrl 2];mark 1 [Ctrl 3];mark off [Ctrl 4];mark 2 [Ctrl 5];kill [Ctrl 6]".split(";"),this.ka.v=1,this.ka.current=[!1,!1,!1,!1,!1,!1,!1]):2>=a?(this.Ua.i=["0","1"],this.Ua.gf(80),this.Ua.R=["dead [Ctrl 0]","alive [Ctrl 1]"],this.Ua.current=this.Je,this.ka.i=["",""],this.ka.gf(80),this.ka.R=["dead [Ctrl 0]","alive [Ctrl 1]"],this.ka.v=1,this.ka.current=[!1,!1]):(this.Je=this.g.ea||this.g.i||this.g.v||this.g.o?1:a-1,this.qv(),this.Ua.gf(40*this.ec),this.ka.gf(40*
this.ec),this.mk.current=this.zv([0,0],!0,this));this.Ua.setPosition(Q.Zb,-this.Ua.P,45);this.ka.setPosition(Q.Zb,-this.ka.P,65)};S.prototype.aA=function(a){var c=this.g.fb;-1===a&&(a=this.Wc?c:this.g.D?10:2<this.g.h&&!(this.g.o||this.g.i||this.g.v)?11:this.g.T?17:this.g.i||this.g.v?18:1);this.$f(a,1,this)};S.prototype.Ez=function(){var a=window.innerWidth,c=window.innerHeight,b=this.da,d=this.ba+80;b*=this.Xk;d*=this.Xk;var f=this.Xk;this.se=1;if(b>a||d>c)if(f=b/a,d/c>f&&(f=d/c),b/=f,d=this.ba*this.Xk/
f,f=b/this.da,d/this.ba<f&&(f=d/this.ba),b<B.Kc||d<B.wh)f=b/B.Kc,d/B.wh<f&&(f=d/B.wh),b/=f,d/=f,this.se=f,f=1;this.da=b&-8;this.ba=d|0;this.B.xa=this.se;Ka.Bp.o=this.se;this.h.Ka(f);this.m.T(f);this.Xj=18*f|0;this.dj=this.Xj+"px "+B.Ax;this.rf=this.Xj+"px "+B.rv;this.da!==this.Cv&&(this.lo=!0)};S.prototype.pF=function(){this.Zk=!1;this.Ca=0;this.Sc=!1;this.Yf=this.Xf=0;this.Al=this.pi=this.Wf=this.ta=this.U="";this.jo=this.si=this.C=this.A=0;this.bl="(none)";this.g.ea=!1;this.g.T=!1;this.g.i=!1;this.g.D=
!1;this.g.o=!1;this.g.ga=!1;this.g.Wf=this.S.ma;this.g.A=!1;this.g.$f=this.S.aa;this.g.kc=!1;this.g.vd=-1;this.g.mg=!1;this.g.h=-1;this.g.C=-1;this.Oa=this.Ja=this.g.Ga=!1;this.g.v=!1;this.g.Jf=null;this.g.Mf=null;this.g.Lc=null;this.g.fc=null;this.g.Be=[];this.g.Nc=null;this.g.Ae=0;this.g.Yf=0;this.g.Xf=0};S.prototype.vg=function(a,c){this.ca=60;this.X=1;this.Ob.current=this.Jd([this.$e(),1],!0,this);this.Qc.H=!0;this.Zd.H=!0;this.S.v=!1;this.g.Qe=!1;this.zf=this.da;this.yf=this.ba;a=this.S.create("",
a,this.g.N,this.Hi,this.kA,[c],this);this.Sw=this.S.O;if(this.S.Ka){a=this.S.la;var b=this.S.ka;var d=this.S.create("","x=1,y=1,rule=Life\n!",this.g.N,this.Hi,this.Hi,[c],this);this.Hi(d,[c],this);this.S.la=a;this.S.ka=b;this.da=this.zf;this.ba=this.yf;this.B.notification.clear(!1,!0);this.B.notification.notify("Loading rule...",15,1E4,15,!0)}else this.Hi(a,[c],this)};S.prototype.kA=function(a,c,b){c[c.length]=a.title;c[c.length]=a.A;b.S.O=b.Sw;b.S.Oa=!0;b.Hi(null,c,b)};S.prototype.Nv=function(){var a,
c=0,b=!1;if(navigator.userAgentData){var d=navigator.userAgentData;if("Windows"===d.platform&&d.brands)for(a=0;a<d.brands.length;a+=1)if("Google Chrome"===d.brands[a].brand||"Brave Browser"===d.brands[a].brand)b=!0,c=Number(d.brands[a].version)}b&&103<=c&&107>c&&(a=localStorage.getItem(B.xx),"y"!==a?(this.B.notification.notify("If there are no cells displayed click on Help",15,300,15,!1),this.Ll=!0):this.Ll=!1)};S.prototype.Hi=function(a,c,b){var d=0,f,e,g=!1;var k=f=0;var l=c[0],p="";b.Xl=-1!==window.navigator.userAgent.indexOf("Edge")?
!0:!1;b.Fd&&(b.Fd.h=new K(255,255,255));b.g.P.P=!1;b.Fb.current=b.zk([!0,!0,!0],!0,b);b.g.nc=!1;b.bc=!1;b.sb=-1;b.kg.current=b.ys([!0],!0,b);b.ae=!1;b.Ye=!1;b.Xe=!1;b.Pe=!1;b.Ze=!1;b.$d=!1;b.We=!1;b.g.Eb=-1;b.B.ib();b.Lc=!0;b.Qd=!1;b.P=!1;b.fe=!1;b.Hb=[];for(e=0;10>e;e+=1)b.Hb[e]=null;b.ac=0;b.pl=!1;b.T=null;b.Ea=!1;b.Jb=0;b.Ib=0;b.Ra=!1;b.Bc=!1;b.Df.current=b.Wu(2,!0,b);b.vi=!1;b.Xd=[];b.zi=[];b.Ma=[];b.Dd=[];b.Qb=[];b.yh=[];b.Ia=0;b.ia=0;b.Wg=0;b.g.Jb=!1;b.Nc=[];b.Ha=B.Jm;b.oi=0;b.ql=-1;b.ni=[];
b.Re=0;b.ei=!1;b.sq=0;b.uq=0;b.ge=-1;b.Yl=!1;b.Bf=B.Rh;b.Ff=-B.Rh;b.Af=B.Rh;b.Vf=-B.Rh;b.B.notification.clear(!0,!0);b.B.notification.clear(!1,!0);b.g.xb=!1;b.g.Ya=!1;b.Dv=!1;b.g.fc=null;b.S.v&&a&&(-1===a.l||-1!==a.l&&(0===a.P||0===a.ea))&&(b.S.O=null===b.g.Nc?"@TREE B0 only valid with finite grid":"@TABLE B0 only valid with finite grid",a=null);if(a){b.Zk=b.S.ib;b.Ca=b.S.ub;b.Sc=b.S.Ea;b.Xf=b.S.Ua;b.Yf=b.S.Va;b.Nd=b.S.la;b.Md=b.S.ka;b.A=a.width;b.C=a.height;-1===b.Nd&&(b.Nd=b.A);-1===b.Md&&(b.Md=
b.C);b.pi=a.name;b.Al=a.Fb;b.bl=a.Ua;""===b.bl&&(b.bl="(none)");b.si=a.A;b.jo=a.Za;b.U=a.h;b.ta=a.ca;b.Wf=a.Ra;b.g.xh=a.C;b.g.vh=a.pa;b.Oa=b.S.Oa;b.g.D=a.s;b.g.o=a.u;b.kf.R="clear History cells [Ctrl Del]";b.g.o&&(b.kf.R="clear Super cells [Ctrl Del]");b.g.h=a.i;!b.Oa&&2<a.A&&(b.g.h=a.A);b.g.Nc=null;b.g.Be=null;b.wg=[];b.g.v=!1;b.g.Qe=!1;-1!==a.ra&&(b.g.Nf=a.Ya,b.g.Fi=a.ra,b.g.h=a.ra,b.g.Di=a.eb,b.g.Zf=a.Xa,b.g.Jf=a.Va,b.g.Mf=a.Wa,b.g.Lc=a.Da,b.g.fc=a.wa,b.wg=a.Sa,b.g.Qe=b.S.v,b.g.v=!0);null!==a.qa&&
(b.g.Be=a.Ia,b.g.Nc=a.qa,b.g.Ae=a.Ha,b.g.Yf=a.Qa,b.g.Xf=a.ab,b.g.h=a.xa,b.g.Lc=a.Da,b.g.fc=a.wa,b.wg=a.Sa,b.g.Qe=b.S.v,b.g.v=!0);a.wa&&b.g.jm(a.wa);if(b.g.Ga=a.Ga)b.g.P.D=a.L,b.g.P.M=a.T,b.g.P.V=a.i,b.g.P.P=a.gb,b.g.P.kb(a.m,a.D,a.fa,a.ka,a.o,a.ib,a.kb,a.ua,a.va),b.S.Y?(b.g.P.ca=a.Ja,b.g.P.ea=a.Ka,b.g.P.fa=!0):b.g.P.fa=!1,b.Dv=a.I;b.g.ea=a.Z;b.g.T=a.aa;b.g.yd=b.g.T;b.g.i=a.la;b.g.va=!1;b.g.ga=a.ga;b.g.mg=a.ga;b.g.Wf=a.na;b.g.A=a.o;b.g.$f=a.V;b.g.kc=a.ha;b.g.vd=a.ma;b.g.C=a.l;b.g.M=a.P;b.g.I=a.ea;
b.g.Ad=a.Ba;b.g.Cd=a.za;b.g.Of=a.sb;b.g.cg=a.fb;b.g.Pf=a.tb;d=-1===b.g.h?2:b.g.h;b.g.D&&(d=7);b.ri=new Uint32Array(d);for(e=0;e<d;e+=1)b.ri[e]=b.S.ha[e]}else b.pF();b.g.Sl();b.jd=!0;b.ya=!1;b.wc=!0;b.Ka=B.sx;b.Gb=a?!1:!0;b.Xc=!0;b.Ee=!1;b.O=b.S.O;b.g.kf=B.qx;b.V=0;b.W=0;b.qc=-1;b.yc=-1;b.xh=!1;b.Fl=!1;b.h.locked=!1;b.bd=!1;b.ld=!1;b.g.Gj();b.g.Fk();b.g.D&&b.g.bj();b.g.D&&b.g.dj();b.nd="";b.kd=!1;lb.ke();b.g.eb=B.js;b.g.Wb=B.hs;b.g.Fb=10;b.g.nk=10;b.g.nd=!0;b.Rq=-1;b.Pq=-1;b.ca=60;b.X=1;b.g.oa=1;b.g.vb=
.1;b.g.angle=0;b.g.lb=0;b.g.zoom=6;b.g.jn();b.g.Dh();b.g.ca=b.g.width/2;b.g.Z=b.g.height/2;b.er=!1;b.cr=!1;b.jq=!1;b.sa=0;b.qb=0;b.eb=-1;b.Sb=-1;b.Lb=-1;b.hd=-1;b.na.fill(-1);b.Tq=B.Vx;b.Nq=B.ro;b.Vq=B.Uy;b.Z&&b.yr();b.bf=!1;b.B.L=!1;b.Eb=B.tx;b.Ph=!1;b.B.la=!1;b.gq=!1;b.Ja=a?!1:!0;b.D=!1;b.g.Ba=!1;b.g.Ra=!1;b.Kb.H=!1;b.Fa.H=!1;b.$a.H=!1;b.Ob.H=!1;b.fa.H=!1;b.ab.H=!1;b.Ba.H=!1;b.md.H=!1;b.kg.H=!1;b.ag.H=!1;b.h.H=!1;b.Me.H=!1;b.Id.H=!1;b.ah.H=!1;b.vl.H=!1;b.Ck.H=!1;b.ko.H=!1;b.Nj.H=!1;b.rd.H=!1;b.Qi.H=
!1;b.kk.H=!1;b.fa.current=[!1];b.$a.current=[!1];b.s=0;b.ea=0;b.Qe.current=[!1];b.Hg.current=b.Vt([b.Qd],!0,b);b.Ii.current=b.hu([b.Lc],!0,b);b.Yp=!1;b.Fa.current=b.pe(B.Aj,!0,b);b.Wd.current=b.wx([50,50],!0,b);b.Yg.current=b.pv([B.Km,B.Km],!0,b);b.$c.current=b.cf([0!==b.s],!0,b);b.nf=[96,96,96];b.g.zd=b.g.pc?4284506208:1616929023;b.pf=[128,128,128];b.g.ge=b.g.pc?4286611584:2155905279;b.Mf=[0,255,0];b.g.jh="rgb(0,255,0)";b.Jf=[255,0,0];b.g.bh="rgb(255,0,0)";b.mf=[255,255,0];b.g.ag="rgb(255,255,0)";
b.Nf=[255,128,0];b.g.kh="rgb(255,128,0)";b.l.reset();b.qa=!1;b.l.ja();b.ad=!1;b.vc=!1;b.zd=!0;b.Wc=!1;b.qf=!1;b.g.Tb=!1;b.uo=B.Pm;b.oo=B.Pm;b.wi=50;b.Oj=!1;b.Xn=!1;b.po=!1;b.Ue=-1;b.Ve=-1;b.Zf=-1;b.Pc=[];b.Cd=[];b.Qo=!1;b.Ur=!1;b.dr=!0;b.br=!0;b.He="";a?a.title&&(p=a.title):(1<c.length&&(p=c[1]),b.Qv());b.g.D?(b.Gf=[0,65280,128,14221272,16711680,16776960,6316128],b.nm="[R]History"):(b.Gf=lb.Nr,b.nm="(default)");b.YE();b.xi=Date.now().toString();!b.Ed&&Ja.fullScreen&&(b.da=document.body.clientWidth&
-8,b.ba=window.innerHeight-128,b.da<B.Kc&&(b.da=B.Kc),b.ba<B.wh&&(b.ba=B.wh),g=!0);""!==p&&(a?d=-1===a.i?a.A:a.i:d=c[2],b.g.D&&(d=7),b.g.i&&(d=16),b.g.o&&(d=26),b.OD(p,d),b.Ma.length&&(b.ea=1),b.Z&&l&&(b.Z=!1),-1<b.eb&&(b.eb&=-8,b.eb!==b.da&&(b.da=b.eb,g=!0)),-1<b.Sb&&b.Sb!==b.ba&&(b.ba=b.Sb,g=!0),b.Ed&&(-1<b.Lb?(b.Lb&=-8,b.Lb!==b.da&&(b.da=b.Lb,g=!0)):b.da<B.Kc&&(b.da=B.Kc),-1<b.hd&&b.hd!==b.ba&&(b.ba=b.hd,g=!0)));b.g.Ma&&(2<b.g.h||b.g.Ga||b.g.i||b.g.D||b.g.o||b.g.v)&&(b.g.Ma=!1);if(!b.Oa||b.g.v||
b.g.o)b.wa=0;b.v.ke(b.xi);b.g.Ga&&b.g.P.ib(b.xi);b.Ed&&(b.zf=b.da,b.yf=b.ba,b.Ez());a&&a.sa&&0===b.Nc.length&&(b.Oa=!1);b.gz();b.Qv();b.qw();b.wF();b.g.pm();b.g.s=b.wa;b.g.Vf=b.Eg;b.Ph&&!b.ya&&(b.Gb=!0,b.ya=!1);b.g.kj(!b.Gb);d=6;a&&a.Ga&&(d=6*a.D);a&&a.I&&(d=6*a.v);a&&(a.width>=b.g.L-d||a.height>=b.g.L-d)&&(b.O="Pattern too big",a.sa=!0,b.Oa=!1);a&&-1!==a.l&&(d=6,a.Ga&&(d=6*a.D),a.I&&(d=6*a.v),a.P>=b.g.L-d||a.ea>=b.g.L-d)&&(b.O="Bounded grid too big",b.Oa=!1,b.g.C=-1);b.g.Zl(b);b.Yl&&(b.g.Hh(),b.JC());
b.eo=!1;a&&(-1!==b.g.C?(f=b.g.M,k=b.g.I,0===f&&(f=a.width),0===k&&(k=a.height)):(f=a.width,k=a.height,0<b.Nc.length&&(f=b.sA(f),k=b.oA(k))));d=B.ff;b.g.Ga&&(d=4*b.g.P.u+1,-1!==b.g.C&&(d+=2*b.g.P.u),b.g.P.type===b.S.l&&(d=-1!==b.g.C?d+b.g.I/2:d+f/2),d<B.ff&&(d=B.ff));e=b.g.L/2-d;b.Sc&&(b.Xf<-e?b.Xf=-e:b.Xf>=e&&(b.Xf=e-1),b.Yf<-e?b.Yf=-e:b.Yf>=e&&(b.Yf=e-1),b.V+=b.Xf,b.W+=b.Yf);b.V<-e?b.V=-e:b.V>=e&&(b.V=e-1);b.W<-e?b.W=-e:b.W>=e&&(b.W=e-1);e=b.g.width<b.g.L&&f+d+2*Math.abs(b.V)>=b.g.width;for(c=b.g.height<
b.g.L&&k+d+2*Math.abs(b.W)>=b.g.height;e||c;)b.g.rf(e,c),e&&(b.sa+=b.g.width>>2),c&&(b.qb+=b.g.height>>2),e&&(b.ua+=b.g.width>>2),c&&(b.ub+=b.g.height>>2),b.g.ga&&c&&(b.sa-=b.g.height>>3,b.ua-=b.g.height>>3),e=b.g.width<b.g.L&&f+d+2*Math.abs(b.V)>=b.g.width,c=b.g.height<b.g.L&&k+d+2*Math.abs(b.W)>=b.g.height;a&&a.Ga&&b.g.P.resize(b.g.width,b.g.height);a&&b.wA(b.A,b.C,b.Nd,b.Md);a&&b.g.D&&b.S.ha[6]&&b.g.em(a,b.$,b.aa);b.B.notification.m=b.Ic?"rgb("+b.Ic[0]+","+b.Ic[1]+","+b.Ic[2]+")":b.B.notification.v;
if(null===b.I)for(e=0;e<b.Gf.length;e+=1)b.Mm[e]=b.S.ha[e]?B.kz:B.jz;b.g.ta?(b.g.bk(b.Gf,b.I),b.g.Tb=!0):b.g.Tb=!1;a&&!a.sa&&b.aB(a);b.Yd.Cb=""!==b.ta?b.ta:b.U;b.Yd.R=b.U;""!==b.ta&&(b.Yd.R+=" alias "+b.ta);b.Yd.R+="\n"+b.us();b.Tb=!1;b.Av="none";b.hb="none";b.ii="none";b.Rk="none";b.ji="none";b.Ok="none";b.am="none";b.fi="none";b.Uk="none";b.gi="none";b.Tg="none";b.Sg="none";b.hi="none";b.kb=!1;b.$h.current=[b.kb];b.g.vf(b.kb);b.ag.current=b.ds([b.zd],!0,b);(b.g.v||b.g.ea)&&-1!==b.na[B.Ai]&&(null===
b.I?(b.I=b.g.N.h(na.ze,256,"View.customColours"),b.I.fill(-1),b.I[0]=b.na[B.Ai],b.na[B.Ai]=-1,b.na[B.km]=-1):-1===b.I[0]&&(b.I[0]=b.na[B.Ai]));b.g.Hh();b.aA(b.aq);b.g.ec=b.I;b.g.ea||!b.Oa&&2<b.g.h?b.g.Zi(b.Gf,b.I):b.g.Ih();b.g.ab(1);b.g.Ol();b.Fi.current=[b.g.Ra];b.kj.current=b.ss([b.dh],!0,b);b.mi.current=b.bo([b.Ka,b.Ka],!1,b);b.ki.current=[b.wc];b.Pd.current=[b.ja];b.Yc.current=[b.g.Ba];b.Zg.current=[b.g.Ma];b.g.counter=0;b.g.gb=0;b.g.ee=0;b.ha=0;b.ra=0;b.Fa.m=[!1,!1,!1];if(b.Ja){if(a&&(b.g.ih(b.ld),
b.I))for(e=0;e<b.I.length;e+=1)b.Gf[e]=b.I[e];b.Zz=b.Gf.length;b.g.Zi(b.Gf,b.I);b.g.rc.reset();b.Gb=!0;b.ya=!1}else{b.g.ih(b.ld);b.g.qg();2>=b.g.h&&b.g.nf(b.g.pa);b.he();0<b.Nc.length&&(b.g.ih(b.ld),b.g.qg(),2>=b.g.h&&b.g.nf(b.g.pa));b.g.D&&b.S.ha[2]&&b.g.Bl(a,b.$,b.aa);b.g.Ml(b.g.pa,b.g.l);d=0;f=b.g.h;b.g.D?f=7:-1===f&&(f=2);for(e=1;e<f;e+=1)d+=b.ri[e];a&&0===b.g.u&&!b.ei?(b.bc=!0,0===d&&(b.g.ea||(a.sa?b.B.notification.notify("Pattern too big!",15,B.Wr,15,!1):b.B.notification.notify("New Pattern",
15,300,15,!1)))):b.bc=!1;-1!==b.g.C&&b.g.Hg();b.g.Nl(b.vc,b);b.g.Df(b,b.vc)}b.ag.current=[b.zd];b.kg.current=[b.jf];b.Ge.current=[b.g.Tc];b.Di.current=[b.ad];b.Bi.current=[b.Uc];b.Od.current=[b.g.yd];b.Od.locked=!b.g.T;b.g.A?(b.vd.current=[b.g.va],b.vd.R=["toggle triangular cells [?]"]):(b.vd.R=["toggle hexagonal cells [?]"],b.vd.current=b.g.ga?[b.g.va]:[!0]);b.Qi.locked=(b.g.T||b.g.i)&&null!==b.g.Ua?!1:!0;0===b.l.A()?(b.uf.locked=!0,b.jd=!1):(b.uf.locked=!1,b.jd=!0);b.uf.current=[b.jd];b.di.current=
[b.Da];b.gj.current=[b.Ee];b.Kj.current=[b.g.nc];b.mj.current=[b.kd];b.fj.current=[b.bd];b.l.i.length?(b.Il.H=!1,b.Yk.H=!1):(b.Il.H=!0,b.Yk.H=!0);0===b.g.Fb?(b.yd.current=[!1],b.yd.locked=!0):(b.yd.current=[b.g.nd],b.yd.locked=!1);b.Gb||b.g.Eg();d=b.g.zoom;f=b.g.ca;k=b.g.Z;e=b.Z;b.Z=!1;b.Tc(!0,!1,B.Ei);b.Z=e;b.er?b.g.zoom=d:!b.ja&&b.g.zoom>B.gy&&(b.g.zoom=B.gy);b.cr&&(b.g.ca=f);b.jq&&(b.g.Z=k);b.qa&&b.Uz(b.Ma);b.Z&&b.gq&&(b.g.zoom=b.bs);b.ww=b.g.zoom;b.Ec.current=b.qe([b.g.zoom,b.g.zoom],!1,b);b.sa=
b.g.ca;b.qb=b.g.Z;b.Ji=b.g.angle;b.la.current=[b.Ji,b.Ji];b.Oi=b.g.lb;b.Xa.current=[b.Jl(b.Oi),b.Oi];b.Rm=b.g.Eb;b.$f(b.Rm,b.g.Xd,b);b.rw=b.ca;b.tw=b.X;b.Ob.current=b.Jd([b.$e(),1],!0,b);b.Ki=b.g.oa;b.ab.current=[b.Ki,b.Ki];b.Zq=b.g.vb;d=Math.sqrt(b.Zq);b.Ba.current=b.ef([d,d],!0,b);b.Ab&&!b.Wb?(b.Bb=!0,b.Kb.current=B.Yh):(b.Bb=!1,b.Kb.current=B.be);b.sp(b.Bb);b.da>B.Kc&&!b.Ed?(e=b.da-B.Kc+B.Wn,e>B.iq&&(e=B.iq),b.Ec.gf(e)):b.Ec.gf(B.Wn);if(g||b.Z)b.Z?b.Er():b.resize();a||(b.S.Fa?b.B.notification.notify("Pattern too big!",
15,B.Wr,15,!1):b.B.notification.notify("Invalid pattern!",15,B.Wr,15,!1));b.Ma.length?b.s=0:b.ea=0;b.Oa||(b.D=!0,b.g.Tb=!1,b.g.ea=!0,b.g.D=!1,b.g.o=!1,b.qw());if(b.D||b.g.ea)b.Fa.m[B.zj]=!0,b.Fa.m[B.Bj]=!0;b.D?(b.Kb.H=!0,b.Me.H=!0,b.Ob.H=!0,b.Id.H=!0,b.ah.H=!0,b.Qi.H=!0,b.kk.H=!0,b.Ja&&(b.ab.H=!0,b.Ba.H=!0,b.md.H=!0,b.g.oa=1),b.lc.H=!1,""===b.O?(b.lc.Cb=" "+y.Vn,b.lc.A=b.B.u,b.lc.setPosition(Q.ug,b.$a.P,-40),b.Z?b.lc.gf(b.fq-(40+b.$a.P)):b.lc.gf(b.da-(40+b.$a.P)),b.$a.H=!1):(b.lc.Cb=b.O,b.lc.A=b.nh,
b.lc.setPosition(Q.ug,0,-40),b.Z?b.lc.gf(b.fq-40):b.lc.gf(b.da-40),b.$a.H=!0)):b.lc.H=!0;540>b.ba?b.rd.setPosition(Q.rl,0,-85):b.rd.setPosition(Q.rl,0,-100);b.ow();b.Rb=!1;b.Mq(b);b.cn()?(b.Cc.Cb="Density",b.Cc.R="cell density"):(b.Cc.Cb="Births",b.Cc.R="cells born this generation");b.B.i=!0;b.B.Ne(!0);b.Ed&&b.Uu&&(b.Uu.nodeValue=""===b.nd?B.pn:b.cF(b.nd));Ja.pb?(g=b.pi,""===g&&(g="Universe "+(b.za+1)),b.B.notification.notify(g,15,120,15,!0),b.Kl.H=!1,b.$k.H=!1):(b.Kl.H=!0,b.$k.H=!0);b.M("");b.op&&
ec(b);!b.$q&&(8===b.g.zoom||.125===b.g.zoom)&&0<b.Xg&&0===(b.Xg&3)&&1===(b.Dd.length&5)?(b.Pj=!0,b.g.ii()):b.Pj=!1;b.g.ah();(b.g.T||b.g.i)&&null!==b.g.Ua&&b.Qo&&(b.g.Ya=!0,b.sp(b.Bb));b.Uj&&""===b.O&&(b.Sj||(b.Sj=!0,b.Mj(b,!0)),b.Sj=!1);-1!==b.vb&&(b.Xc&&(0===b.g.u?(b.B.notification.notify("No live cells",15,360,15,!1),b.vb=-1):b.B.notification.notify("Going to generation "+b.vb,15,1E4,15,!1)),b.B.notification.clear(!0,!1));a||(a=b.g.ea,b.g.ea=!1,b.g.Wd=1,b.g.Ih(),b.g.ea=a);b.wd.current=b.lg(0,!0,
b);b.g.ea&&(b.Gb=!0,b.ya=!1);b.Tf.locked=b.Gb;b.Tf.current=[b.ya];b.Nv()};Ra(window,"load",function(){var a=document.getElementsByTagName("div"),c,b;var d=new jb;var f=new Fa;var e=document.getElementsByTagName("meta");for(c=0;c<e.length;c+=1){var g=e[c];if(g.name===Ja.tagName&&(Ja.os=!1,Ja.yn=!1,g=g.content,(b=g.match(/\S+/g))&&2<=b.length&&7>=b.length))for(Ja.Ho=b[0],Ja.Lm=b[1],g=2;g<b.length;g+=1)switch(b[g]){case Ja.DC:Ja.os=!0;break;case Ja.aD:Ja.yn=!0;break;case Ja.wD:Ja.pb=!0;break;case Ja.dC:Ja.fullScreen=
!0;break;default:if("/"===b[g][0])Ja.su=b[g];else if("."===b[g][0]||"?"===b[g][0])Ja.dz=b[g];else{var k=b[g];!isNaN(parseFloat(k))&&isFinite(Number(k))&&(Ja.wp=parseFloat(k)|0)}}}hb.ke();for(e=0;e<a.length;e+=1)(g=a[e],g.className===Ja.Ho)?(c=g.getElementsByTagName(Ja.Lm)[0],g=g.getElementsByTagName("canvas")[0],(b=c.getElementsByTagName(Ja.Lm)[0])&&(c=b),Ta.Xp&&c&&(b=zb(c),Ja.pb&&hc(b,d,f,null,null),g&&g.getContext?(-1<Ja.wp&&c.clientHeight>Ja.wp&&(c.style.height=Ja.wp+"px"),g.contentEditable="false",
bc(b,g,c.offsetWidth,!1,c)):Ja.os&&g&&(g.style.display="none"))):Ta.Xp&&g.className===Ja.Io&&g.parentNode.className!==Ja.Ho&&(c=g.getElementsByTagName(Ja.Lm)[0])&&(b=zb(c),hc(b,d,f,g,c));a=document.getElementsByTagName("a");for(e=0;e<a.length;e+=1)d=a[e],""!==d.accessKey&&-1!==B.AB.indexOf(d.accessKey)&&(d.accessKey="")},!1);Ra(window,"resize",function(){if(Ja.fullScreen){var a=Ka.Ld[0][1];a.da=document.body.clientWidth&-8;a.ba=window.innerHeight-128;a.da<B.Kc&&(a.da=B.Kc);a.ba<B.Xy&&(a.ba=B.Xy);
if(a.da>B.Kc&&!a.Ed){var c=a.da-B.Kc+B.Wn;c>B.iq&&(c=B.iq);a.Ec.gf(c)}else a.Ec.gf(B.Wn);c=a.Je;a.gz();a.Je=c;a.qv();a.resize();a.B.Ne(!0)}},!1);window.updateViewer=Nb;window.updateMe=Mb;window.lifeViewerBuild=B.Zp;var $a={Eh:0,Hk:"",Ir:!1,NE:function(a){a=I.np[a];var c=a.substring(a.length-1);10<a.length&&(a=a.replace(/marked/,"mkd"),a=a.replace(/trail/,"trl"),10<a.length&&(a="1"<=c&&"9">=c?a.substring(0,9)+c:a.substring(0,10)));return a},dE:function(a,c,b,d,f,e,g,k,l,p){var n=k,q=a.h.s,m=this.Eh*
q,r=this.Eh*a.h.s,u=!1,t=a.o;e&&(e.fillStyle===a.B.Ba&&(u=!0),t>=p&&t<=p+a.xa&&(e.font=a.dj,u||(e.fillStyle=1<(a.s|0)?a.sh:a.B.T),e.fillText(c,g+m,k+r),u||(e.fillStyle=a.sh),e.fillText(b,g+m+e.measureText(c).width,k+r),u||(e.fillStyle=(a.s|0)<a.li-a.xa?a.sh:a.B.T),e.fillText(d,g+m+e.measureText(c+b).width,k+r),u||(e.fillStyle=a.sh),e.font=a.rf,e.fillText(f,g+m+a.i[0]*q,k+r),n+=l));a.o+=1;return n},vr:function(a){a/=1048576;return 10>a?String(a.toFixed(1)):String(a.toFixed(0))},eE:function(a,c,b,d,
f,e,g,k){var l=a.o;d&&(g-=6,l>=k&&l<=k+a.xa&&(k=d.fillStyle,0===this.Eh?(d.save(),d.imageSmoothingEnabled=!0,d.translate(f,e-(g>>1)-1),d.scale(g/b,g/b),d.drawImage(a.g.Pe,0,(b+1)*c,b,b,0,0,b,b),d.restore()):d.fillRect(f+2,e-(g>>1)-1+2,g,g),d.fillStyle=k))},Na:function(a,c,b,d,f,e,g,k,l){var p=a.o;f&&(k-=6,p>=l&&p<=l+a.xa&&(a=f.fillStyle,0===this.Eh?(f.fillStyle="rgb("+c+","+b+","+d+")",f.fillRect(e,g-(k>>1)-1,k,k)):f.fillRect(e+2,g-(k>>1)-1+2,k,k),f.fillStyle=a))},measureText:function(a,c,b,d){var f=
d?a.hn:a.gn;f[a.o]?c=f[a.o]:(c.font=0===d?a.dj:a.rf,c=c.measureText(b).width,f[a.o]=c);return c},j:function(a,c,b,d,f,e,g,k){var l=e,p=String(b).indexOf("\t"),n=0,q=a.h.s,m=this.Eh*q,r=this.Eh*a.h.D,u=a.o>=k&&a.o<=k+a.xa;$a.Ir&&0===$a.Eh&&(""===c?$a.Hk+=b+"\n":"H / Esc"!==c&&($a.Hk+=c+"\t"+b+"\n"));if(c.length){u&&(d.font=a.dj,d.fillText(c,f+m,e+r));c=this.measureText(a,d,c,0);c>a.i[n]*q&&""!==b&&(u&&(e+=g,l+=g),a.o+=1,u=a.o>=k&&a.o<=k+a.xa);u&&(d.font=a.rf);for(;-1!==p;)u&&d.fillText(b.substring(0,
p),f+m+a.i[n]*q,e+r),n+=1,b=b.substring(p+1),p=b.indexOf("\t");p=!1;if(a.nc&&(c=this.measureText(a,d,b,1),f+a.i[n]*q+c>d.canvas.width)){var t=b.toLowerCase();c=t.indexOf("|");-1===c&&("r"===t[0]?c=t.indexOf("b"):"m"!==t[0]&&(c=t.indexOf("s")),-1===c&&(c=t.indexOf("/"),-1!==c&&"m"!==t[0]?c+=1:(c=b.length>>1,t=t.indexOf(",",c),-1!==t&&(c=t+1))));-1!==c&&(u&&(d.fillText(b.substring(0,c),f+m+a.i[n]*q,e+r),e+=g,l+=g),a.o+=1,(u=a.o>=k&&a.o<=k+a.xa)&&d.fillText("  "+b.substring(c),f+m+a.i[n]*q,e+r),p=!0)}p||
u&&d.fillText(b,f+m+a.i[n]*q,e+r)}else d.font=a.rf,u&&d.fillText(b,f+m,e+r);u&&(l+=g);a.o+=1;return l},mb:function(a,c,b){var d=lb.Gf,f=Object.keys(d),e,g=!1,k=0;for(e="    "+a+"\t"+c+"\t"+b+("\t#"+(16777216|a<<16|c<<8|b).toString(16).slice(-6).toUpperCase());k<f.length&&!g;){var l=d[f[k]];l[1]===a&&l[2]===c&&l[3]===b?(e+="\t"+l[0],g=!0,k=f.length):k+=1}return e},me:function(a){return this.mb(a.h,a.l,a.i)},EB:function(a){var c=0,b=0;0<a.g.u&&(c=a.g.m.J-a.g.m.F+1,b=a.g.m.K-a.g.m.G+1);-1!==a.g.C&&(0!==
a.g.M&&(c=a.g.M),0!==a.g.I&&(b=a.g.I));return c+" x "+b},HB:function(a){var c="AutoFit";a.bd&&(c+=" History");a.ld&&(c+=" State 1");return c},Gy:function(a,c){c-=a.length;for(var b="";0<c;)b+=" ",--c;return b+a},Fr:function(a){var c=a.indexOf(","),b=a.lastIndexOf(",");return[parseInt(a.substring(4,c),10),parseInt(a.substring(c+1,b),10),parseInt(a.substring(b+1,a.length-1),10)]},az:function(a,c,b,d,f,e){var g=d;switch(a.td){case B.Qf:this.kE(a,c,b,d,f,e);break;case B.zs:this.gE(a,c,b,d,f,e);break;
case B.xu:this.iE(a,c,b,d,f,e);break;case B.Vo:this.fE(a,c,b,d,f,e);break;case B.Ou:this.jE(a,c,b,d,f,e);break;case B.Hr:this.bE(a,c,b,d,f,e);break;case B.gr:this.$D(a,c,b,d,f,e);break;case B.Ss:this.hE(a,c,b,d,f,e);break;case B.jr:this.aE(a,c,b,d,f,e)}a.li=a.o-1;a.o=1;a.i[0]=120;d=g+f*(a.xa+2);a.td!==B.Qf?d=this.dE(a,"Up"," / ","Down","scroll help",c,b,d,f,0):d+=f;a.Ed?this.j(a,"H","close help",c,b,d,f,0):this.j(a,"H / Esc","close help",c,b,d,f,0)},kE:function(a,c,b,d,f,e){a.o=1;a.nc=!1;a.u=[];a.i[0]=
108;a.u[0]=[a.o,"Top"];d=this.j(a,"",B.pn+" build "+B.Zp+" by "+B.zz,c,b,d,f,e);a.Ll&&(d=this.j(a,"","",c,b,d,f,e),d=this.j(a,"","If there are no cells displayed please go to chrome://flags",c,b,d,f,e),this.j(a,"","and set Out-of-process 2D canvas rasterization to Disabled. ",c,b,d,f,e))},aE:function(a,c,b,d,f,e){var g,k=0,l=a.h.s;a.o=1;a.nc=!1;a.u=[];a.u[k]=[a.o,"Top"];k+=1;a.i[0]=128;a.i[1]=208;a.i[2]=288;a.i[3]=368;d=this.j(a,"","Annotations",c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);a.u[k]=[a.o,
"Labels"];k+=1;d=this.j(a,"","Labels:",c,b,d,f,e);d=this.j(a,"Number",a.l.m.length,c,b,d,f,e);for(g=0;g<a.l.m.length;g+=1){var p="Label "+String(g+1);d=this.j(a,p,a.l.ya(g),c,b,d,f,e);d=this.j(a," ",a.l.za(g),c,b,d,f,e);d=this.j(a," ",a.l.Ba(g),c,b,d,f,e);p=this.Fr(a.l.Ca(g));this.Na(a,p[0],p[1],p[2],c,b+a.i[0]*l,d,f,e);d=this.j(a,"Colour",this.mb(p[0],p[1],p[2]),c,b,d,f,e)}d=this.j(a,"","",c,b,d,f,e);a.u[k]=[a.o,"Arrows"];k+=1;d=this.j(a,"","Arrows:",c,b,d,f,e);d=this.j(a,"Number",a.l.o.length,c,
b,d,f,e);for(g=0;g<a.l.o.length;g+=1)p="Arrow "+String(g+1),d=this.j(a,p,a.l.fa(g),c,b,d,f,e),d=this.j(a," ",a.l.ha(g),c,b,d,f,e),d=this.j(a," ",a.l.ia(g),c,b,d,f,e),p=this.Fr(a.l.ro(g)),this.Na(a,p[0],p[1],p[2],c,b+a.i[0]*l,d,f,e),d=this.j(a,"Colour",this.mb(p[0],p[1],p[2]),c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);a.u[k]=[a.o,"Polygons"];d=this.j(a,"","Polygons:",c,b,d,f,e);d=this.j(a,"Number",a.l.s.length,c,b,d,f,e);for(g=0;g<a.l.s.length;g+=1)p="Polygon "+String(g+1),d=this.j(a,p,a.l.Ma(g),c,b,d,
f,e),d=this.j(a," ",a.l.Qa(g),c,b,d,f,e),d=this.j(a," ",a.l.Ra(g),c,b,d,f,e),p=this.Fr(a.l.Sa(g)),this.Na(a,p[0],p[1],p[2],c,b+a.i[0]*l,d,f,e),d=this.j(a,"Colour",this.mb(p[0],p[1],p[2]),c,b,d,f,e)},gE:function(a,c,b,d,f,e){var g,k=0;a.o=1;a.u=[];a.nc=!0;a.i[0]=124;a.u[k]=[a.o,"Top"];k+=1;d=this.j(a,"","Keyboard commands",c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);a.u[k]=[a.o,"Playback"];k+=1;d=this.j(a,"","Playback controls:",c,b,d,f,e);if(a.Ja)d=this.j(a,"R","reset",c,b,d,f,e);else{d=this.j(a,"Enter",
"toggle play / pause",c,b,d,f,e);d=this.j(a,"Space","pause / next generation",c,b,d,f,e);d=this.j(a,"B","pause / previous generation",c,b,d,f,e);d=this.j(a,"Backspace","pause / previous generation",c,b,d,f,e);d=this.j(a,"Tab","pause / next step",c,b,d,f,e);d=this.j(a,"Shift Tab","pause / previous step",c,b,d,f,e);if(a.g.T||a.g.i)d=this.j(a,"U","toggle playback direction",c,b,d,f,e);d=a.Ed?this.j(a,"Esc","close LifeViewer",c,b,d,f,e):this.j(a,"Esc","pause if playing",c,b,d,f,e);d=this.j(a,"R","reset to generation 0",
c,b,d,f,e);d=this.j(a,"Shift N","go to generation",c,b,d,f,e);d=this.j(a,"-","decrease playback speed",c,b,d,f,e);d=this.j(a,"+","increase playback speed",c,b,d,f,e);d=this.j(a,"Shift -","minimum playback speed",c,b,d,f,e);d=this.j(a,"Shift +","maximum playback speed",c,b,d,f,e);d=this.j(a,"0","reset step and speed",c,b,d,f,e);d=this.j(a,"Ctrl P","toggle pause playback while drawing",c,b,d,f,e);d=this.j(a,"Alt T","toggle throttling",c,b,d,f,e);a.qa?-1!==a.ob?(d=this.j(a,"W","toggle waypoint playback and loop",
c,b,d,f,e),d=this.j(a,"Shift P","toggle just loop",c,b,d,f,e)):d=this.j(a,"W","toggle waypoint playback",c,b,d,f,e):-1!==a.ob&&(d=this.j(a,"W","toggle loop",c,b,d,f,e));a.Ab&&(d=this.j(a,"Alt O","toggle autostart",c,b,d,f,e));-1!==a.Pb&&(d=this.j(a,"Alt P","toggle stop",c,b,d,f,e))}d=this.j(a,"","",c,b,d,f,e);a.u[k]=[a.o,"Multi"];k+=1;d=this.j(a,"","Multi-Viewer controls:",c,b,d,f,e);Ja.pb&&(d=this.j(a,"Page Up","previous universe",c,b,d,f,e),d=this.j(a,"Page Down","next universe",c,b,d,f,e),d=this.j(a,
"Home","first universe",c,b,d,f,e),d=this.j(a,"End","last universe",c,b,d,f,e));d=this.j(a,"Shift R","reset all LifeViewers to generation 0",c,b,d,f,e);d=this.j(a,"Z","stop playback in all other LifeViewers",c,b,d,f,e);d=this.j(a,"Shift Z","stop playback in all LifeViewers",c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);a.u[k]=[a.o,"Camera"];k+=1;d=this.j(a,"","Camera controls:",c,b,d,f,e);if(a.ba>=B.yj||(a.Z&&a.Rr)>=B.yj)d=this.j(a,"M","toggle settings menu",c,b,d,f,e);d=this.j(a,"V","restore saved camera position",
c,b,d,f,e);d=this.j(a,"Shift V","save current camera position",c,b,d,f,e);var l=a.l.i.length;if(0<l&&(d=this.j(a,"J","jump to next point of interest",c,b,d,f,e),d=this.j(a,"Shift J","jump to previous point of interest",c,b,d,f,e),9<l&&(l=9),!a.Za&&!a.mc))for(g=1;g<=l;g+=1)d=this.j(a,"Alt "+String(g),"jump to POI #"+String(g),c,b,d,f,e);d=this.j(a,"F","fit pattern to display",c,b,d,f,e);d=this.j(a,"Shift F","toggle autofit",c,b,d,f,e);d=this.j(a,"Shift H","toggle autofit history mode",c,b,d,f,e);d=
this.j(a,"Ctrl F","fit selection to display",c,b,d,f,e);d=this.j(a,"Ctrl M","center pattern on display",c,b,d,f,e);a.g.D&&(d=this.j(a,"Shift S","toggle autofit state 1 mode",c,b,d,f,e));d=this.j(a,"[","zoom out",c,b,d,f,e);d=this.j(a,"]","zoom in",c,b,d,f,e);d=this.j(a,"Shift [","halve zoom",c,b,d,f,e);d=this.j(a,"Shift ]","double zoom",c,b,d,f,e);d=this.j(a,"1","1x zoom",c,b,d,f,e);d=this.j(a,"2","2x zoom",c,b,d,f,e);d=this.j(a,"4","4x zoom",c,b,d,f,e);d=this.j(a,"8","8x zoom",c,b,d,f,e);d=this.j(a,
"6","16x zoom",c,b,d,f,e);d=this.j(a,"3","32x zoom",c,b,d,f,e);d=this.j(a,"Shift 1","integer zoom",c,b,d,f,e);d=this.j(a,"Shift 2","-2x zoom",c,b,d,f,e);d=this.j(a,"Shift 4","-4x zoom",c,b,d,f,e);d=this.j(a,"Shift 8","-8x zoom",c,b,d,f,e);d=this.j(a,"Shift 6","-16x zoom",c,b,d,f,e);d=this.j(a,"Shift 3","-32x zoom",c,b,d,f,e);d=this.j(a,"Left","pan left",c,b,d,f,e);d=this.j(a,"Right","pan right",c,b,d,f,e);d=this.j(a,"Up","pan up",c,b,d,f,e);d=this.j(a,"Down","pan down",c,b,d,f,e);d=this.j(a,"Shift Left",
"pan north west",c,b,d,f,e);d=this.j(a,"Shift Right","pan south east",c,b,d,f,e);d=this.j(a,"Shift Up","pan north east",c,b,d,f,e);d=this.j(a,"Shift Down","pan south west",c,b,d,f,e);d=this.j(a,"<","rotate left",c,b,d,f,e);d=this.j(a,">","rotate right",c,b,d,f,e);d=this.j(a,"Shift <","rotate left 90 degrees",c,b,d,f,e);d=this.j(a,"Shift >","rotate right 90 degrees",c,b,d,f,e);d=this.j(a,"Alt <","rotate left 45 degrees",c,b,d,f,e);d=this.j(a,"Alt >","rotate right 45 degrees",c,b,d,f,e);d=this.j(a,
"5","reset angle",c,b,d,f,e);d=this.j(a,"Alt /","snap angle to nearest 45 degrees",c,b,d,f,e);d=this.j(a,"'","tilt down",c,b,d,f,e);d=this.j(a,"/","tilt up",c,b,d,f,e);d=this.j(a,"@","reset tilt",c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);a.Ja||(a.u[k]=[a.o,"View"],k+=1,d=this.j(a,"","View controls:",c,b,d,f,e),d=this.j(a,"Q","increase number of layers",c,b,d,f,e),d=this.j(a,"A","decrease number of layers",c,b,d,f,e),d=this.j(a,"P","increase layer depth",c,b,d,f,e),d=this.j(a,"L","decrease layer depth",
c,b,d,f,e),d=this.j(a,"C","next colour theme",c,b,d,f,e),d=this.j(a,"Shift C","previous colour theme",c,b,d,f,e),d=this.j(a,"Alt C","default theme",c,b,d,f,e),d=this.j(a,"","",c,b,d,f,e));a.u[k]=[a.o,"Display"];k+=1;d=this.j(a,"","Display controls:",c,b,d,f,e);a.Ja||(d=this.j(a,"G","toggle generation statistics",c,b,d,f,e),d=this.j(a,"Shift G","toggle generation display mode",c,b,d,f,e),a.Gb||(d=this.j(a,"Y","toggle population graph",c,b,d,f,e),d=this.j(a,"Shift Y","toggle graph lines",c,b,d,f,e),
d=this.j(a,"7","decrease graph opacity",c,b,d,f,e),d=this.j(a,"9","increase graph opacity",c,b,d,f,e),d=this.j(a,"Shift F3","toggle population plot",c,b,d,f,e),d=this.j(a,"Shift F4","toggle births plot",c,b,d,f,e),d=this.j(a,"Shift F5","toggle deaths plot",c,b,d,f,e)),d=this.j(a,"Shift W","toggle performance warning",c,b,d,f,e));a.g.ga?d=this.j(a,"?","toggle hexagons for hexagonal grid",c,b,d,f,e):a.g.A&&(d=this.j(a,"?","toggle triangles for triangular grid",c,b,d,f,e));d=this.j(a,"T","toggle timing information",
c,b,d,f,e);d=this.j(a,"Shift T","toggle extended timing information",c,b,d,f,e);d=this.j(a,"I","toggle pattern and engine information",c,b,d,f,e);d=this.j(a,"Shift I","toggle information bar",c,b,d,f,e);d=this.j(a,"Ctrl Q","toggle cell anti-aliasing",c,b,d,f,e);d=this.j(a,"Alt B","toggle cell borders",c,b,d,f,e);d=this.j(a,"X","toggle gridlines",c,b,d,f,e);0<a.g.Fb&&(d=this.j(a,"Shift X","toggle major gridlines",c,b,d,f,e));d=this.j(a,"Ctrl G","toggle auto gridlines",c,b,d,f,e);a.g.T&&(d=this.j(a,
"Alt D","toggle alternating gridlines",c,b,d,f,e));if(a.g.D||a.g.o||-1===a.g.h)d=this.j(a,"Alt G","convert pattern to [R]Super",c,b,d,f,e),d=this.j(a,"Alt H","convert pattern to [R]History",c,b,d,f,e),d=this.j(a,"Alt J","convert pattern to [R]Standard",c,b,d,f,e);0<a.l.A()&&(d=this.j(a,"Alt L","toggle annotation display",c,b,d,f,e));d=this.j(a,"Ctrl L","toggle kill escaping gliders",c,b,d,f,e);a.bf&&(d=this.j(a,"N","toggle thumbnail view",c,b,d,f,e));d=this.j(a,"S","toggle stars",c,b,d,f,e);d=this.j(a,
"O","save screenshot",c,b,d,f,e);d=this.j(a,"Shift O","save population graph screenshot",c,b,d,f,e);d=this.j(a,"Shift U","toggle UI",c,b,d,f,e);d=this.j(a,"Alt U","toggle autohide UI during playback",c,b,d,f,e);-1===a.g.h&&(d=this.j(a,"Alt W","toggle rainbow mode",c,b,d,f,e));d=this.j(a,"D","toggle cell period map",c,b,d,f,e);d=this.j(a,"Shift D","download cell period map",c,b,d,f,e);d=this.j(a,"E","toggle cell period table",c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);a.u[k]=[a.o,"Pattern"];k+=1;d=this.j(a,
"","Pattern controls:",c,b,d,f,e);d=this.j(a,"Alt N","new pattern",c,b,d,f,e);d=this.j(a,"Alt R","change rule",c,b,d,f,e);d=this.j(a,"Ctrl O","open original or last saved pattern",c,b,d,f,e);d=this.j(a,"Ctrl+Shift O","open clipboard as pattern",c,b,d,f,e);d=this.j(a,"Ctrl S","save pattern",c,b,d,f,e);d=this.j(a,"Alt Z","randomize pattern and rule",c,b,d,f,e);d=this.j(a,"Ctrl+Alt Z","randomize pattern only",c,b,d,f,e);d=this.j(a,"F6","toggle oscillator and spaceship identification",c,b,d,f,e);d=this.j(a,
"Shift F6","display last identification result",c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);a.u[k]=[a.o,"Clipboard"];k+=1;d=this.j(a,"","External clipboard controls:",c,b,d,f,e);d=this.j(a,"Alt S","toggle sync cut and copy with external clipboard",c,b,d,f,e);d=this.j(a,"Ctrl+Shift C","copy original pattern",c,b,d,f,e);d=this.j(a,"Ctrl C","copy current selection",c,b,d,f,e);d=this.j(a,"Ctrl+Alt C","copy current selection with comments",c,b,d,f,e);d=this.j(a,"Ctrl+Shift X","cut original pattern",c,b,d,f,
e);d=this.j(a,"Ctrl X","cut current selection",c,b,d,f,e);d=this.j(a,"Ctrl+Alt X","cut current selection with comments",c,b,d,f,e);d=this.j(a,"Ctrl J","copy rule definition",c,b,d,f,e);d=this.j(a,"K","copy camera position",c,b,d,f,e);d=this.j(a,"Shift K","copy camera position and view",c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);a.u[k]=[a.o,"Edit"];k+=1;d=this.j(a,"","Edit controls:",c,b,d,f,e);d=this.j(a,"F1","toggle draw/pan mode",c,b,d,f,e);d=this.j(a,"F2","draw mode",c,b,d,f,e);d=this.j(a,"Shift F2",
"toggle smart drawing",c,b,d,f,e);d=this.j(a,"F3","pick mode",c,b,d,f,e);d=this.j(a,"F4","select mode",c,b,d,f,e);d=this.j(a,"F5","pan mode",c,b,d,f,e);d=this.j(a,"Ctrl A","select all",c,b,d,f,e);d=this.j(a,"Shift A","shrink selection",c,b,d,f,e);d=this.j(a,"Alt A","toggle auto-shrink selection",c,b,d,f,e);d=this.j(a,"Ctrl C","copy",c,b,d,f,e);d=this.j(a,"Ctrl D","toggle states display",c,b,d,f,e);d=this.j(a,"Ctrl I","invert selection",c,b,d,f,e);d=this.j(a,"Ctrl K","remove selection",c,b,d,f,e);
d=this.j(a,"Ctrl V","paste",c,b,d,f,e);d=this.j(a,"Ctrl+Shift V","paste to selection",c,b,d,f,e);d=this.j(a,"Ctrl X","cut",c,b,d,f,e);d=this.j(a,"Ctrl Y","redo edit",c,b,d,f,e);d=this.j(a,"Ctrl Z","undo edit",c,b,d,f,e);d=this.j(a,"Ctrl+Shift Z","redo edit",c,b,d,f,e);d=this.j(a,"Ctrl Space","advance selection",c,b,d,f,e);d=this.j(a,"Shift Space","advance outside",c,b,d,f,e);d=this.j(a,"Shift L","cycle paste location",c,b,d,f,e);d=this.j(a,"Shift M","cycle paste mode",c,b,d,f,e);2<a.g.h?(d=this.j(a,
"Shift 5","multi-state random fill",c,b,d,f,e),a.g.i||(d=this.j(a,"Ctrl+Shift 5","2-state random fill",c,b,d,f,e))):d=this.j(a,"Shift 5","random fill",c,b,d,f,e);d=this.j(a,"Alt K","pick cell state to replace with drawing state",c,b,d,f,e);d=this.j(a,"Ctrl+Alt K","clear current drawing state cells",c,b,d,f,e);d=this.j(a,"Del","clear cells in selection",c,b,d,f,e);d=this.j(a,"Shift Del","clear outside selection",c,b,d,f,e);a.g.D&&(d=this.j(a,"Ctrl Del","clear [R]History cells",c,b,d,f,e),d=this.j(a,
"Alt Del","clear [R]History marked cells",c,b,d,f,e));d=this.j(a,">","rotate selection clockwise",c,b,d,f,e);d=this.j(a,"<","rotate selection counter-clockwise",c,b,d,f,e);d=this.j(a,"Alt X","flip selection horizontally",c,b,d,f,e);d=this.j(a,"Alt Y","flip selection vertically",c,b,d,f,e);d=this.j(a,"Alt Left","nudge selection 1 cell left",c,b,d,f,e);d=this.j(a,"Alt Right","nudge selection 1 cell right",c,b,d,f,e);d=this.j(a,"Alt Up","nudge selection 1 cell up",c,b,d,f,e);d=this.j(a,"Alt Down","nudge selection 1 cell down",
c,b,d,f,e);d=this.j(a,"Esc","hide paste",c,b,d,f,e);d=this.j(a,"Enter","perform paste",c,b,d,f,e);a.g.D?l=7:(l=-1===a.g.h?2:a.g.h,10<l&&(l=10));for(g=0;g<l;g+=1)d=this.j(a,"Ctrl "+g,"select state "+g+" for drawing",c,b,d,f,e);d=this.j(a,"Shift B","toggle clipboard library",c,b,d,f,e);for(g=0;10>g;g+=1)d=this.j(a,"Alt "+g,"make clipboard "+g+" active",c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);a.u[k]=[a.o,"Help"];d=this.j(a,"","Help controls:",c,b,d,f,e);d=this.j(a,"Up","scroll up one line",c,b,d,f,e);
d=this.j(a,"Down","scroll down one line",c,b,d,f,e);d=this.j(a,"Page Up","scroll up one page",c,b,d,f,e);d=this.j(a,"Page Down","scroll down one page",c,b,d,f,e);d=this.j(a,"Shift Page Up","scroll up one section",c,b,d,f,e);d=this.j(a,"Shift Page Down","scroll down one section",c,b,d,f,e);d=this.j(a,"Home","go to first help page",c,b,d,f,e);d=this.j(a,"End","go to last help page",c,b,d,f,e);this.j(a,"Ins","show help sections",c,b,d,f,e)},iE:function(a,c,b,d,f,e){var g=0;a.o=1;a.nc=!1;a.u=[];a.i[0]=
252;a.u[g]=[a.o,"Top"];g+=1;d=this.j(a,"","Scripts",c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);d=this.j(a,"","Scripts must be embedded in pattern comments",c,b,d,f,e);d=this.j(a,"","Commands must be surrounded by whitespace",c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);a.u[g]=[a.o,"Params"];g+=1;d=this.j(a,"","Parameter conventions:",c,b,d,f,e);d=this.j(a,"A|B","either A or B",c,b,d,f,e);d=this.j(a,"(A)","A is optional",c,b,d,f,e);d=this.j(a,"A*","zero or more A",c,b,d,f,e);d=this.j(a,"A+","one or more A",
c,b,d,f,e);d=this.j(a,"<1..3>","integer range",c,b,d,f,e);d=this.j(a,"<1.0..3.0>","decimal range",c,b,d,f,e);d=this.j(a,'"<string>"',"text string",c,b,d,f,e);d=this.j(a," "+y.Kd+"B","program build number",c,b,d,f,e);d=this.j(a," "+y.Kd+"N","pattern name",c,b,d,f,e);d=this.j(a," "+y.Kd+"O","pattern originator",c,b,d,f,e);d=this.j(a," "+y.Kd+"R","rule name",c,b,d,f,e);d=this.j(a," "+y.Kd+"A","rule alias",c,b,d,f,e);d=this.j(a," "+y.Kd+"D","rule neighbourhood",c,b,d,f,e);d=this.j(a," "+y.Kd+"T","program title",
c,b,d,f,e);d=this.j(a," "+y.Kd+"S","random seed",c,b,d,f,e);d=this.j(a," "+y.Kd+"G","current generation (Labels)",c,b,d,f,e);d=this.j(a," "+y.Kd+"H","reversible generation (Labels)",c,b,d,f,e);d=this.j(a," "+y.Kd+"I","current generation relative (Labels)",c,b,d,f,e);d=this.j(a," "+y.Kd+"J","reversible generation relative (Labels)",c,b,d,f,e);d=this.j(a," "+y.Kd+"P","current population (Labels)",c,b,d,f,e);d=this.j(a," "+y.Kd+"0..9","saved timing as average fps",c,b,d,f,e);d=this.j(a," "+y.Kd+y.Kd,
y.Kd+" symbol",c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);a.u[g]=[a.o,"General"];g+=1;d=this.j(a,"","General:",c,b,d,f,e);d=this.j(a,y.Cj,"start script section",c,b,d,f,e);d=this.j(a,y.Vm,"end script section",c,b,d,f,e);d=this.j(a,y.Ju,"suppress overwrite warning",c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);a.u[g]=[a.o,"Playback"];g+=1;d=this.j(a,"","Playback:",c,b,d,f,e);d=this.j(a,y.to+" ("+y.yb+")","start play automatically",c,b,d,f,e);d=this.j(a,y.uh+" <1..>|"+y.yb,"loop at generation",c,b,d,f,e);d=this.j(a,
y.Gh+" <1..>|"+y.yb,"stop at generation",c,b,d,f,e);d=this.j(a,y.Qp+" <1..>","play to generation on load",c,b,d,f,e);d=this.j(a,y.Pk+" <"+B.Ig+".."+a.L+">","set steps per second",c,b,d,f,e);d=this.j(a,y.sl+" <"+B.tg+".."+B.ff+">","set generations per step",c,b,d,f,e);(a.g.T||a.g.i)&&a.g.Ua&&(d=this.j(a,y.tu,"set initial playback to Reverse",c,b,d,f,e));d=this.j(a,y.ks,"always use hard reset",c,b,d,f,e);d=this.j(a,y.Vn,"disable playback",c,b,d,f,e);d=this.j(a,y.gt,"disable step back",c,b,d,f,e);d=
this.j(a,y.it,"disable stop messages",c,b,d,f,e);d=this.j(a,y.ht,"disable performance warning",c,b,d,f,e);d=this.j(a,y.kt,"disable playback throttling",c,b,d,f,e);d=this.j(a,y.Xr,"starting playback pauses others",c,b,d,f,e);d=this.j(a,y.ts,"ignore other pause requests",c,b,d,f,e);d=this.j(a,y.Wt,"show playback duration",c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);a.u[g]=[a.o,"Camera"];g+=1;d=this.j(a,"","Camera:",c,b,d,f,e);d=this.j(a,y.ij+" <0..359>","set camera angle",c,b,d,f,e);d=this.j(a,y.Ej+" <0.0..5.0>",
"set camera tilt",c,b,d,f,e);d=this.j(a,y.we+" <-"+(a.g.L>>1)+".."+(a.g.L>>1)+">","set camera x position",c,b,d,f,e);d=this.j(a,y.ye+" <-"+(a.g.L>>1)+".."+(a.g.L>>1)+">","set camera y position",c,b,d,f,e);d=this.j(a,y.Ud+" <"+Number(-1/B.rb).toFixed(1)+".."+B.Mb.toFixed(1)+">","set camera zoom",c,b,d,f,e);d=this.j(a,y.hr,"same as "+y.Ud,c,b,d,f,e);d=this.j(a,y.so+" ("+y.yb+")","fit pattern to display",c,b,d,f,e);d=this.j(a,y.qs+" ("+y.yb+")","autofit uses pattern history",c,b,d,f,e);d=this.j(a,y.Fu+
" ("+y.yb+")","autofit only uses state 1",c,b,d,f,e);d=this.j(a,y.Tn+" X Y","camera tracking",c,b,d,f,e);d=this.j(a," X ","horizontal speed cells/gen",c,b,d,f,e);d=this.j(a," Y ","vertical speed cells/gen",c,b,d,f,e);d=this.j(a,y.yl+" E S W N","camera box tracking",c,b,d,f,e);d=this.j(a," E ","east edge speed cells/gen",c,b,d,f,e);d=this.j(a," S ","south edge speed cells/gen",c,b,d,f,e);d=this.j(a," W ","west edge speed cells/gen",c,b,d,f,e);d=this.j(a," N ","north edge speed cells/gen",c,b,d,f,e);
d=this.j(a,y.Sn+" P X Y","camera tracking with loop",c,b,d,f,e);d=this.j(a," P ","period",c,b,d,f,e);d=this.j(a," X ","horizontal speed cells/gen",c,b,d,f,e);d=this.j(a," Y ","vertical speed cells/gen",c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);a.u[g]=[a.o,"Waypoints"];g+=1;d=this.j(a,"","Waypoints:",c,b,d,f,e);d=this.j(a,y.Pn+" <0..>","waypoint at generation",c,b,d,f,e);d=this.j(a,y.Tt+" <0.0..>","pause for time",c,b,d,f,e);d=this.j(a,y.sg+" "+y.hf+"|"+y.we+"|"+y.ye+"|"+y.Ud,"linear motion",c,b,d,f,
e);d=this.j(a,y.lh+" "+y.hf+"|"+y.we+"|"+y.ye+"|"+y.Ud,"bezier motion (default)",c,b,d,f,e);d=this.j(a,y.nz,"save timing at waypoint start",c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);a.u[g]=[a.o,"POIs"];g+=1;d=this.j(a,"","Points of interest:",c,b,d,f,e);d=this.j(a,y.zp,"define point of interest",c,b,d,f,e);d=this.j(a,y.yp+" <0..>","start POI at generation",c,b,d,f,e);d=this.j(a,y.In,"reset generation at POI",c,b,d,f,e);d=this.j(a,y.Nm,"start playback at POI",c,b,d,f,e);d=this.j(a,y.Om,"stop playback at POI",
c,b,d,f,e);d=this.j(a,y.Jn+" <"+Ya.Ty+".."+Ya.Sy+">","set POI transition speed",c,b,d,f,e);d=this.j(a,"<command>|ALL "+y.cc,"use initial value for POI",c,b,d,f,e);d=this.j(a,y.pd+"<string>"+y.pd,"define message",c,b,d,f,e);d=this.j(a,y.Xt,"add Labels as POIs",c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);a.u[g]=[a.o,"Annotations"];g+=1;d=this.j(a,"","Annotations:",c,b,d,f,e);d=this.j(a,y.xn+" X Y ZOOM","define label at position",c,b,d,f,e);d=this.j(a," ("+y.Bd+") "+y.pd+"<string>"+y.pd,"... fix position, label text ",
c,b,d,f,e);d=this.j(a,y.Gs+" <"+B.py+".."+B.ky+">","define label font size",c,b,d,f,e);d=this.j(a," ("+y.Bd+")","... optionally fix size",c,b,d,f,e);d=this.j(a,y.Ds+" <0.0..1.0>","define label font alpha",c,b,d,f,e);d=this.j(a,y.Hs+" <0..> <0..> <0..>","generation range / fade",c,b,d,f,e);d=this.j(a,y.Es+" <0..359>","label angle",c,b,d,f,e);d=this.j(a," ("+y.Bd+")","... optionally fix angle",c,b,d,f,e);d=this.j(a,y.Js+" D|"+y.yb,"label view distance",c,b,d,f,e);d=this.j(a,y.Ks+" MINZOOM MAXZOOM|"+
y.yb,"label zoom visibility",c,b,d,f,e);d=this.j(a,y.Is+" DX DY|"+y.Bd,"label move per generation",c,b,d,f,e);d=this.j(a,y.Fs+" ("+y.yb+")","turn label shadow on or off",c,b,d,f,e);d=this.j(a,y.ln+" X1 Y1 X2 Y2 ZOOM","define arrow at position",c,b,d,f,e);d=this.j(a," ("+y.Bd+")","... fix position",c,b,d,f,e);d=this.j(a,y.qr+" <"+B.ip+".."+B.$o+"> <0.0..1.0>","line width and head multiple",c,b,d,f,e);d=this.j(a,y.mr+" <0.0..1.0>","define arrow alpha",c,b,d,f,e);d=this.j(a,y.rr+" <0..> <0..> <0..>",
"generation range / fade",c,b,d,f,e);d=this.j(a,y.nr+" <0..359>","arrow angle",c,b,d,f,e);d=this.j(a," ("+y.Bd+")","... optionally fix angle",c,b,d,f,e);d=this.j(a,y.tr+" D|"+y.yb,"arrow view distance",c,b,d,f,e);d=this.j(a,y.ur+" MINZOOM MAXZOOM|"+y.yb,"arrow zoom visibility",c,b,d,f,e);d=this.j(a,y.sr+" DX DY|"+y.Bd,"arrow move per generation",c,b,d,f,e);d=this.j(a,y.pr+" ("+y.yb+")","turn arrow shadow on or off",c,b,d,f,e);d=this.j(a,y.$t+" X1 Y1 X2 Y2 .. ZOOM","define outline polygon",c,b,d,f,
e);d=this.j(a," ("+y.Bd+")","... fix position",c,b,d,f,e);d=this.j(a,y.Ap+" X1 Y1 X2 Y2 .. ZOOM","define filled polygon",c,b,d,f,e);d=this.j(a," ("+y.Bd+")","... fix position",c,b,d,f,e);d=this.j(a,y.bu+" <"+B.ip+".."+B.$o+">","line width",c,b,d,f,e);d=this.j(a,y.Yt+" <0.0..1.0>","define polygon alpha",c,b,d,f,e);d=this.j(a,y.cu+" <0..> <0..> <0..>","generation range / fade",c,b,d,f,e);d=this.j(a,y.Zt+" <0..359>","polygon angle",c,b,d,f,e);d=this.j(a," ("+y.Bd+")","... optionally fix angle",c,b,d,
f,e);d=this.j(a,y.eu+" D|"+y.yb,"polygon view distance",c,b,d,f,e);d=this.j(a,y.fu+" MINZOOM MAXZOOM|"+y.yb,"polygon zoom visilibility",c,b,d,f,e);d=this.j(a,y.du+" DX DY|"+y.Bd,"polygon move per generation",c,b,d,f,e);d=this.j(a,y.au+" ("+y.yb+")","turn polygon shadow on or off",c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);a.u[g]=[a.o,"Display"];g+=1;d=this.j(a,"","Display:",c,b,d,f,e);d=this.j(a,y.fn+" <"+B.Kc+".."+a.dd+">","set LifeViewer width",c,b,d,f,e);d=this.j(a,y.rm+" <"+B.wh+".."+B.An+">","set LifeViewer height",
c,b,d,f,e);d=this.j(a,y.Ln+" <"+B.Kc+".."+a.dd+">","set popup width",c,b,d,f,e);d=this.j(a,y.Kn+" <"+B.wh+".."+B.An+">","set popup height",c,b,d,f,e);d=this.j(a,y.bn+" "+y.pd+"<string>"+y.pd,"set popup window title",c,b,d,f,e);d=this.j(a,y.Wk+" <"+B.hp+".."+B.Zo+">","set number of layers",c,b,d,f,e);d=this.j(a,y.Jk+" <"+B.gp.toFixed(1)+".."+B.iy.toFixed(1)+">","set layer depth",c,b,d,f,e);d=this.j(a,y.un+" ("+y.yb+")","display gridlines",c,b,d,f,e);d=this.j(a,y.tn+" <0..16>","set major grid line interval",
c,b,d,f,e);d=this.j(a,y.kn+" <0.."+(2<a.g.h?1:63)+">","number of age states to draw",c,b,d,f,e);d=this.j(a,y.tm+" <0.."+(2<a.g.h?1:63)+">","number of history states to draw",c,b,d,f,e);d=this.j(a,y.Nn+" ("+y.yb+")","display stars",c,b,d,f,e);a.g.ga?(d=this.j(a,y.ms,"hexagonal cells for grid",c,b,d,f,e),d=this.j(a,y.Np,"offset square cells for grid",c,b,d,f,e)):a.g.A&&(d=this.j(a,y.mv,"triangular cells for grid",c,b,d,f,e),d=this.j(a,y.Np,"rectangular cells for grid",c,b,d,f,e));d=this.j(a,y.zr,"display cell borders",
c,b,d,f,e);d=this.j(a,y.ft,"disable menus and hotkeys",c,b,d,f,e);d=this.j(a,y.ps,"hide menus during playback",c,b,d,f,e);d=this.j(a,y.Bu,"show timing information",c,b,d,f,e);d=this.j(a,y.Yr,"extended timing information",c,b,d,f,e);d=this.j(a,y.zu,"show generation statistics",c,b,d,f,e);d=this.j(a,y.Au,"show information bar",c,b,d,f,e);d=this.j(a,y.Zy,"use rainbow colours",c,b,d,f,e);d=this.j(a,y.iu,"use high quality rendering",c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);a.u[g]=[a.o,"Thumb"];g+=1;d=this.j(a,
"","Thumbnails:",c,b,d,f,e);d=this.j(a,y.Tu+" ("+y.yb+")","start at 1/"+a.Eb+" size",c,b,d,f,e);d=this.j(a,y.Qu+" <"+B.sy+".."+B.my+">","set thumbnail divisor",c,b,d,f,e);d=this.j(a,y.Pu+" ("+y.yb+")","thumbnail launches viewer",c,b,d,f,e);d=this.j(a,y.Su+" <"+Number(-1/B.rb).toFixed(1)+".."+B.Mb.toFixed(1)+">","set thumbnail zoom",c,b,d,f,e);d=this.j(a,y.Ru,"start playback on thumbnail expand",c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);a.u[g]=[a.o,"Graph"];g+=1;d=this.j(a,"","Population Graph:",c,b,
d,f,e);d=this.j(a,y.Ro,"display population graph",c,b,d,f,e);d=this.j(a,y.fs+" <0.0..1.0>","population graph opacity",c,b,d,f,e);d=this.j(a,y.gs,"population graph use points",c,b,d,f,e);d=this.j(a,y.qp,"disable population graph",c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);a.u[g]=[a.o,"Colours"];g+=1;d=this.j(a,"","Colours:",c,b,d,f,e);d=this.j(a,y.Xi+" <0.."+(a.g.fb-1)+">|name","set theme",c,b,d,f,e);d=this.j(a," name = "+y.$m,"set custom theme",c,b,d,f,e);d=this.j(a,y.jb+" "+y.Tp+" R G B","set theme background",
c,b,d,f,e);d=this.j(a,y.jb+" "+y.Sp+" R G B","set theme alive color",c,b,d,f,e);d=this.j(a,y.jb+" "+y.Lu+" R G B","set theme alive ramp",c,b,d,f,e);d=this.j(a,y.jb+" "+y.Vp+" R G B","set theme dead color",c,b,d,f,e);d=this.j(a,y.jb+" "+y.Up+" R G B","set theme dead ramp",c,b,d,f,e);d=this.j(a,y.jb+" "+y.Nu+" R G B","set theme dying color",c,b,d,f,e);d=this.j(a,y.jb+" "+y.Mu+" R G B","set theme dying ramp",c,b,d,f,e);d=this.j(a,y.jb+" "+y.Pw+" R G B","set boundary color",c,b,d,f,e);d=this.j(a,y.jb+
" <0.."+(-1===a.g.h?a.g.D?"6":"1":String(a.g.h-1))+"> R G B","set state color",c,b,d,f,e);a.g.D&&(d=this.j(a,y.jb+" "+y.Dy+" R G B","set [R]History state color "+B.ED,c,b,d,f,e),d=this.j(a,y.jb+" "+y.Fy+" R G B","set [R]History state color "+B.GD,c,b,d,f,e),d=this.j(a,y.jb+" "+y.Mx+" R G B","set [R]History state color "+B.EC,c,b,d,f,e),d=this.j(a,y.jb+" "+y.Yx+" R G B","set [R]History state color "+B.Zx,c,b,d,f,e),d=this.j(a,y.jb+" "+y.by+" R G B","set [R]History state color "+B.ey,c,b,d,f,e),d=this.j(a,
y.jb+" "+y.$x+" R G B","set [R]History state color "+B.ay,c,b,d,f,e),d=this.j(a,y.jb+" "+y.Sx+" R G B","set [R]History state color "+B.Tx,c,b,d,f,e));a.g.i&&(d=this.j(a,y.jb+" N*E*S*W* R G B","set PCA state color",c,b,d,f,e));d=this.j(a,y.jb+" "+y.Qw+" R G B","set bounded color",c,b,d,f,e);d=this.j(a,y.jb+" "+y.ez+" R G B","set select color",c,b,d,f,e);d=this.j(a,y.jb+" "+y.Pi+" R G B","set paste color",c,b,d,f,e);d=this.j(a,y.jb+" "+y.Iw+" R G B","set advance color",c,b,d,f,e);d=this.j(a,y.jb+" "+
y.fz+" R G B","set selected cells color",c,b,d,f,e);d=this.j(a,y.jb+" "+y.un+" R G B","set grid color",c,b,d,f,e);d=this.j(a,y.jb+" "+y.tn+" R G B","set grid major color",c,b,d,f,e);d=this.j(a,y.jb+" "+y.Nn+" R G B","set star color",c,b,d,f,e);d=this.j(a,y.jb+" "+y.Ku+" R G B","set waypoint message color",c,b,d,f,e);d=this.j(a,y.jb+" "+y.Vr+" R G B","set error message color",c,b,d,f,e);d=this.j(a,y.jb+" "+y.ls+" R G B","set help message color",c,b,d,f,e);d=this.j(a,y.jb+" "+y.Gx+" R G B","set graph background color",
c,b,d,f,e);d=this.j(a,y.jb+" "+y.Fx+" R G B","set graph axis color",c,b,d,f,e);d=this.j(a,y.jb+" "+y.Ex+" R G B","set graph alive color",c,b,d,f,e);d=this.j(a,y.jb+" "+y.Hx+" R G B","set graph birth color",c,b,d,f,e);d=this.j(a,y.jb+" "+y.Ix+" R G B","set graph death color",c,b,d,f,e);d=this.j(a,y.jb+" "+y.xn+" R G B","set label text color",c,b,d,f,e);d=this.j(a,y.jb+" "+y.ln+" R G B","set arrow line color",c,b,d,f,e);d=this.j(a,y.jb+" "+y.Wy+" R G B","set polygon color",c,b,d,f,e);d=this.j(a,y.jb+
" "+y.rz+" R G B","set UI foreground color",c,b,d,f,e);d=this.j(a,y.jb+" "+y.pz+" R G B","set UI background color",c,b,d,f,e);d=this.j(a,y.jb+" "+y.sz+" R G B","set UI highlight text color",c,b,d,f,e);d=this.j(a,y.jb+" "+y.vz+" R G B","set UI selected color",c,b,d,f,e);d=this.j(a,y.jb+" "+y.uz+" R G B","set UI locked color",c,b,d,f,e);d=this.j(a,y.jb+" "+y.qz+" R G B","set UI border color",c,b,d,f,e);d=this.j(a,y.Gr,"same as "+y.jb,c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);a.u[g]=[a.o,"Pattern"];g+=
1;d=this.j(a,"","Pattern:",c,b,d,f,e);d=this.j(a,y.bq+" <-"+(a.g.L>>1)+".."+(a.g.L>>1)+">","set pattern x offset",c,b,d,f,e);d=this.j(a,y.eq+" <-"+(a.g.L>>1)+".."+(a.g.L>>1)+">","set pattern y offset",c,b,d,f,e);d=this.j(a,y.Pr+" <"+B.ny+".."+B.hy+">","set boundary delete range",c,b,d,f,e);d=this.j(a,y.et,"disable pattern source copy",c,b,d,f,e);d=this.j(a,y.jt,"hide pattern source",c,b,d,f,e);d=this.j(a,y.Os+" <"+B.oy+".."+B.jy+">","set maximum grid size 2^n",c,b,d,f,e);d=this.j(a,y.Qm+" name X Y (<1..>)+",
"create a named recipe",c,b,d,f,e);d=this.j(a,y.ol+" name rle|"+y.Kg+" W H","create a named set of cells",c,b,d,f,e);d=this.j(a," (X Y) (TRANS)","... X Y and transformation",c,b,d,f,e);d=this.j(a," "+y.gv,"identity",c,b,d,f,e);d=this.j(a," "+y.dv,"flip",c,b,d,f,e);d=this.j(a," "+y.ev,"flip X",c,b,d,f,e);d=this.j(a," "+y.fv,"flip Y",c,b,d,f,e);d=this.j(a," "+y.kv,"swap X and Y",c,b,d,f,e);d=this.j(a," "+y.lv,"swap X and Y and flip",c,b,d,f,e);d=this.j(a," "+y.jv,"rotate clockwise",c,b,d,f,e);d=this.j(a,
" "+y.hv,"rotate counter-clockwise",c,b,d,f,e);d=this.j(a,y.Pi+" name|rle|"+y.Kg+" W H (X Y)","paste cells at optional X Y",c,b,d,f,e);d=this.j(a," (TRANS)","... optional transformation",c,b,d,f,e);d=this.j(a,y.Gn+" <0..>","set paste generation",c,b,d,f,e);d=this.j(a," (recipe|<1..>+)*","... optional delta list",c,b,d,f,e);d=this.j(a,y.Gn+" "+y.on+" <1..>","set paste interval",c,b,d,f,e);d=this.j(a," (<0..> (<1..>))","... optional start and end",c,b,d,f,e);d=this.j(a,y.nt+" X Y","set position delta for "+
y.Gn+" "+y.on,c,b,d,f,e);d=this.j(a,y.Jt+" <0..15>|mode","set paste mode",c,b,d,f,e);d=this.j(a," 0   0000  "+y.St,"",c,b,d,f,e);d=this.j(a," 1   0001  "+y.wt,"",c,b,d,f,e);d=this.j(a," 2   0010  "+y.pt,"",c,b,d,f,e);d=this.j(a," 3   0011  "+y.Nt+"|"+y.xt,"",c,b,d,f,e);d=this.j(a," 4   0100  "+y.rt,"",c,b,d,f,e);d=this.j(a," 5   0101  "+y.Qt,"",c,b,d,f,e);d=this.j(a," 6   0110  "+y.Ot,"",c,b,d,f,e);d=this.j(a," 7   0111  "+y.It,"",c,b,d,f,e);d=this.j(a," 8   1000  "+y.Bt,"",c,b,d,f,e);d=this.j(a,
" 9   1001  "+y.Mt,"",c,b,d,f,e);d=this.j(a," 10  1010  "+y.Ft,"",c,b,d,f,e);d=this.j(a," 11  1011  "+y.tt,"",c,b,d,f,e);d=this.j(a," 12  1100  "+y.Dt,"",c,b,d,f,e);d=this.j(a," 13  1101  "+y.vt,"",c,b,d,f,e);d=this.j(a," 14  1110  "+y.zt,"",c,b,d,f,e);d=this.j(a," 15  1111  "+y.Ht,"",c,b,d,f,e);d=this.j(a,y.As,"suppress escaping gliders",c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);a.u[g]=[a.o,"Randomize"];d=this.j(a,"","Randomize:",c,b,d,f,e);d=this.j(a,y.ru,"create random pattern",c,b,d,f,e);d=this.j(a,
y.qu,"create 2-state random pattern",c,b,d,f,e);d=this.j(a,y.nu+" <string>","set random seed",c,b,d,f,e);d=this.j(a,y.pu+" <"+B.Cn+".."+B.ep+">","set random pattern width",c,b,d,f,e);d=this.j(a,y.lu+" <"+B.Ts+".."+B.cp+">","set random pattern height",c,b,d,f,e);d=this.j(a,y.ku+" <"+B.jp+".."+B.bp+">","set random pattern fill percentage",c,b,d,f,e);d=this.j(a,y.Ep+" "+y.Bd,"keep rule fixed",c,b,d,f,e);a.g.T||a.g.i?(d=this.j(a,y.mu,"only generate reversible rules",c,b,d,f,e),this.j(a,y.ou,"only generate fixed population rules",
c,b,d,f,e)):a.g.Ga||-1!==a.g.vd||(d=this.j(a,y.Ep+" <item> <0..100>","set percentage chance for <item>",c,b,d,f,e),d=this.j(a," "+y.hf,"all conditions",c,b,d,f,e),d=this.j(a," "+y.Dp,"all birth conditions",c,b,d,f,e),d=this.j(a," "+y.Fp,"all survival conditions",c,b,d,f,e),d=this.j(a," "+y.Dp+"<0..n>","specified birth condition",c,b,d,f,e),this.j(a," "+y.Fp+"<0..n>","specified survival condition",c,b,d,f,e))},fE:function(a,c,b,d,f,e){var g,k,l=Ka.Ld.length,p=a.g.na[a.g.Eb],n=0,q=a.h.s;a.o=1;a.nc=
!1;a.u=[];a.i[0]=128;a.i[1]=210;a.i[2]=270;a.i[3]=330;a.i[4]=430;a.u[n]=[a.o,"Top"];n+=1;d=this.j(a,"","Information",c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);a.u[n]=[a.o,"Display"];n+=1;d=this.j(a,"","Display:",c,b,d,f,e);d=this.j(a,"Size",a.da+" x "+a.ba,c,b,d,f,e);d=this.j(a,"Scale",a.h.s.toFixed(2),c,b,d,f,e);d=this.j(a,"Pixel Ratio",a.Xk.toFixed(2),c,b,d,f,e);d=this.j(a,"Window Zoom",a.se.toFixed(2),c,b,d,f,e);d=this.j(a,"Refresh",a.L+"Hz ("+((a.tq-a.cs)/(B.Qs-1)).toFixed(1)+"ms)",c,b,d,f,e);Ja.yn&&
(d=this.j(a,"Limit Width",a.dd,c,b,d,f,e));var m=a.g.V;1>m&&(m=-1/m);d=this.j(a,"View","X "+-(a.g.width/2-(a.g.ca+a.g.ya)|0)+"  Y "+-(a.g.height/2-(a.g.Z+a.g.wa)|0)+"  Z "+m.toFixed(2)+"  ANGLE "+a.g.angle.toFixed(0),c,b,d,f,e);m=a.hj;1>m&&(m=1/m);d=this.j(a,"Saved View","X "+-(a.g.width/2-a.ua|0)+"  Y "+-(a.g.height/2-a.ub|0)+"  Z "+m.toFixed(2)+"  ANGLE "+a.Sq.toFixed(0),c,b,d,f,e);d=this.j(a,"Origin","X "+a.g.ya.toFixed(2)+"  Y "+a.g.wa.toFixed(2)+"  Z "+a.g.Ja.toFixed(3),c,b,d,f,e);var r=a.D?
a.Ja?"Multi-State Viewer":"Viewer":a.g.D?"History Player":"Player";r=a.Ed?r+" (PopUp)":r+" (InLine)";d=this.j(a,"Type",r,c,b,d,f,e);r=a.g.ga?"Hexagonal":a.g.A?"Triangular":"Square";d=this.j(a,"Mode",r,c,b,d,f,e);r="Rectangular";a.g.ga&&!a.g.va?r="Hexagonal":a.g.A&&!a.g.va&&(r="Triangular");d=this.j(a,"Cells",r,c,b,d,f,e);d=this.j(a,"Quality",a.g.nc?"High":"Standard",c,b,d,f,e);a.bf&&(d=this.j(a,"Thumbnail","1/"+a.Eb,c,b,d,f,e));d=this.j(a,"","",c,b,d,f,e);a.u[n]=[a.o,"Pattern"];n+=1;d=this.j(a,"",
"Pattern:",c,b,d,f,e);""!==a.pi&&(d=this.j(a,"Name",a.pi,c,b,d,f,e));""!==a.Al&&(d=this.j(a,"Originator",a.Al,c,b,d,f,e));d=this.j(a,"Actual Size",a.A+" x "+a.C,c,b,d,f,e);-1!==a.Nd&&-1!==a.Md&&(d=this.j(a,"Specified",a.Nd+" x "+a.Md,c,b,d,f,e));0<a.Nc.length&&(d=this.j(a,"Pastes",a.Nc.length,c,b,d,f,e),d=this.j(a,"Paste Size",a.Ff-a.Bf+1+" x "+(a.Vf-a.Af+1)+" from ("+a.Bf+", "+a.Af+") to ("+a.Ff+", "+a.Vf+")",c,b,d,f,e),d=this.j(a,"Paste Max T",a.ge+(a.ei?" + "+y.on:""),c,b,d,f,e));0<a.Dd.length&&
(d=this.j(a,"RLEs",a.Dd.length,c,b,d,f,e));0<a.Xd.length&&(d=this.j(a,"Recipes",a.Xd.length,c,b,d,f,e));d=this.j(a,"Offset","X "+a.V+"  Y "+a.W,c,b,d,f,e);a.Zk&&(d=this.j(a,"CXRLE Gen",a.Ca,c,b,d,f,e));a.Sc&&(d=this.j(a,"CXRLE Pos","X "+a.Xf+"  Y "+a.Yf,c,b,d,f,e));a.eo&&(d=this.j(a,"Clipped",(0===a.g.M?"Inf":a.g.M)+" x "+(0===a.g.I?"Inf":a.g.I)+" "+a.S.Jb(a.g.C),c,b,d,f,e));a.Oa?r=a.U:(r=a.U,""===r&&(r="(none)"));if("MAP"===r.substring(0,3)&&89===r.length)for(d=this.j(a,"Rule","MAP",c,b,d,f,e),m=
3;89>m;)d=this.j(a,"  "+(m-3),r.substring(m,m+16),c,b,d,f,e),m+=16;else a.nc=!0,d=this.j(a,"Rule",r,c,b,d,f,e),a.nc=!1;""!==a.ta&&(d=this.j(a,"Alias",a.ta,c,b,d,f,e));a.g.v&&(d=null===a.g.Nc?this.j(a,"Type","@TREE ["+a.g.Di+"]",c,b,d,f,e):this.j(a,"Type","@TABLE ["+a.g.Ae+(0<a.g.Xf?" / "+a.g.Xf:"")+"]",c,b,d,f,e));d=this.j(a,"N'hood",a.us(),c,b,d,f,e);if(a.g.Ga)switch(a.g.P.type){case 15:m=2*a.g.P.s+1;for(g=0;g<m;g+=1)r=a.g.P.I.length>m*m?" "+a.g.P.I.substring(g*m*2,(g+1)*m*2):" "+a.g.P.I.substring(g*
m,(g+1)*m),d=this.j(a,r,"",c,b,d,f,e);break;case 10:for(m=2*a.g.P.s+1,g=0;g<m;g+=1){r=" ";for(k=0;k<m;k+=1)r+=a.g.P.al[g][k]?"1":"0";d=this.j(a,r,"",c,b,d,f,e)}}r=String(a.si);2<a.si&&a.jo!==a.si&&(r=a.jo+" of "+r);d=this.j(a,"States",r,c,b,d,f,e);if(a.ri)for(g=1;g<a.si;g+=1)a.ri[g]&&(d=this.j(a,"State "+g,a.ri[g]+"\t"+a.Ch(g),c,b,d,f,e));if(a.g.fc)if(a.i[1]=200,a.i[2]=280,a.i[3]=360,a.i[4]=440,a.g.fc[0].Br!==Oa.wu)d=this.j(a,"Icons",Oa.vE[a.g.fc[0].Br],c,b,d,f,e);else{d=this.j(a,"Icons","Size\tNumber\tColours\tGrayScale",
c,b,d,f,e);for(g=0;g<a.g.fc.length;g+=1)m=a.g.fc[g].width,r=m+"x"+m+"\t"+a.g.fc[g].height/m+"\t"+a.g.fc[g].Ay+"\t"+(a.g.fc[g].Jx?"Yes":"No"),d=this.j(a,"  Set "+g,r,c,b,d,f,e);if(a.g.Pe)for(m=a.g.fc[0].height,g=a.g.fc[0].width,k=0;k<m/g;k+=1)this.eE(a,k,g,c,b+a.i[0]*q,d,f,e),r=a.Ch(k+1),d=this.j(a,"Icon "+String(k+1),"      "+r,c,b,d,f,e)}d=this.j(a,"Decoder",a.bl,c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);if("none"!==a.hb&&"Empty"!==a.hb){a.u[n]=[a.o,"Identify"];n+=1;d=this.j(a,"","Identify:",c,b,d,
f,e);d=this.j(a,"Type",a.hb,c,b,d,f,e);d=this.j(a,"Cells",a.fi,c,b,d,f,e);"Oscillator"===a.hb&&(d=this.j(a,"ActiveCells",a.Zl,c,b,d,f,e));d=this.j(a,"BoundingBox",a.Ok,c,b,d,f,e);"Oscillator"===a.hb?(d=this.j(a,"Period",a.ii,c,b,d,f,e),d=this.j(a,"Mod",a.hi,c,b,d,f,e)):"Still Life"!==a.hb&&(d=this.j(a,"Direction",a.Rk,c,b,d,f,e),d=this.j(a,"Period",a.ii,c,b,d,f,e),d=this.j(a,"Mod",a.hi,c,b,d,f,e),d=this.j(a,"Slope",a.Uk,c,b,d,f,e),d=this.j(a,"Speed",a.ji,c,b,d,f,e));"Still Life"!==a.hb&&-1===a.g.C&&
(d=this.j(a,"Heat",a.gi,c,b,d,f,e));if("Oscillator"===a.hb)if(-1===a.g.C&&(d=this.j(a,"Temperature",a.bm,c,b,d,f,e)),""===a.Sg)d=this.j(a,"Volatility",a.Tg+" | N/A",c,b,d,f,e);else{d=this.j(a,"Volatility",a.Tg+" | "+a.Sg,c,b,d,f,e);a.i[1]=215;a.i[2]=300;a.i[3]=385;a.i[4]=425;a.i[5]=465;a.i[6]=505;a.i[7]=600;d=this.j(a,"  Period","    Count\t% Total\t% Rotor\tColour",c,b,d,f,e);for(g=a.g.Ka.length-1;0<g;--g)m=a.g.Ka[g],0<m&&(this.Na(a,a.g.yc[g]>>16,a.g.yc[g]>>8&255,a.g.yc[g]&255,c,b+a.i[0]*q,d,f,e),
k=this.mb(a.g.yc[g]>>16,a.g.yc[g]>>8&255,a.g.yc[g]&255).trim(),d=1<g?this.j(a,"  "+g,"    "+m+"\t"+(Math.floor(1E4*m/a.g.Cf)/100).toFixed(2)+"%\t"+(Math.floor(1E4*m/a.g.dh)/100).toFixed(2)+"%\t"+k,c,b,d,f,e):this.j(a,"  "+g,"    "+m+"\t"+(Math.floor(1E4*m/a.g.Cf)/100).toFixed(2)+"%\t\t"+k,c,b,d,f,e));a.g.lc&&(this.Na(a,96,96,96,c,b+a.i[0]*q,d,f,e),d=this.j(a,"  State6","    "+a.g.lc+"\t\t\t"+this.mb(96,96,96).trim(),c,b,d,f,e));this.Na(a,0,0,0,c,b+a.i[0]*q,d,f,e);d=this.j(a,"  Back","\t\t\t"+this.mb(0,
0,0).trim(),c,b,d,f,e);-1!==a.g.C&&(this.Na(a,128,128,128,c,b+a.i[0]*q,d,f,e),d=this.j(a,"  Bounded","\t\t\t"+this.mb(128,128,128).trim(),c,b,d,f,e));this.Na(a,80,80,80,c,b+a.i[0]*q,d,f,e);d=this.j(a,"  Grid","\t\t\t"+this.mb(80,80,80).trim(),c,b,d,f,e)}"Still Life"===a.hb&&(d=this.j(a,"Density",a.$l,c,b,d,f,e));d=this.j(a,"Generation",a.am,c,b,d,f,e);d=this.j(a,"Time","Period: "+a.g.gi.toFixed(1)+" seconds   Total: "+a.g.hi.toFixed(1)+" seconds",c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e)}a.u[n]=[a.o,
"Grid"];n+=1;d=this.j(a,"","Grid:",c,b,d,f,e);d=this.j(a,"Size",a.g.width+" x "+a.g.height,c,b,d,f,e);d=this.j(a,"Maximum",a.g.L+" x "+a.g.L,c,b,d,f,e);d=this.j(a,"Area",this.EB(a),c,b,d,f,e);d=0!==(a.g.counter&1)?this.j(a,"Tiles",a.g.Qd(a.g.aa)+" ["+a.g.Qd(a.g.qb)+"] / "+a.g.Qd(a.g.fa)+" / "+a.g.Qd(a.g.Y),c,b,d,f,e):this.j(a,"Tiles",a.g.Qd(a.g.X)+" ["+a.g.Qd(a.g.qb)+"] / "+a.g.Qd(a.g.fa)+" / "+a.g.Qd(a.g.Y),c,b,d,f,e);a.g.bc&&(d=this.j(a,"State6",a.g.Qd(a.g.bc),c,b,d,f,e));d=this.j(a,"Tile Size",
"16 x 16",c,b,d,f,e);d=this.j(a,"Generation",a.g.counter,c,b,d,f,e);0!==a.Ca&&(d=this.j(a,"AbsoluteGen",a.g.counter+a.Ca,c,b,d,f,e));a.g.T&&(d=this.j(a,"MargolusGen",a.g.gb+a.Ca,c,b,d,f,e));a.g.i&&(d=this.j(a,"PCAGen",a.g.gb+a.Ca,c,b,d,f,e));(a.g.T||a.g.i)&&a.g.Ua&&(k=a.g.xb,a.g.Ya&&(k=!k),d=this.j(a,"Direction",k?"Reverse":"Forward",c,b,d,f,e));d=this.j(a,"DeleteRange",a.g.kf,c,b,d,f,e);a.g.Tc&&(d=this.j(a,"KillGliders",a.g.Af,c,b,d,f,e));d=this.j(a,"","",c,b,d,f,e);-1!==a.g.C&&(a.u[n]=[a.o,"Bounded"],
n+=1,d=this.j(a,"","Bounded grid:",c,b,d,f,e),d=this.j(a,"Type",a.S.Jb(a.g.C),c,b,d,f,e),d=0===a.g.M?this.j(a,"Width","Infinite",c,b,d,f,e):this.j(a,"Width",a.g.M,c,b,d,f,e),4!==a.g.C?(d=0===a.g.I?this.j(a,"Height","Infinite",c,b,d,f,e):this.j(a,"Height",a.g.I,c,b,d,f,e),2===a.g.C&&(d=a.g.Of?this.j(a,"Twist","Horizontal",c,b,d,f,e):this.j(a,"Twist","Vertical",c,b,d,f,e)),0!==a.g.Ad&&(d=this.j(a,"H'Shift",a.g.Ad,c,b,d,f,e)),0!==a.g.Cd&&(d=this.j(a,"V'Shift",a.g.Cd,c,b,d,f,e))):d=a.g.Pf?this.j(a,"Axis",
"Top Left",c,b,d,f,e):this.j(a,"Axis","Top Right",c,b,d,f,e),d=this.j(a,"","",c,b,d,f,e));a.u[n]=[a.o,"AutoFit"];n+=1;d=this.j(a,"","AutoFit:",c,b,d,f,e);d=this.j(a,"Enabled",a.ja?"On":"Off",c,b,d,f,e);d=this.j(a,"Mode",this.HB(a),c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);a.u[n]=[a.o,"Track"];n+=1;d=this.j(a,"","Track:",c,b,d,f,e);d=this.j(a,"Enabled",a.gb&&!a.xb?"On":"Off",c,b,d,f,e);a.gb&&(a.hh?(d=this.j(a,"Mode","Track Box",c,b,d,f,e),d=this.j(a,"Definition","E "+a.mg.toFixed(3)+"  S "+a.ng.toFixed(3)+
"  W "+a.jh.toFixed(3)+"  N "+a.ih.toFixed(3),c,b,d,f,e)):(d=this.j(a,"Mode","Track",c,b,d,f,e),d=this.j(a,"Definition","X "+a.mg.toFixed(3)+"  Y "+a.ng.toFixed(3),c,b,d,f,e)));d=this.j(a,"Current","E "+a.ym.toFixed(3)+"  S "+a.Fm.toFixed(3)+"  W "+a.Hm.toFixed(3)+"  N "+a.Bm.toFixed(3),c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);a.u[n]=[a.o,"Undo/Redo"];n+=1;d=this.j(a,"","Undo/Redo:",c,b,d,f,e);d=this.j(a,"Enabled",a.vc?"Off":"On",c,b,d,f,e);if(!a.vc)for(d=this.j(a,"Snapshots",a.g.rc.Y()+"/"+a.g.rc.i.length,
c,b,d,f,e),d=this.j(a,"Buffer",(a.g.rc.U()>>10)+"K",c,b,d,f,e),d=this.j(a,"Next Gen",a.g.Fe,c,b,d,f,e),d=this.j(a,"Undo",a.ia,c,b,d,f,e),d=this.j(a,"Redo",a.Wg-a.ia,c,b,d,f,e),g=0;9>=g;g+=1)null!==a.Hb[g]&&(d=this.j(a,"Clip "+g+(g===a.ac?"*":""),a.Hb[g].width+" x "+a.Hb[g].height,c,b,d,f,e));d=this.j(a,"","",c,b,d,f,e);a.u[n]=[a.o,"Engine"];n+=1;d=this.j(a,"","Engine:",c,b,d,f,e);d=this.j(a,"Name",B.pn,c,b,d,f,e);d=this.j(a,"Build",B.Zp,c,b,d,f,e);d=this.j(a,"Author",B.zz,c,b,d,f,e);d=this.j(a,"Decoders",
"RLE, Life 1.06, Life 1.05, Cells",c,b,d,f,e);d=this.j(a,"N'hoods","Moore, Hexagonal, von Neumann, Triangular, 1D,",c,b,d,f,e);d=this.j(a," ","Circular, Cross, L2, Saltire, Star, Checkerboard,",c,b,d,f,e);d=this.j(a," ","Aligned Checkerboard, Hash, Tripod, Asterisk,",c,b,d,f,e);d=this.j(a," ","Far Corners/Edges, Custom (CoordCA),",c,b,d,f,e);d=this.j(a," ","Gaussian and Weighted",c,b,d,f,e);d=this.j(a,"Rules","Wolfram, Totalistic, Generations, Margolus,",c,b,d,f,e);d=this.j(a," ","Isotropic Non-Totalistic (Hensel, Callahan),",
c,b,d,f,e);d=this.j(a," ","Alternating, MAP, Larger than Life (LtL),",c,b,d,f,e);d=this.j(a," ","Higher-range outer-totalistic (HROT),",c,b,d,f,e);d=this.j(a," ","Partitioned cellular automata (PCA),",c,b,d,f,e);d=this.j(a," ","[R]History, [R]Super and Non-Deterministic",c,b,d,f,e);d=this.j(a,"Repository","RuleTable (@TABLE, @TREE, @COLORS and",c,b,d,f,e);d=this.j(a," ","@NAMES)",c,b,d,f,e);d=this.j(a,"BoundedGrid","Plane, Torus, Klein, Cross-surface and Sphere",c,b,d,f,e);d=this.j(a,"Viewers",l,
c,b,d,f,e);d=this.j(a,"Playing",Ka.aF(),c,b,d,f,e);if(Ja.pb){m=Ka.le.length;d=this.j(a,"Universe","Multi ("+(a.za+1)+" of "+m+")",c,b,d,f,e);a.nc=!0;for(g=0;g<m;g+=1)d=this.j(a,String(g+1)+(g===a.za?"*":""),Ka.le[g].name,c,b,d,f,e),d=this.j(a," ",Ka.le[g].pE,c,b,d,f,e),d=this.j(a," ",Ka.le[g].width+" x "+Ka.le[g].height,c,b,d,f,e);a.nc=!1}else d=this.j(a,"Universe","Single",c,b,d,f,e);d=this.j(a,"Exclusive",a.an?"Yes":"No",c,b,d,f,e);d=this.j(a,"IgnorePause",a.wn?"Yes":"No",c,b,d,f,e);d=this.j(a,
"Endian",Ta.pc?"Little":"Big",c,b,d,f,e);d=this.j(a,"ArrayFill",Ta.kr?"Yes":"No",c,b,d,f,e);d=this.j(a,"ArraySlice",Ta.lr?"Yes":"No",c,b,d,f,e);d=this.j(a,"CopyWithin",Ta.copyWithin?"Yes":"No",c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);a.i[1]=300;a.i[2]=380;a.i[3]=460;a.u[n]=[a.o,"Rule Cache"];n+=1;d=this.j(a,"","Rule Cache:",c,b,d,f,e);d=this.j(a,"Entries",bb.rules.length,c,b,d,f,e);if(0<bb.rules.length)for(d=this.j(a,"Entry","Name\tSize Kb\tFetch\tDecode",c,b,d,f,e),g=0;g<bb.rules.length;g+=1)r=bb.rules[g].name,
17<r.length&&(r=r.substring(0,17)+"*"),d=this.j(a,String(g),r+"\t"+(bb.fp[g].size>>10)+"\t"+bb.fp[g].fetch+"ms\t"+bb.fp[g].decode+"ms",c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);a.i[1]=210;a.i[2]=270;a.i[3]=330;a.g.v||a.g.o||a.g.ea||(a.u[n]=[a.o,"Theme"],n+=1,d=this.j(a,"","Theme:",c,b,d,f,e),d=this.j(a,"Name",a.g.na[a.g.Eb].name,c,b,d,f,e),d=this.j(a,"History",a.wa,c,b,d,f,e),2>=a.g.h&&(d=this.j(a,"Age",a.Eg,c,b,d,f,e)),d=this.j(a,"","",c,b,d,f,e));a.u[n]=[a.o,"Cells"];n+=1;d=this.j(a,"","Cells:",c,
b,d,f,e);this.Na(a,a.g.la[0],a.g.ka[0],a.g.ja[0],c,b+a.i[0]*q,d,f,e);d=this.j(a,"Background",this.mb(a.g.la[0],a.g.ka[0],a.g.ja[0]),c,b,d,f,e);if(a.g.ea||a.g.v)for(g=1;g<a.g.h;g+=1)this.Na(a,a.g.la[g],a.g.ka[g],a.g.ja[g],c,b+a.i[0]*q,d,f,e),d=this.j(a,"State "+g,this.mb(a.g.la[g],a.g.ka[g],a.g.ja[g]),c,b,d,f,e);else if(a.g.i){for(g=1;16>g;g+=1)k=g+a.wa,this.Na(a,a.g.la[k],a.g.ka[k],a.g.ja[k],c,b+a.i[0]*q,d,f,e),r="",g&1&&(r+="N"),g&2&&(r+="E"),g&4&&(r+="S"),g&8&&(r+="W"),d=this.j(a,r,this.mb(a.g.la[k],
a.g.ka[k],a.g.ja[k]),c,b,d,f,e);0<a.wa&&(k=a.wa,this.Na(a,a.g.la[k],a.g.ka[k],a.g.ja[k],c,b+a.i[0]*q,d,f,e),d=this.j(a,"Dead",this.mb(a.g.la[k],a.g.ka[k],a.g.ja[k]),c,b,d,f,e),1<a.wa&&(k=1,p.h.h.h!==p.h.i.h||p.h.h.l!==p.h.i.l||p.h.h.i!==p.h.i.i?(this.Na(a,a.g.la[k],a.g.ka[k],a.g.ja[k],c,b+a.i[0]*q,d,f,e),d=this.j(a,"DeadRamp",this.mb(a.g.la[k],a.g.ka[k],a.g.ja[k]),c,b,d,f,e)):d=this.j(a,"DeadRamp","    (none)",c,b,d,f,e)))}else if(2<a.g.h)if(a.g.o)for(g=1;g<a.g.h;g+=1)this.Na(a,a.g.la[g],a.g.ka[g],
a.g.ja[g],c,b+a.i[0]*q,d,f,e),d=this.j(a,this.NE(g),this.mb(a.g.la[g],a.g.ka[g],a.g.ja[g]),c,b,d,f,e);else{k=a.g.h+a.wa-1;this.Na(a,a.g.la[k],a.g.ka[k],a.g.ja[k],c,b+a.i[0]*q,d,f,e);d=this.j(a,"Alive",this.mb(a.g.la[k],a.g.ka[k],a.g.ja[k]),c,b,d,f,e);for(g=1;g<a.g.h-1;g+=1)k=a.g.h-g+a.wa-1,this.Na(a,a.g.la[k],a.g.ka[k],a.g.ja[k],c,b+a.i[0]*q,d,f,e),d=this.j(a,"Dying "+g,this.mb(a.g.la[k],a.g.ka[k],a.g.ja[k]),c,b,d,f,e);0<a.wa&&(k=a.wa,this.Na(a,a.g.la[k],a.g.ka[k],a.g.ja[k],c,b+a.i[0]*q,d,f,e),d=
this.j(a,"Dead",this.mb(a.g.la[k],a.g.ka[k],a.g.ja[k]),c,b,d,f,e),1<a.wa&&(k=1,p.h.h.h!==p.h.i.h||p.h.h.l!==p.h.i.l||p.h.h.i!==p.h.i.i?(this.Na(a,a.g.la[k],a.g.ka[k],a.g.ja[k],c,b+a.i[0]*q,d,f,e),d=this.j(a,"DeadRamp",this.mb(a.g.la[k],a.g.ka[k],a.g.ja[k]),c,b,d,f,e)):d=this.j(a,"DeadRamp","    (none)",c,b,d,f,e)))}else this.Na(a,p.i.h.h,p.i.h.l,p.i.h.i,c,b+a.i[0]*q,d,f,e),d=this.j(a,"Alive",this.me(p.i.h),c,b,d,f,e),p.i.h.h!==p.i.i.h||p.i.h.l!==p.i.i.l||p.i.h.i!==p.i.i.i?(this.Na(a,p.i.i.h,p.i.i.l,
p.i.i.i,c,b+a.i[0]*q,d,f,e),d=this.j(a,"AliveRamp",this.me(p.i.i),c,b,d,f,e)):d=this.j(a,"AliveRamp","    (none)",c,b,d,f,e),0<a.wa&&(this.Na(a,p.h.i.h,p.h.i.l,p.h.i.i,c,b+a.i[0]*q,d,f,e),d=this.j(a,"Dead",this.me(p.h.i),c,b,d,f,e),1<a.wa&&(p.h.h.h!==p.h.i.h||p.h.h.l!==p.h.i.l||p.h.h.i!==p.h.i.i?(this.Na(a,p.h.h.h,p.h.h.l,p.h.h.i,c,b+a.i[0]*q,d,f,e),d=this.j(a,"DeadRamp",this.me(p.h.h),c,b,d,f,e)):d=this.j(a,"DeadRamp","    (none)",c,b,d,f,e)));if(a.g.D)for(g=3;6>=g;g+=1)m=128+B.nb[g],k=this.mb(a.g.la[m],
a.g.ka[m],a.g.ja[m]),r=B.wg[g],this.Na(a,a.g.la[m],a.g.ka[m],a.g.ja[m],c,b+a.i[0]*q,d,f,e),d=this.j(a,r,k,c,b,d,f,e);-1!==a.g.C&&(256>a.g.h+a.g.s?(this.Na(a,a.pf[0],a.pf[1],a.pf[2],c,b+a.i[0]*q,d,f,e),d=this.j(a,"Bounded",this.mb(a.pf[0],a.pf[1],a.pf[2]),c,b,d,f,e)):(this.Na(a,a.g.la[2],a.g.ka[2],a.g.ja[2],c,b+a.i[0]*q,d,f,e),d=this.j(a,"Bounded*",this.mb(a.g.la[2],a.g.ka[2],a.g.ja[2]),c,b,d,f,e)));this.Na(a,a.nf[0],a.nf[1],a.nf[2],c,b+a.i[0]*q,d,f,e);d=this.j(a,"Boundary",this.mb(a.nf[0],a.nf[1],
a.nf[2]),c,b,d,f,e);d=this.j(a,"Borders",a.g.Ra?"On":"Off",c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);a.u[n]=[a.o,"Gridlines"];n+=1;d=this.j(a,"","Gridlines:",c,b,d,f,e);r=a.g.Ba?"On":"Off";a.g.Ba&&!a.g.xc()&&(r+=" (Hidden)");d=this.j(a,"Enabled",r,c,b,d,f,e);this.Na(a,a.g.eb>>16,a.g.eb>>8&255,a.g.eb&255,c,b+a.i[0]*q,d,f,e);d=this.j(a,"Line Color",this.mb(a.g.eb>>16,a.g.eb>>8&255,a.g.eb&255),c,b,d,f,e);this.Na(a,a.g.Wb>>16,a.g.Wb>>8&255,a.g.Wb&255,c,b+a.i[0]*q,d,f,e);d=this.j(a,"Major Color",this.mb(a.g.Wb>>
16,a.g.Wb>>8&255,a.g.Wb&255),c,b,d,f,e);r=0<a.g.Fb&&a.g.nd?String(a.g.Fb):"Off";d=this.j(a,"Interval",r,c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);a.u[n]=[a.o,"UI"];d=this.j(a,"","UI:",c,b,d,f,e);n+=1;m=a.na[B.Co];-1===m&&(m=16777215);this.Na(a,m>>16,m>>8&255,m&255,c,b+a.i[0]*q,d,f,e);d=this.j(a,"Foreground",this.mb(m>>16,m>>8&255,m&255),c,b,d,f,e);m=a.na[B.Ao];-1===m&&(m=0);this.Na(a,m>>16,m>>8&255,m&255,c,b+a.i[0]*q,d,f,e);d=this.j(a,"Background",this.mb(m>>16,m>>8&255,m&255),c,b,d,f,e);m=a.na[B.Do];
-1===m&&(m=61472);this.Na(a,m>>16,m>>8&255,m&255,c,b+a.i[0]*q,d,f,e);d=this.j(a,"Highlight",this.mb(m>>16,m>>8&255,m&255),c,b,d,f,e);m=a.na[B.Fo];-1===m&&(m=255);this.Na(a,m>>16,m>>8&255,m&255,c,b+a.i[0]*q,d,f,e);d=this.j(a,"Selected",this.mb(m>>16,m>>8&255,m&255),c,b,d,f,e);m=a.na[B.Eo];-1===m&&(m=8421504);this.Na(a,m>>16,m>>8&255,m&255,c,b+a.i[0]*q,d,f,e);d=this.j(a,"Locked",this.mb(m>>16,m>>8&255,m&255),c,b,d,f,e);m=a.na[B.Bo];-1===m&&(m=16777215);this.Na(a,m>>16,m>>8&255,m&255,c,b+a.i[0]*q,d,
f,e);d=this.j(a,"Border",this.mb(m>>16,m>>8&255,m&255),c,b,d,f,e);a.Ic?(this.Na(a,a.Ic[0],a.Ic[1],a.Ic[2],c,b+a.i[0]*q,d,f,e),d=this.j(a,"Text*",this.mb(a.Ic[0],a.Ic[1],a.Ic[2]),c,b,d,f,e)):(this.Na(a,255,255,255,c,b+a.i[0]*q,d,f,e),d=this.j(a,"Text",this.mb(255,255,255),c,b,d,f,e));a.Mc?(this.Na(a,a.Mc[0],a.Mc[1],a.Mc[2],c,b+a.i[0]*q,d,f,e),d=this.j(a,"Error*",this.mb(a.Mc[0],a.Mc[1],a.Mc[2]),c,b,d,f,e)):(this.Na(a,255,48,48,c,b+a.i[0]*q,d,f,e),d=this.j(a,"Error",this.mb(255,96,96),c,b,d,f,e));a.Ae?
(this.Na(a,a.Ae[0],a.Ae[1],a.Ae[2],c,b+a.i[0]*q,d,f,e),d=this.j(a,"Help*",this.mb(a.Ae[0],a.Ae[1],a.Ae[2]),c,b,d,f,e)):(this.Na(a,32,255,255,c,b+a.i[0]*q,d,f,e),d=this.j(a,"Help",this.mb(32,255,255),c,b,d,f,e));d=this.j(a,"","",c,b,d,f,e);a.u[n]=[a.o,"Selection"];n+=1;d=this.j(a,"","Selection Boxes:",c,b,d,f,e);this.Na(a,a.Mf[0],a.Mf[1],a.Mf[2],c,b+a.i[0]*q,d,f,e);d=this.j(a,"Selection",this.mb(a.Mf[0],a.Mf[1],a.Mf[2]),c,b,d,f,e);this.Na(a,a.Jf[0],a.Jf[1],a.Jf[2],c,b+a.i[0]*q,d,f,e);d=this.j(a,"Paste Box",
this.mb(a.Jf[0],a.Jf[1],a.Jf[2]),c,b,d,f,e);this.Na(a,a.Nf[0],a.Nf[1],a.Nf[2],c,b+a.i[0]*q,d,f,e);d=this.j(a,"Paste Cell",this.mb(a.Nf[0],a.Nf[1],a.Nf[2]),c,b,d,f,e);this.Na(a,a.mf[0],a.mf[1],a.mf[2],c,b+a.i[0]*q,d,f,e);d=this.j(a,"Advance",this.mb(a.mf[0],a.mf[1],a.mf[2]),c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);a.u[n]=[a.o,"Graph"];n+=1;d=this.j(a,"","Population Graph:",c,b,d,f,e);d=this.j(a,"Enabled",a.ya?"On":"Off",c,b,d,f,e);d=this.j(a,"Disabled",a.Gb?"On":"Off",c,b,d,f,e);d=this.j(a,"Mode",a.wc?
"Lines":"Points",c,b,d,f,e);-1===a.g.C?(l="",a.Ih&&(l="Population"),a.Dh&&(l=""===l?"Births":l+", Births"),a.Hh&&(l=""===l?"Deaths":l+", Deaths"),""===l&&(l="<none>")):l="Population";d=this.j(a,"Data",l,c,b,d,f,e);d=this.j(a,"Opacity",a.Ka.toFixed(2),c,b,d,f,e);this.Na(a,a.g.Wc[0],a.g.Wc[1],a.g.Wc[2],c,b+a.i[0]*q,d,f,e);d=this.j(a,"Bg Color",this.mb(a.g.Wc[0],a.g.Wc[1],a.g.Wc[2]),c,b,d,f,e);this.Na(a,a.g.Vc[0],a.g.Vc[1],a.g.Vc[2],c,b+a.i[0]*q,d,f,e);d=this.j(a,"Axis Color",this.mb(a.g.Vc[0],a.g.Vc[1],
a.g.Vc[2]),c,b,d,f,e);this.Na(a,a.g.Uc[0],a.g.Uc[1],a.g.Uc[2],c,b+a.i[0]*q,d,f,e);d=this.j(a,"Alive Color",this.mb(a.g.Uc[0],a.g.Uc[1],a.g.Uc[2]),c,b,d,f,e);this.Na(a,a.g.Xc[0],a.g.Xc[1],a.g.Xc[2],c,b+a.i[0]*q,d,f,e);d=this.j(a,"Birth Color",this.mb(a.g.Xc[0],a.g.Xc[1],a.g.Xc[2]),c,b,d,f,e);this.Na(a,a.g.Yc[0],a.g.Yc[1],a.g.Yc[2],c,b+a.i[0]*q,d,f,e);d=this.j(a,"Death Color",this.mb(a.g.Yc[0],a.g.Yc[1],a.g.Yc[2]),c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);a.u[n]=[a.o,"Stars"];n+=1;d=this.j(a,"","Stars:",
c,b,d,f,e);d=this.j(a,"Enabled",a.kd?"On":"Off",c,b,d,f,e);this.Na(a,a.Fd.h.h,a.Fd.h.l,a.Fd.h.i,c,b+a.i[0]*q,d,f,e);d=this.j(a,"Color",this.me(a.Fd.h),c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);a.u[n]=[a.o,"Randomize"];n+=1;d=this.j(a,"","Randomize:",c,b,d,f,e);d=this.j(a,"Pattern",a.Uj?"On":"Off",c,b,d,f,e);d=this.j(a,"States",a.Qj?"2":"All",c,b,d,f,e);d=this.j(a,"Custom Seed",a.Eq?"On":"Off",c,b,d,f,e);d=this.j(a,"Seed",a.xi,c,b,d,f,e);d=this.j(a,"Width",a.uo,c,b,d,f,e);d=this.j(a,"Height",a.oo,c,b,
d,f,e);d=this.j(a,"Fill",a.wi+"%",c,b,d,f,e);d=this.j(a,"Rule Fixed",a.Oj?"Yes":"No",c,b,d,f,e);if(!a.Oj)if(a.g.T||a.g.i)d=this.j(a,"Reversible",a.Xn?"Only":"Any",c,b,d,f,e),d=this.j(a,"FixedPop",a.po?"Yes":"No",c,b,d,f,e);else if(!a.g.Ga&&-1===a.g.vd){if(-1===a.Ve&&-1===a.Zf){d=this.j(a,"Chance ALL"+(-1===a.Ue?"*":""),-1===a.Ue?"50%":a.Ue+"%",c,b,d,f,e);k=!1;for(g=0;g<a.Pc.length;g+=2)0===a.Pc[g]&&(k=!0);k||(d=this.j(a,"Chance B0*","25%",c,b,d,f,e))}else d=this.j(a,"Chance B"+(-1===a.Ve?"*":""),
-1===a.Ve?"50%":a.Ve+"%",c,b,d,f,e),d=this.j(a,"Chance S"+(-1===a.Zf?"*":""),-1===a.Zf?"50%":a.Zf+"%",c,b,d,f,e);for(g=0;g<a.Pc.length;g+=2)d=this.j(a,"Chance B"+a.Pc[g],a.Pc[g+1]+"%",c,b,d,f,e);for(g=0;g<a.Cd.length;g+=2)d=this.j(a,"Chance S"+a.Cd[g],a.Cd[g+1]+"%",c,b,d,f,e)}d=this.j(a,"","",c,b,d,f,e);a.u[n]=[a.o,"Script"];n+=1;d=this.j(a,"","Script:",c,b,d,f,e);d=this.j(a,"Commands",a.Xg,c,b,d,f,e);d=this.j(a,"Errors",a.qq,c,b,d,f,e);if(a.qa)for(d=this.j(a,"","",c,b,d,f,e),a.u[n]=[a.o,"Waypoints"],
n+=1,d=this.j(a,"","Waypoints:",c,b,d,f,e),d=this.j(a,"Enabled",a.ib?"Off":"On",c,b,d,f,e),d=this.j(a,"Number",a.l.h.length,c,b,d,f,e),g=0;g<a.l.h.length;g+=1)r=String(g),g===a.l.u&&(r=a.l.W(a.ra)?r+">":r+"*"),d=this.j(a,r,a.l.ab(g,y.pd),c,b,d,f,e);if(a.l.i.length)for(d=this.j(a,"","",c,b,d,f,e),a.u[n]=[a.o,"POIs"],d=this.j(a,"","Points of interest:",c,b,d,f,e),d=this.j(a,"Number",a.l.i.length,c,b,d,f,e),g=0;g<a.l.i.length;g+=1)r=String(g+1),g===a.qc&&(r+="*"),g===a.zh&&(r+=" INITIAL"),k=!1,l=a.l.Fa(g),
""!==l&&(d=this.j(a,k?" ":r,(k?"  ":"")+l,c,b,d,f,e),k=!0),l=a.l.Ka(g),""!==l&&(d=this.j(a,k?" ":r,(k?"  ":"")+l,c,b,d,f,e),k=!0),l=a.l.Ha(g),""!==l&&(d=this.j(a,k?" ":r,(k?"  ":"")+l,c,b,d,f,e),k=!0),l=a.l.Ea(g),""!==l&&(d=this.j(a,k?" ":r,(k?"  ":"")+l,c,b,d,f,e),k=!0),l=a.l.Ja(g),""!==l&&(d=this.j(a,k?" ":r,(k?"  ":"")+l,c,b,d,f,e),k=!0),l=a.l.Ia(g,y.pd),""!==l&&(d=this.j(a,k?" ":r,(k?"  ":"")+l,c,b,d,f,e))},jE:function(a,c,b,d,f,e){var g,k,l=0,p=a.h.s;a.o=1;a.nc=!1;a.u=[];a.i[0]=130;a.i[1]=200;
a.i[2]=250;a.i[3]=300;a.i[4]=390;a.u[l]=[a.o,"Top"];l+=1;d=this.j(a,"","Themes",c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);d=this.j(a,"","Themes are used to provide a visual representation of",c,b,d,f,e);d=this.j(a,"","cell history and longevity and also define grid colours",c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);d=this.j(a,"","Grid:",c,b,d,f,e);d=this.j(a,"GRID","grid line colour",c,b,d,f,e);d=this.j(a,"GRIDMAJOR","major grid line colour and interval",c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);if(2>=a.g.h)for(d=
this.j(a,"","Two-state Themes:",c,b,d,f,e),d=this.j(a,"BACKGROUND","cell never occupied",c,b,d,f,e),d=this.j(a,"ALIVE","cell just born",c,b,d,f,e),d=this.j(a,"ALIVERAMP","cell alive for several generations",c,b,d,f,e),d=this.j(a,"DEAD","cell just died",c,b,d,f,e),d=this.j(a,"DEADRAMP","cell dead for several generations",c,b,d,f,e),d=this.j(a,"","",c,b,d,f,e),d=this.j(a,"",a.Eg+" ("+y.kn+") states from ALIVE to ALIVERAMP",c,b,d,f,e),d=this.j(a,"",a.wa+" ("+y.tm+") states from DEAD to DEADRAMP",c,b,
d,f,e),g=0;g<a.g.na.length-1;g+=1){d=this.j(a,"","",c,b,d,f,e);var n=a.g.na[g];a.u[l]=[a.o,n.name];l+=1;d=this.j(a,"Name"+(g===a.g.Eb&&2>=a.g.h?"*":""),n.name,c,b,d,f,e);this.Na(a,n.u.h,n.u.l,n.u.i,c,b+a.i[0]*p,d,f,e);d=this.j(a,"BACKGROUND",this.me(n.u),c,b,d,f,e);this.Na(a,n.i.h.h,n.i.h.l,n.i.h.i,c,b+a.i[0]*p,d,f,e);d=this.j(a,"ALIVE",this.me(n.i.h),c,b,d,f,e);if(n.i.h.h!==n.i.i.h||n.i.h.l!==n.i.i.l||n.i.h.i!==n.i.i.i)this.Na(a,n.i.i.h,n.i.i.l,n.i.i.i,c,b+a.i[0]*p,d,f,e),d=this.j(a,"ALIVERAMP",
this.me(n.i.i),c,b,d,f,e);this.Na(a,n.h.i.h,n.h.i.l,n.h.i.i,c,b+a.i[0]*p,d,f,e);d=this.j(a,"DEAD",this.me(n.h.i),c,b,d,f,e);if(n.h.h.h!==n.h.i.h||n.h.h.l!==n.h.i.l||n.h.h.i!==n.h.i.i)this.Na(a,n.h.h.h,n.h.h.l,n.h.h.i,c,b+a.i[0]*p,d,f,e),d=this.j(a,"DEADRAMP",this.me(n.h.h),c,b,d,f,e);this.Na(a,n.o>>16,n.o>>8&255,n.o&255,c,b+a.i[0]*p,d,f,e);d=this.j(a,"GRID",this.mb(n.o>>16,n.o>>8&255,n.o&255),c,b,d,f,e);0<n.A&&(this.Na(a,n.s>>16,n.s>>8&255,n.s&255,c,b+a.i[0]*p,d,f,e),d=this.j(a,"GRIDMAJOR",this.mb(n.s>>
16,n.s>>8&255,n.s&255),c,b,d,f,e));d=a.g.T&&0<n.A?this.j(a,"GRIDMAJOR",2,c,b,d,f,e):this.j(a,"GRIDMAJOR",n.A,c,b,d,f,e)}else if(a.g.i)for(d=this.j(a,"","PCA Themes:",c,b,d,f,e),d=this.j(a,"BACKGROUND","cell never occupied",c,b,d,f,e),d=this.j(a,"DEAD","cell just died",c,b,d,f,e),d=this.j(a,"DEADRAMP","cell dead for several generations",c,b,d,f,e),d=this.j(a,"","",c,b,d,f,e),d=this.j(a,"",a.wa+" ("+y.tm+") states from DEAD to DEADRAMP",c,b,d,f,e),g=0;g<a.g.na.length-1;g+=1){d=this.j(a,"","",c,b,d,
f,e);n=a.g.na[g];a.u[l]=[a.o,n.name];l+=1;d=this.j(a,"Name"+(g===a.g.Eb?"*":""),n.name,c,b,d,f,e);this.Na(a,n.u.h,n.u.l,n.u.i,c,b+a.i[0]*p,d,f,e);d=this.j(a,"BACKGROUND",this.me(n.u),c,b,d,f,e);for(k=1;16>k;k+=1){this.Na(a,n.C[k-1].h,n.C[k-1].l,n.C[k-1].i,c,b+a.i[0]*p,d,f,e);var q="";k&1&&(q+="N");k&2&&(q+="E");k&4&&(q+="S");k&8&&(q+="W");d=this.j(a,q,this.mb(n.C[k-1].h,n.C[k-1].l,n.C[k-1].i),c,b,d,f,e)}this.Na(a,n.l.i.h,n.l.i.l,n.l.i.i,c,b+a.i[0]*p,d,f,e);d=this.j(a,"DEAD",this.me(n.l.i),c,b,d,f,
e);if(n.l.h.h!==n.l.i.h||n.l.h.l!==n.l.i.l||n.l.h.i!==n.l.i.i)this.Na(a,n.l.h.h,n.l.h.l,n.l.h.i,c,b+a.i[0]*p,d,f,e),d=this.j(a,"DEADRAMP",this.me(n.l.h),c,b,d,f,e);this.Na(a,n.o>>16,n.o>>8&255,n.o&255,c,b+a.i[0]*p,d,f,e);d=this.j(a,"GRID",this.mb(n.o>>16,n.o>>8&255,n.o&255),c,b,d,f,e);0<n.A&&(this.Na(a,n.s>>16,n.s>>8&255,n.s&255,c,b+a.i[0]*p,d,f,e),d=this.j(a,"GRIDMAJOR",this.mb(n.s>>16,n.s>>8&255,n.s&255),c,b,d,f,e));d=this.j(a,"GRIDMAJOR",n.A,c,b,d,f,e)}else for(d=this.j(a,"","Multi-state Themes:",
c,b,d,f,e),d=this.j(a,"BACKGROUND","cell never occupied",c,b,d,f,e),d=this.j(a,"ALIVE","cell alive",c,b,d,f,e),d=this.j(a,"DYING","cell just starting dying",c,b,d,f,e),d=this.j(a,"DYINGRAMP","cell about to die",c,b,d,f,e),d=this.j(a,"DEAD","cell just died",c,b,d,f,e),d=this.j(a,"DEADRAMP","cell dead for several generations",c,b,d,f,e),d=this.j(a,"","",c,b,d,f,e),d=this.j(a,"","Rule defines "+(2>a.g.h?"":String(a.g.h-1)+" ")+"states from DYING to DYINGRAMP",c,b,d,f,e),d=this.j(a,"",a.wa+" (HISTORYSTATES) states from DEAD to DEADRAMP",
c,b,d,f,e),g=0;g<a.g.na.length-1;g+=1){d=this.j(a,"","",c,b,d,f,e);n=a.g.na[g];a.u[l]=[a.o,n.name];l+=1;d=this.j(a,"Name"+(g===a.g.Eb&&2<a.g.h?"*":""),n.name,c,b,d,f,e);this.Na(a,n.D.h,n.D.l,n.D.i,c,b+a.i[0]*p,d,f,e);d=this.j(a,"BACKGROUND",this.me(n.D),c,b,d,f,e);this.Na(a,n.v.h,n.v.l,n.v.i,c,b+a.i[0]*p,d,f,e);d=this.j(a,"ALIVE",this.me(n.v),c,b,d,f,e);3===a.g.h?(this.Na(a,n.m.h.h,n.m.h.l,n.m.h.i,c,b+a.i[0]*p,d,f,e),d=this.j(a,"DYING",this.me(n.m.h),c,b,d,f,e)):(this.Na(a,n.m.i.h,n.m.i.l,n.m.i.i,
c,b+a.i[0]*p,d,f,e),d=this.j(a,"DYING",this.me(n.m.i),c,b,d,f,e),3<a.g.h&&(n.m.h.h!==n.m.i.h||n.m.h.l!==n.m.i.l||n.m.h.i!==n.m.i.i)&&(this.Na(a,n.m.h.h,n.m.h.l,n.m.h.i,c,b+a.i[0]*p,d,f,e),d=this.j(a,"DYINGRAMP",this.me(n.m.h),c,b,d,f,e)));this.Na(a,n.l.i.h,n.l.i.l,n.l.i.i,c,b+a.i[0]*p,d,f,e);d=this.j(a,"DEAD",this.me(n.l.i),c,b,d,f,e);if(n.l.h.h!==n.l.i.h||n.l.h.l!==n.l.i.l||n.l.h.i!==n.l.i.i)this.Na(a,n.l.h.h,n.l.h.l,n.l.h.i,c,b+a.i[0]*p,d,f,e),d=this.j(a,"DEADRAMP",this.me(n.l.h),c,b,d,f,e);this.Na(a,
n.o>>16,n.o>>8&255,n.o&255,c,b+a.i[0]*p,d,f,e);d=this.j(a,"GRID",this.mb(n.o>>16,n.o>>8&255,n.o&255),c,b,d,f,e);0<n.A&&(this.Na(a,n.s>>16,n.s>>8&255,n.s&255,c,b+a.i[0]*p,d,f,e),d=this.j(a,"GRIDMAJOR",this.mb(n.s>>16,n.s>>8&255,n.s&255),c,b,d,f,e));d=this.j(a,"GRIDMAJOR",n.A,c,b,d,f,e)}this.j(a,"","",c,b,d,f,e)},bE:function(a,c,b,d,f,e){var g,k=lb.Gf,l=Object.keys(k),p=a.h.s;a.o=1;a.nc=!1;a.u=[];a.i[0]=260;a.i[1]=330;a.i[2]=380;a.i[3]=430;a.i[4]=a.da;a.u[0]=[a.o,"Top"];d=this.j(a,"","Colours",c,b,
d,f,e);d=this.j(a,"","",c,b,d,f,e);d=this.j(a,"","The following names can be used in place of R G B or hex specification",c,b,d,f,e);d=this.j(a,"","for example [[ COLOUR ALIVE Green ]]",c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);for(g=0;g<l.length;g+=1){var n=k[l[g]];this.Na(a,n[1],n[2],n[3],c,b+a.i[0]*p,d,f,e);d=this.j(a,n[0],this.mb(n[1],n[2],n[3]),c,b,d,f,e)}},$D:function(a,c,b,d,f,e){var g,k=0,l=hb.Jc,p=hb.yu;a.o=1;a.nc=!1;a.u=[];a.i[0]=260;a.u[k]=[a.o,"Top"];k+=1;d=this.j(a,"","Aliases",c,b,d,f,
e);d=this.j(a,"","",c,b,d,f,e);d=this.j(a,"","Alias names can be used as rule names in RLE",c,b,d,f,e);d=this.j(a,"","for example 'rule = HighLife'",c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);d=this.j(a,"","* denotes duplicate definition",c,b,d,f,e);d=this.j(a,"","+ denotes duplicate alias name",c,b,d,f,e);a.nc=!0;for(g=0;g<l.length;g+=1)""===l[g][1]?(d=this.j(a,"","",c,b,d,f,e),a.u[k]=[a.o,p[k-1]],k+=1,d=this.j(a,"",l[g][0]+" Aliases:",c,b,d,f,e)):""!==l[g][0]&&(d=this.j(a,l[g][0]+" "+(l[g][2]?"*":"")+
(l[g][3]?"+":""),l[g][1],c,b,d,f,e))},hE:function(a,c,b,d,f,e){var g,k=0,l=Ka.Ld.length,p=0,n=0,q=0,m=0,r;a.o=1;a.nc=!1;a.u=[];a.i[0]=128;a.i[1]=200;a.i[2]=290;a.i[3]=530;a.u[k]=[a.o,"Top"];k+=1;d=this.j(a,"","Memory usage",c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e);if(1<l){a.u[k]=[a.o,"All"];k+=1;d=this.j(a,"","Memory (all "+l+" LifeViewers):",c,b,d,f,e);for(g=0;g<l;g+=1)if(r=Ka.fC(g))p+=r.g.N.En,q+=r.g.N.wl>>10,n+=r.g.N.Fn,m+=r.g.N.xl>>10;d=this.j(a,"In Use",p-n+"\t"+((q>>10)-(m>>10))+"M",c,b,d,f,e);
d=this.j(a,"Allocations",p+"\t"+(q>>10)+"M",c,b,d,f,e);d=this.j(a,"Frees",n+"\t"+(m>>10)+"M",c,b,d,f,e);d=this.j(a,"","",c,b,d,f,e)}a.u[k]=[a.o,"Current"];d=this.j(a,"","Memory (this LifeViewer):",c,b,d,f,e);d=this.j(a,"In Use",a.g.N.En-a.g.N.Fn+"\t"+this.vr(a.g.N.wl-a.g.N.xl)+"M\t"+(a.g.N.wl-a.g.N.xl),c,b,d,f,e);d=this.j(a,"Allocations",a.g.N.En+"\t"+this.vr(a.g.N.wl)+"M\t"+a.g.N.wl,c,b,d,f,e);d=this.j(a,"Frees",a.g.N.Fn+"\t"+this.vr(a.g.N.xl)+"M\t"+a.g.N.xl,c,b,d,f,e);d=this.j(a,this.Gy("Bytes",
10),"Type\tElements\tName\tCount",c,b,d,f,e);for(g=0;g<a.g.N.i.length;g+=1)d=this.j(a,this.Gy(String(a.g.N.i[g].size),10),a.g.N.s(g),c,b,d,f,e);this.j(a,"","",c,b,d,f,e)},Ko:function(a){var c=a.Qa,b=a.h.s,d=a.h.D,f=19*d;a.xa=(a.ba/f|0)-6;c.fillStyle=a.B.Vb;c.globalAlpha=.7;c.fillRect(0,0,c.canvas.width,c.canvas.height);c.globalAlpha=1;c.fillStyle=a.B.Vb;this.Eh=2;$a.az(a,c,6*b,14*d,f,a.s|0);c.fillStyle=a.sh;this.Eh=0;$a.az(a,c,6*b,14*d,f,a.s|0)},cE:function(a,c,b,d,f,e,g,k,l,p){var n=k,q=a.h.s,m=
this.Eh*q,r=this.Eh*a.h.s,u=0,t=!1,v=a.o;e.fillStyle===a.B.Ba&&(t=!0);v>=p&&v<=p+a.xa&&(e.font=a.dj,t||(e.fillStyle=1<(a.ea|0)?a.nh:a.B.T),e.fillText(c,g+m,k+r),t||(e.fillStyle=a.nh),e.fillText(b,g+m+e.measureText(c).width,k+r),t||(e.fillStyle=(a.ea|0)<a.Ma.length-a.xa+1?a.nh:a.B.T),e.fillText(d,g+m+e.measureText(c+b).width,k+r),a.i[0]&&(u=a.i[0]*q),t||(e.fillStyle=a.nh),e.font=a.rf,e.fillText(f,g+m+u,k+r),n+=l);return n},Gp:function(a,c,b,d,f,e,g,k){var l=e,p=a.h.s,n=0,q=a.o;q>=k&&q<=k+a.xa&&(c.length&&
(d.font=a.dj,d.fillText(c,f,e),n=d.measureText(c+" ").width),a.i[0]&&(n=a.i[0]*p),d.font=a.rf,d.fillText(b,f+n,e),l+=g);a.o+=1;return l},$y:function(a,c,b,d,f,e){var g,k=a.Ma,l=d;a.o=1;a.i[0]=0;c.font=a.rf;d=this.Gp(a,"",B.yE,c,b,d,f,e);for(g=0;g<k.length;g+=1)d=this.Gp(a,k[g][0],k[g][1],c,b,d,f,e);a.Z||(a.i[0]=120,a.o=1,d=l+f*(a.xa+2),d=this.cE(a,"Up"," / ","Down","scroll errors",c,b,d,f,0),d=this.Gp(a,"Esc","clear messages",c,b,d,f,0),this.Gp(a,"H  ","help on script commands",c,b,d,f,0))},Sr:function(a){var c=
a.Qa,b=a.h.s,d=a.h.D,f=19*d,e=7;a.Z&&(e=1);a.xa=(a.ba/f|0)-e;c.fillStyle=a.B.Vb;c.globalAlpha=.7;c.fillRect(0,0,c.canvas.width,c.canvas.height);c.globalAlpha=1;c.fillStyle=a.B.Vb;this.$y(a,c,6*b,14*d,f,a.ea|0);c.fillStyle=a.nh;this.$y(a,c,4*b,12*d,f,a.ea|0)}},y={pd:'"',Cj:"[[",Vm:"]]",zy:"NOSNOW",iu:"QUALITY",nz:"TIME",Wt:"PLAYTIME",Ju:"SUPPRESS",yp:"POIT",cc:"INITIAL",yb:"OFF",Fu:"STATE1FIT",In:"POIRESET",Nm:"POIPLAY",Om:"POISTOP",Jn:"POITRANS",Xt:"POIADDLABELS",ks:"HARDRESET",Tn:"TRACK",yl:"TRACKBOX",
Sn:"TRACKLOOP",it:"NOREPORT",Ro:"GRAPH",qp:"NOGRAPH",fs:"GRAPHOPACITY",gs:"GRAPHPOINTS",ht:"NOPERFWARNING",ps:"AUTOHIDEGUI",hf:"ALL",sg:"LINEAR",lh:"BEZIER",AF:"HEXDISPLAY",FF:"SQUAREDISPLAY",mv:"TRIANGULARCELLS",ms:"HEXCELLS",Np:"SQUARECELLS",zr:"CELLBORDERS",Kg:"RANDCELLS",ru:"RANDOMIZE",qu:"RANDOMIZE2",nu:"RANDSEED",pu:"RANDWIDTH",lu:"RANDHEIGHT",ku:"RANDFILL",mu:"RANDREVERSIBLE",ou:"RANDFIXEDPOP",Ep:"RANDCHANCE",Dp:"B",Fp:"S",Pr:"DELETERANGE",Bu:"SHOWTIMING",Yr:"EXTENDEDTIMING",zu:"SHOWGENSTATS",
Au:"SHOWINFOBAR",jt:"NOSOURCE",zp:"POI",bn:"TITLE",Wy:"POLY",au:"POLYSHADOW",Ap:"POLYFILL",$t:"POLYLINE",Yt:"POLYALPHA",bu:"POLYSIZE",cu:"POLYT",Zt:"POLYANGLE",fu:"POLYZOOMRANGE",du:"POLYTRACK",eu:"POLYVIEWDIST",ln:"ARROW",pr:"ARROWSHADOW",mr:"ARROWALPHA",qr:"ARROWSIZE",rr:"ARROWT",nr:"ARROWANGLE",ur:"ARROWZOOMRANGE",sr:"ARROWTRACK",tr:"ARROWVIEWDIST",xn:"LABEL",Fs:"LABELSHADOW",Ds:"LABELALPHA",Gs:"LABELSIZE",Hs:"LABELT",Es:"LABELANGLE",Ks:"LABELZOOMRANGE",Is:"LABELTRACK",Js:"LABELVIEWDIST",Bd:"FIXED",
Os:"MAXGRIDSIZE",Nn:"STARS",$m:"CUSTOM",bq:"XOFFSET",eq:"YOFFSET",Tp:"BACKGROUND",Sp:"ALIVE",Lu:"ALIVERAMP",Vp:"DEAD",Up:"DEADRAMP",Nu:"DYING",Mu:"DYINGRAMP",rz:"UIFOREGROUND",JF:"UIFOREGROUNDA",pz:"UIBACKGROUND",HF:"UIBACKGROUNDA",sz:"UIHIGHLIGHT",KF:"UIHIGHTLIGHTA",vz:"UISELECT",MF:"UISELECTA",uz:"UILOCKED",LF:"UILOCKEDA",qz:"UIBORDER",IF:"UIBORDERA",Pw:"BOUNDARY",Qw:"BOUNDED",ez:"SELECT",Iw:"ADVANCE",fz:"SELECTED",so:"AUTOFIT",qs:"HISTORYFIT",tm:"HISTORYSTATES",kn:"AGESTATES",sl:"STEP",gt:"NOSTEPBACK",
Pn:"T",Tt:"PAUSE",un:"GRID",tn:"GRIDMAJOR",Ku:"TEXT",Vr:"ERROR",ls:"HELP",Dy:"OFF",Fy:"ON",Mx:"HISTORY",Yx:"MARK1",by:"MARKOFF",$x:"MARK2",Sx:"KILL",Gx:"GRAPHBG",Fx:"GRAPHAXIS",Ex:"GRAPHALIVE",Hx:"GRAPHBIRTH",Ix:"GRAPHDEATH",jb:"COLOR",Gr:"COLOUR",Ej:"TILT",Vn:"VIEWONLY",ft:"NOGUI",et:"NOCOPY",Tu:"THUMBNAIL",Qu:"THUMBSIZE",Pu:"THUMBLAUNCH",Ru:"THUMBSTART",Xr:"EXCLUSIVEPLAY",ts:"IGNOREEXCLUSIVE",Xi:"THEME",Zy:"RAINBOW",Qp:"STARTFROM",to:"AUTOSTART",uh:"LOOP",Gh:"STOP",ij:"ANGLE",Wk:"LAYERS",Jk:"DEPTH",
Pk:"GPS",Ud:"ZOOM",hr:"Z",we:"X",ye:"Y",fn:"WIDTH",rm:"HEIGHT",Ln:"POPUPWIDTH",Kn:"POPUPHEIGHT",Su:"THUMBZOOM",kt:"NOTHROTTLE",tu:"REVERSESTART",As:"KILLGLIDERS",Qm:"RECIPE",ol:"RLE",Pi:"PASTE",Gn:"PASTET",nt:"PASTEDELTA",on:"EVERY",Jt:"PASTEMODE",St:"ZERO",wt:"AND",pt:"0010",Nt:"X",rt:"DIFF",Qt:"Y",Ot:"XOR",It:"OR",Bt:"NOR",Mt:"XNOR",Ft:"NOTY",tt:"1011",Dt:"NOTX",vt:"1101",zt:"NAND",Ht:"ONE",xt:"COPY",gv:"IDENTITY",dv:"FLIP",ev:"FLIPX",fv:"FLIPY",kv:"SWAPXY",lv:"SWAPXYFLIP",jv:"RCW",hv:"RCCW",Kd:"#"},
Jb={RD:function(a,c,b){var d=!0;if(b.ctrlKey&&82===c)return!0;switch(c){case 13:a.Hd===a.gh&&a.Yv(a,!0);break;case 84:a.qg([!a.B.v],!0,a);break;default:d=!1}return d},SD:function(a,c,b){var d=!0,f=b.altKey,e=b.metaKey;if(b.ctrlKey||e||f)c=-1;switch(c){case 84:a.qg([!a.B.v],!0,a);break;case 27:a.rk(a,!0,!1);break;default:d=!1}return d},UD:function(a,c,b){var d=!0,f=b.metaKey,e=b.altKey;if(b.ctrlKey||f||e)c=-1;switch(c){case 84:a.qg([!a.B.v],!0,a);break;case 27:case 117:a.Pl(a);break;default:d=!1}return d},
Fj:function(a,c){a.td===B.Qf?a.xc(c,a):a.td===c&&a.xc(B.Qf,a)},TD:function(a,c,b){var d=!0,f=b.metaKey,e=b.altKey;if(b.ctrlKey||f||e)c=-1;switch(c){case 84:a.qg([!a.B.v],!0,a);break;default:d=!1}return d},QD:function(a,c,b){var d=!0,f=b.shiftKey,e=b.ctrlKey;b=b.altKey;if(a.Va)!a.ho&&85===c&&f&&(a.Va=!a.Va,a.h.H=a.Va,a.B.V=a.Va);else{e&&!b&&37<=c&&40>=c&&(37===c?c=33:38===c?c=36:39===c?c=34:40===c&&(c=35));if(b&&!e){if(48<=c&&57>=c)c-=48,a.mc||0===a.l.i.length?a.ac===c?a.Ea?a.yq(a,c):a.Rx(a):a.Hl.current=
a.Dw(c,!0,a):(--c,0<=c&&c<a.l.i.length&&(a.qc=c,a.Uq(a,a.qc)));else switch(c){case 37:a.Ef(a,-1,0);break;case 38:a.Ef(a,0,-1);break;case 39:a.Ef(a,1,0);break;case 40:a.Ef(a,0,1);break;case 46:a.hm(a,!0,!0);a.B.notification.notify("Cleared [R]History marked cells",15,120,15,!0);break;case 65:a.Hg.current=a.Vt([!a.Qd],!0,a);a.B.notification.notify("Auto-Shrink Selection "+(a.Qd?"On":"Off"),15,40,15,!0);break;case 66:a.Fi.current=a.Bw([!a.g.Ra],!0,a);break;case 67:a.Ja||!a.md||a.md.locked||(a.$f(a.Rm,
a.g.Xd,a),a.g.ea||a.ae||a.B.notification.notify(a.$p(a.g.Eb)+" Theme",15,40,15,!0));break;case 68:a.g.T&&2===a.g.Fb&&(a.Od.current=a.uw([!a.g.yd],!0,a),a.B.notification.notify("Alternating Gridlines "+(a.g.yd?"On":"Off"),15,40,15,!0));break;case 71:a.g.D||-1===a.g.h?a.JA(a):a.g.o?a.B.notification.notify("Rule is already [R]Super",15,120,15,!0):a.B.notification.notify("Unsupported rule for [R]Super",15,120,15,!0);break;case 72:-1===a.g.h&&!a.g.D||a.g.o?a.BA(a):a.g.D?a.B.notification.notify("Rule is already [R]History",
15,120,15,!0):a.B.notification.notify("Unsupported rule for [R]History",15,120,15,!0);break;case 74:a.g.D||a.g.o?a.FA(a):-1===a.g.h?a.B.notification.notify("Rule is already [R]Standard",15,120,15,!0):a.B.notification.notify("Unsupported rule for [R]Standard",15,120,15,!0);break;case 75:a.Fa.current!==B.zj&&(a.Fa.current=a.pe(B.zj,!0,a));a.Gl=!0;a.Oc.current=a.ne([!0],!0,a);break;case 76:0<a.l.A()&&(a.uf.current=a.Kw([!a.jd],!0,a),a.B.notification.notify("Annotations "+(a.jd?"On":"Off"),15,40,15,!0));
break;case 78:a.Bx(a);break;case 79:a.Ab&&(a.Wb=!a.Wb,a.vh.current=[a.Wb],a.B.notification.notify("AutoStart "+(a.Wb?"Off":"On"),15,40,15,!0));break;case 80:-1!==a.Pb&&(a.wb=!a.wb,a.ig.current=[a.wb],a.B.notification.notify("Stop "+(a.wb?"Off":"On"),15,40,15,!0));break;case 82:a.Lv(a);break;case 83:a.Ii.current=a.hu([!a.Lc],!0,a);a.B.notification.notify("Sync Clipboard "+(a.Lc?"On":"Off"),15,40,15,!0);break;case 84:a.kg.current=a.ys([!a.jf],!0,a);a.B.notification.notify("Throttling "+(a.jf?"On":"Off"),
15,40,15,!0);break;case 85:a.Di.current=a.zw([!a.ad],!0,a);a.B.notification.notify("AutoHide UI "+(a.ad?"On":"Off"),15,80,15,!0);break;case 87:2<a.g.h||a.g.Ga||a.g.i||a.g.D||a.g.o||a.g.v||(a.Zg.current=a.uv([!a.g.Ma],!0,a));break;case 88:a.Ew(a);break;case 89:a.Gw(a);break;case 90:a.yi.locked||a.Mj(a,!1);break;case 188:c=a.la.current[0];c-=45;0>c&&(c+=360);a.la.current=a.pg([c,c],!0,a);break;case 190:c=a.la.current[0];c+=45;360<=c&&(c-=360);a.la.current=a.pg([c,c],!0,a);break;case 191:a.Vv(a)}c=-2}switch(c){case 191:f?
a.g.ga?(a.vd.current=a.Du([!a.g.va],!0,a),a.B.notification.notify("Hexagonal display uses "+(a.g.va?"Rectangles":"Hexagons"),15,120,15,!0)):a.g.A&&(a.vd.current=a.Du([!a.g.va],!0,a),a.B.notification.notify("Triangular display uses "+(a.g.va?"Rectangles":"Triangles"),15,120,15,!0)):a.Xa.locked||(c=a.Xa.current[0],.47<c&&.53>c?c=.46:(c-=.02,0>c&&(c=0)),a.Xa.current=a.wj([c,c],!0,a));break;case 192:f?a.Xa.locked||(a.Xa.current=a.wj([.5,0],!0,a)):a.Xa.locked||(c=a.Xa.current[0],.47<c&&.53>c?c=.54:(c+=
.02,1<c&&(c=1)),a.Xa.current=a.wj([c,c],!0,a));break;case 8:0!==a.s?a.td!==B.Qf?a.xc(B.Qf,a):(a.s=0,a.$c.current=a.cf([0!==a.s],!0,a),a.B.i=!0):a.fa.current[0]?(a.ml(a),a.B.i=!0):a.D||a.Kb.m[1]||(c=a.X,a.X=1,a.Kb.current=a.qd(B.Em,!0,a),a.X=c);break;case 66:e?a.$v(a):f?(a.Qe.current=[!a.Qe.current[0]],a.B.i=!0):a.D||a.Kb.m[1]||(c=a.X,a.X=1,a.Kb.current=a.qd(B.Em,!0,a),a.X=c);break;case 13:a.Ea||a.Ra?a.Hz(a):a.D||(a.Kb.current===B.Yh?a.Kb.current=a.qd(B.Yh,!0,a):a.Za&&a.B.X||(a.Kb.current=a.qd(B.Yh,
!0,a)));break;case 9:a.D||(a.Bb?a.Kb.current=a.qd(B.be,!0,a):f?(a.g.T||a.g.i)&&null!==a.g.Ua?a.Kb.current=a.qd(B.Em,!0,a):0<a.g.counter&&(a.vq(a.g.counter-a.X),a.xp(a.g.counter-a.X+1)):(a.gd=!0,a.M("")));break;case 32:a.D||(a.Bb?a.Kb.current=a.qd(B.be,!0,a):e||f?a.SE(a,f):(a.gd=!0,a.Yq=!0,a.M("")));break;case 87:f?(a.ag.current=a.ds([!a.zd],!0,a),a.B.notification.notify("Performance Warning "+(a.zd?"On":"Off"),15,40,15,!0)):a.gb?(a.Ac.current=a.Cs([a.xb],!0,a),-1!==a.ob?a.B.notification.notify("Track and Loop "+
(a.xb?"Off":"On"),15,40,15,!0):a.B.notification.notify("Track "+(a.xb?"Off":"On"),15,40,15,!0)):a.qa&&(a.Ac.current=a.Cs([a.ib],!0,a),-1!==a.ob?a.B.notification.notify("Waypoints and Loop "+(a.ib?"Off":"On"),15,40,15,!0):a.B.notification.notify("Waypoints "+(a.ib?"Off":"On"),15,40,15,!0));break;case 68:e?(a.nj.current=a.vs([!a.bg],!0,a),a.B.notification.notify("States Display "+(a.bg?"On":"Off"),15,80,15,!0)):f?a.Aw(a):"Oscillator"===a.hb&&null!==a.g.he&&(a.wd.current=2===a.Se?a.lg(0,!0,a):a.lg(2,
!0,a));break;case 69:"Oscillator"===a.hb&&null!==a.g.he&&(a.wd.current=1===a.Se?a.lg(0,!0,a):a.lg(1,!0,a));break;case 90:e?(b&&(a.yi.locked||a.Mj(a,!0)),f?a.Gq(a):a.Id.locked||a.Ms(a)):f?(c=Ka.lz(),0===c?a.B.notification.notify("No LifeViewers playing",15,100,15,!0):1<c&&a.B.notification.notify("Paused all LifeViewers",15,100,15,!0)):(c=Ka.Iu(a),0<c&&(1<c?a.B.notification.notify("Paused "+c+" other LifeViewers",15,100,15,!0):a.B.notification.notify("Paused "+c+" other LifeViewer",15,100,15,!0)));
break;case 88:e?a.Wx(a,f,b):f?(a.yd.current=a.Ow([!a.g.nd],!0,a),0<a.g.Fb&&(a.B.notification.notify("Major Grid Lines "+(a.g.nd?"On":"Off"),15,40,15,!0),a.Rv())):(a.g.Ba=!a.g.Ba,a.Yc.current=a.vj([a.g.Ba],!0,a),a.B.notification.notify("Grid Lines "+(a.g.Ba?"On":"Off"),15,40,15,!0));break;case 89:0!==a.s?this.Fj(a,B.Ss):e?a.Gq(a):a.Gb?a.B.notification.notify("Graph Disabled",15,40,15,!0):f?(a.wc=!a.wc,a.ki.current=a.kw([a.wc],!0,a),a.B.notification.notify("Graph "+(a.wc?"Lines":"Points"),15,40,15,
!0)):(a.ya=!a.ya,a.Tf.current=a.vu([a.ya],!0,a),a.B.notification.notify("Population Graph "+(a.ya?"On":"Off"),15,40,15,!0));break;case 75:0!==a.s?this.Fj(a,B.zs):e?b?(a.hm(a,!1,!1),c=a.Je,2<a.g.h&&!(a.g.ea||a.g.i||a.g.v||a.g.o)&&0<c&&(c=a.g.h-c),a.g.v?a.B.notification.notify("Cleared state "+c+" cells",15,120,15,!0):a.B.notification.notify("Cleared "+a.Ch(c)+" cells",15,120,15,!0)):a.Jo(a):f?(a.bw(a,!0),a.B.notification.notify("Copied view to clipboard",15,180,15,!0)):(a.bw(a,!1),a.B.notification.notify("Copied position to clipboard",
15,180,15,!0));break;case 80:e?(a.Cl.current=a.mw([!a.ti],!0,a),a.B.notification.notify("Pause while drawing "+(a.ti?"On":"Off"),15,80,15,!0)):f?-1!==a.ob&&(a.ma=!a.ma,a.wf.current=[a.ma],a.B.notification.notify("Loop "+(a.ma?"Off":"On"),15,40,15,!0)):a.Ja||a.Ba.locked||(a.Ba.current=.99>=a.Ba.current[0]?a.ef([a.Ba.current[0]+.01,a.Ba.current[1]],!0,a):a.ef([1,a.Ba.current[1]],!0,a));break;case 76:e?a.Ge.locked||(a.g.Tc=!a.g.Tc,a.B.notification.notify("Kill Gliders "+(a.g.Tc?"On":"Off"),15,40,15,
!0)):f?a.Gz(a):a.Ja||a.Ba.locked||(a.Ba.current=.01<=a.Ba.current[0]?a.ef([a.Ba.current[0]-.01,a.Ba.current[1]],!0,a):a.ef([0,a.Ba.current[1]],!0,a));break;case 81:e?(a.Kj.current=a.Tw([!a.g.nc],!0,a),a.B.notification.notify((a.g.nc?"High":"Standard")+" Quality Rendering",15,80,15,!0)):!a.Ja&&!a.ab.locked&&a.ab.current[0]<B.Zo&&(a.ab.current=a.Bk([a.g.oa+1,a.ab.current[1]],!0,a));break;case 65:0!==a.s?this.Fj(a,B.gr):f?a.P&&a.il(a):e?a.Fa.m[B.Bj]||a.Hv(a):!a.Ja&&!a.ab.locked&&a.ab.current[0]>B.hp&&
(a.ab.current=a.Bk([a.g.oa-1,a.ab.current[1]],!0,a));break;case 82:f?Ka.bz():a.Kb.current=a.qd(B.bt,!0,a);break;case 83:0!==a.s?this.Fj(a,B.xu):e?a.ak.locked||a.Cz(a):f?a.g.D&&(a.ld=!a.ld,a.B.notification.notify("AutoFit State 1 Mode "+(a.ld?"On":"Off"),15,40,15,!0)):(a.mj.current=a.Cx([!a.kd],!0,a),a.B.notification.notify("Stars "+(a.kd?"On":"Off"),15,40,15,!0));break;case 78:0!==a.s?0<a.l.A()&&this.Fj(a,B.jr):f?a.D||a.Jw(a):a.bf&&(a.Z?a.yr():(a.Er(),a.s&&(a.s=0)));break;case 86:e?a.Ij(a,f,!1):f?
(a.Mq(a),a.B.notification.notify("Saved camera position",15,100,15,!0)):a.Wa||(a.Ey(a),a.B.notification.notify("Restored camera position",15,100,15,!0),a.Bb||(a.Rb=!0));break;case 221:a.Wa||(f?a.el(a.Ec.current[0],Math.log(a.g.zoom*a.g.Ja*2/B.rb)/Math.log(B.Mb/B.rb)-a.Ec.current[0]):a.el(a.Ec.current[0],.01));break;case 219:a.Wa||(f?a.el(a.Ec.current[0],Math.log(a.g.zoom*a.g.Ja/2/B.rb)/Math.log(B.Mb/B.rb)-a.Ec.current[0]):a.el(a.Ec.current[0],-.01));break;case 53:case 101:e?f?a.g.i||a.no(a,!0):a.Gd(5):
f?a.no(a,!1):a.la.locked||(a.g.angle=0,a.la.current=[a.g.angle,a.g.angle]);break;case 49:case 97:e?a.Gd(1):f?(a.Dc(a,a.g.zoom*a.g.Ja,!0),a.B.notification.notify("Integer Zoom",15,40,15,!0)):a.Dc(a,1,!1);break;case 50:case 98:e?a.Gd(2):f?a.Dc(a,.5,!1):a.Dc(a,2,!1);break;case 51:case 99:e?a.Gd(3):f?a.Dc(a,.03125,!1):a.Dc(a,32,!1);break;case 52:case 100:e?a.Gd(4):f?a.Dc(a,.25,!1):a.Dc(a,4,!1);break;case 54:case 102:e?a.Gd(6):f?a.Dc(a,.0625,!1):a.Dc(a,16,!1);break;case 55:e?a.Gd(7):a.Gb?a.B.notification.notify("Graph Disabled",
15,40,15,!0):(0<a.Ka&&(a.Ka-=.05,0>a.Ka&&(a.Ka=0)),a.mi.current=a.bo([a.Ka,a.Ka],!1,a));break;case 56:case 104:e?a.Gd(8):f?a.Dc(a,.125,!1):a.Dc(a,8,!1);break;case 57:e?a.Gd(9):a.Gb?a.B.notification.notify("Graph Disabled",15,40,15,!0):(1>a.Ka&&(a.Ka+=.05,1<a.Ka&&(a.Ka=1)),a.mi.current=a.bo([a.Ka,a.Ka],!1,a));break;case 48:case 96:e?a.Gd(0):a.Ob.current=a.Jd([1,1],!0,a);break;case 189:case 109:e&&189===c?d=!1:a.D||(a.X>B.tg?f?a.X=B.tg:(--a.X,a.X<B.tg&&(a.X=B.tg)):a.ca>B.Ig&&(f?a.ca=B.Ig:(--a.ca,a.ca<
B.Ig&&(a.ca=B.Ig))),a.Ob.current=a.Jd([a.$e(),1],!0,a));break;case 187:case 107:e&&187===c?d=!1:a.D||(a.ca<a.L?f?a.ca=a.L:(a.ca+=1,a.ca>a.L&&(a.ca=a.L)):a.X<B.ff&&(f?a.X=B.ff:(a.X+=1,a.X>B.ff&&(a.X=B.ff))),a.Ob.current=a.Jd([a.$e(),1],!0,a));break;case 188:f&&(a.P||a.Ea)?a.Yy(a):a.la.locked||(c=a.la.current[0],c=f?c-90:c-1,0>c&&(c+=360),a.la.current=a.pg([c,c],!0,a));break;case 190:f&&(a.P||a.Ea)?a.cz(a):a.la.locked||(c=a.la.current[0],c=f?c+90:c+1,360<=c&&(c-=360),a.la.current=a.pg([c,c],!0,a));
break;case 46:a.P?f?a.Uv(a):a.Dr(a,e):e&&(c=a.hm(a,e,!1))&&a.B.notification.notify("Cleared [R]History cells",15,120,15,!0);break;case 74:e&&!f?a.dw(a):e&&f?d=!1:a.l.i.length?a.Wa||(f?a.Ux(a):a.Dx(a)):a.B.notification.notify("No POIs defined",15,80,15,!0);break;case 84:0===a.s||a.g.ea||a.g.o||a.g.v?f?a.B.A=!a.B.A:a.Yi.current=a.qg([!a.B.v],!0,a):this.Fj(a,B.Ou);break;case 85:f?!a.ho&&(a.Va=!a.Va,a.h.H=a.Va,a.B.V=a.Va)&&(a.s=0,a.ea=0):(a.g.T||a.g.i)&&a.g.Ua&&a.xr(a);break;case 71:e?(a.Uc=!a.Uc,a.Bi.current=
a.xw([a.Uc],!0,a),a.B.notification.notify("Auto Grid Lines "+(a.Uc?"On":"Off"),15,40,15,!0)):f?a.Zk&&(a.gj.current=a.zx([!a.Ee],!0,a),a.B.notification.notify("Generation display "+(a.Ee?"Relative":"Absolute"),15,40,15,!0)):(a.co([!a.hg],!0,a),a.$a&&(a.$a.current=[a.hg],a.B.i=!0));break;case 70:e?a.P&&(a.Tc(!0,!0,B.Oo),a.B.notification.notify("Fit Selection",15,80,15,!0)):f?a.Pd.locked||(a.ja=!a.ja,a.Pd.current=a.iw([a.ja],!0,a),a.B.notification.notify("AutoFit "+(a.ja?"On":"Off"),15,40,15,!0)):a.Rf.locked||
(a.Tc(!0,!0,B.Ei),a.B.notification.notify("Fit Pattern",15,80,15,!0),a.Bb||(a.Rb=!0));break;case 79:e?f?a.Nx(a):a.vx(a):a.bh=f?2:1;break;case 37:f?a.xf(a.g.zoom,a.g.zoom):a.xf(a.g.zoom,0);break;case 38:a.s?a.kp(a,1):a.ea?a.Xo(a,1):f?a.xf(-a.g.zoom,a.g.zoom):a.xf(0,a.g.zoom);break;case 39:f?a.xf(-a.g.zoom,-a.g.zoom):a.xf(-a.g.zoom,0);break;case 40:a.s?a.Yo(a,1):a.ea?a.Wo(a,1):f?a.xf(a.g.zoom,-a.g.zoom):a.xf(0,-a.g.zoom);break;case 77:e?(a.Tc(!0,!0,B.Zr),a.B.notification.notify("Center Pattern",15,
80,15,!0)):f?a.BB(a):!a.fa||a.fa.H||a.fa.locked||(a.fa.current=a.df([!a.fa.current[0]],!0,a),a.B.i=!0);break;case 67:e?a.mo(a,f,b):0!==a.s?this.Fj(a,B.Hr):a.Ja||!a.md||a.md.locked||(f?(c=a.g.Eb-1,0>c&&(c=a.Wc||a.qf?a.g.fb:a.g.fb-1)):(c=a.g.Eb+1,a.Wc||a.qf?c>=a.g.fb+1&&(c=0):c>=a.g.fb&&(c=0)),a.$f(c,a.g.Xd,a),a.g.ea||a.ae||a.B.notification.notify(a.$p(a.g.Eb)+" Theme",15,40,15,!0));break;case 72:f?(a.fj.current=a.Hw([!a.bd],!0,a),a.B.notification.notify("AutoFit History Mode "+(a.bd?"On":"Off"),15,
40,15,!0)):(a.Ma.length?a.s=a.s?0:1:a.s?a.s=0:a.Z||(a.s=1),a.$c.current=a.cf([0!==a.s],!0,a),a.B.i=!0);break;case 73:e&&f?d=!1:e?a.Nw(a):f?a.di.current=a.Fv([!a.Da],!0,a):(a.s?this.Fj(a,B.Vo):a.Z||a.xc(B.Vo,a),a.$c.current=a.cf([0!==a.s],!0,a),a.B.i=!0);break;case 27:a.Ed?a.Ma.length?(a.Ma=[],a.ea=0):a.Ea||a.Ra?a.em(a):a.Vd?a.Oc.current=a.ne([!1],!0,a):a.Tb?a.Us(a):-1!==a.vb?a.rk(a,!0,!1):Lb():a.s?a.s=0:a.Ma.length?(a.Ma=[],a.ea=0):a.Ea||a.Ra?a.em(a):a.Vd?a.Oc.current=a.ne([!1],!0,a):a.Tb?a.Us(a):
-1!==a.vb?a.rk(a,!0,!1):a.Bb&&(a.Kb.current=a.qd(B.be,!0,a));a.$c.current=a.cf([0!==a.s],!0,a);a.B.i=!0;break;case 33:a.s?f?a.xC(a):a.kp(a,a.xa):a.ea?a.Xo(a,a.xa):Ja.pb&&(--a.za,0>a.za&&(a.za=Ka.le.length-1),a.vg(Ka.le[a.za].pattern,!1));break;case 34:a.s?f?a.hB(a):a.Yo(a,a.xa):a.ea?a.Wo(a,a.xa):Ja.pb&&(a.za+=1,a.za>=Ka.le.length&&(a.za=0),a.vg(Ka.le[a.za].pattern,!1));break;case 36:a.s?a.s=1:a.ea?a.ea=1:Ja.pb&&(a.za=0,a.vg(Ka.le[a.za].pattern,!1));break;case 35:a.s?a.s=a.li-a.xa:a.ea?a.ea=a.Ma.length-
a.xa:Ja.pb&&(a.za=Ka.le.length-1,a.vg(Ka.le[a.za].pattern,!1));break;case 112:a.D||(a.Za=!a.Za,a.Fa.current=a.pe(a.Za?B.zj:B.Aj,!0,a),a.B.notification.notify((a.Za?"Draw":"Pan")+" Mode",15,40,15,!0));break;case 113:f?(a.kj.current=a.ss([!a.dh],!0,a),a.B.notification.notify("Smart Drawing "+(a.dh?"On":"Off"),15,40,15,!0)):a.Fa.current=a.pe(B.zj,!0,a);break;case 114:f?a.Fb.current=a.zk([!a.Fb.current[0],a.Fb.current[1],a.Fb.current[2]],!0,a):a.D||(a.Fa.current=a.pe(B.zj,!0,a),a.Vd||(a.Oc.current=a.ne([!0],
!0,a)));break;case 115:f?a.Fb.current=a.zk([a.Fb.current[0],!a.Fb.current[1],a.Fb.current[2]],!0,a):a.Fa.m[B.Bj]||(a.Fa.current=a.pe(B.Bj,!0,a));break;case 116:f?a.Fb.current=a.zk([a.Fb.current[0],a.Fb.current[1],!a.Fb.current[2]],!0,a):a.Fa.current=a.pe(B.Aj,!0,a);break;case 117:a.$h.locked||(f?a.yw(a):a.Pl(a));break;case 45:a.jj=!0;break;case 122:d=!1;break;default:if(-1===c||116===c)d=!1}}return d}}}());
